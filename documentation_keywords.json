{"intents": [{"Heading": "Welcome to Nutanix Licenses and Add-ons", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-managing-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "See also Nutanix Support Portal Licenses Page. The Nutanix corporate web site includes up-to-date information about AOS software editions.Which Section of the Licensing Guide Is For Me?Managing Licenses with 1-Click LicensingNutanix recommends that you configure 1-click licensing where possible by enabling the Portal Connection feature. Portal Connection simplifies license and add-on management by integrating the licensing workflow into a single interface in the web console. Once you enable this feature, you can perform most licensing tasks from Prism without needing to explicitly log on to the Nutanix Support Portal. It is disabled by default. To use it, see Configure 1-Click License Management and Manage Licenses with 1-Click Licensing.Manage Licenses ManuallyIf you do not want to enable 1-click licensing, you can manage licenses manually (also known informally as 3- Step Licensing). Enabled by default for your cluster, this licensing workflow is also appropriate for dark-site (non-Internet connected) deployments.To manage licenses manually, see Manage Licenses Manually.Apply Licenses to Individual Blocks in a ClusterYou can also apply licenses to individual blocks in a cluster. The Manual License Selection feature is available for licensing Prism Element or Prism Central clusters. You can apply licenses to individual blocks in a cluster. You can use this feature as part of the manual or dark-site licensing workflow (3-step licensing). The Nutanix support portal shows this feature on the licensing cards after you upload your cluster summary file.Depending on the product license you purchase, you apply it through the Prism Element or Prism Central web console. See Prism Element Cluster Licensing or Prism Central Licensing.Viewing License StatusThe most current information about your licenses is available from the Prism Element or Prism Central web console. It is also available at the Nutanix Support Portal from the Products link. You can view information about license levels, expiration dates, and any free license inventory (that is, unassigned available licenses). See Displaying License Features and Details.Products That Do Not Require a LicenseBefore You License Your ClusterRequirements and considerations for licensing.License CategoriesPrism Element Cluster LicensingPrism Central LicensingAOS Capacity-Based LicensingNutanix Calm LicensingPrism Pro LicenseAdd-On LicensesProducts That Do Not Require a LicenseNot all Nutanix software products require a license. Nutanix provides these products and their features without requiring you to do anything license-wise:Nutanix AHVKarbon (enabled through Prism Central)Prism Central (Prism Pro, however, requires a license for its advanced features, but you can manage registered Prism Element clusters with the base Prism Central software)Framework and utility software such as Life Cycle Manager (LCM), X-Ray, and MoveFoundationBefore You License Your ClusterRequirements and considerations for licensing.Consider the following before you attempt to manage your licenses.Before attempting to install a license, ensure that you have created a cluster and logged into the Prism Element web console at least once. You must install a license after creating a cluster for which you purchased Pro or Ultimate licenses for AOS.Before destroying a cluster, you must reclaim your licenses by unlicensing your cluster. You do not need to reclaim AOS Starter licenses for Nutanix and OEM AOS Appliance platforms. These licenses are embedded and are automatically applied whenever you create a cluster. You do need to reclaim AOS Pro and Ultimate licenses for these platforms.You do need to reclaim AOS licenses (Starter / Pro / Ultimate) for software-only and third-party hardware platforms.If a cluster includes nodes with different license levels (for example, Pro and Ultimate), the cluster and each node in the cluster defaults to the feature set enabled by the lowest license level. For example, if two nodes in the cluster have Ultimate licenses and two nodes in the same cluster have Pro licenses, all nodes effectively have Pro licenses and access to that feature set only. Attempts to access Ultimate features in this case result in a license noncompliance\u00a0warning in the web console.License CategoriesSee the Nutanix corporate web site for the latest information about software licensing and the latest available platforms:Nutanix Software Editions and AOS Software Licensing ModelsNutanix Hardware Platforms and Dynamic SpecsheetNutanix generally categorizes licenses as follows:Nutanix and OEM AOS ApplianceIncludes Nutanix NX Series and OEM AOS platforms (such as Nutanix on HPE appliances, Nutanix on Dell EMC XC appliances, and so on).Delivered with an embedded default AOS Starter license, which does not expire.You can purchase AOS Pro, AOS Ultimate, and Add-On licenses.License is not transferable.You are not required to register this license on the Nutanix Customer Portal account assigned to you when you purchased your nodes. These licenses are automatically applied whenever you create a cluster, including after you have destroyed a cluster. You do not need to reclaim Starter licenses in this case.Your purchased license metric is life-of-device (LOD)Software-onlyPlatforms are qualified by Nutanix or by approved third-party vendors, such as Cisco UCS, Dell PowerEdge, and others.No license is embedded or delivered as a default, as you purchase hardware and licenses separately.You can purchase AOS Starter, Pro, or Ultimate, and Add-On licenses.Your purchased license metric is based on capacity based licensing (CBL), remote office/back office (ROBO), or virtual desktop infrastructure (VDI).Licenses are transferable.Third-party OEMIncludes OEM platforms qualified by Dell (Dell XC Series), Lenovo (Lenovo HX), and other vendors. No license is embedded or delivered as a default, as you purchase hardware and licenses separately.You can purchase AOS Starter, Pro, or Ultimate, and Add-On licenses.Your purchased license metric is based on capacity based licensing (CBL), remote office/back office (ROBO), or virtual desktop infrastructure (VDI).Licenses are transferable.Prism Element Cluster LicensingLicenses you can apply through the Prism Element web console include:AOS Starter, Pro, and Ultimate LicensesSee License Categories.Nutanix NX and OEM AOS Appliance platforms include an embedded Starter license as part of your purchase. It does not have to be downloaded and installed or otherwise applied to your cluster.Third-party OEM platforms require you to download and install a Starter license file that you have purchased.For all platforms: the AOS Pro and Ultimate license levels require you to install this license on your cluster. When you upgrade a license or add nodes or clusters to your environment, you must install the license.If you configure the Portal Connection as described in Manage Licenses with 1-Click Licensing, you can apply the license through the Prism Element web console without needing to log on to the support portal.If you do not want to enable this feature, you can manage licenses as described in Manage Prism Element Licenses and Manage Prism Central Licenses. This licensing workflow is also appropriate for dark-site (non-Internet connected or restricted connection) deployments.AOS Remote and Branch Office (ROBO) and Virtual Desktop Infrastructure per User (VDI) LicensesThe Nutanix corporate web site includes the latest information about these license models.AOS Capacity-Based LicensesCapacity-based licensing is the Nutanix licensing model where you purchase and apply licenses based on cluster attributes. Cluster attributes include the number of raw CPU cores and total raw Flash drive capacity in tebibytes (TiBs). See AOS Capacity-Based Licensing.Add-OnsYou can add individual features known as add-ons to your existing license feature set. When Nutanix makes add-ons available, you can add them to your existing license, depending on the license level and add-ons available for that license.See Add-On Licenses.Prism Central LicensingIf you configure the Portal Connection as described in Manage Licenses with 1-Click Licensing, you can apply licenses through the Prism Central web console without needing to log on to the support portal.If you do not want to enable this feature, you can manage licenses as described in Manage Prism Central Licenses. This licensing workflow is also appropriate for dark-site (non-Internet connected or restricted connection) deployments.Licenses you can apply through the Prism Central web console include:Prism ProThe Pro license for Prism Central adds additional capabilities to Prism Central, including custom dashboards, capacity planning, and advanced search capabilities.Add-OnsYou can add individual features known as add-ons to your existing license feature set. When Nutanix makes add-ons available, you can add them to your existing license, depending on the license level and add-ons available for that license.See Add-On Licenses.AOS Capacity-Based LicensingAOS capacity-based licensing is the Nutanix licensing model where you purchase and apply licenses based on cluster attributes. Cluster attributes include the number of raw CPU cores and raw total Flash drive capacity in tebibytes (TiBs). This licensing model helps ensure a consistent licensing experience across different platforms running Nutanix software.Each license stores the currently licensed capacity (CPU cores/Flash TiBs). If the capacity of the cluster\u00a0increases, the web console informs you that additional licensing is required.Nutanix Calm LicensingThe\u00a0Prism Central Guide\u00a0and\u00a0Nutanix Calm documentation\u00a0describe how to enable Calm in Prism Central.The Nutanix Calm license for Prism Central enables you to manage the number of VMs that are provisioned or managed by Nutanix Calm. Calm licenses are required only for VMs managed by Calm, running in either the Nutanix Enterprise cloud or public clouds.The most current status information about your Calm licenses is available from the Prism Central web console. It is also available at the Nutanix Support Portal.Once Calm is enabled, Nutanix provides a free trial period of 60 days to use Calm. It might take up to 30 minutes to show that Calm is enabled and your trial period is started.Approximately 30 minutes after you enable Nutanix Calm, the Calm licensing card and licensing details show the trial expiration date.\u00a0In Use\u00a0status is displayed as\u00a0Yes. See also\u00a0Nutanix Calm License Warnings in the Web Console.How The Nutanix Calm License VM Count is CalculatedThe Nutanix Calm license VM count is a concurrent VM management limit and is linked to the application life cycle, from blueprint launch to application deletion. Consider the following:You launch a Nutanix Marketplace blueprint as an application named\u00a0Example\u00a0that includes three VMs. These three VMs are counted against your Calm license (that is, three VMs under Calm management).You later scale\u00a0Example\u00a0with two additional VMs. Now five VMs are under Calm management.You launch another blueprint as an application named\u00a0Example2\u00a0with four new VMs. Total current number of VMs now under Calm management is nine (total from\u00a0Example\u00a0and\u00a0Example2).You delete\u00a0Example. Total current number of VMs now under Calm management is four (from the existing active\u00a0Example2\u00a0deployment).Any VM you have created and are managing independently of Nutanix Calm is not part of the Calm license count. For example, you created a Windows guest OS VM through the Prism Element web console or with other tools (like a cloud-init script). This VM is not part of a Calm blueprint.However, if you import an existing VM into an existing Calm blueprint, that VM counts toward the Calm license. It counts until you delete the application deployment. If you stop the VM in this case and the application deployment is active, the VM is considered as under Calm management and part of the license count.\u00a0Prism Pro LicenseThe Prism Pro license for Prism Central adds additional capabilities to Prism Central, including custom dashboards, capacity planning, and advanced search capabilities. Each new installation of Prism Central includes a 60-day trial, which you can disable if desired (see Disabling Prism Pro Features).Each node registered to and managed by Prism Pro requires the application of a Prism Pro license through the Prism Central web console. For example, if you have registered and are managing 10 Nutanix nodes (regardless of the individual node or cluster license level), you need to apply 10 Prism Pro licenses through the Prism Central web console. The workflow for applying a Prism Pro license in Prism Central is identical to the workflow for applying a license in a cluster. For example, the workflow for applying a license to an unlicensed Prism Central instance is the same as the workflow for licensing a node (without using Portal Connection):Purchase a Prism Pro license for each node managed by Prism Central.Generate a cluster summary file from the Prism Central web console.Upload the cluster summary file to the Nutanix Support Portal, then generate and download a license file.Apply the license file to Prism Central through its web console.Licensing dialog boxes and wizards subsequently show the license class is prism_central and the license level is Prism Pro.Add-On LicensesSee\u00a0Installing or Configuring an Add-On License.Individual products known as add-ons can be added to your existing license feature set. When Nutanix makes add-ons available, you can add them to your existing license, depending on the license level and add-ons available for that licenseYou will need to purchase and apply one add-on license for each node in the cluster with a Pro license. For example, if your current Pro-licensed cluster consists of four nodes, you need to purchase four add-on licenses, then apply them to your cluster. All nodes in your cluster need to be at the same license level (four AOS Pro licenses and four add-on licenses). You cannot buy one add-on license, apply it to one node, and have three nodes without add-on licenses.Prism Element Add-OnsThe\u00a0Nutanix corporate web site\u00a0includes the latest information about these add-ons.Prism Element licensed add-on features include but are not limited to:Nutanix FilesNutanix Files is intended for enterprise file workloads within corporate datacenters, VDI environments, and at edge locations including remote/branch offices (ROBO).\u00a0Files for AOS may be added to an existing AHV cluster whenthere is a mix of VM and file workloads.\u00a0Files Dedicated should be deployed as a standalone Files cluster.Nutanix ObjectsNutanix Objects is intended for object storage use cases such as backup, archive and object storage for development. Objects for AOS may be added to an existing AHV cluster when there is a mix of VM and object storage workloads.\u00a0\u00a0Objects Dedicated should be deployed as a standalone\u00a0Objects cluster.Depending on your AOS license tier, available add-ons can include\u00a0data encryption with Data-at-Rest Encryption (software-only and self-encrypting drives), disaster recovery with Nearsync or Sync Rep, and so on.Prism Central Add-OnsThe\u00a0Nutanix corporate web site\u00a0includes the latest information about these license models.Prism Central licensed add-on features include the following. See also\u00a0Prism Pro.Nutanix\u00a0CalmThe Nutanix Calm license for Prism Central enables you to manage the number of VMs that are provisioned or managed by Nutanix Calm. See\u00a0Nutanix Calm Licensing.Nutanix FlowBy default, Nutanix Flow is disabled. Flow is a software-defined networking product tightly integrated into Nutanix AHV and Prism. Flow provides rich visualization, automation, and security for VMs running on AHV. Microsegmentation is a component of Flow networking that simplifies policy management. Using multiple Prism Central categories (logical groups), you can create a powerful distributed firewall that gives administrators an application-centric policy management tool for securing VM traffic.", "Heading_Keywords": ["welcom", "nutanix", "licens", "add", "on"]}, {"Heading": "Products That Do Not Require a License", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-no-license-required-r.html", "Document Name": "Nutanix Licensing Guide", "Content": "Not all Nutanix software products require a license. Nutanix provides these products and their features without requiring you to do anything license-wise:Nutanix AHVKarbon (enabled through Prism Central)Prism Central (Prism Pro, however, requires a license for its advanced features, but you can manage registered Prism Element clusters with the base Prism Central software)Framework and utility software such as Life Cycle Manager (LCM), X-Ray, and MoveFoundation", "Heading_Keywords": ["product", "requir", "licens"]}, {"Heading": "Before You License Your Cluster", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-before-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "Requirements and considerations for licensing.Consider the following before you attempt to manage your licenses.Before attempting to install a license, ensure that you have created a cluster and logged into the Prism Element web console at least once. You must install a license after creating a cluster for which you purchased Pro or Ultimate licenses for AOS.Before destroying a cluster, you must reclaim your licenses by unlicensing your cluster. You do not need to reclaim AOS Starter licenses for Nutanix and OEM AOS Appliance platforms. These licenses are embedded and are automatically applied whenever you create a cluster. You do need to reclaim AOS Pro and Ultimate licenses for these platforms.You do need to reclaim AOS licenses (Starter / Pro / Ultimate) for software-only and third-party hardware platforms.If a cluster includes nodes with different license levels (for example, Pro and Ultimate), the cluster and each node in the cluster defaults to the feature set enabled by the lowest license level. For example, if two nodes in the cluster have Ultimate licenses and two nodes in the same cluster have Pro licenses, all nodes effectively have Pro licenses and access to that feature set only. Attempts to access Ultimate features in this case result in a license noncompliance\u00a0warning in the web console.", "Heading_Keywords": ["licens", "cluster"]}, {"Heading": "License Categories", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-lic-categories-r.html", "Document Name": "Nutanix Licensing Guide", "Content": "See the Nutanix corporate web site for the latest information about software licensing and the latest available platforms:Nutanix Software Editions and AOS Software Licensing ModelsNutanix Hardware Platforms and Dynamic SpecsheetNutanix generally categorizes licenses as follows:Nutanix and OEM AOS ApplianceIncludes Nutanix NX Series and OEM AOS platforms (such as Nutanix on HPE appliances, Nutanix on Dell EMC XC appliances, and so on).Delivered with an embedded default AOS Starter license, which does not expire.You can purchase AOS Pro, AOS Ultimate, and Add-On licenses.License is not transferable.You are not required to register this license on the Nutanix Customer Portal account assigned to you when you purchased your nodes. These licenses are automatically applied whenever you create a cluster, including after you have destroyed a cluster. You do not need to reclaim Starter licenses in this case.Your purchased license metric is life-of-device (LOD)Software-onlyPlatforms are qualified by Nutanix or by approved third-party vendors, such as Cisco UCS, Dell PowerEdge, and others.No license is embedded or delivered as a default, as you purchase hardware and licenses separately.You can purchase AOS Starter, Pro, or Ultimate, and Add-On licenses.Your purchased license metric is based on capacity based licensing (CBL), remote office/back office (ROBO), or virtual desktop infrastructure (VDI).Licenses are transferable.Third-party OEMIncludes OEM platforms qualified by Dell (Dell XC Series), Lenovo (Lenovo HX), and other vendors. No license is embedded or delivered as a default, as you purchase hardware and licenses separately.You can purchase AOS Starter, Pro, or Ultimate, and Add-On licenses.Your purchased license metric is based on capacity based licensing (CBL), remote office/back office (ROBO), or virtual desktop infrastructure (VDI).Licenses are transferable.", "Heading_Keywords": ["licens", "categori"]}, {"Heading": "Prism Element Cluster Licensing", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-prism-element-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "Licenses you can apply through the Prism Element web console include:AOS Starter, Pro, and Ultimate LicensesSee License Categories.Nutanix NX and OEM AOS Appliance platforms include an embedded Starter license as part of your purchase. It does not have to be downloaded and installed or otherwise applied to your cluster.Third-party OEM platforms require you to download and install a Starter license file that you have purchased.For all platforms: the AOS Pro and Ultimate license levels require you to install this license on your cluster. When you upgrade a license or add nodes or clusters to your environment, you must install the license.If you configure the Portal Connection as described in Manage Licenses with 1-Click Licensing, you can apply the license through the Prism Element web console without needing to log on to the support portal.If you do not want to enable this feature, you can manage licenses as described in Manage Prism Element Licenses and Manage Prism Central Licenses. This licensing workflow is also appropriate for dark-site (non-Internet connected or restricted connection) deployments.AOS Remote and Branch Office (ROBO) and Virtual Desktop Infrastructure per User (VDI) LicensesThe Nutanix corporate web site includes the latest information about these license models.AOS Capacity-Based LicensesCapacity-based licensing is the Nutanix licensing model where you purchase and apply licenses based on cluster attributes. Cluster attributes include the number of raw CPU cores and total raw Flash drive capacity in tebibytes (TiBs). See AOS Capacity-Based Licensing.Add-OnsYou can add individual features known as add-ons to your existing license feature set. When Nutanix makes add-ons available, you can add them to your existing license, depending on the license level and add-ons available for that license.See Add-On Licenses.", "Heading_Keywords": ["prism", "element", "cluster", "licens"]}, {"Heading": "Prism Central Licensing", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-prism-central-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "If you configure the Portal Connection as described in Manage Licenses with 1-Click Licensing, you can apply licenses through the Prism Central web console without needing to log on to the support portal.If you do not want to enable this feature, you can manage licenses as described in Manage Prism Central Licenses. This licensing workflow is also appropriate for dark-site (non-Internet connected or restricted connection) deployments.Licenses you can apply through the Prism Central web console include:Prism ProThe Pro license for Prism Central adds additional capabilities to Prism Central, including custom dashboards, capacity planning, and advanced search capabilities.Add-OnsYou can add individual features known as add-ons to your existing license feature set. When Nutanix makes add-ons available, you can add them to your existing license, depending on the license level and add-ons available for that license.See Add-On Licenses.", "Heading_Keywords": ["prism", "central", "licens"]}, {"Heading": "AOS Capacity-Based Licensing", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-capacity-based-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "AOS capacity-based licensing is the Nutanix licensing model where you purchase and apply licenses based on cluster attributes. Cluster attributes include the number of raw CPU cores and raw total Flash drive capacity in tebibytes (TiBs). This licensing model helps ensure a consistent licensing experience across different platforms running Nutanix software.Each license stores the currently licensed capacity (CPU cores/Flash TiBs). If the capacity of the cluster\u00a0increases, the web console informs you that additional licensing is required.", "Heading_Keywords": ["ao", "capac", "base", "licens"]}, {"Heading": "Nutanix Calm Licensing", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-calm-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "The\u00a0Prism Central Guide\u00a0and\u00a0Nutanix Calm documentation\u00a0describe how to enable Calm in Prism Central.The Nutanix Calm license for Prism Central enables you to manage the number of VMs that are provisioned or managed by Nutanix Calm. Calm licenses are required only for VMs managed by Calm, running in either the Nutanix Enterprise cloud or public clouds.The most current status information about your Calm licenses is available from the Prism Central web console. It is also available at the Nutanix Support Portal.Once Calm is enabled, Nutanix provides a free trial period of 60 days to use Calm. It might take up to 30 minutes to show that Calm is enabled and your trial period is started.Approximately 30 minutes after you enable Nutanix Calm, the Calm licensing card and licensing details show the trial expiration date.\u00a0In Use\u00a0status is displayed as\u00a0Yes. See also\u00a0Nutanix Calm License Warnings in the Web Console.How The Nutanix Calm License VM Count is CalculatedThe Nutanix Calm license VM count is a concurrent VM management limit and is linked to the application life cycle, from blueprint launch to application deletion. Consider the following:You launch a Nutanix Marketplace blueprint as an application named\u00a0Example\u00a0that includes three VMs. These three VMs are counted against your Calm license (that is, three VMs under Calm management).You later scale\u00a0Example\u00a0with two additional VMs. Now five VMs are under Calm management.You launch another blueprint as an application named\u00a0Example2\u00a0with four new VMs. Total current number of VMs now under Calm management is nine (total from\u00a0Example\u00a0and\u00a0Example2).You delete\u00a0Example. Total current number of VMs now under Calm management is four (from the existing active\u00a0Example2\u00a0deployment).Any VM you have created and are managing independently of Nutanix Calm is not part of the Calm license count. For example, you created a Windows guest OS VM through the Prism Element web console or with other tools (like a cloud-init script). This VM is not part of a Calm blueprint.However, if you import an existing VM into an existing Calm blueprint, that VM counts toward the Calm license. It counts until you delete the application deployment. If you stop the VM in this case and the application deployment is active, the VM is considered as under Calm management and part of the license count.\u00a0", "Heading_Keywords": ["nutanix", "calm", "licens"]}, {"Heading": "Prism Pro License", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-prism-pro-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "The Prism Pro license for Prism Central adds additional capabilities to Prism Central, including custom dashboards, capacity planning, and advanced search capabilities. Each new installation of Prism Central includes a 60-day trial, which you can disable if desired (see Disabling Prism Pro Features).Each node registered to and managed by Prism Pro requires the application of a Prism Pro license through the Prism Central web console. For example, if you have registered and are managing 10 Nutanix nodes (regardless of the individual node or cluster license level), you need to apply 10 Prism Pro licenses through the Prism Central web console. The workflow for applying a Prism Pro license in Prism Central is identical to the workflow for applying a license in a cluster. For example, the workflow for applying a license to an unlicensed Prism Central instance is the same as the workflow for licensing a node (without using Portal Connection):Purchase a Prism Pro license for each node managed by Prism Central.Generate a cluster summary file from the Prism Central web console.Upload the cluster summary file to the Nutanix Support Portal, then generate and download a license file.Apply the license file to Prism Central through its web console.Licensing dialog boxes and wizards subsequently show the license class is prism_central and the license level is Prism Pro.", "Heading_Keywords": ["prism", "pro", "licens"]}, {"Heading": "Add-On Licenses", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-addon-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "See\u00a0Installing or Configuring an Add-On License.Individual products known as add-ons can be added to your existing license feature set. When Nutanix makes add-ons available, you can add them to your existing license, depending on the license level and add-ons available for that licenseYou will need to purchase and apply one add-on license for each node in the cluster with a Pro license. For example, if your current Pro-licensed cluster consists of four nodes, you need to purchase four add-on licenses, then apply them to your cluster. All nodes in your cluster need to be at the same license level (four AOS Pro licenses and four add-on licenses). You cannot buy one add-on license, apply it to one node, and have three nodes without add-on licenses.Prism Element Add-OnsThe\u00a0Nutanix corporate web site\u00a0includes the latest information about these add-ons.Prism Element licensed add-on features include but are not limited to:Nutanix FilesNutanix Files is intended for enterprise file workloads within corporate datacenters, VDI environments, and at edge locations including remote/branch offices (ROBO).\u00a0Files for AOS may be added to an existing AHV cluster whenthere is a mix of VM and file workloads.\u00a0Files Dedicated should be deployed as a standalone Files cluster.Nutanix ObjectsNutanix Objects is intended for object storage use cases such as backup, archive and object storage for development. Objects for AOS may be added to an existing AHV cluster when there is a mix of VM and object storage workloads.\u00a0\u00a0Objects Dedicated should be deployed as a standalone\u00a0Objects cluster.Depending on your AOS license tier, available add-ons can include\u00a0data encryption with Data-at-Rest Encryption (software-only and self-encrypting drives), disaster recovery with Nearsync or Sync Rep, and so on.Prism Central Add-OnsThe\u00a0Nutanix corporate web site\u00a0includes the latest information about these license models.Prism Central licensed add-on features include the following. See also\u00a0Prism Pro.Nutanix\u00a0CalmThe Nutanix Calm license for Prism Central enables you to manage the number of VMs that are provisioned or managed by Nutanix Calm. See\u00a0Nutanix Calm Licensing.Nutanix FlowBy default, Nutanix Flow is disabled. Flow is a software-defined networking product tightly integrated into Nutanix AHV and Prism. Flow provides rich visualization, automation, and security for VMs running on AHV. Microsegmentation is a component of Flow networking that simplifies policy management. Using multiple Prism Central categories (logical groups), you can create a powerful distributed firewall that gives administrators an application-centric policy management tool for securing VM traffic.", "Heading_Keywords": ["add", "licens"]}, {"Heading": "Nutanix Support Portal Licenses Page", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-ntnx-support-portal-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "Note: This topic assumes that you already have username and password credentials for the support portal.After you log on to the Nutanix support portal at https://portal.nutanix.com/, navigate to the Licenses page from from Quick Links > Licenses or the hamburger menu available from any page. Licenses provides access to these licensing landing pages:Summary. A license summary page including the Manage Licenses button. Manage Licenses enables you to get started with new licenses or administer existing licenses.Purchases. A table showing all your purchased licenses, shown in a table, with entries like License ID, Type, Expiration Date, and other information. If you are using tags, the portal displays tag names on the page and under Purchases on the left.Cluster Usage. A table showing all your licensed clusters, with entries like Cluster Name, License Type, Expiration Date, and other information. Includes the Manage Licenses button. Click the Cluster Name link to see cluster license details.", "Heading_Keywords": ["nutanix", "support", "portal", "licens", "page"]}, {"Heading": "Configure 1-Click License Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-portal-connection-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "The Nutanix Support Portal Connection API with the Prism web console Connect to Portal solution enables you to implement 1-click license management. It simplifies licensing by integrating the licensing workflow into a single interface in the web console. As this feature is disabled by default, you need to enable and configure it first.Note: Your network must allow outbound traffic to portal.nutanix.com:443 to use this feature. The 1-click license management solution simplifies licensing by integrating the licensing workflow into a single interface in the Prism Element and Prism Central web console. Once you configure this feature, you can perform most licensing tasks from the web console without needing to explicitly log on to the Nutanix Support Portal.The Portal Connection communicates with the Nutanix Support Portal to detect any changes or updates to your cluster license status. When you open Licensing from the web console, the screen displays 1-click action buttons to enable you to manage your licenses without leaving the web console.1-click license management requires you to first create and then register an API key to secure communications between the Nutanix Support Portal and the Prism Element or Prism Central web console.A Portal Connection API key is initially bound to the user that creates the key on the Nutanix Support Portal. All subsequent licensing operations are done on behalf of the user who created the key and any operations written to an audit log include information identifying this user. That is, licensing task X was performed by user Y (assuming user Y created the key).The Portal Connection API key is also bound to the Prism user that logs on to the web console and then registers the key. For example, if user admin registers the key, any licensing task performed by admin is performed on behalf of user Y (who created the key on the Support Portal). A Prism user (such as admin) must have access to the API key to use this feature. You can use Role Mapping and/or LDAP to manage key access or provide an audit trail if more than one admin user is going to manage licensing. You can create and register one or more keys per cluster. For example, create and register one key per user that will be administering licensing.Creating and Registering the Portal Connection API KeyCreate the Portal Connection API key on the Nutanix Support Portal, then register it through the Prism Element or Prism Central web console by using Connect to Portal. You might need to turn off any pop-up blockers in your browser to display dialog boxes.Disabling 1-Click License ManagementDisables the Portal Connection (including deleting API keys) through the Prism web console.Revoking the Portal Connection API KeyRevoke the API key on the Nutanix Support Portal, which disables the Portal Connection feature in the Prism web console.Updating the Portal Connection API KeyThis procedure assumes you have already configured Portal Connection and have a working connection (that is, you have not disabled it). You might need to update the Portal Connection API key associated with your profile. First get a new key and apply, then optionally revoke the existing key.Creating and Registering the Portal Connection API KeyCreate the Portal Connection API key on the Nutanix Support Portal, then register it through the Prism Element or Prism Central web console by using Connect to Portal. You might need to turn off any pop-up blockers in your browser to display dialog boxes.Log on to the Nutanix Support Portal, select\u00a0API Keys\u00a0from your profile, then click\u00a0New API Key.Figure. Generating API Keys in the Support PortalClick to enlargeGenerate the key in the\u00a0Create New API Key\u00a0dialog box.Enter an alias (name) for the key to help you identify or keep track of the key on the portal, then click\u00a0Generate.Copy the new key, then click\u00a0X\u00a0to close the dialog box.Note: After you copy the key and close the dialog, this key becomes unavailable. It cannot be retrieved.Figure. Entering an API Key Alias NameClick to enlargeOptionally, click\u00a0Download SSL Public Key\u00a0for use when you register the API key in the web console.Register the API key through the Prism Element or Prism Central web console.Log on to the web console, click the gear icon, then click\u00a0Licensing.Click\u00a0Connect to Portal\u00a0at the top banner in the Licensing page.Paste the API key in the\u00a0API KEY\u00a0field in the\u00a0Portal Connection\u00a0dialog box.\u00a0Optionally, add a public key by clicking\u00a0Choose File\u00a0and browsing to the public key file you optionally downloaded in the previous step.Click\u00a0Save.The\u00a0Portal connection has been created\u00a0and\u00a0Fetching licensing data\u00a0messages are displayed. You can also register the API key by updating your user profile by selecting your user profile icon, then clicking\u00a0Update Profile. Figure. Connect to Portal DialogClick to enlargeFigure. Register the API Key (Update Profile)Click to enlargeDisabling 1-Click License ManagementDisables the Portal Connection (including deleting API keys) through the Prism web console.You might need to disable the Portal Connection or revoke the API key associated with it. If you disable the connection as described here, you can enable it again by obtaining a new API key as described in Creating and Registering the Portal Connection API Key. For security reasons, you cannot reuse your previously-created API key after disabling the Portal Connection.Log on to the Prism web console.Click the user icon in the main menu, then select Update Profile.Click Disable in the Portal Connection section. The status becomes disconnected.Click Save.Figure. Disable the Portal ConnectionClick to enlargeRevoking the Portal Connection API KeyRevoke the API key on the Nutanix Support Portal, which disables the Portal Connection feature in the Prism web console.You might need to revoke the API key associated with the Portal Connection. After revoking the key:You will need to create and register a new key to continue using the Portal Connection licensing feature.The connection between the Support Portal and the Prism web console is broken (disconnected).You might see a red connection state with a message of Error: Invalid API Key in the Update Profile dialog box.Log in to the Nutanix Support Portal and select API Keys from your profile.The API Keys page is displayed. Figure. API Keys Portal PageClick to enlargeLocate your key alias name, click Revoke, and then click the confirmation.Updating the Portal Connection API KeyThis procedure assumes you have already configured Portal Connection and have a working connection (that is, you have not disabled it). You might need to update the Portal Connection API key associated with your profile. First get a new key and apply, then optionally revoke the existing key.Log on to the Nutanix Support Portal, select API Keys from your profile, then click New API Key.Figure. Generating API Keys in the Support PortalClick to enlargeGenerate the key in the Create New API Key dialog box.Enter an alias (name) for the key to help you identify or keep track of the key on the portal, then click Generate.Copy the new key, then click X to close the dialog box.Note: After you copy the key and close the dialog, this key becomes unavailable. It cannot be retrieved.Figure. Entering an API Key Alias NameClick to enlargeOptionally, click Download SSL Public Key for use when you register the API key in the web console.Update the API key through the Prism web console.Click the user icon in the main menu, then select Update Profile.Click Update in the Portal Connection section.Paste the API key in the API KEY field in the dialog box. Optionally, paste the downloaded public key in the PUBLIC KEY field.Click Save.Figure. Update the API KeyClick to enlargeOptionally, you can revoke other keys associated with the Portal Connection. See Revoking the Portal Connection API Key.", "Heading_Keywords": ["configur", "1", "click", "licens", "manag"]}, {"Heading": "Creating and Registering the Portal Connection API Key", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-portal-connection-create-reg-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "Create the Portal Connection API key on the Nutanix Support Portal, then register it through the Prism Element or Prism Central web console by using Connect to Portal. You might need to turn off any pop-up blockers in your browser to display dialog boxes.Log on to the Nutanix Support Portal, select\u00a0API Keys\u00a0from your profile, then click\u00a0New API Key.Figure. Generating API Keys in the Support PortalClick to enlargeGenerate the key in the\u00a0Create New API Key\u00a0dialog box.Enter an alias (name) for the key to help you identify or keep track of the key on the portal, then click\u00a0Generate.Copy the new key, then click\u00a0X\u00a0to close the dialog box.Note: After you copy the key and close the dialog, this key becomes unavailable. It cannot be retrieved.Figure. Entering an API Key Alias NameClick to enlargeOptionally, click\u00a0Download SSL Public Key\u00a0for use when you register the API key in the web console.Register the API key through the Prism Element or Prism Central web console.Log on to the web console, click the gear icon, then click\u00a0Licensing.Click\u00a0Connect to Portal\u00a0at the top banner in the Licensing page.Paste the API key in the\u00a0API KEY\u00a0field in the\u00a0Portal Connection\u00a0dialog box.\u00a0Optionally, add a public key by clicking\u00a0Choose File\u00a0and browsing to the public key file you optionally downloaded in the previous step.Click\u00a0Save.The\u00a0Portal connection has been created\u00a0and\u00a0Fetching licensing data\u00a0messages are displayed. You can also register the API key by updating your user profile by selecting your user profile icon, then clicking\u00a0Update Profile. Figure. Connect to Portal DialogClick to enlargeFigure. Register the API Key (Update Profile)Click to enlarge", "Heading_Keywords": ["creat", "regist", "portal", "connect", "api", "key"]}, {"Heading": "Disabling 1-Click License Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-portal-connection-disable-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "Disables the Portal Connection (including deleting API keys) through the Prism web console.You might need to disable the Portal Connection or revoke the API key associated with it. If you disable the connection as described here, you can enable it again by obtaining a new API key as described in Creating and Registering the Portal Connection API Key. For security reasons, you cannot reuse your previously-created API key after disabling the Portal Connection.Log on to the Prism web console.Click the user icon in the main menu, then select Update Profile.Click Disable in the Portal Connection section. The status becomes disconnected.Click Save.Figure. Disable the Portal ConnectionClick to enlarge", "Heading_Keywords": ["disabl", "1", "click", "licens", "manag"]}, {"Heading": "Revoking the Portal Connection API Key", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-portal-connection-revoke-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "Revoke the API key on the Nutanix Support Portal, which disables the Portal Connection feature in the Prism web console.You might need to revoke the API key associated with the Portal Connection. After revoking the key:You will need to create and register a new key to continue using the Portal Connection licensing feature.The connection between the Support Portal and the Prism web console is broken (disconnected).You might see a red connection state with a message of Error: Invalid API Key in the Update Profile dialog box.Log in to the Nutanix Support Portal and select API Keys from your profile.The API Keys page is displayed. Figure. API Keys Portal PageClick to enlargeLocate your key alias name, click Revoke, and then click the confirmation.", "Heading_Keywords": ["revok", "portal", "connect", "api", "key"]}, {"Heading": "Updating the Portal Connection API Key", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-portal-connection-update-key-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "This procedure assumes you have already configured Portal Connection and have a working connection (that is, you have not disabled it). You might need to update the Portal Connection API key associated with your profile. First get a new key and apply, then optionally revoke the existing key.Log on to the Nutanix Support Portal, select API Keys from your profile, then click New API Key.Figure. Generating API Keys in the Support PortalClick to enlargeGenerate the key in the Create New API Key dialog box.Enter an alias (name) for the key to help you identify or keep track of the key on the portal, then click Generate.Copy the new key, then click X to close the dialog box.Note: After you copy the key and close the dialog, this key becomes unavailable. It cannot be retrieved.Figure. Entering an API Key Alias NameClick to enlargeOptionally, click Download SSL Public Key for use when you register the API key in the web console.Update the API key through the Prism web console.Click the user icon in the main menu, then select Update Profile.Click Update in the Portal Connection section.Paste the API key in the API KEY field in the dialog box. Optionally, paste the downloaded public key in the PUBLIC KEY field.Click Save.Figure. Update the API KeyClick to enlargeOptionally, you can revoke other keys associated with the Portal Connection. See Revoking the Portal Connection API Key.", "Heading_Keywords": ["updat", "portal", "connect", "api", "key"]}, {"Heading": "Manage Licenses with 1-Click Licensing", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-portal-connection-managing-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "The Portal Connection API provides 1-click licensing. It simplifies licensing by integrating the licensing workflow into a single interface in the web console. As this feature is disabled by default, enable and configure it first.The Portal Connection feature simplifies licensing by integrating the licensing workflow into a single interface in the web console. Once you configure this feature, you can perform most licensing tasks from the Prism web console without needing to explicitly log on to the Nutanix Support Portal.Portal Connection communicates with the Nutanix Support Portal to detect any changes or updates to your cluster license status. When you open Licensing from the web console, the screen displays 1-click action buttons to enable you to manage your licenses without leaving the web console.Before You BeginSee Configure 1-Click License Management.Your network must allow outbound traffic to portal.nutanix.com:443 to use this feature. Updating an expired license or extending the expiration date of an existing license can be a manual process that does not require the Portal Connection feature. See Example: Updating a License (1-Click).1-Click Licensing Action ButtonsWhen you open Licensing from the Prism web console, the screen displays 1-click action buttons to enable you to manage your licenses without leaving the web console. Depending on your current licensing status and cluster configuration, you might see one or more of these 1-click action buttons.Example: Upgrading Your Starter Cluster to Pro (1-Click)Example: Renewing a License (1-Click)In this example, Portal Connection is configured and the customer has purchased new Pro licenses for a cluster with expired Pro licenses.Example: Removing An Add-on Feature (1-Click)Reclaiming Licenses (1-Click)Example: Updating a License (1-Click)In this example, Portal Connection is configured and the customer has extended existing Pro licenses for a cluster. That is, the expiration date for existing licences has been extended before the licenses have expired.1-Click Licensing Action ButtonsWhen you open Licensing from the Prism web console, the screen displays 1-click action buttons to enable you to manage your licenses without leaving the web console. Depending on your current licensing status and cluster configuration, you might see one or more of these 1-click action buttons.Table 1. 1-Click Licensing Action ButtonsThis Button Appears...If You Are Eligible or Want To...AddAdd an add-on license. This button appears if add-on features are available for licensing.DowngradeDowngrade your cluster to Pro from Ultimate or to Starter from Pro or Ultimate. Use this button when reclaiming licenses before destroying a cluster.RebalanceEnsure your available licenses are applied to each node in your cluster. For example:If you have added a node and have an available license in your account, click Rebalance.If you have removed a node, click Rebalance to reclaim the now-unused license.RemoveRemove an add-on license, disabling the add-on feature.RenewApplies newly-purchased licenses.SelectEnables you to apply a license for an unlicensed cluster.UpdateExtends the expiration data of current valid licenses. UpgradeUpgrade your cluster from Starter to Pro or Ultimate, or Pro to Ultimate license types.Example: Upgrading Your Starter Cluster to Pro (1-Click)In this example, 1-click licensing is configured in this Starter-licensed cluster and the customer has purchased Pro licenses for a Starter-licensed cluster.Open Licensing from the gear icon in the Prism web console for the connected cluster.The Licensing window shows that you have Pro licenses available (that you have purchased and detected by Portal Connection) because the Upgrade to Pro button is highlighted. You can click Contact Sales to buy that add-on feature.Click Upgrade to Pro.Figure. Upgrading to ProClick to enlargeAOS is automatically performing each step, including contacting the Support Portal to download a license file, and then applying the license. After applying the license, the window displays a Successfully applied licenses message. Click X to close the Licensing window.Example: Renewing a License (1-Click)In this example, Portal Connection is configured and the customer has purchased new Pro licenses for a cluster with expired Pro licenses.Downgrade your cluster to renew your licenses and then apply the renewed licenses.In the web console, click the gear icon, and select Licensing.Because the license has expired, you can also Downgrade to Starter if you did not purchase new licenses.Click Renew to apply the new Pro licenses.AOS is automatically performing each step, including contacting the Support Portal to download a license file, and then applying the license. After applying the license, the window displays a Successfully applied licenses message. Click X to close the Licensing window.Example: Removing An Add-on Feature (1-Click)In this example, 1-click licensing (Portal Connection+Connect to Portal) is configured in this Pro-licensed cluster and the customer had previously purchased an add-on feature license. Here, the customer removes this feature.Open Licensing from the gear icon in the Prism web console for the connected cluster.The Licensing window shows that you have installed the Nutanix Files add-on. You can click Contact Sales to buy add-on features or licenses.Click Remove Nutanix Files to remove this add-on feature. Click Yes in the confirmation window.Portal Connection places the cluster into standby mode to remove the feature and update the cluster license status. After this operation is complete, license status is updated.Click X to close the Licensing window.Reclaiming Licenses (1-Click)Before you beginNote: If you have destroyed the cluster and did not reclaim the existing licenses (except for Starter licenses), contact Nutanix Support to help reclaim the licenses. The Acropolis Advanced Administration Guide describes how to destroy a cluster. See Reclaiming Licenses to reclaim licenses where the cluster is not configured with 1-click licensing (Portal Connection) or the cluster is not connected to the internet (also known as dark-site clusters).You can reclaim and optionally re-apply licenses for nodes in your clusters when using Portal Connection.Before destroying a cluster, you must reclaim your licenses by unlicensing your cluster. You do not need to reclaim AOS Starter licenses for Nutanix and OEM AOS Appliance platforms. These licenses are embedded and are automatically applied whenever you create a cluster. You do need to reclaim AOS Pro and Ultimate licenses for these platforms.You do need to reclaim AOS licenses (Starter / Pro / Ultimate) for software-only and third-party hardware platforms.Reclaim licenses to return them to your inventory when you remove one or more nodes from a cluster. If you move nodes from one cluster to another, first reclaim the licenses, move the nodes, then re-apply the licenses. Otherwise, if you are removing a node and not moving it to another cluster, use the Rebalance button.You can reclaim licenses for nodes in your clusters in cases where you want to make modifications or downgrade licenses. For example, applying an Ultimate license to all nodes in a cluster where some nodes are currently licensed as Pro and some nodes are licensed as Ultimate. You might also want to transition nodes from Ultimate to Pro licensing.Open Licensing from the gear icon in the web console for the connected cluster.Remove any add-ons as described in Example: Removing An Add-on Feature (1-Click).Click Downgrade to Starter after any add-ons are removed.Click X to close the Licensing window.You can now perform any additional tasks, such as destroying the cluster or re-applying licenses.Example: Updating a License (1-Click)In this example, Portal Connection is configured and the customer has extended existing Pro licenses for a cluster. That is, the expiration date for existing licences has been extended before the licenses have expired.Update your cluster to apply the new license expiration date.Open Licensing from the gear icon in the Prism Element web console for the connected cluster.Click Update to extend the expiration date of the existing Pro licenses.AOS is automatically performing each step, including contacting the Support Portal to download a license file, and then applying the license. After applying the license updates, the window displays a Successfully applied licenses message. Click Show Licenses to ensure the new expiration date has been applied.Click X to close the Licensing window.", "Heading_Keywords": ["manag", "licens", "1", "click", "licens"]}, {"Heading": "1-Click Licensing Action Buttons", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-portal-connection-buttons-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "When you open Licensing from the Prism web console, the screen displays 1-click action buttons to enable you to manage your licenses without leaving the web console. Depending on your current licensing status and cluster configuration, you might see one or more of these 1-click action buttons.Table 1. 1-Click Licensing Action ButtonsThis Button Appears...If You Are Eligible or Want To...AddAdd an add-on license. This button appears if add-on features are available for licensing.DowngradeDowngrade your cluster to Pro from Ultimate or to Starter from Pro or Ultimate. Use this button when reclaiming licenses before destroying a cluster.RebalanceEnsure your available licenses are applied to each node in your cluster. For example:If you have added a node and have an available license in your account, click Rebalance.If you have removed a node, click Rebalance to reclaim the now-unused license.RemoveRemove an add-on license, disabling the add-on feature.RenewApplies newly-purchased licenses.SelectEnables you to apply a license for an unlicensed cluster.UpdateExtends the expiration data of current valid licenses. UpgradeUpgrade your cluster from Starter to Pro or Ultimate, or Pro to Ultimate license types.", "Heading_Keywords": ["1", "click", "licens", "action", "button"]}, {"Heading": "Example: Upgrading Your Starter Cluster to Pro (1-Click)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-upgrade-pro-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "In this example, 1-click licensing is configured in this Starter-licensed cluster and the customer has purchased Pro licenses for a Starter-licensed cluster.Open Licensing from the gear icon in the Prism web console for the connected cluster.The Licensing window shows that you have Pro licenses available (that you have purchased and detected by Portal Connection) because the Upgrade to Pro button is highlighted. You can click Contact Sales to buy that add-on feature.Click Upgrade to Pro.Figure. Upgrading to ProClick to enlargeAOS is automatically performing each step, including contacting the Support Portal to download a license file, and then applying the license. After applying the license, the window displays a Successfully applied licenses message. Click X to close the Licensing window.", "Heading_Keywords": ["exampl", "upgrad", "starter", "cluster", "pro", "1", "click"]}, {"Heading": "Example: Renewing a License (1-Click)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-portal-connection-renew-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "In this example, Portal Connection is configured and the customer has purchased new Pro licenses for a cluster with expired Pro licenses.Downgrade your cluster to renew your licenses and then apply the renewed licenses.In the web console, click the gear icon, and select Licensing.Because the license has expired, you can also Downgrade to Starter if you did not purchase new licenses.Click Renew to apply the new Pro licenses.AOS is automatically performing each step, including contacting the Support Portal to download a license file, and then applying the license. After applying the license, the window displays a Successfully applied licenses message. Click X to close the Licensing window.", "Heading_Keywords": ["exampl", "renew", "licens", "1", "click"]}, {"Heading": "Example: Removing An Add-on Feature (1-Click)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-remove-addon-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "In this example, 1-click licensing (Portal Connection+Connect to Portal) is configured in this Pro-licensed cluster and the customer had previously purchased an add-on feature license. Here, the customer removes this feature.Open Licensing from the gear icon in the Prism web console for the connected cluster.The Licensing window shows that you have installed the Nutanix Files add-on. You can click Contact Sales to buy add-on features or licenses.Click Remove Nutanix Files to remove this add-on feature. Click Yes in the confirmation window.Portal Connection places the cluster into standby mode to remove the feature and update the cluster license status. After this operation is complete, license status is updated.Click X to close the Licensing window.", "Heading_Keywords": ["exampl", "remov", "add", "featur", "1", "click"]}, {"Heading": "Reclaiming Licenses (1-Click)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-portal-connection-reclaim-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "Before you beginNote: If you have destroyed the cluster and did not reclaim the existing licenses (except for Starter licenses), contact Nutanix Support to help reclaim the licenses. The Acropolis Advanced Administration Guide describes how to destroy a cluster. See Reclaiming Licenses to reclaim licenses where the cluster is not configured with 1-click licensing (Portal Connection) or the cluster is not connected to the internet (also known as dark-site clusters).You can reclaim and optionally re-apply licenses for nodes in your clusters when using Portal Connection.Before destroying a cluster, you must reclaim your licenses by unlicensing your cluster. You do not need to reclaim AOS Starter licenses for Nutanix and OEM AOS Appliance platforms. These licenses are embedded and are automatically applied whenever you create a cluster. You do need to reclaim AOS Pro and Ultimate licenses for these platforms.You do need to reclaim AOS licenses (Starter / Pro / Ultimate) for software-only and third-party hardware platforms.Reclaim licenses to return them to your inventory when you remove one or more nodes from a cluster. If you move nodes from one cluster to another, first reclaim the licenses, move the nodes, then re-apply the licenses. Otherwise, if you are removing a node and not moving it to another cluster, use the Rebalance button.You can reclaim licenses for nodes in your clusters in cases where you want to make modifications or downgrade licenses. For example, applying an Ultimate license to all nodes in a cluster where some nodes are currently licensed as Pro and some nodes are licensed as Ultimate. You might also want to transition nodes from Ultimate to Pro licensing.Open Licensing from the gear icon in the web console for the connected cluster.Remove any add-ons as described in Example: Removing An Add-on Feature (1-Click).Click Downgrade to Starter after any add-ons are removed.Click X to close the Licensing window.You can now perform any additional tasks, such as destroying the cluster or re-applying licenses.", "Heading_Keywords": ["reclaim", "licens", "1", "click"]}, {"Heading": "Example: Updating a License (1-Click)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-portal-connection-update-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "In this example, Portal Connection is configured and the customer has extended existing Pro licenses for a cluster. That is, the expiration date for existing licences has been extended before the licenses have expired.Update your cluster to apply the new license expiration date.Open Licensing from the gear icon in the Prism Element web console for the connected cluster.Click Update to extend the expiration date of the existing Pro licenses.AOS is automatically performing each step, including contacting the Support Portal to download a license file, and then applying the license. After applying the license updates, the window displays a Successfully applied licenses message. Click Show Licenses to ensure the new expiration date has been applied.Click X to close the Licensing window.", "Heading_Keywords": ["exampl", "updat", "licens", "1", "click"]}, {"Heading": "Using Tags to Organize Your Licenses", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-tags-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "On the Products > Licenses > Purchases page on the Nutanix support portal, you can label your licenses with a tag to conveniently group them.Tags help provide more granularity and ease of use to your license management. Tags are especially handy if you use the Manual License Selection workflow. For example, you can apply a tag to licenses to group them according to:A common expiration dateUse case (clusters used by remote offices)Assigned organization (clusters used by an engineering department)When you tag one or more licenses, you can then:Sort them by tag name on the support portalPerform license actions (on the portal) on clusters grouped by tag (especially when selecting licenses manually)When you click Purchases, the page displays existing tags. To view licenses associate with each tag, click a tag in the sidebar to display those licenses only.Figure. License Tag ListClick to enlargeAdding a Tag to Your LicensesLabel your licenses with a tag to conveniently group them. You can add multiple tags to a single license. Removing a Tag from a LicenseDeleting a TagAdding a Tag to Your LicensesLabel your licenses with a tag to conveniently group them. You can add multiple tags to a single license.  Log on to the Nutanix Support Portal, then click Products > Licenses > Purchases.The portal displays a sortable table listing your purchased licenses. You can sort the table by clicking any table heading (License ID, Type, License Class, and so on).To add a new tag:Select the checkbox next to the licenses you want to tag, then click Add Tag.Add Tag is only available when you select at least one license.In the select tag or create new field, enter a new tag name.Click create new label:.The support portal web page refreshes and displays your tagged licenses. The tag name is displayed under Purchases.To apply one or more existing tags:Select the checkbox next to the licenses you want to tag, then click Add Tag.Select one or more existing tags.Click Apply.Figure. Apply An Existing TagClick to enlargeThe support portal web page refreshes and displays your tagged licenses.Removing a Tag from a LicenseThis procedure describes how to remove a tag from a license (that is, how to untag it).Note: To delete an existing tag, which also removes the tag from any licenses where it is applied, see Deleting a Tag. Log on to the Nutanix Support Portal, then click Products > Licenses > Purchases.The portal displays a sortable table listing your purchased licenses. You can sort the table by clicking any table heading (License ID, Type, License Class, and so on). When you click Purchases, the page displays existing tags on the left sidebar.Figure. License Tag ListClick to enlarge Click a tag name in the sidebar to display those licenses only.Select the licenses with the tag you want to untag, then click Remove. Select at least one license to display Remove.The support portal web page refreshes and displays your tagged and untagged licenses.Deleting a TagThis procedure enables you to delete an existing tag, which also removes the tag from any licenses where it is applied. Note: To remove tags from individual licenses (that is, untag licensed clusters) without deleting the tag itself, see Removing a Tag from a License.If you accidentally delete a tag, recreate it as a new tag and apply it. See Adding a Tag to Your Licenses. Log on to the Nutanix Support Portal, then click Products > Licenses > Purchases.The portal displays a sortable table listing your purchased licenses. You can sort the table by clicking any table heading (License ID, Type, License Class, and so on). When you click Purchases, the page displays existing tags.Figure. License Tag ListClick to enlarge Click a tag name. The portal lists the tagged licenses.Click Delete Tag.The existing tag is deleted, which also removes the tag from any licenses where it is applied. The portal removes the tag from the list.Figure. License Tag List - DeletedClick to enlarge", "Heading_Keywords": ["use", "tag", "organ", "licens"]}, {"Heading": "Adding a Tag to Your Licenses", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-tags-add-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "Label your licenses with a tag to conveniently group them. You can add multiple tags to a single license.  Log on to the Nutanix Support Portal, then click Products > Licenses > Purchases.The portal displays a sortable table listing your purchased licenses. You can sort the table by clicking any table heading (License ID, Type, License Class, and so on).To add a new tag:Select the checkbox next to the licenses you want to tag, then click Add Tag.Add Tag is only available when you select at least one license.In the select tag or create new field, enter a new tag name.Click create new label:.The support portal web page refreshes and displays your tagged licenses. The tag name is displayed under Purchases.To apply one or more existing tags:Select the checkbox next to the licenses you want to tag, then click Add Tag.Select one or more existing tags.Click Apply.Figure. Apply An Existing TagClick to enlargeThe support portal web page refreshes and displays your tagged licenses.", "Heading_Keywords": ["ad", "tag", "licens"]}, {"Heading": "Removing a Tag from a License", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-tags-remove-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "This procedure describes how to remove a tag from a license (that is, how to untag it).Note: To delete an existing tag, which also removes the tag from any licenses where it is applied, see Deleting a Tag. Log on to the Nutanix Support Portal, then click Products > Licenses > Purchases.The portal displays a sortable table listing your purchased licenses. You can sort the table by clicking any table heading (License ID, Type, License Class, and so on). When you click Purchases, the page displays existing tags on the left sidebar.Figure. License Tag ListClick to enlarge Click a tag name in the sidebar to display those licenses only.Select the licenses with the tag you want to untag, then click Remove. Select at least one license to display Remove.The support portal web page refreshes and displays your tagged and untagged licenses.", "Heading_Keywords": ["remov", "tag", "licens"]}, {"Heading": "Deleting a Tag", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-tags-delete-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "This procedure enables you to delete an existing tag, which also removes the tag from any licenses where it is applied. Note: To remove tags from individual licenses (that is, untag licensed clusters) without deleting the tag itself, see Removing a Tag from a License.If you accidentally delete a tag, recreate it as a new tag and apply it. See Adding a Tag to Your Licenses. Log on to the Nutanix Support Portal, then click Products > Licenses > Purchases.The portal displays a sortable table listing your purchased licenses. You can sort the table by clicking any table heading (License ID, Type, License Class, and so on). When you click Purchases, the page displays existing tags.Figure. License Tag ListClick to enlarge Click a tag name. The portal lists the tagged licenses.Click Delete Tag.The existing tag is deleted, which also removes the tag from any licenses where it is applied. The portal removes the tag from the list.Figure. License Tag List - DeletedClick to enlarge", "Heading_Keywords": ["delet", "tag"]}, {"Heading": "Manage Licenses Manually", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-lic-manage-manual-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "If you do not want to enable 1-click licensing, you can manage licenses manually (also known informally as 3- Step Licensing). Enabled by default for your cluster, this licensing workflow is also appropriate for dark-site (non-Internet connected) deployments.Manage Prism Element LicensesManage Prism Central LicensesOther Common License Management Tasks3-Step Licensing and Downloading a Cluster Summary File3- Step Licensing3-Step Licensing refers to most manual licensing procedures (that is, where\u00a01-Click Licensing\u00a0is not enabled). These procedures describe the 3-Step Licensing procedure (in more detail), where you:In the Prism Element or Prism Central web console, download a cluster summary file, then upload it to the Nutanix Support portalDownload a license file from the Nutanix Support portalIn the Prism Element of Prism Central web console, apply the license file on a cluster connected to the InternetDownloading a Cluster Summary File From Your ClusterLog on to your Prism Element or Prism Central cluster web console and download a cluster summary file which you can upload to the Nutanix Support portal to update your cluster license status. Keep this web console page open in your browser to complete the licensing process. This task is used for all Prism Element and Prism Central manual licensing work flows when you are managing licenses without Portal Connection but your cluster is connected to the internet.Note: Generating a cluster summary file through the web console, nCLI commands (license generate-cluster-info), or PowerShell commands (Get-NTNXClusterLicenseInfo and Get-NTNXClusterLicenseInfoFile) initiates the cluster licensing process. You might observe a Licensing Status: In Process alert message in the web console or log files in this case.For an internet-connected cluster, log on to your Prism Element or Prism Central web console.Click the gear icon, then select Licensing in the Settings panel.Click Update License, then click Download to create and save a cluster summary file to your local machine.The cluster summary file is saved to your browser download folder or a folder you specify.What to do nextUpload the cluster summary file to the Nutanix Support portal. See Manage Prism Element Licenses or Manage Prism Central LicensesGetting Cluster Summary Information ManuallyGet information about your cluster in the web console, which you can enter at the Nutanix Support portal to update your cluster license status. You typically perform this step for dark-site clusters, which are not usually connected to the Internet.Log on to your Prism Element or Prism Central web console.Click the gear icon, then select Licensing in the Settings panel.Click Update License, then click Expand to show the cluster summary information needed to download a license file to your local machine.Get your cluster information from the web console.Click Show Info and copy the cluster information needed to generate a license file.Figure. Cluster Information Needed for LicensingClick to enlargeThe page displays information that you need to enter at the support portal on an internet-connected system. Copy this information needed to complete this licensing procedure.Cluster UUIDString indicating the unique cluster IDSignatureCluster security keyLicense ClassIndicates a software-only, appliance-based, or Prism Central license classLicense VersionIndicates the version of the installed license fileNode CountNumber of available licenses for this modelCores / Cores NumNumber of CPU cores; used with capacity-based licensingFlash TiBNumber of Flash TiBs; used with capacity based licensingHDD TiBNumber of hard disk drive (HDD) TiBs; used with capacity based licensingBlock IDID number of the Nutanix blockWhat to do nextUpload the cluster summary file to the Nutanix Support portal. See Manage Prism Element Licenses or Manage Prism Central LicensesManage Prism Element LicensesAOS is installed or upgraded with the Portal Connection disabled by default. If you do not want to enable this feature, you can manage licenses as described in these topics.You can perform the licensing procedures described in these topics from a cluster Prism Element web console.See also Products That Do Not Require a License.Managing Licenses with Portal Connection EnabledIf you want to enable Portal Connection, you can manage licenses as described in these topics instead:Configure 1-Click License ManagementManage Licenses with 1-Click LicensingInstalling a New License (Including Add-Ons)Select and then manually install a license on Internet-connected clusters not using the Portal Connection API. Installing a New License (Dark Site, Including Add-Ons)Manually install a license on a dark-site cluster that is not connected to the Internet and cannot contact the Nutanix Support Portal.Installing an Updated License After Adding a Node to a ClusterAfter you have added a node to your cluster, you must install a new updated license file. Installing a New License (Including Add-Ons)Select and then manually install a license on Internet-connected clusters not using the Portal Connection API. This procedure assumes you have purchased licenses and describes the 3-Step Licensing procedure. See also:Nutanix Support Portal Licenses PageInstalling or Configuring an Add-On LicenseManual License SelectionProducts That Do Not Require a License.Download a cluster summary file in the Prism Element web console. See Downloading a Cluster Summary File From Your Cluster.Keep the Prism Element web console page open in your browser to complete the licensing process.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses.If you have tagged your licenses as described in Adding a Tag to Your Licenses, select the tag name orAll Licenses in the Choose License Tags drop-down menu.Click Upload File, browse to the cluster summary file you downloaded and select it. Then clickNext.The portal displays license cards where available licenses are shown. Add-ons not associated with your account appear greyed-out or unavailable. For example, your license level might not have the Data Encryption add-on feature.Click Select License in theAcropolis card.Select a License Level such as Pro or Ultimate from the drop-down menu.Click Save.The Acropolis card now shows the license level, a highlighted license status, and the Manage Licenses link. Your available add-ons like Nutanix Files are shown with a Select License link. Add-ons not associated with your account appear greyed-out or unavailable. For example, your license level might not have the Data Encryption add-on feature.License each add-on by clicking Select License under the add-on card.Configure that license, if necessary.For example, for Nutanix Files, enter the licensed storage in TiB (tebibytes). Click Save.Figure. Example Add-on CardClick to enlargeThe card now shows the highlighted license status and theManage Licenses link.Click Next to see Summary page of licenses to be updated on your cluster.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.In the Prism Element or Prism Central web console, click theUpload link in the Manage Licenses dialog box.Browse to the license file you downloaded, select it, and clickSave to upload it to your cluster.ResultsThe Licensing page displays all license details for the cluster.What to do nextSee Displaying License Features and Details and Other Common License Management Tasks.Installing a New License (Dark Site, Including Add-Ons)Manually install a license on a dark-site cluster that is not connected to the Internet and cannot contact the Nutanix Support Portal.This procedure assumes you have purchased licenses and describes the 3-Step Licensing procedure. See alsoNutanix Support Portal Licenses Page.Note: You can use Option 1 shown in the web console Manage Licensing page to generate a cluster summary file and copy that file to a machine connected to the Internet to upload to the Nutanix Support Portal to get a license file. However, as dark-site systems are not connected to the Internet to adhere to regulatory, security, or compliance policies at the customer site, this procedure describes the manual entry of cluster information.Get your cluster information from the web console. See Getting Cluster Summary Information Manually.Keep the dark-site web console page open in your browser to complete the licensing process.Now do the following steps on a machine connected to the Internet.Log on to the Nutanix support portal and click Products > Licenses > Cluster Usage.Click Manage Licenses.If you have tagged your licenses as described in Adding a Tag to Your Licenses, select the tag name or All Licenses in the Choose License Tags drop-down menu.Click Dark Site.Figure. Dark Site License Page Example Click to enlargeDo the following.Select a License Class: Appliance, Software Only, Prism Central, or n/a.Select a License Version.Select an AOS Version.Enter the Cluster UUID and Signature in the text fields.Click Next.Enter capacity and block details if necessary.Enter the number of CPU cores and Flash/HDD storage in TiBs.Click Add Block to add details about each block in the cluster.Model. For example, NX-3175-G5.Block ID, which is the block serial number.Number of nodes, typically 1 per block.Click Add Block to add the block, then clickAdd Block to add another block.Continue until you have added all blocks.Click Next.Click Select License in theAcropolis card.Select a License Level such as Pro or Ultimate from the drop-down menu.Click Save.The Acropolis card now shows the license level, a highlighted license status, and the Manage Licenses link. Your available add-ons like Nutanix Files are shown with a Select License link. Add-ons not associated with your account appear greyed-out or unavailable. For example, your license level might not have the Data Encryption add-on feature.License each add-on by clicking Select License under the add-on card.Configure that license, if necessary.For example, for Nutanix Files, enter the licensed storage in TiB (tebibytes). Click Save.The card now shows the highlighted license status and theManage Licenses link.Click Next to see Summary page of licenses to be updated on your cluster.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.From the dark-site Prism Element web console, apply the downloaded license file to the cluster.Open Licensing from the gear icon in the web console of the unconnected cluster.Click Manage Licenses, then click theUpload link. Browse to the license file you downloaded, select it, and clickSave to upload it to your cluster.The Prism web console Licensing page displays all license details for the cluster.What to do nextSee Displaying License Features and Details and Other Common License Management Tasks.Installing an Updated License After Adding a Node to a ClusterAfter you have added a node to your cluster, you must install a new updated license file. The procedure for installing an updated license is identical to the procedure described in Installing a New License (Including Add-Ons) or Installing a New License (Dark Site, Including Add-Ons).What to do nextSee Displaying License Features and DetailsManage Prism Central LicensesPerform the licensing procedures described in these topics from a Prism Central web console for:Prism ProNutanix CalmNutanix FilesObjectsSee also Products That Do Not Require a License.Installing a New Prism Central License (Including Add-Ons)Manually install a Prism Central license on Internet-connected clusters not using the Portal Connection API. Installing a New Prism Central License (Including Add-Ons) (Dark Site)Manually install a Prism Central license on Internet-connected clusters not using the Portal Connection API that can contact the Nutanix Support Portal. Disabling Prism Pro FeaturesHow to disable the Prism Pro features (and remove the violating license message that appears in Prism Central if the Prism Pro features are enabled without a valid license).Installing a New Prism Central License (Including Add-Ons)Manually install a Prism Central license on Internet-connected clusters not using the Portal Connection API. This procedure assumes you have purchased licenses and describes the 3-Step Licensing procedure. See also Nutanix Support Portal Licenses Page and Installing or Configuring an Add-On License.Generate a cluster summary file in the Prism Central web console. See Downloading a Cluster Summary File From Your Cluster.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses, then clickUpload File.In the dialog box, browse to the cluster summary file you just generated and select it.The portal displays license cards where available licenses are shown. Add-ons not associated with your account appear greyed-out or unavailable. For example, your license level might not have the Data Encryption add-on feature.Click Select License in the Prism Central card.Select a License Level such as Prism Pro from the drop-down menu.Select the number of nodes that will be managed by Prism Central. You can over-provision the number of nodes for future cluster expansion.Click Save.The Prism Central card now shows the license level, a highlighted license status, and the Manage Licenses link. Your available add-ons like Calm or Flow are shown with a Select License link. Add-ons not associated with your account appear greyed-out or unavailable.License each add-on by clicking Select License under the add-on card.Configure that license, if necessary.Click Save.Figure. Select Licenses Page Example , Prism CentralClick to enlargeThe card now shows the highlighted license status and the Manage License link.Click Next to see Summary page of any license to be updated on your Prism Central cluster.Repeat to select additional add-on licenses.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.In the Prism Central web console, click the Upload link in the Manage Licenses dialog box.Browse to the license file you downloaded, select it, and clickSave to upload it to your cluster.ResultsThe Licensing page displays all license details for the cluster.What to do nextSee Displaying License Features and Details and Other Common License Management Tasks.Installing a New Prism Central License (Including Add-Ons) (Dark Site)Manually install a Prism Central license on Internet-connected clusters not using the Portal Connection API that can contact the Nutanix Support Portal. This procedure assumes you have purchased licenses and describes the 3-Step Licensing procedure:Generate and upload a cluster summary file to the Nutanix support portal.On a machine connected to the Internet, generate and download a license file from the support portal.Install the license on the cluster that is not connected to the Internet (that is, a dark site).Note: You can use Option 1 shown in the web console Manage Licensing page to generate a cluster summary file and copy that file to a machine connected to the Internet to upload to the Nutanix Support Portal to get a license file. However, as dark-site systems are not connected to the Internet to adhere to regulatory, security, or compliance policies at the customer site, this procedure describes the manual entry of cluster information. See also Nutanix Support Portal Licenses Page.Get your cluster information from the web console. See Getting Cluster Summary Information Manually.Now do the following steps on a machine connected to the Internet.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses, then clickDark Sites.Do the following.Select a License Class Prism Central.Select a License Version.Select an AOS Version.Enter the Cluster UUID and Signature in the text fields.Click Next.Enter capacity for Flow and Calm, and block details if necessary.Enter the number of Flow protected nodes and required Calm packs.Click Add Block to add details about each block in the cluster.Model. For example, NX-3175-G5. You can leave this field empty if it is not present in your cluster information.Number of nodes, typically 1 per block.Click Add Block to add the block, then clickAdd Block to add another block.Continue until you have added all blocks.Click Next.License each add-on by clicking Select License under the add-on card.Configure that license, if necessary.For example, for Calm, select the number of VM packs. Click Save.The card now shows the highlighted license status and theManage License link.Click Next to see the Summary page of any license to be updated on your Prism Central cluster.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.In the Prism Central web console, click the upload link in the Manage Licenses dialog box. See Getting Cluster Summary Information Manually.Browse to the license file you downloaded, select it, and clickSave.ResultsThe Licensing page displays all license details for the cluster.What to do nextSee Displaying License Features and DetailsDisabling Prism Pro FeaturesHow to disable the Prism Pro features (and remove the violating license message that appears in Prism Central if the Prism Pro features are enabled without a valid license).Log on to Prism Central, click the gear icon, and select Licensing.In the Licensing page, click the license icon.Figure. Prism Licensing PageClick to enlargeIn the Prism Pro License Features page, clear (uncheck) Enable all features.A message box appears stating the operation requires that you log out and then log back in to see the results. Click the Continue button. This immediately logs you out of Prism Central and returns you to the login page. When you log back in, the Prism Pro features are disabled.To re-enable Prism Pro, repeat this process but select Enable all features.Figure. Prism License Features PageClick to enlargeOther Common License Management TasksThis section describes some common licensing tasks like unlicensing, reclaiming licenses, and so on.Installing or Configuring an Add-On LicenseUpgrading, Extending, or Downgrading Licenses or Add-OnsInstall a newly-purchased license to upgrade your license tier, downgrade a license tier, or extend the licensing term on your cluster or nodes.Reclaiming LicensesReclaim a license by returning it to your inventory when modifying license assignments or after removing a node from a cluster. Unlicensing a Cluster or Add-onInstalling or Configuring an Add-On LicenseAfter you have purchased one or more Prism Element add-ons, you must install and configure a new updated license file. This procedure describes how to do this on a cluster connected to the Internet and describes the 3-Step Licensing procedure.You can also configure add-on features that you did not configure when originally installing your license.See also Nutanix Support Portal Licenses Page.Generate a cluster summary file in the web console. See Downloading a Cluster Summary File From Your Cluster.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses, then clickUpload File.In the dialog box, browse to the cluster summary file you just generated and select it.Your available add-ons are shown with a Select License link. Add-ons not associated with your account appear greyed-out or unavailable. For example, your license level might not include the Data Encryption add-on feature.Figure. Select Licenses Page Example Click to enlargeLicense each add-on by clicking Select License under the add-on card.Configure that license, if necessary.For example, for Nutanix Files, enter the licensed storage in TiB (tebibytes). Click Save.Figure. Example Add-on CardClick to enlargeThe card now shows the highlighted license status and theManage Licenses link.Click Next to see Summary page of licenses to be updated on your cluster.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.In the web console, click the upload link in theManage Licenses dialog box.Browse to the license file you downloaded, select it, and clickSave.ResultsThe Licensing dialog box displays all license details for the cluster.What to do nextSee Displaying License Features and DetailsUpgrading, Extending, or Downgrading Licenses or Add-OnsInstall a newly-purchased license to upgrade your license tier, downgrade a license tier, or extend the licensing term on your cluster or nodes.Unlicense your cluster.Install the new license(s).Unlicense your cluster as described in Unlicensing a Cluster or Add-on.Do not destroy your cluster. Once you complete this procedure, your cluster license level is Starter.Install the new licenses and optionally any add-ons as described in:Manage Prism Element Licenses and Manage Prism Central LicensesResultsThe Prism Element or Prism Central web console Licensing dialog box shows all new license details for the cluster.Reclaiming LicensesReclaim a license by returning it to your inventory when modifying license assignments or after removing a node from a cluster. You can reclaim and optionally re-apply licenses for nodes in your clusters. This procedure describes how to reclaim licenses where the cluster is not configured with Portal Connection or the cluster is not connected to the internet (also known as dark-site clusters).After you remove a node, you can also move the node to another cluster. Doing so requires using an available license in your inventory. See Installing an Updated License After Adding a Node to a Cluster.You must unlicense your cluster (other than Starter on Nutanix NX Series platforms) when you plan to destroy a cluster. First unlicense the cluster, then destroy the cluster. See Unlicensing a Cluster or Add-on.Return licenses to your inventory when you remove one or more nodes from a cluster. Also, if you move nodes from one cluster to another, first reclaim the licenses, move the nodes, then re-apply the licenses. You can reclaim licenses for nodes in your clusters in cases where you want to make modifications or downgrade licenses. For example, applying an Ultimate license to all nodes in a cluster where some nodes are currently licensed as Pro and some nodes are licensed as Ultimate. You might also want to transition nodes from Ultimate to Pro licensing. See Upgrading, Extending, or Downgrading Licenses or Add-Ons.You do not need to reclaim Starter licenses for Nutanix NX Series platforms. These licenses are automatically applied whenever you create a cluster. Reclaiming Licenses When Destroying a ClusterBefore you beginIf you have destroyed the cluster and did not reclaim all existing licenses by unlicensing the cluster, contact Nutanix Support to help reclaim the licenses. TheAcropolis Advanced Administration Guide describes how to destroy a cluster.See Unlicensing a Cluster or Add-on.Reclaiming Licenses When Removing Nodes from a ClusterBefore you beginThe Prism Web Console Guide cluster management topics describe how to remove a node from a cluster.Remove a node from a cluster.Generate a cluster summary file in the web console. See Downloading a Cluster Summary File From Your Cluster.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses, then clickUpload File.In the dialog box, browse to the cluster summary file you just generated and select it.Reclaim licenses by unlicensing the cluster by clickingUnlicense All, then clickUnlicense in the pop-up dialog box.Click Next.The cluster licensing status shows Reclaimed.Figure. Reclaimed License Status.Click to enlargeClick Download License File to download the license file created for the cluster to your browser download folder or directory you specify.Apply the downloaded license file to the cluster.Open Licensing from the gear icon in the web console.Click Manage Licenses, then click theupload link. Browse to the license file you downloaded, select it, and clickSave.Unlicensing a Cluster or Add-onRemove licenses or add-ons from the Prism Element or Prism Central cluster and refund available licenses that have not expired to your account (that is, reclaim all licenses). An unlicensed Nutanix NX Series cluster reverts to the default Starter license.You must unlicense your cluster when you plan to destroy a cluster. First unlicense the cluster as described here, then destroy the cluster.Generate a cluster summary file in the web console. See Downloading a Cluster Summary File From Your Cluster.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses, then click Upload File.In the dialog box, browse to the cluster summary file you just generated and select it.Unlicense a cluster or add-on.To completely unlicense a cluster and all add-ons, click Unlicense All, then click Unlicense in the pop-up dialog box.To unlicense an add-on, click the add-on's options menu, click Unlicense then click Unlicense in the pop-up dialog box.Figure. Unlicense Add-OnClick to enlargeClick Next.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.Apply the downloaded license file to the cluster.Open Licensing from the gear icon in the web console.Click Manage Licenses, then click the upload link. Browse to the license file you downloaded, select it, and click Save.[Optional] Destroy the cluster. Do not do this step if you are upgrading or downgrading licenses.The Acropolis Advanced Administration Guide describes how to destroy a cluster.", "Heading_Keywords": ["manag", "licens", "manual"]}, {"Heading": "3-Step Licensing and Downloading a Cluster Summary File", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:3-Step%20Licensing%20and%20Downloading%20a%20Cluster%20Summary%20File", "Document Name": "Nutanix Licensing Guide", "Content": "3- Step Licensing3-Step Licensing refers to most manual licensing procedures (that is, where\u00a01-Click Licensing\u00a0is not enabled). These procedures describe the 3-Step Licensing procedure (in more detail), where you:In the Prism Element or Prism Central web console, download a cluster summary file, then upload it to the Nutanix Support portalDownload a license file from the Nutanix Support portalIn the Prism Element of Prism Central web console, apply the license file on a cluster connected to the InternetDownloading a Cluster Summary File From Your ClusterLog on to your Prism Element or Prism Central cluster web console and download a cluster summary file which you can upload to the Nutanix Support portal to update your cluster license status. Keep this web console page open in your browser to complete the licensing process. This task is used for all Prism Element and Prism Central manual licensing work flows when you are managing licenses without Portal Connection but your cluster is connected to the internet.Note: Generating a cluster summary file through the web console, nCLI commands (license generate-cluster-info), or PowerShell commands (Get-NTNXClusterLicenseInfo and Get-NTNXClusterLicenseInfoFile) initiates the cluster licensing process. You might observe a Licensing Status: In Process alert message in the web console or log files in this case.For an internet-connected cluster, log on to your Prism Element or Prism Central web console.Click the gear icon, then select Licensing in the Settings panel.Click Update License, then click Download to create and save a cluster summary file to your local machine.The cluster summary file is saved to your browser download folder or a folder you specify.What to do nextUpload the cluster summary file to the Nutanix Support portal. See Manage Prism Element Licenses or Manage Prism Central LicensesGetting Cluster Summary Information ManuallyGet information about your cluster in the web console, which you can enter at the Nutanix Support portal to update your cluster license status. You typically perform this step for dark-site clusters, which are not usually connected to the Internet.Log on to your Prism Element or Prism Central web console.Click the gear icon, then select Licensing in the Settings panel.Click Update License, then click Expand to show the cluster summary information needed to download a license file to your local machine.Get your cluster information from the web console.Click Show Info and copy the cluster information needed to generate a license file.Figure. Cluster Information Needed for LicensingClick to enlargeThe page displays information that you need to enter at the support portal on an internet-connected system. Copy this information needed to complete this licensing procedure.Cluster UUIDString indicating the unique cluster IDSignatureCluster security keyLicense ClassIndicates a software-only, appliance-based, or Prism Central license classLicense VersionIndicates the version of the installed license fileNode CountNumber of available licenses for this modelCores / Cores NumNumber of CPU cores; used with capacity-based licensingFlash TiBNumber of Flash TiBs; used with capacity based licensingHDD TiBNumber of hard disk drive (HDD) TiBs; used with capacity based licensingBlock IDID number of the Nutanix blockWhat to do nextUpload the cluster summary file to the Nutanix Support portal. See Manage Prism Element Licenses or Manage Prism Central Licenses", "Heading_Keywords": ["3", "step", "licens", "download", "cluster", "summari", "file"]}, {"Heading": "3- Step Licensing", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-three-step-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "3-Step Licensing refers to most manual licensing procedures (that is, where\u00a01-Click Licensing\u00a0is not enabled). These procedures describe the 3-Step Licensing procedure (in more detail), where you:In the Prism Element or Prism Central web console, download a cluster summary file, then upload it to the Nutanix Support portalDownload a license file from the Nutanix Support portalIn the Prism Element of Prism Central web console, apply the license file on a cluster connected to the Internet", "Heading_Keywords": ["3", "step", "licens"]}, {"Heading": "Downloading a Cluster Summary File From Your Cluster", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-generate-cluster-summary-file-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "Log on to your Prism Element or Prism Central cluster web console and download a cluster summary file which you can upload to the Nutanix Support portal to update your cluster license status. Keep this web console page open in your browser to complete the licensing process. This task is used for all Prism Element and Prism Central manual licensing work flows when you are managing licenses without Portal Connection but your cluster is connected to the internet.Note: Generating a cluster summary file through the web console, nCLI commands (license generate-cluster-info), or PowerShell commands (Get-NTNXClusterLicenseInfo and Get-NTNXClusterLicenseInfoFile) initiates the cluster licensing process. You might observe a Licensing Status: In Process alert message in the web console or log files in this case.For an internet-connected cluster, log on to your Prism Element or Prism Central web console.Click the gear icon, then select Licensing in the Settings panel.Click Update License, then click Download to create and save a cluster summary file to your local machine.The cluster summary file is saved to your browser download folder or a folder you specify.What to do nextUpload the cluster summary file to the Nutanix Support portal. See Manage Prism Element Licenses or Manage Prism Central Licenses", "Heading_Keywords": ["download", "cluster", "summari", "file", "cluster"]}, {"Heading": "Manage Prism Element Licenses", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-lic-manage-prism-element-licenses.html", "Document Name": "Nutanix Licensing Guide", "Content": "AOS is installed or upgraded with the Portal Connection disabled by default. If you do not want to enable this feature, you can manage licenses as described in these topics.You can perform the licensing procedures described in these topics from a cluster Prism Element web console.See also Products That Do Not Require a License.Managing Licenses with Portal Connection EnabledIf you want to enable Portal Connection, you can manage licenses as described in these topics instead:Configure 1-Click License ManagementManage Licenses with 1-Click LicensingInstalling a New License (Including Add-Ons)Select and then manually install a license on Internet-connected clusters not using the Portal Connection API. Installing a New License (Dark Site, Including Add-Ons)Manually install a license on a dark-site cluster that is not connected to the Internet and cannot contact the Nutanix Support Portal.Installing an Updated License After Adding a Node to a ClusterAfter you have added a node to your cluster, you must install a new updated license file. Installing a New License (Including Add-Ons)Select and then manually install a license on Internet-connected clusters not using the Portal Connection API. This procedure assumes you have purchased licenses and describes the 3-Step Licensing procedure. See also:Nutanix Support Portal Licenses PageInstalling or Configuring an Add-On LicenseManual License SelectionProducts That Do Not Require a License.Download a cluster summary file in the Prism Element web console. See Downloading a Cluster Summary File From Your Cluster.Keep the Prism Element web console page open in your browser to complete the licensing process.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses.If you have tagged your licenses as described in Adding a Tag to Your Licenses, select the tag name orAll Licenses in the Choose License Tags drop-down menu.Click Upload File, browse to the cluster summary file you downloaded and select it. Then clickNext.The portal displays license cards where available licenses are shown. Add-ons not associated with your account appear greyed-out or unavailable. For example, your license level might not have the Data Encryption add-on feature.Click Select License in theAcropolis card.Select a License Level such as Pro or Ultimate from the drop-down menu.Click Save.The Acropolis card now shows the license level, a highlighted license status, and the Manage Licenses link. Your available add-ons like Nutanix Files are shown with a Select License link. Add-ons not associated with your account appear greyed-out or unavailable. For example, your license level might not have the Data Encryption add-on feature.License each add-on by clicking Select License under the add-on card.Configure that license, if necessary.For example, for Nutanix Files, enter the licensed storage in TiB (tebibytes). Click Save.Figure. Example Add-on CardClick to enlargeThe card now shows the highlighted license status and theManage Licenses link.Click Next to see Summary page of licenses to be updated on your cluster.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.In the Prism Element or Prism Central web console, click theUpload link in the Manage Licenses dialog box.Browse to the license file you downloaded, select it, and clickSave to upload it to your cluster.ResultsThe Licensing page displays all license details for the cluster.What to do nextSee Displaying License Features and Details and Other Common License Management Tasks.Installing a New License (Dark Site, Including Add-Ons)Manually install a license on a dark-site cluster that is not connected to the Internet and cannot contact the Nutanix Support Portal.This procedure assumes you have purchased licenses and describes the 3-Step Licensing procedure. See alsoNutanix Support Portal Licenses Page.Note: You can use Option 1 shown in the web console Manage Licensing page to generate a cluster summary file and copy that file to a machine connected to the Internet to upload to the Nutanix Support Portal to get a license file. However, as dark-site systems are not connected to the Internet to adhere to regulatory, security, or compliance policies at the customer site, this procedure describes the manual entry of cluster information.Get your cluster information from the web console. See Getting Cluster Summary Information Manually.Keep the dark-site web console page open in your browser to complete the licensing process.Now do the following steps on a machine connected to the Internet.Log on to the Nutanix support portal and click Products > Licenses > Cluster Usage.Click Manage Licenses.If you have tagged your licenses as described in Adding a Tag to Your Licenses, select the tag name or All Licenses in the Choose License Tags drop-down menu.Click Dark Site.Figure. Dark Site License Page Example Click to enlargeDo the following.Select a License Class: Appliance, Software Only, Prism Central, or n/a.Select a License Version.Select an AOS Version.Enter the Cluster UUID and Signature in the text fields.Click Next.Enter capacity and block details if necessary.Enter the number of CPU cores and Flash/HDD storage in TiBs.Click Add Block to add details about each block in the cluster.Model. For example, NX-3175-G5.Block ID, which is the block serial number.Number of nodes, typically 1 per block.Click Add Block to add the block, then clickAdd Block to add another block.Continue until you have added all blocks.Click Next.Click Select License in theAcropolis card.Select a License Level such as Pro or Ultimate from the drop-down menu.Click Save.The Acropolis card now shows the license level, a highlighted license status, and the Manage Licenses link. Your available add-ons like Nutanix Files are shown with a Select License link. Add-ons not associated with your account appear greyed-out or unavailable. For example, your license level might not have the Data Encryption add-on feature.License each add-on by clicking Select License under the add-on card.Configure that license, if necessary.For example, for Nutanix Files, enter the licensed storage in TiB (tebibytes). Click Save.The card now shows the highlighted license status and theManage Licenses link.Click Next to see Summary page of licenses to be updated on your cluster.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.From the dark-site Prism Element web console, apply the downloaded license file to the cluster.Open Licensing from the gear icon in the web console of the unconnected cluster.Click Manage Licenses, then click theUpload link. Browse to the license file you downloaded, select it, and clickSave to upload it to your cluster.The Prism web console Licensing page displays all license details for the cluster.What to do nextSee Displaying License Features and Details and Other Common License Management Tasks.Installing an Updated License After Adding a Node to a ClusterAfter you have added a node to your cluster, you must install a new updated license file. The procedure for installing an updated license is identical to the procedure described in Installing a New License (Including Add-Ons) or Installing a New License (Dark Site, Including Add-Ons).What to do nextSee Displaying License Features and Details", "Heading_Keywords": ["manag", "prism", "element", "licens"]}, {"Heading": "Installing a New License (Including Add-Ons)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-install-new-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "Select and then manually install a license on Internet-connected clusters not using the Portal Connection API. This procedure assumes you have purchased licenses and describes the 3-Step Licensing procedure. See also:Nutanix Support Portal Licenses PageInstalling or Configuring an Add-On LicenseManual License SelectionProducts That Do Not Require a License.Download a cluster summary file in the Prism Element web console. See Downloading a Cluster Summary File From Your Cluster.Keep the Prism Element web console page open in your browser to complete the licensing process.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses.If you have tagged your licenses as described in Adding a Tag to Your Licenses, select the tag name orAll Licenses in the Choose License Tags drop-down menu.Click Upload File, browse to the cluster summary file you downloaded and select it. Then clickNext.The portal displays license cards where available licenses are shown. Add-ons not associated with your account appear greyed-out or unavailable. For example, your license level might not have the Data Encryption add-on feature.Click Select License in theAcropolis card.Select a License Level such as Pro or Ultimate from the drop-down menu.Click Save.The Acropolis card now shows the license level, a highlighted license status, and the Manage Licenses link. Your available add-ons like Nutanix Files are shown with a Select License link. Add-ons not associated with your account appear greyed-out or unavailable. For example, your license level might not have the Data Encryption add-on feature.License each add-on by clicking Select License under the add-on card.Configure that license, if necessary.For example, for Nutanix Files, enter the licensed storage in TiB (tebibytes). Click Save.Figure. Example Add-on CardClick to enlargeThe card now shows the highlighted license status and theManage Licenses link.Click Next to see Summary page of licenses to be updated on your cluster.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.In the Prism Element or Prism Central web console, click theUpload link in the Manage Licenses dialog box.Browse to the license file you downloaded, select it, and clickSave to upload it to your cluster.ResultsThe Licensing page displays all license details for the cluster.What to do nextSee Displaying License Features and Details and Other Common License Management Tasks.", "Heading_Keywords": ["instal", "new", "licens", "includ", "add", "on"]}, {"Heading": "Installing a New License (Dark Site, Including Add-Ons)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-install-new-unconnected-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "Manually install a license on a dark-site cluster that is not connected to the Internet and cannot contact the Nutanix Support Portal.This procedure assumes you have purchased licenses and describes the 3-Step Licensing procedure. See alsoNutanix Support Portal Licenses Page.Note: You can use Option 1 shown in the web console Manage Licensing page to generate a cluster summary file and copy that file to a machine connected to the Internet to upload to the Nutanix Support Portal to get a license file. However, as dark-site systems are not connected to the Internet to adhere to regulatory, security, or compliance policies at the customer site, this procedure describes the manual entry of cluster information.Get your cluster information from the web console. See Getting Cluster Summary Information Manually.Keep the dark-site web console page open in your browser to complete the licensing process.Now do the following steps on a machine connected to the Internet.Log on to the Nutanix support portal and click Products > Licenses > Cluster Usage.Click Manage Licenses.If you have tagged your licenses as described in Adding a Tag to Your Licenses, select the tag name or All Licenses in the Choose License Tags drop-down menu.Click Dark Site.Figure. Dark Site License Page Example Click to enlargeDo the following.Select a License Class: Appliance, Software Only, Prism Central, or n/a.Select a License Version.Select an AOS Version.Enter the Cluster UUID and Signature in the text fields.Click Next.Enter capacity and block details if necessary.Enter the number of CPU cores and Flash/HDD storage in TiBs.Click Add Block to add details about each block in the cluster.Model. For example, NX-3175-G5.Block ID, which is the block serial number.Number of nodes, typically 1 per block.Click Add Block to add the block, then clickAdd Block to add another block.Continue until you have added all blocks.Click Next.Click Select License in theAcropolis card.Select a License Level such as Pro or Ultimate from the drop-down menu.Click Save.The Acropolis card now shows the license level, a highlighted license status, and the Manage Licenses link. Your available add-ons like Nutanix Files are shown with a Select License link. Add-ons not associated with your account appear greyed-out or unavailable. For example, your license level might not have the Data Encryption add-on feature.License each add-on by clicking Select License under the add-on card.Configure that license, if necessary.For example, for Nutanix Files, enter the licensed storage in TiB (tebibytes). Click Save.The card now shows the highlighted license status and theManage Licenses link.Click Next to see Summary page of licenses to be updated on your cluster.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.From the dark-site Prism Element web console, apply the downloaded license file to the cluster.Open Licensing from the gear icon in the web console of the unconnected cluster.Click Manage Licenses, then click theUpload link. Browse to the license file you downloaded, select it, and clickSave to upload it to your cluster.The Prism web console Licensing page displays all license details for the cluster.What to do nextSee Displaying License Features and Details and Other Common License Management Tasks.", "Heading_Keywords": ["instal", "new", "licens", "dark", "site", "includ", "add", "on"]}, {"Heading": "Installing an Updated License After Adding a Node to a Cluster", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-regenerating-file-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "After you have added a node to your cluster, you must install a new updated license file. The procedure for installing an updated license is identical to the procedure described in Installing a New License (Including Add-Ons) or Installing a New License (Dark Site, Including Add-Ons).What to do nextSee Displaying License Features and Details", "Heading_Keywords": ["instal", "updat", "licens", "ad", "node", "cluster"]}, {"Heading": "Manage Prism Central Licenses", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-lic-manage-prism-central-licenses.html", "Document Name": "Nutanix Licensing Guide", "Content": "Perform the licensing procedures described in these topics from a Prism Central web console for:Prism ProNutanix CalmNutanix FilesObjectsSee also Products That Do Not Require a License.Installing a New Prism Central License (Including Add-Ons)Manually install a Prism Central license on Internet-connected clusters not using the Portal Connection API. Installing a New Prism Central License (Including Add-Ons) (Dark Site)Manually install a Prism Central license on Internet-connected clusters not using the Portal Connection API that can contact the Nutanix Support Portal. Disabling Prism Pro FeaturesHow to disable the Prism Pro features (and remove the violating license message that appears in Prism Central if the Prism Pro features are enabled without a valid license).Installing a New Prism Central License (Including Add-Ons)Manually install a Prism Central license on Internet-connected clusters not using the Portal Connection API. This procedure assumes you have purchased licenses and describes the 3-Step Licensing procedure. See also Nutanix Support Portal Licenses Page and Installing or Configuring an Add-On License.Generate a cluster summary file in the Prism Central web console. See Downloading a Cluster Summary File From Your Cluster.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses, then clickUpload File.In the dialog box, browse to the cluster summary file you just generated and select it.The portal displays license cards where available licenses are shown. Add-ons not associated with your account appear greyed-out or unavailable. For example, your license level might not have the Data Encryption add-on feature.Click Select License in the Prism Central card.Select a License Level such as Prism Pro from the drop-down menu.Select the number of nodes that will be managed by Prism Central. You can over-provision the number of nodes for future cluster expansion.Click Save.The Prism Central card now shows the license level, a highlighted license status, and the Manage Licenses link. Your available add-ons like Calm or Flow are shown with a Select License link. Add-ons not associated with your account appear greyed-out or unavailable.License each add-on by clicking Select License under the add-on card.Configure that license, if necessary.Click Save.Figure. Select Licenses Page Example , Prism CentralClick to enlargeThe card now shows the highlighted license status and the Manage License link.Click Next to see Summary page of any license to be updated on your Prism Central cluster.Repeat to select additional add-on licenses.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.In the Prism Central web console, click the Upload link in the Manage Licenses dialog box.Browse to the license file you downloaded, select it, and clickSave to upload it to your cluster.ResultsThe Licensing page displays all license details for the cluster.What to do nextSee Displaying License Features and Details and Other Common License Management Tasks.Installing a New Prism Central License (Including Add-Ons) (Dark Site)Manually install a Prism Central license on Internet-connected clusters not using the Portal Connection API that can contact the Nutanix Support Portal. This procedure assumes you have purchased licenses and describes the 3-Step Licensing procedure:Generate and upload a cluster summary file to the Nutanix support portal.On a machine connected to the Internet, generate and download a license file from the support portal.Install the license on the cluster that is not connected to the Internet (that is, a dark site).Note: You can use Option 1 shown in the web console Manage Licensing page to generate a cluster summary file and copy that file to a machine connected to the Internet to upload to the Nutanix Support Portal to get a license file. However, as dark-site systems are not connected to the Internet to adhere to regulatory, security, or compliance policies at the customer site, this procedure describes the manual entry of cluster information. See also Nutanix Support Portal Licenses Page.Get your cluster information from the web console. See Getting Cluster Summary Information Manually.Now do the following steps on a machine connected to the Internet.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses, then clickDark Sites.Do the following.Select a License Class Prism Central.Select a License Version.Select an AOS Version.Enter the Cluster UUID and Signature in the text fields.Click Next.Enter capacity for Flow and Calm, and block details if necessary.Enter the number of Flow protected nodes and required Calm packs.Click Add Block to add details about each block in the cluster.Model. For example, NX-3175-G5. You can leave this field empty if it is not present in your cluster information.Number of nodes, typically 1 per block.Click Add Block to add the block, then clickAdd Block to add another block.Continue until you have added all blocks.Click Next.License each add-on by clicking Select License under the add-on card.Configure that license, if necessary.For example, for Calm, select the number of VM packs. Click Save.The card now shows the highlighted license status and theManage License link.Click Next to see the Summary page of any license to be updated on your Prism Central cluster.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.In the Prism Central web console, click the upload link in the Manage Licenses dialog box. See Getting Cluster Summary Information Manually.Browse to the license file you downloaded, select it, and clickSave.ResultsThe Licensing page displays all license details for the cluster.What to do nextSee Displaying License Features and DetailsDisabling Prism Pro FeaturesHow to disable the Prism Pro features (and remove the violating license message that appears in Prism Central if the Prism Pro features are enabled without a valid license).Log on to Prism Central, click the gear icon, and select Licensing.In the Licensing page, click the license icon.Figure. Prism Licensing PageClick to enlargeIn the Prism Pro License Features page, clear (uncheck) Enable all features.A message box appears stating the operation requires that you log out and then log back in to see the results. Click the Continue button. This immediately logs you out of Prism Central and returns you to the login page. When you log back in, the Prism Pro features are disabled.To re-enable Prism Pro, repeat this process but select Enable all features.Figure. Prism License Features PageClick to enlarge", "Heading_Keywords": ["manag", "prism", "central", "licens"]}, {"Heading": "Installing a New Prism Central License (Including Add-Ons)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-install-new-pc-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "Manually install a Prism Central license on Internet-connected clusters not using the Portal Connection API. This procedure assumes you have purchased licenses and describes the 3-Step Licensing procedure. See also Nutanix Support Portal Licenses Page and Installing or Configuring an Add-On License.Generate a cluster summary file in the Prism Central web console. See Downloading a Cluster Summary File From Your Cluster.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses, then clickUpload File.In the dialog box, browse to the cluster summary file you just generated and select it.The portal displays license cards where available licenses are shown. Add-ons not associated with your account appear greyed-out or unavailable. For example, your license level might not have the Data Encryption add-on feature.Click Select License in the Prism Central card.Select a License Level such as Prism Pro from the drop-down menu.Select the number of nodes that will be managed by Prism Central. You can over-provision the number of nodes for future cluster expansion.Click Save.The Prism Central card now shows the license level, a highlighted license status, and the Manage Licenses link. Your available add-ons like Calm or Flow are shown with a Select License link. Add-ons not associated with your account appear greyed-out or unavailable.License each add-on by clicking Select License under the add-on card.Configure that license, if necessary.Click Save.Figure. Select Licenses Page Example , Prism CentralClick to enlargeThe card now shows the highlighted license status and the Manage License link.Click Next to see Summary page of any license to be updated on your Prism Central cluster.Repeat to select additional add-on licenses.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.In the Prism Central web console, click the Upload link in the Manage Licenses dialog box.Browse to the license file you downloaded, select it, and clickSave to upload it to your cluster.ResultsThe Licensing page displays all license details for the cluster.What to do nextSee Displaying License Features and Details and Other Common License Management Tasks.", "Heading_Keywords": ["instal", "new", "prism", "central", "licens", "includ", "add", "on"]}, {"Heading": "Installing a New Prism Central License (Including Add-Ons) (Dark Site)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-install-new-pc-dark-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "Manually install a Prism Central license on Internet-connected clusters not using the Portal Connection API that can contact the Nutanix Support Portal. This procedure assumes you have purchased licenses and describes the 3-Step Licensing procedure:Generate and upload a cluster summary file to the Nutanix support portal.On a machine connected to the Internet, generate and download a license file from the support portal.Install the license on the cluster that is not connected to the Internet (that is, a dark site).Note: You can use Option 1 shown in the web console Manage Licensing page to generate a cluster summary file and copy that file to a machine connected to the Internet to upload to the Nutanix Support Portal to get a license file. However, as dark-site systems are not connected to the Internet to adhere to regulatory, security, or compliance policies at the customer site, this procedure describes the manual entry of cluster information. See also Nutanix Support Portal Licenses Page.Get your cluster information from the web console. See Getting Cluster Summary Information Manually.Now do the following steps on a machine connected to the Internet.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses, then clickDark Sites.Do the following.Select a License Class Prism Central.Select a License Version.Select an AOS Version.Enter the Cluster UUID and Signature in the text fields.Click Next.Enter capacity for Flow and Calm, and block details if necessary.Enter the number of Flow protected nodes and required Calm packs.Click Add Block to add details about each block in the cluster.Model. For example, NX-3175-G5. You can leave this field empty if it is not present in your cluster information.Number of nodes, typically 1 per block.Click Add Block to add the block, then clickAdd Block to add another block.Continue until you have added all blocks.Click Next.License each add-on by clicking Select License under the add-on card.Configure that license, if necessary.For example, for Calm, select the number of VM packs. Click Save.The card now shows the highlighted license status and theManage License link.Click Next to see the Summary page of any license to be updated on your Prism Central cluster.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.In the Prism Central web console, click the upload link in the Manage Licenses dialog box. See Getting Cluster Summary Information Manually.Browse to the license file you downloaded, select it, and clickSave.ResultsThe Licensing page displays all license details for the cluster.What to do nextSee Displaying License Features and Details", "Heading_Keywords": ["instal", "new", "prism", "central", "licens", "includ", "add", "on", "dark", "site"]}, {"Heading": "Disabling Prism Pro Features", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-prism-pro-disable-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "How to disable the Prism Pro features (and remove the violating license message that appears in Prism Central if the Prism Pro features are enabled without a valid license).Log on to Prism Central, click the gear icon, and select Licensing.In the Licensing page, click the license icon.Figure. Prism Licensing PageClick to enlargeIn the Prism Pro License Features page, clear (uncheck) Enable all features.A message box appears stating the operation requires that you log out and then log back in to see the results. Click the Continue button. This immediately logs you out of Prism Central and returns you to the login page. When you log back in, the Prism Pro features are disabled.To re-enable Prism Pro, repeat this process but select Enable all features.Figure. Prism License Features PageClick to enlarge", "Heading_Keywords": ["disabl", "prism", "pro", "featur"]}, {"Heading": "Other Common License Management Tasks", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-lic-other-license-tasks-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "This section describes some common licensing tasks like unlicensing, reclaiming licenses, and so on.Installing or Configuring an Add-On LicenseUpgrading, Extending, or Downgrading Licenses or Add-OnsInstall a newly-purchased license to upgrade your license tier, downgrade a license tier, or extend the licensing term on your cluster or nodes.Reclaiming LicensesReclaim a license by returning it to your inventory when modifying license assignments or after removing a node from a cluster. Unlicensing a Cluster or Add-onInstalling or Configuring an Add-On LicenseAfter you have purchased one or more Prism Element add-ons, you must install and configure a new updated license file. This procedure describes how to do this on a cluster connected to the Internet and describes the 3-Step Licensing procedure.You can also configure add-on features that you did not configure when originally installing your license.See also Nutanix Support Portal Licenses Page.Generate a cluster summary file in the web console. See Downloading a Cluster Summary File From Your Cluster.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses, then clickUpload File.In the dialog box, browse to the cluster summary file you just generated and select it.Your available add-ons are shown with a Select License link. Add-ons not associated with your account appear greyed-out or unavailable. For example, your license level might not include the Data Encryption add-on feature.Figure. Select Licenses Page Example Click to enlargeLicense each add-on by clicking Select License under the add-on card.Configure that license, if necessary.For example, for Nutanix Files, enter the licensed storage in TiB (tebibytes). Click Save.Figure. Example Add-on CardClick to enlargeThe card now shows the highlighted license status and theManage Licenses link.Click Next to see Summary page of licenses to be updated on your cluster.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.In the web console, click the upload link in theManage Licenses dialog box.Browse to the license file you downloaded, select it, and clickSave.ResultsThe Licensing dialog box displays all license details for the cluster.What to do nextSee Displaying License Features and DetailsUpgrading, Extending, or Downgrading Licenses or Add-OnsInstall a newly-purchased license to upgrade your license tier, downgrade a license tier, or extend the licensing term on your cluster or nodes.Unlicense your cluster.Install the new license(s).Unlicense your cluster as described in Unlicensing a Cluster or Add-on.Do not destroy your cluster. Once you complete this procedure, your cluster license level is Starter.Install the new licenses and optionally any add-ons as described in:Manage Prism Element Licenses and Manage Prism Central LicensesResultsThe Prism Element or Prism Central web console Licensing dialog box shows all new license details for the cluster.Reclaiming LicensesReclaim a license by returning it to your inventory when modifying license assignments or after removing a node from a cluster. You can reclaim and optionally re-apply licenses for nodes in your clusters. This procedure describes how to reclaim licenses where the cluster is not configured with Portal Connection or the cluster is not connected to the internet (also known as dark-site clusters).After you remove a node, you can also move the node to another cluster. Doing so requires using an available license in your inventory. See Installing an Updated License After Adding a Node to a Cluster.You must unlicense your cluster (other than Starter on Nutanix NX Series platforms) when you plan to destroy a cluster. First unlicense the cluster, then destroy the cluster. See Unlicensing a Cluster or Add-on.Return licenses to your inventory when you remove one or more nodes from a cluster. Also, if you move nodes from one cluster to another, first reclaim the licenses, move the nodes, then re-apply the licenses. You can reclaim licenses for nodes in your clusters in cases where you want to make modifications or downgrade licenses. For example, applying an Ultimate license to all nodes in a cluster where some nodes are currently licensed as Pro and some nodes are licensed as Ultimate. You might also want to transition nodes from Ultimate to Pro licensing. See Upgrading, Extending, or Downgrading Licenses or Add-Ons.You do not need to reclaim Starter licenses for Nutanix NX Series platforms. These licenses are automatically applied whenever you create a cluster. Reclaiming Licenses When Destroying a ClusterBefore you beginIf you have destroyed the cluster and did not reclaim all existing licenses by unlicensing the cluster, contact Nutanix Support to help reclaim the licenses. TheAcropolis Advanced Administration Guide describes how to destroy a cluster.See Unlicensing a Cluster or Add-on.Reclaiming Licenses When Removing Nodes from a ClusterBefore you beginThe Prism Web Console Guide cluster management topics describe how to remove a node from a cluster.Remove a node from a cluster.Generate a cluster summary file in the web console. See Downloading a Cluster Summary File From Your Cluster.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses, then clickUpload File.In the dialog box, browse to the cluster summary file you just generated and select it.Reclaim licenses by unlicensing the cluster by clickingUnlicense All, then clickUnlicense in the pop-up dialog box.Click Next.The cluster licensing status shows Reclaimed.Figure. Reclaimed License Status.Click to enlargeClick Download License File to download the license file created for the cluster to your browser download folder or directory you specify.Apply the downloaded license file to the cluster.Open Licensing from the gear icon in the web console.Click Manage Licenses, then click theupload link. Browse to the license file you downloaded, select it, and clickSave.Unlicensing a Cluster or Add-onRemove licenses or add-ons from the Prism Element or Prism Central cluster and refund available licenses that have not expired to your account (that is, reclaim all licenses). An unlicensed Nutanix NX Series cluster reverts to the default Starter license.You must unlicense your cluster when you plan to destroy a cluster. First unlicense the cluster as described here, then destroy the cluster.Generate a cluster summary file in the web console. See Downloading a Cluster Summary File From Your Cluster.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses, then click Upload File.In the dialog box, browse to the cluster summary file you just generated and select it.Unlicense a cluster or add-on.To completely unlicense a cluster and all add-ons, click Unlicense All, then click Unlicense in the pop-up dialog box.To unlicense an add-on, click the add-on's options menu, click Unlicense then click Unlicense in the pop-up dialog box.Figure. Unlicense Add-OnClick to enlargeClick Next.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.Apply the downloaded license file to the cluster.Open Licensing from the gear icon in the web console.Click Manage Licenses, then click the upload link. Browse to the license file you downloaded, select it, and click Save.[Optional] Destroy the cluster. Do not do this step if you are upgrading or downgrading licenses.The Acropolis Advanced Administration Guide describes how to destroy a cluster.", "Heading_Keywords": ["common", "licens", "manag", "task"]}, {"Heading": "Installing or Configuring an Add-On License", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-install-new-addon-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "After you have purchased one or more Prism Element add-ons, you must install and configure a new updated license file. This procedure describes how to do this on a cluster connected to the Internet and describes the 3-Step Licensing procedure.You can also configure add-on features that you did not configure when originally installing your license.See also Nutanix Support Portal Licenses Page.Generate a cluster summary file in the web console. See Downloading a Cluster Summary File From Your Cluster.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses, then clickUpload File.In the dialog box, browse to the cluster summary file you just generated and select it.Your available add-ons are shown with a Select License link. Add-ons not associated with your account appear greyed-out or unavailable. For example, your license level might not include the Data Encryption add-on feature.Figure. Select Licenses Page Example Click to enlargeLicense each add-on by clicking Select License under the add-on card.Configure that license, if necessary.For example, for Nutanix Files, enter the licensed storage in TiB (tebibytes). Click Save.Figure. Example Add-on CardClick to enlargeThe card now shows the highlighted license status and theManage Licenses link.Click Next to see Summary page of licenses to be updated on your cluster.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.In the web console, click the upload link in theManage Licenses dialog box.Browse to the license file you downloaded, select it, and clickSave.ResultsThe Licensing dialog box displays all license details for the cluster.What to do nextSee Displaying License Features and Details", "Heading_Keywords": ["instal", "configur", "add", "licens"]}, {"Heading": "Upgrading, Extending, or Downgrading Licenses or Add-Ons", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-upgrading-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "Install a newly-purchased license to upgrade your license tier, downgrade a license tier, or extend the licensing term on your cluster or nodes.Unlicense your cluster.Install the new license(s).Unlicense your cluster as described in Unlicensing a Cluster or Add-on.Do not destroy your cluster. Once you complete this procedure, your cluster license level is Starter.Install the new licenses and optionally any add-ons as described in:Manage Prism Element Licenses and Manage Prism Central LicensesResultsThe Prism Element or Prism Central web console Licensing dialog box shows all new license details for the cluster.", "Heading_Keywords": ["upgrad", "extend", "downgrad", "licens", "add", "on"]}, {"Heading": "Reclaiming Licenses", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-reclaiming-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "Reclaim a license by returning it to your inventory when modifying license assignments or after removing a node from a cluster. You can reclaim and optionally re-apply licenses for nodes in your clusters. This procedure describes how to reclaim licenses where the cluster is not configured with Portal Connection or the cluster is not connected to the internet (also known as dark-site clusters).After you remove a node, you can also move the node to another cluster. Doing so requires using an available license in your inventory. See Installing an Updated License After Adding a Node to a Cluster.You must unlicense your cluster (other than Starter on Nutanix NX Series platforms) when you plan to destroy a cluster. First unlicense the cluster, then destroy the cluster. See Unlicensing a Cluster or Add-on.Return licenses to your inventory when you remove one or more nodes from a cluster. Also, if you move nodes from one cluster to another, first reclaim the licenses, move the nodes, then re-apply the licenses. You can reclaim licenses for nodes in your clusters in cases where you want to make modifications or downgrade licenses. For example, applying an Ultimate license to all nodes in a cluster where some nodes are currently licensed as Pro and some nodes are licensed as Ultimate. You might also want to transition nodes from Ultimate to Pro licensing. See Upgrading, Extending, or Downgrading Licenses or Add-Ons.You do not need to reclaim Starter licenses for Nutanix NX Series platforms. These licenses are automatically applied whenever you create a cluster. ", "Heading_Keywords": ["reclaim", "licens"]}, {"Heading": "Unlicensing a Cluster or Add-on", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-unlicense-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "Remove licenses or add-ons from the Prism Element or Prism Central cluster and refund available licenses that have not expired to your account (that is, reclaim all licenses). An unlicensed Nutanix NX Series cluster reverts to the default Starter license.You must unlicense your cluster when you plan to destroy a cluster. First unlicense the cluster as described here, then destroy the cluster.Generate a cluster summary file in the web console. See Downloading a Cluster Summary File From Your Cluster.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses, then click Upload File.In the dialog box, browse to the cluster summary file you just generated and select it.Unlicense a cluster or add-on.To completely unlicense a cluster and all add-ons, click Unlicense All, then click Unlicense in the pop-up dialog box.To unlicense an add-on, click the add-on's options menu, click Unlicense then click Unlicense in the pop-up dialog box.Figure. Unlicense Add-OnClick to enlargeClick Next.Click Download License File to download the license file created for the cluster to your browser download folder or directory you specify.Apply the downloaded license file to the cluster.Open Licensing from the gear icon in the web console.Click Manage Licenses, then click the upload link. Browse to the license file you downloaded, select it, and click Save.[Optional] Destroy the cluster. Do not do this step if you are upgrading or downgrading licenses.The Acropolis Advanced Administration Guide describes how to destroy a cluster.", "Heading_Keywords": ["unlicens", "cluster", "add"]}, {"Heading": "Manual License Selection", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-manual-license-selection-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "The Manual License Selection feature is available for licensing Prism Element or Prism Central clusters. You can use this feature as part of the manual or dark-site licensing workflow (also known as 3- Step Licensing). The Nutanix support portal shows this feature on the licensing cards after you upload your cluster summary file.It is also available if you are Using Tags to Organize Your Licenses. Manage licenses according to their tag when performing any manual license workflow.In a homogeneous cluster (for example, a cluster consisting of NX Series or Cisco UCS hardware models), you can apply licenses to individual blocks in a cluster with Manual License Selection. In this configuration, you can mix node-licensed blocks and capacity-based licensed blocks in a cluster. (A block consists of one or more nodes in a single hardware enclosure.)Manual License Selection is not available for:Dark-site clusters where you are trying to mix AOS license levels in a cluster (for example, applying a mix of Ultimate and Pro licenses)The 1-click licensing workflow (where the Portal Connection API is configured).Applying a License by Manual License Selection (Node)Manually select specific node licenses to install on clusters where the Portal Connection API not configured.Applying a License by Manual License Selection (CBL)Manually select specific capacity-based licenses to install on clusters where 1-Click Licensing is not configured.\u00a0This function is useful if you wish to select licenses with specific terms instead of utilizing licenses selected by default.Applying a License by Manual License Selection (Node)Manually select specific node licenses to install on clusters where the Portal Connection API not configured.This procedure describes the 3-Step Licensing procedure. See also:Manual License SelectionNutanix Support Portal Licenses PageUsing Tags to Organize Your LicensesInstalling or Configuring an Add-On License In the web console, generate a cluster summary file. See Downloading a Cluster Summary File From Your Cluster.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses.If you have tagged your licenses as described in Using Tags to Organize Your Licenses: In the Choose License Tags drop-down menu, select a tag name to associate the licenses you are applying here with a tag. Otherwise, selectAll Licenses.The portal displays this drop-down menu only if you have created tags.Click Upload File, browse to the cluster summary file you generated, and select it. Then clickNext.The portal displays license cards with available licenses. Add-ons not associated with your account appear unavailable. For example, your license level might not have the Data Encryption add-on feature.If you click Dark Sites to manually install a license on a cluster that is not connected to the Internet, collect your cluster information as described in Getting Cluster Summary Information Manuallyand return to this step.Click Select License in theAcropolis card, then click the manually manage licenses link.Figure. manually manage licenses Example Click to enlargeThe portal displays the Manual Selection for Acropolis dialog box. From this dialog box, you can select licenses according to the licensing types in your inventory: node/block licenses or capacity-based licenses (CBL), or both. This image shows both license types as available. If your account only contains one license type (for example, node), the other license type is not shown.Figure. Node and Capacity-Based LicensesClick to enlargeSelect the Node Licenses license type to apply to each block, then click Next.The next window lets you filter, select, and apply the licenses. The next Select a Filter By option: license expiration date and by license level (Ultimate, Pro, and so on)If you do not filter by a license level and different license levels are available, the cluster and each node in the cluster defaults to the minimum feature set enabled by the lowest license level.Expand Node Licenses and select the number of licenses to apply.For example, if you have 7 node licenses, you can choose to distribute them across license levels or apply them all to a single license.Figure. Node LicensesClick to enlargeClick Save.Click Next to see Summary page of licenses to be updated on your cluster.Click Generate License File to download the license file created for the cluster to your browser download folder or directory you specify.In the web console, click the Upload link in theManage Licenses dialog box.Browse to the license file you downloaded, select it, and clickSave to upload it to your cluster.ResultsThe Licensing page displays all license details for the cluster.What to do nextSee Displaying License Features and Details and Other Common License Management Tasks.Applying a License by Manual License Selection (CBL)Manually select specific capacity-based licenses to install on clusters where 1-Click Licensing is not configured.\u00a0This function is useful if you wish to select licenses with specific terms instead of utilizing licenses selected by default.This procedure assumes that you have purchased licenses and describes the\u00a03-Step Licensing\u00a0procedure. See also: AOS Capacity-Based LicensingManual License SelectionNutanix Support Portal Licenses PageUsing Tags to Organize Your LicensesInstalling or Configuring an Add-On LicenseIn the web console, generate a cluster summary file. See\u00a0Downloading a Cluster Summary File From Your Cluster.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click\u00a0Manage Licenses.If you have tagged your licenses as described in\u00a0Using Tags to Organize Your Licenses: In the\u00a0Choose License Tags\u00a0drop-down menu, select a tag name to associate the licenses you are applying here with a tag. Otherwise, select\u00a0All Licenses.The portal displays this drop-down menu only if you have created tags.Click\u00a0Upload File, browse to the cluster summary file you generated, and select it. Then click\u00a0Next.The portal displays license cards where available licenses are shown. Add-ons not associated with your account appear unavailable. For example, your license level might not have the Data Encryption add-on feature.If you click\u00a0Dark Sites\u00a0to manually install a license on a cluster that is not connected to the Internet, collect your cluster information as described in\u00a0\u00a0and return to this step.Click\u00a0Select License\u00a0in the\u00a0Acropolis\u00a0card, then click the\u00a0manually manage licenses\u00a0link in\u00a0Select License Level.Figure. manually manage licenses Example\u00a0Click to enlargeThe portal displays the\u00a0Manual Selection for Acropolis\u00a0dialog box. From this dialog box, you can select licenses according to the licensing types in your inventory: node/block licenses or capacity-based licenses (CBL; CPU cores and flash), or both. This image shows both license types as available. If your account only contains one license type (for example, capacity-based), the other license type is not displayed.Figure. Node and Capacity-Based LicensesClick to enlargeSelect the capacity-based license type to apply to each block, then click\u00a0Next.The next window lets you filter, select, and apply the licenses.Select a\u00a0Filter By\u00a0option: license expiration date and by license level (Ultimate, Pro, and so on)If you do not filter by a license level and different license levels are available, the cluster and each node in the cluster defaults to the minimum feature set enabled by the lowest license level.Expand\u00a0TiB Flash Licenses\u00a0and select the specific Flash licenses to apply.For example, if you have 7 Flash licenses, you can choose to distribute them across license levels or apply them all to a single license. Figure. TiB Flash LicensesClick to enlargeExpand\u00a0Core licenses\u00a0and select the specific CPU core licenses to apply.For example, if you have 116 Core licenses, you can choose to distribute them across license levels or apply them all to a single license. Figure. Core licensesClick to enlargeClick\u00a0Save.Click\u00a0Next\u00a0to see\u00a0Summary\u00a0page of licenses to apply to your cluster.The portal displays a table showing the License ID, Quantity, Licensing Metric (TiB Flash or Core), and so on.Click\u00a0Generate License File\u00a0to download the license file created for the cluster to your browser download folder or directory you specify.In the web console, click the\u00a0Upload\u00a0link in the\u00a0Manage Licenses\u00a0dialog box.Browse to the license file you downloaded, select it, and click\u00a0Save\u00a0to upload it to your cluster.ResultsThe web console Licensing page displays all license details for the cluster.What to do nextSee\u00a0Displaying License Features and Details\u00a0and\u00a0Other Common License Management Tasks.", "Heading_Keywords": ["manual", "licens", "select"]}, {"Heading": "Applying a License by Manual License Selection (Node)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-install-manage-node-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "Manually select specific node licenses to install on clusters where the Portal Connection API not configured.This procedure describes the 3-Step Licensing procedure. See also:Manual License SelectionNutanix Support Portal Licenses PageUsing Tags to Organize Your LicensesInstalling or Configuring an Add-On License In the web console, generate a cluster summary file. See Downloading a Cluster Summary File From Your Cluster.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click Manage Licenses.If you have tagged your licenses as described in Using Tags to Organize Your Licenses: In the Choose License Tags drop-down menu, select a tag name to associate the licenses you are applying here with a tag. Otherwise, selectAll Licenses.The portal displays this drop-down menu only if you have created tags.Click Upload File, browse to the cluster summary file you generated, and select it. Then clickNext.The portal displays license cards with available licenses. Add-ons not associated with your account appear unavailable. For example, your license level might not have the Data Encryption add-on feature.If you click Dark Sites to manually install a license on a cluster that is not connected to the Internet, collect your cluster information as described in Getting Cluster Summary Information Manuallyand return to this step.Click Select License in theAcropolis card, then click the manually manage licenses link.Figure. manually manage licenses Example Click to enlargeThe portal displays the Manual Selection for Acropolis dialog box. From this dialog box, you can select licenses according to the licensing types in your inventory: node/block licenses or capacity-based licenses (CBL), or both. This image shows both license types as available. If your account only contains one license type (for example, node), the other license type is not shown.Figure. Node and Capacity-Based LicensesClick to enlargeSelect the Node Licenses license type to apply to each block, then click Next.The next window lets you filter, select, and apply the licenses. The next Select a Filter By option: license expiration date and by license level (Ultimate, Pro, and so on)If you do not filter by a license level and different license levels are available, the cluster and each node in the cluster defaults to the minimum feature set enabled by the lowest license level.Expand Node Licenses and select the number of licenses to apply.For example, if you have 7 node licenses, you can choose to distribute them across license levels or apply them all to a single license.Figure. Node LicensesClick to enlargeClick Save.Click Next to see Summary page of licenses to be updated on your cluster.Click Generate License File to download the license file created for the cluster to your browser download folder or directory you specify.In the web console, click the Upload link in theManage Licenses dialog box.Browse to the license file you downloaded, select it, and clickSave to upload it to your cluster.ResultsThe Licensing page displays all license details for the cluster.What to do nextSee Displaying License Features and Details and Other Common License Management Tasks.", "Heading_Keywords": ["appli", "licens", "manual", "licens", "select", "node"]}, {"Heading": "Applying a License by Manual License Selection (CBL)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-install-manage-cbl-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "Manually select specific capacity-based licenses to install on clusters where 1-Click Licensing is not configured.\u00a0This function is useful if you wish to select licenses with specific terms instead of utilizing licenses selected by default.This procedure assumes that you have purchased licenses and describes the\u00a03-Step Licensing\u00a0procedure. See also: AOS Capacity-Based LicensingManual License SelectionNutanix Support Portal Licenses PageUsing Tags to Organize Your LicensesInstalling or Configuring an Add-On LicenseIn the web console, generate a cluster summary file. See\u00a0Downloading a Cluster Summary File From Your Cluster.Upload the cluster summary file to the Nutanix support portal.Click Support Portal, log on to the Nutanix Support Portal, and click Products > Licenses > Cluster Usage.Click\u00a0Manage Licenses.If you have tagged your licenses as described in\u00a0Using Tags to Organize Your Licenses: In the\u00a0Choose License Tags\u00a0drop-down menu, select a tag name to associate the licenses you are applying here with a tag. Otherwise, select\u00a0All Licenses.The portal displays this drop-down menu only if you have created tags.Click\u00a0Upload File, browse to the cluster summary file you generated, and select it. Then click\u00a0Next.The portal displays license cards where available licenses are shown. Add-ons not associated with your account appear unavailable. For example, your license level might not have the Data Encryption add-on feature.If you click\u00a0Dark Sites\u00a0to manually install a license on a cluster that is not connected to the Internet, collect your cluster information as described in\u00a0\u00a0and return to this step.Click\u00a0Select License\u00a0in the\u00a0Acropolis\u00a0card, then click the\u00a0manually manage licenses\u00a0link in\u00a0Select License Level.Figure. manually manage licenses Example\u00a0Click to enlargeThe portal displays the\u00a0Manual Selection for Acropolis\u00a0dialog box. From this dialog box, you can select licenses according to the licensing types in your inventory: node/block licenses or capacity-based licenses (CBL; CPU cores and flash), or both. This image shows both license types as available. If your account only contains one license type (for example, capacity-based), the other license type is not displayed.Figure. Node and Capacity-Based LicensesClick to enlargeSelect the capacity-based license type to apply to each block, then click\u00a0Next.The next window lets you filter, select, and apply the licenses.Select a\u00a0Filter By\u00a0option: license expiration date and by license level (Ultimate, Pro, and so on)If you do not filter by a license level and different license levels are available, the cluster and each node in the cluster defaults to the minimum feature set enabled by the lowest license level.Expand\u00a0TiB Flash Licenses\u00a0and select the specific Flash licenses to apply.For example, if you have 7 Flash licenses, you can choose to distribute them across license levels or apply them all to a single license. Figure. TiB Flash LicensesClick to enlargeExpand\u00a0Core licenses\u00a0and select the specific CPU core licenses to apply.For example, if you have 116 Core licenses, you can choose to distribute them across license levels or apply them all to a single license. Figure. Core licensesClick to enlargeClick\u00a0Save.Click\u00a0Next\u00a0to see\u00a0Summary\u00a0page of licenses to apply to your cluster.The portal displays a table showing the License ID, Quantity, Licensing Metric (TiB Flash or Core), and so on.Click\u00a0Generate License File\u00a0to download the license file created for the cluster to your browser download folder or directory you specify.In the web console, click the\u00a0Upload\u00a0link in the\u00a0Manage Licenses\u00a0dialog box.Browse to the license file you downloaded, select it, and click\u00a0Save\u00a0to upload it to your cluster.ResultsThe web console Licensing page displays all license details for the cluster.What to do nextSee\u00a0Displaying License Features and Details\u00a0and\u00a0Other Common License Management Tasks.", "Heading_Keywords": ["appli", "licens", "manual", "licens", "select", "cbl"]}, {"Heading": "Displaying License Features and Details", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-display-features-t.html", "Document Name": "Nutanix Licensing Guide", "Content": "In the web console, click the gear icon, and select Licensing.Click the license certificate (Starter, Pro, Ultimate) to show the feature list for your license. For example:Figure. License FeaturesClick to enlargeScroll down to see other features, then click Back to return to the licensing page.Click Show Licenses to show a list of all licenses and their details.Figure. License DetailsClick to enlargeScroll down to see all licenses, then click Back to return to the licensing page.", "Heading_Keywords": ["display", "licens", "featur", "detail"]}, {"Heading": "License Warnings in the Web Console", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-warnings-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "Most license warnings in the web console are related to license violations or licenses that are about to expire or expired. In most cases, the resolution is to extend or purchase licenses.Starter licenses never expire for Nutanix NX and third party OEM hardware appliances. Go to Licensing in the web console to check your Starter license expiration status.Pro and Ultimate licenses do have an expiration date and the web console alerts you 60 days before expiration.If you attempt to use features not available in your cluster's license level, a Warning is issued. Please upgrade your license level if you require continued access to Pro or Ultimate features.If a cluster includes nodes with different license levels, the cluster and each node in the cluster defaults to the minimum feature set enabled by the lowest license level. For example, if two nodes in the cluster have Pro licenses and two nodes in the same have Ultimate licenses, all nodes will effectively have Pro licenses and access to that feature set only. Attempts to access Ultimate features in this case result in a Warning in the web console.If you are using a Prism Pro trial license, the warning shows the expiration date and number of days left in the trial period. Typically, the trial period is 60 days. The license name will also display as a Pro_Trial license level.During upgrade of AOS, the Prism web console might incorrectly display a license violation alert. After you complete the upgrade, the alert is not displayed.Generating a cluster summary file through the Prism web console, nCLI commands (download-cluster-info), or PowerShell commands (Get-NTNXClusterLicenseInfo and Get-NTNXClusterLicenseInfoFile) initiates the cluster licensing process. You might observe a Licensing Status: In Process alert message in the web console or log files in this case.", "Heading_Keywords": ["licens", "warn", "web", "consol"]}, {"Heading": "Nutanix Calm License Warnings in the Web Console", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Licensing-Guide:lic-licensing-calm-warnings-c.html", "Document Name": "Nutanix Licensing Guide", "Content": "Most license warnings in the web console are related to license violations or licenses that are about to expire or have expired. In most cases, the resolution is to extend or purchase licenses.Nutanix Calm licenses do have an expiration date and the web console alerts you 60 days before expiration.An alert is generated providing the number of license packs required for compliance. For example, The cluster needs 1 additional license pack. Please expand Calm capacity with 1 pack.If the license pack is already expired an alert is generated.Note: Any powered off VMs are also counted for license calculation.If a VM is deleted manually from a cloud provider without deleting the app from Calm, it will be counted for license calculation.After applying a new license, you can wait for the next scheduled Nutanix Cluster Checks to run and only after that the alerts are auto-resolved.", "Heading_Keywords": ["nutanix", "calm", "licens", "warn", "web", "consol"]}, {"Heading": "Karbon Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-overview-c.html", "Document Name": "Nutanix Karbon Guide", "Content": "Nutanix Karbon is a curated turnkey offering that provides simplified provisioning and operations of Kubernetes clusters. Kubernetes is an open source container orchestration system for deploying and managing container-based applications. You can also set up an offline Karbon environment using the Karbon airgap, see Airgap.Karbon uses the CentOS Linux-based operating systems for Karbon-enabled Kubernetes cluster creation. Linux containers provide the flexibility to deploy applications in different environments with consistent results. Karbon streamlines the deployment and management of Kubernetes clusters with a simple GUI integrated into Prism Central (PC). Kibana, the built-in add-on, lets you filter and parse logs for systems, pods, and nodes. Prometheus, another add-on, provides a monitoring mechanism that triggers alerts on your cluster. Karbon also uses Pulse, Prism's health-monitoring system, which interacts with Nutanix Support to expedite cluster issue resolutions.To set up your Karbon environment, perform the following tasks:Ensure that your environment meets the requirements, see Requirements.Enable Karbon through Prism Central (PC) and set up a cluster, see Cluster Setup. Download the kubeconfig, see Downloading the Kubeconfig.Configure access, see Access and Authentication.KubernetesKubernetesKarbon orchestrates Kubernetes clusters to simplify the provisioning and management of containerized applications. Kubernetes packages applications in their own dedicated containers together with all of the required operational components for running the application. Containers , which run inside of pods on top of nodes, are the core building block of Kubernetes architecture.Containerized applications are simple to manage, easy to deploy, and portable as they are abstracted from the OS of the host. Since different containers share an operational kernel, they do not require as much compute capacity as a VM, making them \"lightweight\". Using Karbon to manage Kubernetes operations requires a basic familiarity with key Kubernetes concepts. Reference Kubernetes documentation to gain a better understanding of containerization, cluster architecture, workloads, and storage concepts. ", "Heading_Keywords": ["karbon", "overview"]}, {"Heading": "Kubernetes", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-kubernetes-c.html", "Document Name": "Nutanix Karbon Guide", "Content": "Karbon orchestrates Kubernetes clusters to simplify the provisioning and management of containerized applications. Kubernetes packages applications in their own dedicated containers together with all of the required operational components for running the application. Containers , which run inside of pods on top of nodes, are the core building block of Kubernetes architecture.Containerized applications are simple to manage, easy to deploy, and portable as they are abstracted from the OS of the host. Since different containers share an operational kernel, they do not require as much compute capacity as a VM, making them \"lightweight\". Using Karbon to manage Kubernetes operations requires a basic familiarity with key Kubernetes concepts. Reference Kubernetes documentation to gain a better understanding of containerization, cluster architecture, workloads, and storage concepts. ", "Heading_Keywords": ["kubernet"]}, {"Heading": "Requirements", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-prereq-r.html", "Document Name": "Nutanix Karbon Guide", "Content": "Meet the indicated requirements prior to enabling and deploying Karbon.Cluster RequirementsEnsure that the configuration of the Prism Element (PE) cluster meets the following specifications:AHVA minimum 120 MB of memory and 700 MB of disk space in PCDo the following before deploying Karbon:See Karbon Software Compatibility in the Nutanix Karbon Release Notes for Prism Central (PC) and Prism Element (PE) compatibility requirements.Register the PE cluster to PC.Configure the cluster virtual IP address and the iSCSI data services IP address on the designated PE cluster. Note: Karbon does not recognize changes to the iSCSI Data Service IP. Configure the Network Time Protocol (NTP) and the Domain Name System (DNS) on the cluster in PE and PC.Synchronize the time of the cluster, PC, and the clients that use kubectl.Note: Karbon requires using the UTC timezone. Open the required ports and whitelist the required domains, see table below.(Production clusters only) Configure an AHV network with IP address management (IPAM) enabled and IP pools configured.(Development clusters only) Configure an AHV network with IPAM and IP address pools or with an external DHCP network.(Airgap only) ensure you are using a Linux-based web server. Firewall RequirementsKarbon only supports HTTP unauthenticated proxy. Use the IP or the fully qualified domain name (FQDN) format. Ensure that your firewall allows Karbon VMs and CVMs to reach the following domains and sub-domains:Note: Also, exclude the following domain from the security-sockets layer (SSL) inspection in the firewall.*.cloudfront.net*.quay.iontnx-portal.s3.amazonaws.comportal.nutanix.comrelease-api.nutanix.comPort RequirementsKarbon uses the following ports for communication between components. Ensure that the firewall has the following ports open.Table 1. Karbon Port RequirementsTCP PortSource DestinationDescription22Prism Central (PC) Kubernetes VLANUni-directional PC to node communication.443PC Kubernetes VLANBi-directional PC to node communication.2379PC Kubernetes VLANUni-directional PC to etcd node validation.32053260Kubernetes VLAN Data Services IP and CVM IPSUni-directional communication.9440Kubernetes VLAN Note: For airgap, Airgap VM VLAN.PC, CVM IPs, and CVM VIPNote: For airgap, PE.Uni-directional communication from Kubernetes VLAN.7050Kubernetes VLAN PCBi-directional node to PC communication. Authenticates clients accessing clusters, and provides access to the Karbon Console when a firewall exists between PC and the workstation and provides authentication.30000\u201332767PC Kubernetes VLANAccess to the Elasticsearch, Fluentbit, and Kibana (EFK) stack. Airgap Port RequirementsDeploying the Karbon Airgap requires the following ports in addition to the Karbon ports listed above. All ports are unidirectional. Table 2. Airgap Port RequirementsTCP PortSource DestinationDescription5000PC and Kubernetes VLANAirgap VMAirgap registry access9440Airgap VMPE VIPVolume group (VG) provisioning3260Airgap VMPE Data Service IPiSCSI session creation22PCAirgap VMSSH operationsAirgap web server portAirgap VMAirgap web serverAirgap package downloads", "Heading_Keywords": ["requir"]}, {"Heading": "Enabling Karbon", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-install-t.html", "Document Name": "Nutanix Karbon Guide", "Content": " Enable Karbon through Prism Central. Before you beginEnsure to meet all requirements prior to enabling Karbon, see Requirements.ProcedureLog on to Prism Central.Click the collapsed menu icon.In the Services option, click Karbon.Figure. Enable Karbon WindowClick to enlargeClick Enable Karbon in the main console window.Note: Karbon might take several minutes to launch. To access Karbon, once you receive the message Karbon is successfully enabled, click the here link in the message.Figure. Go To Karbon Console WindowClick to enlargeIn Karbon, a message directs you to upload a node OS image, see Downloading Images. What to do nextEnsure that you are running a general availability (GA) version of Karbon by performing an inventory check using the Life-Cycle Manager (LCM), see Karbon Upgrades. If you are using LCM at a dark site, see Upgrading the Karbon Airgap.", "Heading_Keywords": ["enabl", "karbon"]}, {"Heading": "Airgap", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-airgap-c.html", "Document Name": "Nutanix Karbon Guide", "Content": "Use the airgap to manage Kubernetes clusters using Karbon offline. The Karbon airgap eliminates the need for Internet access to manage Kubernetes clusters by providing required services offline through a local Docker registry. However, deploying the airgap requires a device with Internet access to download the airgap bundle and manifest files hosted online on the Nutanix Support Portal. After enabling the Karbon airgap, you can use it to deploy and manage Kubernetes clusters. The required Docker registry runs on a VM that hosts the container images required for deploying Kubernetes clusters using Karbon. Prism Central (PC) manages the registry VM, which runs in Prism Element (PE). You cannot modify the settings of the registry VM. Caution: If you set up the private registry using a self-signed or internal certificate, Kubernetes clusters cannot access the private registry. To allow private registry access from a Kubernetes cluster, add the certificate for the private registry to each worker and master node in the cluster.See Deploying the Karbon Airgap for deployment steps.Note: If there are any Kubernetes clusters running, you cannot disable the airgap. Deploying the Karbon AirgapThis procedure describes steps for deploying the Karbon airgap.Disabling the AirgapUse the karbonctl to disable the airgap..Deploying the Karbon AirgapThis procedure describes steps for deploying the Karbon airgap.About this taskDeploying the airgap requires downloading the required files from the Nutanix Support Portal and transferring them to a local web server. Before you beginPlan to use a Linux-based host to extract deployment files and to transfer them to a Linux-based web server. Ensure that your environment meets all of the Karbon requirements, see Requirements.Ensure that you do not have any Kubernetes clusters deployed.Check that a managed VLAN. Create directory ntnx-version-number on your local web server.Note: As a best practice, use the full version number (for example, 2.0.0, 2.0.1).Log on to Prism Element and get the following details: Note: The airgap VM requires a managed VLAN, even when using a static IP.Network name ( in Network view)Storage container name ( in Storage view)Prism Element cluster name ( in Home view)Note: Karbon creates the airgap VM using the specified Prism Element cluster and network. The specified storage container uses a volume group (VG) to store Docker images. Procedure If you have not already, enable Karbon through Prism Central (PC), see Enabling Karbon. In the Support Portal, go to collapse menu icon > Downloads > Karbon to download the deployment files. To download the airgap-ntnx-version-number.tar.gz file, next to Karbon Airgap bundle, click Download. To download the airgap-manifest.json file, click Metadata under the Download button.Transfer the airgap-ntnx-version-number.tar.gz and airgap-manifest.json deployment files to the version-number directory on your local web server.Untar the airgap-ntnx-version-number.tar.gz file.The following deployment files and directories appear: host-images, host-images.json, ntnx-k8s-releases, ntnx-k8s-releases.jsonLog on to karbonctl, see Logging on to the Karbonctl.To deploy the airgap, replace the webserver_url, version-number, network_name,static ip address, storage_container_name, Prism_Element_cluster_name, PE_username, and password values as indicated.nutanix@pcvm$ ./karbon/karbonctl airgap enable \\\n--webserver-url http://webserver_url/ntnx-version-number/ \\\n--vlan-name network_name --static-ip static ip-address \\\n--storage-container storage_container_name \\\n--pe-cluster-name PE_cluster_name --pe-username PE_username \\\n--pe-password passwordThe airgap deployment process begins. You can track the deployment progress in the Tasks tab in PC. Disabling the AirgapUse the karbonctl to disable the airgap..About this taskNote: If there are any Kubernetes clusters running, you cannot disable the airgap. ProcedureLog on to the karbonctl, see Logging on to the Karbonctl.To display the unique universal identifier (UUID) of the airgap, list all airgaps.nutanix@pcvm$ ./karbon/karbonctl airgap listReplace the UUID with the UUID for the airgap.nutanix@pcvm$ ./karbon/karbonctl airgap disable --airgap-uuid UUID", "Heading_Keywords": ["airgap"]}, {"Heading": "Deploying the Karbon Airgap", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-airgap-deploy-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "This procedure describes steps for deploying the Karbon airgap.About this taskDeploying the airgap requires downloading the required files from the Nutanix Support Portal and transferring them to a local web server. Before you beginPlan to use a Linux-based host to extract deployment files and to transfer them to a Linux-based web server. Ensure that your environment meets all of the Karbon requirements, see Requirements.Ensure that you do not have any Kubernetes clusters deployed.Check that a managed VLAN. Create directory ntnx-version-number on your local web server.Note: As a best practice, use the full version number (for example, 2.0.0, 2.0.1).Log on to Prism Element and get the following details: Note: The airgap VM requires a managed VLAN, even when using a static IP.Network name ( in Network view)Storage container name ( in Storage view)Prism Element cluster name ( in Home view)Note: Karbon creates the airgap VM using the specified Prism Element cluster and network. The specified storage container uses a volume group (VG) to store Docker images. Procedure If you have not already, enable Karbon through Prism Central (PC), see Enabling Karbon. In the Support Portal, go to collapse menu icon > Downloads > Karbon to download the deployment files. To download the airgap-ntnx-version-number.tar.gz file, next to Karbon Airgap bundle, click Download. To download the airgap-manifest.json file, click Metadata under the Download button.Transfer the airgap-ntnx-version-number.tar.gz and airgap-manifest.json deployment files to the version-number directory on your local web server.Untar the airgap-ntnx-version-number.tar.gz file.The following deployment files and directories appear: host-images, host-images.json, ntnx-k8s-releases, ntnx-k8s-releases.jsonLog on to karbonctl, see Logging on to the Karbonctl.To deploy the airgap, replace the webserver_url, version-number, network_name,static ip address, storage_container_name, Prism_Element_cluster_name, PE_username, and password values as indicated.nutanix@pcvm$ ./karbon/karbonctl airgap enable \\\n--webserver-url http://webserver_url/ntnx-version-number/ \\\n--vlan-name network_name --static-ip static ip-address \\\n--storage-container storage_container_name \\\n--pe-cluster-name PE_cluster_name --pe-username PE_username \\\n--pe-password passwordThe airgap deployment process begins. You can track the deployment progress in the Tasks tab in PC. ", "Heading_Keywords": ["deploy", "karbon", "airgap"]}, {"Heading": "Disabling the Airgap", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-arigap-disable-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "Use the karbonctl to disable the airgap..About this taskNote: If there are any Kubernetes clusters running, you cannot disable the airgap. ProcedureLog on to the karbonctl, see Logging on to the Karbonctl.To display the unique universal identifier (UUID) of the airgap, list all airgaps.nutanix@pcvm$ ./karbon/karbonctl airgap listReplace the UUID with the UUID for the airgap.nutanix@pcvm$ ./karbon/karbonctl airgap disable --airgap-uuid UUID", "Heading_Keywords": ["disabl", "airgap"]}, {"Heading": "Cluster Setup", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-deploy-cluster-c.html", "Document Name": "Nutanix Karbon Guide", "Content": "Creating a cluster in Karbon consists of setting up the following:Recommended Configurations (optional)Name and EnvironmentNode ConfigurationNetworkStorage ClassFor step-by-step directions for creating a Kubernetes cluster, see Creating a Cluster.Caution: Nutanix recommends adhering to the CIS Benchmark security recommendation for containers prior to deploying them on a Kubernetes cluster.Recommended ConfigurationsBefore configuring your cluster, you can choose from one of the recommended configurations to streamline the deployment process. You can customize the recommended configurations during and after deployment.The recommended configurations include two options: development cluster and production cluster. The development cluster option provides the minimum resources to launch a cluster. The production cluster configuration provides enough resources for a high-availability, production-ready cluster. Name and Environment To set up the Kubernetes environment, you must name the new cluster and add an optional description. You must specify the Prism Element (PE) cluster, the Kubernetes version, and the node operating system (OS) image. Run the Kubernetes cluster on any PE cluster that meets the requirements and has enough resources for the desired configuration. Download a node OS image prior to deploying a cluster, see Downloading Images. Karbon supports the CentOS Linux distribution. See Requirements for a list of supported versions. Node ConfigurationTip: After configuring the cluster, set up anti-affinity rules between VMs. See \"Configuring VM-VM Anti-Affinity Policy\" in the Prism Web Console Guide.To configure worker, master and etcd node resources you must first specify the Kubernetes node network, which determines the network that the nodes run on. Next specify the number of nodes and the virtual CPU (vCPU), memory, and size resources for each node type. Worker nodes are responsible for services that run pods in a Kubernetes cluster. These services include Flannel for controlling traffic between nodes; Fluent Bit for system, pod, and node log collection; kubelet for running node operations; and the kube-proxy. Etcd nodes store cluster configuration data and status details. Master nodes run critical services including the API server, controller-manager, and kube-scheduler. Specify the master resource configuration from one of the following: single-master, active-passive, or external load balancer. Note: Do not use single-master deployments in production environments. Single-master deployments have preconfigured resources. When a single-master node is unavailable due to upgrades, bugs, or maintenance, the scheduling service is also unavailable and Karbon cannot deploy new pods. Multi-master deployments circumvent these issues by providing high-availability. For multi-master deployments, you have the option of using an external load-balancer, which you must administer prior to deployment; or you can choose the Virtual Router Redundancy Protocol (VRRP), which Karbon provides when you select the active-passive multi-master configuration.Multi-master deployments backed by an external load balancer let nodes perform workload deployment and management at the same time, creating scalability by supporting more workloads. A load balancer requires multiple IP addresses: one external IP address and one private IP address for each master node. The kubectl, kubelet, and Kubernetes controllers use the public IP to communicate with the API server.VRRP, the active-passive multi-master configuration, is an alternative to using a load balancer. VRRP does not provide the same scalability, but it does provide a back-up master node for accessing the cluster if the active master happens to go down. Thus, when you select the active-passive configuration, the number of master nodes is always two.NetworkFlannel is the only supported container network interface (CNI) for deploying clusters using the Karbon UI. You can use Calico for deploying clusters using Karbon APIs. Flannel for Karbon uses the VXLAN mode. To set up your network, you must provide Classless Inter-Domain Routing (CIDR) ranges and specify the network provider. You can leave the service CIDR and pod CIDR ranges as default, but the ranges must not overlap with each other or the existing network. The service CIDR and pod CIDR ranges do not require a VLAN. Karbon does not route the ranges outside of the cluster.The number of required physical IP addresses varies depending on the configuration and the number of master, etc, and worker nodes. For development environment configurations, Karbon requires a dynamic host configuration protocol (DHCP), or a network with AHV IP address management (IPAM) enabled and IP pools setup. For production environment configurations, IP requirements vary depending on the mode. For the active-passive mode, IPAM provides IPs for all of the nodes, and you must provide a virtual IP (VIP) for the Kubernetes API server. The VIP must be part of the same VLAN but outside of the IP pool. For an active-active mode, the external load balancer and master nodes should be pre-configured with designated IP addresses.Storage ClassYou can have multiple storage classes for your Kubernetes deployment, but once you assign a storage class to a cluster, you cannot modify it. A storage class defines the properties of a Persistent Volume (PV), which provides storage for the cluster. When the cluster needs more storage, a Persistent Volume Claim (PVC) sends a request for a new PV. The PVC contains storage class details for the new PV. Nutanix supports dynamic provisioning of PVs using the CSI Volume Driver, which runs in a Kubernetes pod. The CSI Volume Driver waits for a PVC request for a storage class and then creates a PV for that request, see CSI Volume Driver documentation for more details. When deploying a cluster, Karbon uses Nutanix Volumes storage. After deployment, you can add additional storage classes and use either Nutanix Volumes or Nutanix Files storage. For storage classes using Volumes, you must choose a Prism Element cluster and provide a password. Next, select a storage container and a file system your cluster will use for allocating storage. Supported file systems include ext4 and xfs. For Files, you must specify an NFS export that the cluster will use for storage.To optimize a cluster's performance, you can enable Flash Mode, which is available for both Volumes or Files. Enabling Flash Mode, boosts the performance of a cluster by storing data on only the solid-state drives (SSDs) of the hot tier.Creating a ClusterCreate a Kubernetes cluster in Karbon by configuring cluster settings. Node Resource RecommendationsNutanix recommends that the nodes in your cluster meet the indicated resource requirements.Configuring a Custom RegistryConfigure a custom registry service to your Kubernetes cluster.Creating a ClusterCreate a Kubernetes cluster in Karbon by configuring cluster settings. About this taskFor details on setup options and requirements, see Cluster Setup.Note: Ensure that you are running a general availability (GA) version of Karbon by performing an inventory check using the Life-Cycle Manager, see Karbon Upgrades.Note: Constrained bandwidth can lead to cluster deployment timeout.ProcedureNavigate to Karbon from Prism Central.Click the collapsed menu icon.Click Services > Karbon.Click Create Cluster.The Create Cluster page appears.Choose one of the recommended configuration options.Development Cluster: This option is for development clusters. Do not use this option for production environments. The option provides the minimum resources needed for a cluster.Production Cluster: This option is for production environments. It provides a default configuration for high-availability clusters. Click Next. To set up the Name and Environment, do the following in the indicated fields :Kubernetes Cluster Name: Choose a name for your cluster. The name must start with a letter or a number followed by up to 40 lowercase or uppercase letters, numbers, or hyphens (cannot end with a hyphen).Nutanix Cluster: Choose which Prism Element cluster to run the Kubernetes cluster on. Kubernetes Version: Choose from one of three Kubernetes versions.Host OS: Select the version of the downloaded node OS image (centos), see Downloading Images. Figure. Name and Environment Configuration WindowClick to enlargeClick Next.To set up the Node Configuration, do the following in the indicated fields.Caution: If you exceed available capacity on any underlying hardware when choosing memory, CPU, and disk size, the Kubernetes cluster cannot deploy. Configure Network Resources: Kubernetes Node Network: Select one of the available networks. Note: IPAM is available for production clusters. IPAM or DHCP is available for development clusters.Figure. Network and Node ResourcesClick to enlargeConfigure Worker Resources: Number of Workers: Enter the number of Kubernetes worker nodes.(optional) Click Edit to customize worker resources: VCPU: Enter the number of vCPUs per worker node.Memory: Enter the memory capacity per worker node (recommended 8 GiB per node).Size: Enter the hard disk size (recommended 120 GiB per worker node).Configure Master Resources: In the Select Master Resource Configuration dropdown, choose one of the following options:1 (non-production clusters only)Multi-Master: Active-PassiveMulti-Master: External Load BalancerMaster VIP IP Address (Active-Passive only): Enter a VIP for the Kubernetes API server.Note: IPAM provides IPs for the nodes. The VIP must be part of the same VLAN but outside of the IP pool, see the \"Network\" section in Cluster Setup.Number of Master: Enter the number of Kubernetes master nodes.Note: single-master and active-passive configurations have a set number of master nodes. Production deployments require at least two master nodes. (optional) Click Edit to customize worker resources: VCPU: Enter the number of vCPUs per node.Memory: Enter the memory capacity per node.Size: Enter the hard disk size (recommended 120 GiB per master node).(For external load balancer only) Enter IP addresses:Note: The master IPs come from the non-DHCP pool of the AHV network. The IP addresses auto populate but are modifiable. External Load Balancer IP: Enter the IP address for the external load balancer. Master IP Addresses: Enter an IP address for each master node. Configure Etcd Resources: Number of etcd nodes: Select the number of etcd nodes.(optional) Click Edit to customize etcd resources: VCPU: Enter the number of vCPUs per node.Memory: Enter the memory capacity per node.Size: Enter the hard disk size (recommended 120 GiB per etcd node).Click Next.The Network page appears. To configure Network settings, do the following in the indicated fields:Caution: Using the same managed network and IP addresses as another multi-master deployment results in deployment failure. Network Provider: Select the network plug-in. Service CIDR Range: Enter an IP address range within your network range (RFC-1918) in CIDR notation, or use the default values. The IP range exposes services.Caution: The service CIDR and pod CIDR must not overlap with the Kubernetes node network IP range or with each other. Default ranges can overlap. Pod CIDR Range: Enter an IP address range within your network range (RFC-1918) in CIDR notation for pod-to-pod communication. You can also use the default values. Kubernetes assigns pods in the cluster an IP address from this range. Note: Kubernetes configuration files refer to the Pod CIDR as a \"cluster IP\".Figure. Network Configuration WindowClick to enlargeClick Next. To configure Storage Class settings, do the following in the indicated fields:Note: You can create more storage classes once you create the cluster, see Creating a Storage Class.Note: During cluster deployment Karbon uses Nutanix Volumes storage for the storage class. After deployment, you can create a Nutanix Files storage class for the cluster. Storage Class Name: Enter the name for the storage class. The name must start with a letter or a number. Only use lowercase alphanumeric characters, hyphens, and periods (maximum 253 characters). Nutanix Cluster: Select the target cluster for allocating storage for stateful pods. Cluster Username: Enter your Prism Element username.Cluster Password: Enter your Prism Element password.Storage Container Name: Select the storage container for storage.Reclaim Policy: The reclaim policy specifies what the cluster does with the volume once it is not in use. Select Delete or Retain. File System: Select the file system for the storage class (xfs or ext4). Enable Flash Mode: Check this box to use SSDs for data storage and improved performance.Note: Karbon automatically provisions some storage for node and system pod logs based on the size of the cluster.Figure. Storage Class Configuration WindowClick to enlargeClick Create.The new cluster appears on the Karbon home page. A new task for the cluster deployment displays the progress of the deployment in the Tasks tile on the Summary page.What to do nextAfter configuring the cluster, set up anti-affinity rules between VMs. See \"Configuring VM-VM Anti-Affinity Policy\" in the Prism Web Console Guide.Node Resource RecommendationsNutanix recommends that the nodes in your cluster meet the indicated resource requirements.Master Node ResourcesKarbon allocates all master node resources to infrastructure services. Table 1. Minimum Resources per Master Node Cluster TypeCPUMemory (GiB)Storage (GiB)Production4 per node4120Development2 per node4120Etcd Node ResourcesEtcd nodes store cluster configuration data and status details.Table 2. Minimum Resources per Etcd Node Cluster TypeCPUMemory (GiB)Storage (GiB)Production 4840Development4840Worker Node ResourcesWorker nodes should have enough resources to run cluster workloads on top of infrastructure services, including the kubelet. If available memory resources on a worker node fall under 400 MiB, the kubelet evicts a pod. Table 3. Worker Node Minimum ResourcesCluster TypeCPUMemoryStorageProduction 8 vCPU8 GiB120 GiBDevelopment8 vCPU8 GiB120 GiBTable 4. Worker Node Minimum Resources for Infrastructure ServicesCluster TypeCPUMemory (MiB)Production 1.75 for all worker nodes plus 0.42 for each worker node.Note: For example, 3 worker nodes require 3.01 CPU. 1.75 + (3 workers x 0.42) = 3.01.3471 MiB for all worker nodes plus 650 MiB for each worker node.Note: For example, 3 worker nodes require 5421 MiB memory. 3471 MiB + (3 workers x 650MiB) = 5421 MiB. Configuring a Custom RegistryConfigure a custom registry service to your Kubernetes cluster.About this taskBy default, Karbon does not add additional container image registries to Kubernetes clusters. To use your own images for container deployment, add a custom registry to Karbon and configure custom registry access for the intended Kubernetes clusters. Follow the steps as indicated to configure a custom registry for your cluster.ProcedureAdd the custom registry to Karbon. Replace registry-name with name of the registry, replace registry-url with the URL of the registry, and replace registry-port with the port number to your custom registry. If the registry is certificate-based, replace cert-filepath with the file path to the certificate. Omit the cert-filepath parameter for HTTP-based registries. nutanix@pcvm$ ./karbon/karbonctl registry add --name registry-name \\\n--url registry-url  --port registry-port --cert-file cert-filepathCheck for custom registries known to Karbon.nutanix@pcvm$ ./karbon/karbonctl registry listAdd the custom registry to a Kubernetes cluster. Replace cluster-name with the name of the Kubernetes cluster. Replace registry-name with the name of the registry as in step 1. nutanix@pcvm$ ./karbon/karbonctl cluster registry add --cluster-name \\ \ncluster-name --registry-name registry-nameConfirm that Karbon and the Kubernetes cluster have access to the custom registry. Replace cluster-name with the name of the Kubernetes cluster../karbonctl cluster registry list --cluster-name cluster-name Deleting a Custom RegistryDelete a custom registry from your Karbon environment.Deleting a Custom RegistryDelete a custom registry from your Karbon environment.About this taskDelete access to a custom registry before removing the registry from Karbon. Follow the steps as indicated:ProcedureDelete access to a custom registry from your Kubenetes cluster. Replace cluster-name with the name of the Kubernetes cluster, and replace the registry-name with the name of the target registry.nutanix@pcvm$ ./karbon/karbonctl cluster registry delete --cluster-name cluster-name \\\n--registry-name registry-nameNote: Before deleting the registry, revoke registry access from all clusters.Delete a custom registry from Karbon. Replace the registry-name with the name of the target registry.nutanix@pcvm$ ./karbon/karbonctl registry delete --registry-name registry-name", "Heading_Keywords": ["cluster", "setup"]}, {"Heading": "Creating a Cluster", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-deploy-karbon-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "Create a Kubernetes cluster in Karbon by configuring cluster settings. About this taskFor details on setup options and requirements, see Cluster Setup.Note: Ensure that you are running a general availability (GA) version of Karbon by performing an inventory check using the Life-Cycle Manager, see Karbon Upgrades.Note: Constrained bandwidth can lead to cluster deployment timeout.ProcedureNavigate to Karbon from Prism Central.Click the collapsed menu icon.Click Services > Karbon.Click Create Cluster.The Create Cluster page appears.Choose one of the recommended configuration options.Development Cluster: This option is for development clusters. Do not use this option for production environments. The option provides the minimum resources needed for a cluster.Production Cluster: This option is for production environments. It provides a default configuration for high-availability clusters. Click Next. To set up the Name and Environment, do the following in the indicated fields :Kubernetes Cluster Name: Choose a name for your cluster. The name must start with a letter or a number followed by up to 40 lowercase or uppercase letters, numbers, or hyphens (cannot end with a hyphen).Nutanix Cluster: Choose which Prism Element cluster to run the Kubernetes cluster on. Kubernetes Version: Choose from one of three Kubernetes versions.Host OS: Select the version of the downloaded node OS image (centos), see Downloading Images. Figure. Name and Environment Configuration WindowClick to enlargeClick Next.To set up the Node Configuration, do the following in the indicated fields.Caution: If you exceed available capacity on any underlying hardware when choosing memory, CPU, and disk size, the Kubernetes cluster cannot deploy. Configure Network Resources: Kubernetes Node Network: Select one of the available networks. Note: IPAM is available for production clusters. IPAM or DHCP is available for development clusters.Figure. Network and Node ResourcesClick to enlargeConfigure Worker Resources: Number of Workers: Enter the number of Kubernetes worker nodes.(optional) Click Edit to customize worker resources: VCPU: Enter the number of vCPUs per worker node.Memory: Enter the memory capacity per worker node (recommended 8 GiB per node).Size: Enter the hard disk size (recommended 120 GiB per worker node).Configure Master Resources: In the Select Master Resource Configuration dropdown, choose one of the following options:1 (non-production clusters only)Multi-Master: Active-PassiveMulti-Master: External Load BalancerMaster VIP IP Address (Active-Passive only): Enter a VIP for the Kubernetes API server.Note: IPAM provides IPs for the nodes. The VIP must be part of the same VLAN but outside of the IP pool, see the \"Network\" section in Cluster Setup.Number of Master: Enter the number of Kubernetes master nodes.Note: single-master and active-passive configurations have a set number of master nodes. Production deployments require at least two master nodes. (optional) Click Edit to customize worker resources: VCPU: Enter the number of vCPUs per node.Memory: Enter the memory capacity per node.Size: Enter the hard disk size (recommended 120 GiB per master node).(For external load balancer only) Enter IP addresses:Note: The master IPs come from the non-DHCP pool of the AHV network. The IP addresses auto populate but are modifiable. External Load Balancer IP: Enter the IP address for the external load balancer. Master IP Addresses: Enter an IP address for each master node. Configure Etcd Resources: Number of etcd nodes: Select the number of etcd nodes.(optional) Click Edit to customize etcd resources: VCPU: Enter the number of vCPUs per node.Memory: Enter the memory capacity per node.Size: Enter the hard disk size (recommended 120 GiB per etcd node).Click Next.The Network page appears. To configure Network settings, do the following in the indicated fields:Caution: Using the same managed network and IP addresses as another multi-master deployment results in deployment failure. Network Provider: Select the network plug-in. Service CIDR Range: Enter an IP address range within your network range (RFC-1918) in CIDR notation, or use the default values. The IP range exposes services.Caution: The service CIDR and pod CIDR must not overlap with the Kubernetes node network IP range or with each other. Default ranges can overlap. Pod CIDR Range: Enter an IP address range within your network range (RFC-1918) in CIDR notation for pod-to-pod communication. You can also use the default values. Kubernetes assigns pods in the cluster an IP address from this range. Note: Kubernetes configuration files refer to the Pod CIDR as a \"cluster IP\".Figure. Network Configuration WindowClick to enlargeClick Next. To configure Storage Class settings, do the following in the indicated fields:Note: You can create more storage classes once you create the cluster, see Creating a Storage Class.Note: During cluster deployment Karbon uses Nutanix Volumes storage for the storage class. After deployment, you can create a Nutanix Files storage class for the cluster. Storage Class Name: Enter the name for the storage class. The name must start with a letter or a number. Only use lowercase alphanumeric characters, hyphens, and periods (maximum 253 characters). Nutanix Cluster: Select the target cluster for allocating storage for stateful pods. Cluster Username: Enter your Prism Element username.Cluster Password: Enter your Prism Element password.Storage Container Name: Select the storage container for storage.Reclaim Policy: The reclaim policy specifies what the cluster does with the volume once it is not in use. Select Delete or Retain. File System: Select the file system for the storage class (xfs or ext4). Enable Flash Mode: Check this box to use SSDs for data storage and improved performance.Note: Karbon automatically provisions some storage for node and system pod logs based on the size of the cluster.Figure. Storage Class Configuration WindowClick to enlargeClick Create.The new cluster appears on the Karbon home page. A new task for the cluster deployment displays the progress of the deployment in the Tasks tile on the Summary page.What to do nextAfter configuring the cluster, set up anti-affinity rules between VMs. See \"Configuring VM-VM Anti-Affinity Policy\" in the Prism Web Console Guide.", "Heading_Keywords": ["creat", "cluster"]}, {"Heading": "Node Resource Recommendations", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-resource-usage-r.html", "Document Name": "Nutanix Karbon Guide", "Content": "Nutanix recommends that the nodes in your cluster meet the indicated resource requirements.Master Node ResourcesKarbon allocates all master node resources to infrastructure services. Table 1. Minimum Resources per Master Node Cluster TypeCPUMemory (GiB)Storage (GiB)Production4 per node4120Development2 per node4120Etcd Node ResourcesEtcd nodes store cluster configuration data and status details.Table 2. Minimum Resources per Etcd Node Cluster TypeCPUMemory (GiB)Storage (GiB)Production 4840Development4840Worker Node ResourcesWorker nodes should have enough resources to run cluster workloads on top of infrastructure services, including the kubelet. If available memory resources on a worker node fall under 400 MiB, the kubelet evicts a pod. Table 3. Worker Node Minimum ResourcesCluster TypeCPUMemoryStorageProduction 8 vCPU8 GiB120 GiBDevelopment8 vCPU8 GiB120 GiBTable 4. Worker Node Minimum Resources for Infrastructure ServicesCluster TypeCPUMemory (MiB)Production 1.75 for all worker nodes plus 0.42 for each worker node.Note: For example, 3 worker nodes require 3.01 CPU. 1.75 + (3 workers x 0.42) = 3.01.3471 MiB for all worker nodes plus 650 MiB for each worker node.Note: For example, 3 worker nodes require 5421 MiB memory. 3471 MiB + (3 workers x 650MiB) = 5421 MiB. ", "Heading_Keywords": ["node", "resourc", "recommend"]}, {"Heading": "Configuring a Custom Registry", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-registry-custom-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "Configure a custom registry service to your Kubernetes cluster.About this taskBy default, Karbon does not add additional container image registries to Kubernetes clusters. To use your own images for container deployment, add a custom registry to Karbon and configure custom registry access for the intended Kubernetes clusters. Follow the steps as indicated to configure a custom registry for your cluster.ProcedureAdd the custom registry to Karbon. Replace registry-name with name of the registry, replace registry-url with the URL of the registry, and replace registry-port with the port number to your custom registry. If the registry is certificate-based, replace cert-filepath with the file path to the certificate. Omit the cert-filepath parameter for HTTP-based registries. nutanix@pcvm$ ./karbon/karbonctl registry add --name registry-name \\\n--url registry-url  --port registry-port --cert-file cert-filepathCheck for custom registries known to Karbon.nutanix@pcvm$ ./karbon/karbonctl registry listAdd the custom registry to a Kubernetes cluster. Replace cluster-name with the name of the Kubernetes cluster. Replace registry-name with the name of the registry as in step 1. nutanix@pcvm$ ./karbon/karbonctl cluster registry add --cluster-name \\ \ncluster-name --registry-name registry-nameConfirm that Karbon and the Kubernetes cluster have access to the custom registry. Replace cluster-name with the name of the Kubernetes cluster../karbonctl cluster registry list --cluster-name cluster-name Deleting a Custom RegistryDelete a custom registry from your Karbon environment.Deleting a Custom RegistryDelete a custom registry from your Karbon environment.About this taskDelete access to a custom registry before removing the registry from Karbon. Follow the steps as indicated:ProcedureDelete access to a custom registry from your Kubenetes cluster. Replace cluster-name with the name of the Kubernetes cluster, and replace the registry-name with the name of the target registry.nutanix@pcvm$ ./karbon/karbonctl cluster registry delete --cluster-name cluster-name \\\n--registry-name registry-nameNote: Before deleting the registry, revoke registry access from all clusters.Delete a custom registry from Karbon. Replace the registry-name with the name of the target registry.nutanix@pcvm$ ./karbon/karbonctl registry delete --registry-name registry-name", "Heading_Keywords": ["configur", "custom", "registri"]}, {"Heading": "Deleting a Custom Registry", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-registry-delete-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "Delete a custom registry from your Karbon environment.About this taskDelete access to a custom registry before removing the registry from Karbon. Follow the steps as indicated:ProcedureDelete access to a custom registry from your Kubenetes cluster. Replace cluster-name with the name of the Kubernetes cluster, and replace the registry-name with the name of the target registry.nutanix@pcvm$ ./karbon/karbonctl cluster registry delete --cluster-name cluster-name \\\n--registry-name registry-nameNote: Before deleting the registry, revoke registry access from all clusters.Delete a custom registry from Karbon. Replace the registry-name with the name of the target registry.nutanix@pcvm$ ./karbon/karbonctl registry delete --registry-name registry-name", "Heading_Keywords": ["delet", "custom", "registri"]}, {"Heading": "Karbon Layout", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-layout-c.html", "Document Name": "Nutanix Karbon Guide", "Content": "The Karbon home page consists of the Clusters and the OS Images tabs. The Clusters tab is the main landing page and displays a list of all Karbon clusters. The OS Images tab displays available CentOS images and the download image option.ClustersOS ImagesClustersOS ImagesClustersThe Clusters tab includes the following sections and options: Create a new cluster with the Create Kubernetes Cluster button.An Actions drop-down with the following options:Download the Kubernetes configuration file to your client by clicking Kubeconfig. The Kubeconfig lets you run kubectl commands against the Kubernetes cluster, see Downloading the Kubeconfig.The SSH Access option lets you access nodes in a Kubernetes cluster using an ephemeral certificate, which expires after 24-hours, see Accessing Locked Nodes.Use the Upgrade Cluster option to upgrade the node OS image for the cluster. Use the Delete Cluster to delete the selected cluster. Figure. Karbon Clusters TableClick to enlargeThe home page also includes a table with the following details of every cluster. Table 1. Clusters TableParameterDescriptionNameName of the cluster.Node ImageImage version used for the cluster.NodesNumber of worker nodes.StatusThe status field describes the health of the cluster, specifies the status of operations, and notes when there are available upgrades (Deploying, Healthy, Upgrading, Failed).VersionKubernetes version.Clicking on any cluster's name on the Clusters page takes you to the Summary page of the cluster. The menu pane of the Summary page includes the following tabs: Summary, Alerts,Tasks, Storage Class, Volume, Add-On, and Nodes.SummaryClicking the name of a cluster on the Clusters page takes you to the Summary page. The Summary page consists of multiple tiles that provide details on the clusters usage, alerts, tasks, and nodes.AlertsTasksThe Tasks page consists of a table that lists and describes recent tasks performed on the cluster. Storage ClassVolumeAdd-OnNodesSummaryClicking the name of a cluster on the Clusters page takes you to the Summary page. The Summary page consists of multiple tiles that provide details on the clusters usage, alerts, tasks, and nodes.Properties, Alerts, and TasksFigure. Summary PageClick to enlargeTable 1. Properties TileParameterDescriptionAPI EndpointMaster server endpoint.VersionKubernetes version.HealthThe health status of the cluster.Network ProviderThe network provider for the cluster.Table 2. Alerts TileParameterDescriptionCurrent AlertsLists the number of critical, warning, and info alerts for the last 24 hoursIconAn icon indicating the severity of the alert appears next to a description of the issue.View All AlertsClick the View All Alerts link to go to the Alerts tab.Table 3. Tasks TileParameterDescriptionTaskLists various operations on the cluster. IconIndicates if the task completed successfully.View All TasksClick the View All Tasks link to go to the Tasks tab.Node TilesThe node tiles display the following node details for each node type: etcd, master, and worker. Table 4. Node Tile ParametersParameterDescriptionNode(s)The quantity of the specified nodes in the cluster.vCPUThe total number of vCPUs for the specified node type. MemoryThe amount of memory currently in use out of the total configured memory. Disk SpaceThe amount of disk space currently in use out of the total configured disk space.AlertsThe Alerts tab consists of a table that lists and describes recent alerts for the cluster. The Prometheus add-on powers Karbon alerts, see Monitoring. The alerts table consists of the following parametersFigure. Alerts PageClick to enlargeTable 1. Alerts TableParameterDescriptionAlert NameThe name of the alert.SeverityThe severity of the alert. MessageA description of the alert issue. Time CreatedThe date and time when the alert was created.StatusThe current status for the alert. TasksThe Tasks page consists of a table that lists and describes recent tasks performed on the cluster. The tasks table consists of the following parameters.Figure. Tasks PageClick to enlargeTable 1. Tasks TableParameterDescriptionNameThe name of the task including the entity.Percentage CompleteThe progress of the task displayed as a percentage. StatusThe status of the task. Time CreatedThe date and time of task creation.Storage ClassThe Storage Class tab includes Create Storage Class and Delete Storage Class action buttons, see Creating a Storage Class. The Storage Class tab also includes a table with details about each storage class, see table below for details. Figure. Storage Class TabClick to enlargeTable 1. Storage Class Tab ParametersParameterDescriptionNameThe name of the storage class.Volume TypeThe type of storage used for Persistent Volumes.Default Storage ClassSpecifies if the storage class is the default (True or False). Cluster The name of the underlying cluster.Reclaim PolicyThe reclaim policy specifies what happens to the volume once it is not use (delete or retain).VolumeThe Volume tab includes Create Volume and Delete Volume action buttons, see Creating a Volume. The Volume tab also includes a table with details about each PersistentVolume (PV), see table below for details. Figure. Volume TabClick to enlargeTable 1. TableParameterDescriptionClaim NameName used to attach storage to pods (maximum 253 characters). The name must start with a letter or a number. Only use lowercase alphanumeric characters, hyphens, and periods. NamespaceSelected Kubernetes namespace (available options are displayed).Storage ClassStorage class used by the volume.SizeThe size of the volume in GiB.StatusPersistent volume status (Pending, Available, Bound, Release, Failed).Access ModeReadWriteOnce is the only available access mode for Nutanix Volumes storage. Nutanix Files storage supports both ReadWriteMany and ReadWriteOnce access modes.Add-OnThe Add-on page lists the add-ons installed on the Kubernetes cluster, see Add-Ons. Refer to the table below for a description of the Add-on tab parameters.Figure. Add-ons TabClick to enlargeTable 1. Add-On TableParameterDescriptionNameName of the add-on.StateStatus of the add-onSizeDisk space allocated to the add-on (GiB)VersionDescribes the version of the add-on, and includes a Launch add-on action link. NodesThe Nodes tab provides three subtabs for each type of node in the cluster: Master, worker, and etcd. Each tab consists of a table with details about the indicated node type. The Worker tab has Add Worker and Delete Worker buttons. Tabs for each node type provide a table with the following details. Table 1. Node Tile ParametersParameterDescriptionNameThe name of the node.IP AddressThe IP address of the cluster.CPUThe number of vCPUs allocated for the node.MemoryThe memory capacity for the node (GiB). StorageThe storage capacity for the node (GiB).OS ImagesThe OS Images tab provides an overview of available and downloaded node OS images on your cluster. When a new version of an image is available, the tab includes options to download the new OS image (see Downloading Images for steps to download a new image). Note: All supported OS images are provided by Karbon during and after deployment. Refer to the Karbon Release Notes for information on image compatibility. After downloading a new image from the OS images tab, upgrade cluster images through the Clusters tab, see Upgrading an OS Image. The OS Images tab includes a table that describes the available, downloaded, and deleted images in your environment. Refer to the table below for details. Table 1. OS Images TableParameterDescriptionImage VersionThe Linux distribution and image version.Release NotesA link to the release notes for the indicated OS image.SizeThe size of the OS image (GiB).Download StatusThe status of the image on your Karbon deployment (Download, Downloading, and Downloaded).", "Heading_Keywords": ["karbon", "layout"]}, {"Heading": "Clusters", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-clusters-tab-r.html", "Document Name": "Nutanix Karbon Guide", "Content": "The Clusters tab includes the following sections and options: Create a new cluster with the Create Kubernetes Cluster button.An Actions drop-down with the following options:Download the Kubernetes configuration file to your client by clicking Kubeconfig. The Kubeconfig lets you run kubectl commands against the Kubernetes cluster, see Downloading the Kubeconfig.The SSH Access option lets you access nodes in a Kubernetes cluster using an ephemeral certificate, which expires after 24-hours, see Accessing Locked Nodes.Use the Upgrade Cluster option to upgrade the node OS image for the cluster. Use the Delete Cluster to delete the selected cluster. Figure. Karbon Clusters TableClick to enlargeThe home page also includes a table with the following details of every cluster. Table 1. Clusters TableParameterDescriptionNameName of the cluster.Node ImageImage version used for the cluster.NodesNumber of worker nodes.StatusThe status field describes the health of the cluster, specifies the status of operations, and notes when there are available upgrades (Deploying, Healthy, Upgrading, Failed).VersionKubernetes version.Clicking on any cluster's name on the Clusters page takes you to the Summary page of the cluster. The menu pane of the Summary page includes the following tabs: Summary, Alerts,Tasks, Storage Class, Volume, Add-On, and Nodes.SummaryClicking the name of a cluster on the Clusters page takes you to the Summary page. The Summary page consists of multiple tiles that provide details on the clusters usage, alerts, tasks, and nodes.AlertsTasksThe Tasks page consists of a table that lists and describes recent tasks performed on the cluster. Storage ClassVolumeAdd-OnNodesSummaryClicking the name of a cluster on the Clusters page takes you to the Summary page. The Summary page consists of multiple tiles that provide details on the clusters usage, alerts, tasks, and nodes.Properties, Alerts, and TasksFigure. Summary PageClick to enlargeTable 1. Properties TileParameterDescriptionAPI EndpointMaster server endpoint.VersionKubernetes version.HealthThe health status of the cluster.Network ProviderThe network provider for the cluster.Table 2. Alerts TileParameterDescriptionCurrent AlertsLists the number of critical, warning, and info alerts for the last 24 hoursIconAn icon indicating the severity of the alert appears next to a description of the issue.View All AlertsClick the View All Alerts link to go to the Alerts tab.Table 3. Tasks TileParameterDescriptionTaskLists various operations on the cluster. IconIndicates if the task completed successfully.View All TasksClick the View All Tasks link to go to the Tasks tab.Node TilesThe node tiles display the following node details for each node type: etcd, master, and worker. Table 4. Node Tile ParametersParameterDescriptionNode(s)The quantity of the specified nodes in the cluster.vCPUThe total number of vCPUs for the specified node type. MemoryThe amount of memory currently in use out of the total configured memory. Disk SpaceThe amount of disk space currently in use out of the total configured disk space.AlertsThe Alerts tab consists of a table that lists and describes recent alerts for the cluster. The Prometheus add-on powers Karbon alerts, see Monitoring. The alerts table consists of the following parametersFigure. Alerts PageClick to enlargeTable 1. Alerts TableParameterDescriptionAlert NameThe name of the alert.SeverityThe severity of the alert. MessageA description of the alert issue. Time CreatedThe date and time when the alert was created.StatusThe current status for the alert. TasksThe Tasks page consists of a table that lists and describes recent tasks performed on the cluster. The tasks table consists of the following parameters.Figure. Tasks PageClick to enlargeTable 1. Tasks TableParameterDescriptionNameThe name of the task including the entity.Percentage CompleteThe progress of the task displayed as a percentage. StatusThe status of the task. Time CreatedThe date and time of task creation.Storage ClassThe Storage Class tab includes Create Storage Class and Delete Storage Class action buttons, see Creating a Storage Class. The Storage Class tab also includes a table with details about each storage class, see table below for details. Figure. Storage Class TabClick to enlargeTable 1. Storage Class Tab ParametersParameterDescriptionNameThe name of the storage class.Volume TypeThe type of storage used for Persistent Volumes.Default Storage ClassSpecifies if the storage class is the default (True or False). Cluster The name of the underlying cluster.Reclaim PolicyThe reclaim policy specifies what happens to the volume once it is not use (delete or retain).VolumeThe Volume tab includes Create Volume and Delete Volume action buttons, see Creating a Volume. The Volume tab also includes a table with details about each PersistentVolume (PV), see table below for details. Figure. Volume TabClick to enlargeTable 1. TableParameterDescriptionClaim NameName used to attach storage to pods (maximum 253 characters). The name must start with a letter or a number. Only use lowercase alphanumeric characters, hyphens, and periods. NamespaceSelected Kubernetes namespace (available options are displayed).Storage ClassStorage class used by the volume.SizeThe size of the volume in GiB.StatusPersistent volume status (Pending, Available, Bound, Release, Failed).Access ModeReadWriteOnce is the only available access mode for Nutanix Volumes storage. Nutanix Files storage supports both ReadWriteMany and ReadWriteOnce access modes.Add-OnThe Add-on page lists the add-ons installed on the Kubernetes cluster, see Add-Ons. Refer to the table below for a description of the Add-on tab parameters.Figure. Add-ons TabClick to enlargeTable 1. Add-On TableParameterDescriptionNameName of the add-on.StateStatus of the add-onSizeDisk space allocated to the add-on (GiB)VersionDescribes the version of the add-on, and includes a Launch add-on action link. NodesThe Nodes tab provides three subtabs for each type of node in the cluster: Master, worker, and etcd. Each tab consists of a table with details about the indicated node type. The Worker tab has Add Worker and Delete Worker buttons. Tabs for each node type provide a table with the following details. Table 1. Node Tile ParametersParameterDescriptionNameThe name of the node.IP AddressThe IP address of the cluster.CPUThe number of vCPUs allocated for the node.MemoryThe memory capacity for the node (GiB). StorageThe storage capacity for the node (GiB).", "Heading_Keywords": ["cluster"]}, {"Heading": "Summary", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-summary-r.html", "Document Name": "Nutanix Karbon Guide", "Content": "Clicking the name of a cluster on the Clusters page takes you to the Summary page. The Summary page consists of multiple tiles that provide details on the clusters usage, alerts, tasks, and nodes.Properties, Alerts, and TasksFigure. Summary PageClick to enlargeTable 1. Properties TileParameterDescriptionAPI EndpointMaster server endpoint.VersionKubernetes version.HealthThe health status of the cluster.Network ProviderThe network provider for the cluster.Table 2. Alerts TileParameterDescriptionCurrent AlertsLists the number of critical, warning, and info alerts for the last 24 hoursIconAn icon indicating the severity of the alert appears next to a description of the issue.View All AlertsClick the View All Alerts link to go to the Alerts tab.Table 3. Tasks TileParameterDescriptionTaskLists various operations on the cluster. IconIndicates if the task completed successfully.View All TasksClick the View All Tasks link to go to the Tasks tab.Node TilesThe node tiles display the following node details for each node type: etcd, master, and worker. Table 4. Node Tile ParametersParameterDescriptionNode(s)The quantity of the specified nodes in the cluster.vCPUThe total number of vCPUs for the specified node type. MemoryThe amount of memory currently in use out of the total configured memory. Disk SpaceThe amount of disk space currently in use out of the total configured disk space.", "Heading_Keywords": ["summari"]}, {"Heading": "Alerts", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-alert-page-r.html", "Document Name": "Nutanix Karbon Guide", "Content": "The Alerts tab consists of a table that lists and describes recent alerts for the cluster. The Prometheus add-on powers Karbon alerts, see Monitoring. The alerts table consists of the following parametersFigure. Alerts PageClick to enlargeTable 1. Alerts TableParameterDescriptionAlert NameThe name of the alert.SeverityThe severity of the alert. MessageA description of the alert issue. Time CreatedThe date and time when the alert was created.StatusThe current status for the alert. ", "Heading_Keywords": ["alert"]}, {"Heading": "Tasks", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-tasks-page-r.html", "Document Name": "Nutanix Karbon Guide", "Content": "The Tasks page consists of a table that lists and describes recent tasks performed on the cluster. The tasks table consists of the following parameters.Figure. Tasks PageClick to enlargeTable 1. Tasks TableParameterDescriptionNameThe name of the task including the entity.Percentage CompleteThe progress of the task displayed as a percentage. StatusThe status of the task. Time CreatedThe date and time of task creation.", "Heading_Keywords": ["task"]}, {"Heading": "Storage Class", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-storage-class-r.html", "Document Name": "Nutanix Karbon Guide", "Content": "The Storage Class tab includes Create Storage Class and Delete Storage Class action buttons, see Creating a Storage Class. The Storage Class tab also includes a table with details about each storage class, see table below for details. Figure. Storage Class TabClick to enlargeTable 1. Storage Class Tab ParametersParameterDescriptionNameThe name of the storage class.Volume TypeThe type of storage used for Persistent Volumes.Default Storage ClassSpecifies if the storage class is the default (True or False). Cluster The name of the underlying cluster.Reclaim PolicyThe reclaim policy specifies what happens to the volume once it is not use (delete or retain).", "Heading_Keywords": ["storag", "class"]}, {"Heading": "Volume", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-volume-r.html", "Document Name": "Nutanix Karbon Guide", "Content": "The Volume tab includes Create Volume and Delete Volume action buttons, see Creating a Volume. The Volume tab also includes a table with details about each PersistentVolume (PV), see table below for details. Figure. Volume TabClick to enlargeTable 1. TableParameterDescriptionClaim NameName used to attach storage to pods (maximum 253 characters). The name must start with a letter or a number. Only use lowercase alphanumeric characters, hyphens, and periods. NamespaceSelected Kubernetes namespace (available options are displayed).Storage ClassStorage class used by the volume.SizeThe size of the volume in GiB.StatusPersistent volume status (Pending, Available, Bound, Release, Failed).Access ModeReadWriteOnce is the only available access mode for Nutanix Volumes storage. Nutanix Files storage supports both ReadWriteMany and ReadWriteOnce access modes.", "Heading_Keywords": ["volum"]}, {"Heading": "Add-On", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-addon-r.html", "Document Name": "Nutanix Karbon Guide", "Content": "The Add-on page lists the add-ons installed on the Kubernetes cluster, see Add-Ons. Refer to the table below for a description of the Add-on tab parameters.Figure. Add-ons TabClick to enlargeTable 1. Add-On TableParameterDescriptionNameName of the add-on.StateStatus of the add-onSizeDisk space allocated to the add-on (GiB)VersionDescribes the version of the add-on, and includes a Launch add-on action link. ", "Heading_Keywords": ["add"]}, {"Heading": "Nodes", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-nodes-r.html", "Document Name": "Nutanix Karbon Guide", "Content": "The Nodes tab provides three subtabs for each type of node in the cluster: Master, worker, and etcd. Each tab consists of a table with details about the indicated node type. The Worker tab has Add Worker and Delete Worker buttons. Tabs for each node type provide a table with the following details. Table 1. Node Tile ParametersParameterDescriptionNameThe name of the node.IP AddressThe IP address of the cluster.CPUThe number of vCPUs allocated for the node.MemoryThe memory capacity for the node (GiB). StorageThe storage capacity for the node (GiB).", "Heading_Keywords": ["node"]}, {"Heading": "OS Images", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-images-layout-r.html", "Document Name": "Nutanix Karbon Guide", "Content": "The OS Images tab provides an overview of available and downloaded node OS images on your cluster. When a new version of an image is available, the tab includes options to download the new OS image (see Downloading Images for steps to download a new image). Note: All supported OS images are provided by Karbon during and after deployment. Refer to the Karbon Release Notes for information on image compatibility. After downloading a new image from the OS images tab, upgrade cluster images through the Clusters tab, see Upgrading an OS Image. The OS Images tab includes a table that describes the available, downloaded, and deleted images in your environment. Refer to the table below for details. Table 1. OS Images TableParameterDescriptionImage VersionThe Linux distribution and image version.Release NotesA link to the release notes for the indicated OS image.SizeThe size of the OS image (GiB).Download StatusThe status of the image on your Karbon deployment (Download, Downloading, and Downloaded).", "Heading_Keywords": ["os", "imag"]}, {"Heading": "Cluster Administration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-administer-c.html", "Document Name": "Nutanix Karbon Guide", "Content": "Manage your Kubernetes clusters.After deploying Karbon and creating Kubernetes clusters, manage nodes, images, user access, and other aspects of your environment. Downloading the KubeconfigDownloading ImagesCreating a Storage ClassCreating a VolumeCreate a Persistent Volume (PV) for your cluster.Adding Worker NodesAccess and AuthenticationLogging on to the KarbonctlUse the indicated CLI command to log on to the karbonctl.Downloading the KubeconfigBefore you beginThe Kubeconfig is a configuration file for running kubectl commands against the deployed Kubernetes cluster. The Kubeconfig token expires after 24 hours. Ensure that you have downloaded kubectl to the machine from which you manage the cluster.About this taskTo deploy applications on your cluster using kubectl, download the Kubernetes cluster configuration file (Kubeconfig) to your host.ProcedureIn the Clusters view, select a cluster from the list by checking the adjacent box.Click the Actions drop-down. Click Download Kubeconfig.Figure. Kubeconfig ButtonClick to enlargeUnder Instructions, click Download. Run the kubeconfig commands by doing one of the following:Click Copy the command to clipboard  and run the command to finish the download process.Manually run the required commands (continue to step 6).In the command below, replace the path to the prod1-kubectl.cfg file with the path to the downloaded file and the file name as it appears in your directory. Run the following command on your host.$ export KUBECONFIG=/path/to/prod1-kubectl.cfgYou have set the Kubeconfig environment variable.Run the following commands to test the cluster.$ kubectl cluster-info\n$ kubectl get nodes\n$ kubectl get pods --all-namespaces\nDownloading ImagesAbout this taskDeploying Kubernetes clusters in Karbon requires a CentOS image. You must choose from a CentOS version and download the image. Caution: You must use one of the images provided by Nutanix. About this taskFollow these steps to download a node OS image.ProcedureIn Karbon, click the OS Images tab in the menu pane.Click Download to start the download process.The Download Status column will show the progress of the download. Creating a Storage ClassAbout this taskAfter you create your first cluster and your first storage class, you can create additional storage classes through the Storage Class tab. Caution: Karbon does not automatically recognize changes to a PE password. Nutanix recommends using a dedicated PE user admin for storage class creation. If you change the PE password associated with a storage class, immediately update the associated Kubernetes secret and Docker Volume Plugin (DVP) credentials.Note: Changes to the Cluster Virtual IP in Prism Element affect the storage class configuration. For Cluster Virtual IP update assistance, contact Nutanix Support. Note: The first time you create a cluster, you also create the default storage class. Refer to Kubernetes documentation for directions on changing the default storage class. Follow these steps to create a storage class.ProcedureIn the Clusters view, click the target clusterIn the menu pane, click Storage Class.Click the Create Storage Class button. (For Nutanix Files go to step 5) For Nutanix Volumes storage, do the following in the indicated fields:Volume Type: Select Nutanix Volumes.Storage Class Name: Enter the name for the storage class. The name must start with a letter or a number. Only use lowercase alphanumeric characters, hyphens, and periods (maximum 253 characters). Nutanix Cluster: Select the target cluster for allocating storage for stateful pods. Cluster Username: Enter your Prism Element username.Cluster Password: Enter your Prism Element password.Storage Container Name: Select the storage container to user for persistent volumes (PVs).File System: Select the file system for the storage class (xfs or ext4). Reclaim Policy: The Reclaim Policy specifies what the cluster should do with the volume once it is not in use. Select Delete or Retain. Enable Flash Mode: Check this box for improved performance. With Flash Mode, Karbon uses only SSDs in the hot-tier for storage.Note: Some storage is automatically provisioned for node and system pod logs based on the size of the cluster.Continue to step 6. Figure. Nutanix Volumes - Storage Class Click to enlargeFor Nutanix Files storage, do the following in the indicated fields: Volume Type: Select Nutanix Files.Storage Class Name: Enter the name for the storage class. The name must start with a letter or a number. Only use lowercase alphanumeric characters, hyphens, and periods (maximum 253 characters). NFS Export Endpoint: Enter the endpoint withing the NFS export. The endpoint must be a host name or an IP address.NFS Export Path: Enter the path to the NFS export endpoint.Reclaim Policy: The Reclaim Policy specifies what the cluster should do with the volume once it is not in use. Select Delete or Retain. Note: Some storage is automatically provisioned for node and system pod logs based on the size of the cluster.Figure. Nutanix Files - Storage ClassClick to enlargeClick Create.Deleting a Storage ClassDeleting a Storage ClassAbout this taskFollow these steps to delete a storage class.ProcedureIn the Clusters view, click the target cluster.In the menu pane, click Storage Class. Check the box for the storage class you want to delete. Click the Delete Storage Class button.Creating a VolumeCreate a Persistent Volume (PV) for your cluster.About this taskProcedureIn the Clusters view, click the target cluster.In the menu pane, click Volume.Click Create Volume.Do the following in the indicated fields; Claim Name: Enter a name for the Persistent Volume ClaimNamespace: Select a namespace for the PVC.Storage Class: Select a storage class.Access Mode: Select an access mode from Read-Write-Once or Read-Only-Many.Volume: Enter the size for the volume (GiB). Figure. Create Volume WindowClick to enlargeClick Create.Deleting a VolumeDeleting a VolumeAbout this taskFollow these steps to delete a volume.ProcedureIn the Clusters view, click the target cluster.In the menu pane, click Volume. Check the box for the volume you want to delete. Click the Delete Volume button.Adding Worker NodesAbout this taskPerform the following steps as indicated to add a worker node to your cluster.ProcedureIn the Clusters view, click the target clusterIn the menu pane, click Nodes > Worker.Click the + Add Worker button.Perform the following steps in the indicated fields:Node Pool: Select a node pool.Number of Nodes: Enter the number of worker nodes to add to the cluster.Note: The entries for Memory, Disk Space, and VCPU auto-populate and cannot be modified.Figure. Add Worker WindowClick to enlargeClick Create.Deleting a Worker NodeDeleting a Worker NodeAbout this taskFollow these steps to delete a worker node.ProcedureIn the Clusters view, click the target cluster.In the menu pane, click Nodes > Worker. Check the box for the worker node you want to delete. Click the Delete Worker button.Access and AuthenticationPrism Central (PC) administrators with the \"User Admin\" role have full access to Karbon and its functionalities. PC admin that do not have the \"User Admin\" role (Cluster Admin and Viewer) can only access Karbon to download the kubeconfig but cannot perform any other administrative tasks using the Karbon Console, see \"User Management\" in the Prism Web Console Guide for steps on assigning roles. You must configure Karbon users to a directory service in Prism. See Security Management in the Prism Web Console Guide for directions on configuring a directory service. After setting up and testing your cluster, configure role-based access control (RBAC), see Kubernetes documentation for reference. To access a node in the cluster, you must receive an ephemeral certificate, see Accessing Locked Nodes.Accessing Locked NodesAccessing Locked NodesAbout this taskKarbon protects all nodes in a cluster. You can access nodes in a Kubernetes cluster using an ephemeral certificate, which expires after 24-hours. Perform the following steps to get a certificate.ProcedureIn the Clusters view, select the target cluster. Click the SSH Access button.In the Node SSH Access window, click Download to download and save the SSH access script to your client.Figure. Node SSH AccessClick to enlargeRun the following command. sh <cluster_name>-ssh-access.shWhen prompted, enter the IP of any node in the cluster to get access to all nodes. Karbon grants the user a private key.Log on to the target node as a Nutanix user using the command line.Logging on to the KarbonctlUse the indicated CLI command to log on to the karbonctl.About this task The karbonctol is the Krbon command line utility that you can use to manage Karbon.Procedure Log on to karbonctl from a PC cluster.nutanix@pcvm$ ./karbon/karbonctl login --pc-username username \\ \n--pc-password password cc", "Heading_Keywords": ["cluster", "administr"]}, {"Heading": "Downloading the Kubeconfig", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-download-kubeconfig-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "Before you beginThe Kubeconfig is a configuration file for running kubectl commands against the deployed Kubernetes cluster. The Kubeconfig token expires after 24 hours. Ensure that you have downloaded kubectl to the machine from which you manage the cluster.About this taskTo deploy applications on your cluster using kubectl, download the Kubernetes cluster configuration file (Kubeconfig) to your host.ProcedureIn the Clusters view, select a cluster from the list by checking the adjacent box.Click the Actions drop-down. Click Download Kubeconfig.Figure. Kubeconfig ButtonClick to enlargeUnder Instructions, click Download. Run the kubeconfig commands by doing one of the following:Click Copy the command to clipboard  and run the command to finish the download process.Manually run the required commands (continue to step 6).In the command below, replace the path to the prod1-kubectl.cfg file with the path to the downloaded file and the file name as it appears in your directory. Run the following command on your host.$ export KUBECONFIG=/path/to/prod1-kubectl.cfgYou have set the Kubeconfig environment variable.Run the following commands to test the cluster.$ kubectl cluster-info\n$ kubectl get nodes\n$ kubectl get pods --all-namespaces\n", "Heading_Keywords": ["download", "kubeconfig"]}, {"Heading": "Downloading Images", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-upload-image-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "About this taskDeploying Kubernetes clusters in Karbon requires a CentOS image. You must choose from a CentOS version and download the image. Caution: You must use one of the images provided by Nutanix. About this taskFollow these steps to download a node OS image.ProcedureIn Karbon, click the OS Images tab in the menu pane.Click Download to start the download process.The Download Status column will show the progress of the download. ", "Heading_Keywords": ["download", "imag"]}, {"Heading": "Creating a Storage Class", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-storage-class-create-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "About this taskAfter you create your first cluster and your first storage class, you can create additional storage classes through the Storage Class tab. Caution: Karbon does not automatically recognize changes to a PE password. Nutanix recommends using a dedicated PE user admin for storage class creation. If you change the PE password associated with a storage class, immediately update the associated Kubernetes secret and Docker Volume Plugin (DVP) credentials.Note: Changes to the Cluster Virtual IP in Prism Element affect the storage class configuration. For Cluster Virtual IP update assistance, contact Nutanix Support. Note: The first time you create a cluster, you also create the default storage class. Refer to Kubernetes documentation for directions on changing the default storage class. Follow these steps to create a storage class.ProcedureIn the Clusters view, click the target clusterIn the menu pane, click Storage Class.Click the Create Storage Class button. (For Nutanix Files go to step 5) For Nutanix Volumes storage, do the following in the indicated fields:Volume Type: Select Nutanix Volumes.Storage Class Name: Enter the name for the storage class. The name must start with a letter or a number. Only use lowercase alphanumeric characters, hyphens, and periods (maximum 253 characters). Nutanix Cluster: Select the target cluster for allocating storage for stateful pods. Cluster Username: Enter your Prism Element username.Cluster Password: Enter your Prism Element password.Storage Container Name: Select the storage container to user for persistent volumes (PVs).File System: Select the file system for the storage class (xfs or ext4). Reclaim Policy: The Reclaim Policy specifies what the cluster should do with the volume once it is not in use. Select Delete or Retain. Enable Flash Mode: Check this box for improved performance. With Flash Mode, Karbon uses only SSDs in the hot-tier for storage.Note: Some storage is automatically provisioned for node and system pod logs based on the size of the cluster.Continue to step 6. Figure. Nutanix Volumes - Storage Class Click to enlargeFor Nutanix Files storage, do the following in the indicated fields: Volume Type: Select Nutanix Files.Storage Class Name: Enter the name for the storage class. The name must start with a letter or a number. Only use lowercase alphanumeric characters, hyphens, and periods (maximum 253 characters). NFS Export Endpoint: Enter the endpoint withing the NFS export. The endpoint must be a host name or an IP address.NFS Export Path: Enter the path to the NFS export endpoint.Reclaim Policy: The Reclaim Policy specifies what the cluster should do with the volume once it is not in use. Select Delete or Retain. Note: Some storage is automatically provisioned for node and system pod logs based on the size of the cluster.Figure. Nutanix Files - Storage ClassClick to enlargeClick Create.Deleting a Storage ClassDeleting a Storage ClassAbout this taskFollow these steps to delete a storage class.ProcedureIn the Clusters view, click the target cluster.In the menu pane, click Storage Class. Check the box for the storage class you want to delete. Click the Delete Storage Class button.", "Heading_Keywords": ["creat", "storag", "class"]}, {"Heading": "Deleting a Storage Class", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-storageclass-delete-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "About this taskFollow these steps to delete a storage class.ProcedureIn the Clusters view, click the target cluster.In the menu pane, click Storage Class. Check the box for the storage class you want to delete. Click the Delete Storage Class button.", "Heading_Keywords": ["delet", "storag", "class"]}, {"Heading": "Creating a Volume", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-volume-create-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "Create a Persistent Volume (PV) for your cluster.About this taskProcedureIn the Clusters view, click the target cluster.In the menu pane, click Volume.Click Create Volume.Do the following in the indicated fields; Claim Name: Enter a name for the Persistent Volume ClaimNamespace: Select a namespace for the PVC.Storage Class: Select a storage class.Access Mode: Select an access mode from Read-Write-Once or Read-Only-Many.Volume: Enter the size for the volume (GiB). Figure. Create Volume WindowClick to enlargeClick Create.Deleting a VolumeDeleting a VolumeAbout this taskFollow these steps to delete a volume.ProcedureIn the Clusters view, click the target cluster.In the menu pane, click Volume. Check the box for the volume you want to delete. Click the Delete Volume button.", "Heading_Keywords": ["creat", "volum"]}, {"Heading": "Deleting a Volume", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-volume-delete-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "About this taskFollow these steps to delete a volume.ProcedureIn the Clusters view, click the target cluster.In the menu pane, click Volume. Check the box for the volume you want to delete. Click the Delete Volume button.", "Heading_Keywords": ["delet", "volum"]}, {"Heading": "Adding Worker Nodes", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-worker-add-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "About this taskPerform the following steps as indicated to add a worker node to your cluster.ProcedureIn the Clusters view, click the target clusterIn the menu pane, click Nodes > Worker.Click the + Add Worker button.Perform the following steps in the indicated fields:Node Pool: Select a node pool.Number of Nodes: Enter the number of worker nodes to add to the cluster.Note: The entries for Memory, Disk Space, and VCPU auto-populate and cannot be modified.Figure. Add Worker WindowClick to enlargeClick Create.Deleting a Worker NodeDeleting a Worker NodeAbout this taskFollow these steps to delete a worker node.ProcedureIn the Clusters view, click the target cluster.In the menu pane, click Nodes > Worker. Check the box for the worker node you want to delete. Click the Delete Worker button.", "Heading_Keywords": ["ad", "worker", "node"]}, {"Heading": "Deleting a Worker Node", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-worker-delete-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "About this taskFollow these steps to delete a worker node.ProcedureIn the Clusters view, click the target cluster.In the menu pane, click Nodes > Worker. Check the box for the worker node you want to delete. Click the Delete Worker button.", "Heading_Keywords": ["delet", "worker", "node"]}, {"Heading": "Access and Authentication", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-access-c.html", "Document Name": "Nutanix Karbon Guide", "Content": "Prism Central (PC) administrators with the \"User Admin\" role have full access to Karbon and its functionalities. PC admin that do not have the \"User Admin\" role (Cluster Admin and Viewer) can only access Karbon to download the kubeconfig but cannot perform any other administrative tasks using the Karbon Console, see \"User Management\" in the Prism Web Console Guide for steps on assigning roles. You must configure Karbon users to a directory service in Prism. See Security Management in the Prism Web Console Guide for directions on configuring a directory service. After setting up and testing your cluster, configure role-based access control (RBAC), see Kubernetes documentation for reference. To access a node in the cluster, you must receive an ephemeral certificate, see Accessing Locked Nodes.Accessing Locked NodesAccessing Locked NodesAbout this taskKarbon protects all nodes in a cluster. You can access nodes in a Kubernetes cluster using an ephemeral certificate, which expires after 24-hours. Perform the following steps to get a certificate.ProcedureIn the Clusters view, select the target cluster. Click the SSH Access button.In the Node SSH Access window, click Download to download and save the SSH access script to your client.Figure. Node SSH AccessClick to enlargeRun the following command. sh <cluster_name>-ssh-access.shWhen prompted, enter the IP of any node in the cluster to get access to all nodes. Karbon grants the user a private key.Log on to the target node as a Nutanix user using the command line.", "Heading_Keywords": ["access", "authent"]}, {"Heading": "Accessing Locked Nodes", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-access-vms-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "About this taskKarbon protects all nodes in a cluster. You can access nodes in a Kubernetes cluster using an ephemeral certificate, which expires after 24-hours. Perform the following steps to get a certificate.ProcedureIn the Clusters view, select the target cluster. Click the SSH Access button.In the Node SSH Access window, click Download to download and save the SSH access script to your client.Figure. Node SSH AccessClick to enlargeRun the following command. sh <cluster_name>-ssh-access.shWhen prompted, enter the IP of any node in the cluster to get access to all nodes. Karbon grants the user a private key.Log on to the target node as a Nutanix user using the command line.", "Heading_Keywords": ["access", "lock", "node"]}, {"Heading": "Logging on to the Karbonctl", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-logon-karbonctl-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "Use the indicated CLI command to log on to the karbonctl.About this task The karbonctol is the Krbon command line utility that you can use to manage Karbon.Procedure Log on to karbonctl from a PC cluster.nutanix@pcvm$ ./karbon/karbonctl login --pc-username username \\ \n--pc-password password cc", "Heading_Keywords": ["log", "karbonctl"]}, {"Heading": "Upgrades", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-upgrades-c.html", "Document Name": "Nutanix Karbon Guide", "Content": "There are two different types of Karbon upgrades: Karbon version upgrades using the Life Cycle Management feature, see Karbon Upgrades.Node OS image upgrade, see Upgrading an OS Image.Perform LCM upgrades through Prism Central (PC). Karbon is part of the PC upgrades module in LCM. LCM upgrades the following Karbon components: Karbon versionKarbon UIPerform node OS image upgrades through Karbon. When a node OS image upgrade is available, Karbon displays an option to download the new image in the OS Images tab, see OS Images. Karbon also displays an Upgrade Available icon next to the cluster in the Clusters view, see Upgrading an OS Image.Karbon UpgradesUpgrading an OS ImageUpgrade the node OS images for your cluster. Upgrading KubernetesUpgrade the Kubernetes version of your cluster.Upgrading the Karbon AirgapUpgrade the Karbon aigrap using the Life-Cycle Manager (LCM).Updating OS Images and Kubernetes for AirgapTo upgrade OS images or the Kubernetes version on the airgap, upload Karbon Airgap bundle and manifest files to a web server.Karbon UpgradesTo upgrade Karbon, use the Life Cycle Manager (LCM) in Prism Central. Ensure that you are running a compatible version of Prism Central (PC), Prism Element, and AOS, see the Karbon Release Notes for compatibility details. Note: After enabling PC-scale out, upgrade all PC nodes to a compatible version of Karbon. Technical Preview Versions of Karbon Perform the following tasks to upgrade from a technical preview to a general availability (GA). Upgrade to a compatible version of Prism Central using LCM in Prism Central, see the most recent version of the Life Cycle Management Guide.Delete any clusters created during technical preview. Note: You cannot upgrade to a GA version of Karbon without first deleting clusters created during technical preview. An error message shows up Perform inventory in LCM and update to a GA version of Karbon. First Time Karbon UsersPerform the following tasks to install Karbon in your environment. Perform an inventory and upgrade to a compatible version of PC using the Life Cycle Management (LCM) feature in PC see the Life Cycle Management Guide.Enable Karbon, see Enabling Karbon .In LCM, perform inventory and update Karbon to an available GA version.Upgrading an OS ImageUpgrade the node OS images for your cluster. About this taskCaution: Upgrading a node OS image clears the contents of the /dev/sda boot disk. Ensure that the /dev/sda disk does not contain any persistent content or files.Note: Karbon supports legacy images on existing clusters. Existing Kubernetes clusters do not require an image upgrade. ProcedureIn Karbon, go to the Clusters view.Select a cluster by checking the box next to the cluster name.Note: Clusters that have an image eligible for an upgrade display the Upgrade Available icon.Click the Actions button.Click Upgrade Node Image.Download the target image.Upgrade using previously downloaded image (continue to step 6).In the Upgrade Host Image OS window, click Download to download the target image. Wait for the image to download.Select the target image, and click Upgrade.The status of the upgrade displays under Status on the Clusters page. More details about the upgrade display on the Tasks tile. Upgrading KubernetesUpgrade the Kubernetes version of your cluster.About this taskUse the karbonctl to perform Kubernetes upgrades, see Logging on to the Karbonctl for steps to log on to the karbonctl.Procedure List Kubernetes versions and names of existing clusters.nutanix@pcvm$ ./karbon/karbonctl cluster list Get the latest add-on versions.nutanix@pcvm$ ./karbon/karbonctl k8s get-from-portal Get the list of compatible upgrade paths.nutanix@pcvm$ ./karbon/karbonctl cluster k8s get-compatible-versions --cluster-name cluster name Upgrade the cluster to the specified Kubernetes version.Note: The package consists of Kubernetes and add-on versions. Currently, Karbon only supports the Kubernetes version.nutanix@pcvm$ ./karbon/karbonctl cluster k8s upgrade --cluster-name cluster name \\\n--package-version package versionWhat to do nextCheck the upgrade status in the Tasks view, or using karbonctl. nutanix@pcvm$ ./karbon/karbonctl cluster k8s upgrade status --cluster-name cluster nameUpgrading the Karbon AirgapUpgrade the Karbon aigrap using the Life-Cycle Manager (LCM).About this taskBefore you beginYou need a local web server reachable by your Nutanix clusters to host the LCM repository. Note: Karbon airgap upgrades using Prism Central (PC) 5.16.1.2. cause an error. Upgrade PC 5.16.1.2. before attempting to upgrade the airgap.ProcedureFrom a device that has public Internet access, go to Nutanix Portal > Downloads  > LCM. Next to LCM Dark Site Bundle (version), click Download to download the lcm_dark_site_bundle_version.tar.gz. file.Transfer lcm_dark_site_bundle_version.tar.gz. to your local web server and untar into the release directory.From a device that has public Internet access, go to the Nutanix portal and navigate to Downloads  > Karbon.Next to  LCM Darksite bundle for Karbon , click Download to download the lcm-darksite_karbon-builds_version-number.tar.gz file.Transfer lcm-darksite_karbon-builds_version-number.tar.gz to your local web server and untar into the release directory.Log on to Prism Central.Click Home  > LCM > Settings.In the Fetch updates from field, enter the path to the directory where you extracted the tar file on your local server. Use the format http://webserver_IP_address/release.Click Save.You return to the Life Cycle Manager.In the LCM sidebar, click Inventory > Perform Inventory. Update the LCM framework before trying to update any other component. The LCM sidebar shows the LCM framework with the same version as the file you downloaded.Updating OS Images and Kubernetes for AirgapTo upgrade OS images or the Kubernetes version on the airgap, upload Karbon Airgap bundle and manifest files to a web server.Before you beginReview Karbon Release Notes for image compatibility details.Create directory ntnx-version-number on your local web server.Note: As a best practice, use the full version number (for example, 2.0.0 or 2.0.1).About this taskProcedureFrom a device that has public Internet access, go to Support Portal > collapse menu icon > Downloads > Karbon.Under Download Karbon Airgap bundle and manifest files, do the following.Click Karbon Airgap bundle to download airgap-ntnx-version-number.tar.gz. Click Airgap Manifest to download airgap-manifest.json. Tip: Verify that the Karbon version in the airgap-manifest.json is for a version that includes new images. Transfer airgap-ntnx-version-number.tar.gz and airgap-manifest.json files to a local web server. Transfer and untar the files in the ntnx-version-number directory.Log on to karbonctl, see Logging on to the Karbonctl.Upload the new images to the airgap. Replace airgap-UUID with the universally unique identifier for the airgap. Replace webserver-directory-URL with the URL for the directory you transferred files to in step 3.nutanix@pcvm$ ./karbon/karbonctl airgap package-upload --airgap-uuid airgap-UUID \\\n--webserver-url webserver-directory-URLFollow steps in Upgrading an OS Image to upgrade an OS image for a cluster. To upgrade the Kubernetes version, follow steps in Upgrading Kubernetes.", "Heading_Keywords": ["upgrad"]}, {"Heading": "Karbon Upgrades", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-upgrades-lcm-c.html", "Document Name": "Nutanix Karbon Guide", "Content": "To upgrade Karbon, use the Life Cycle Manager (LCM) in Prism Central. Ensure that you are running a compatible version of Prism Central (PC), Prism Element, and AOS, see the Karbon Release Notes for compatibility details. Note: After enabling PC-scale out, upgrade all PC nodes to a compatible version of Karbon. Technical Preview Versions of Karbon Perform the following tasks to upgrade from a technical preview to a general availability (GA). Upgrade to a compatible version of Prism Central using LCM in Prism Central, see the most recent version of the Life Cycle Management Guide.Delete any clusters created during technical preview. Note: You cannot upgrade to a GA version of Karbon without first deleting clusters created during technical preview. An error message shows up Perform inventory in LCM and update to a GA version of Karbon. First Time Karbon UsersPerform the following tasks to install Karbon in your environment. Perform an inventory and upgrade to a compatible version of PC using the Life Cycle Management (LCM) feature in PC see the Life Cycle Management Guide.Enable Karbon, see Enabling Karbon .In LCM, perform inventory and update Karbon to an available GA version.", "Heading_Keywords": ["karbon", "upgrad"]}, {"Heading": "Upgrading an OS Image", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-image-upgrade-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "Upgrade the node OS images for your cluster. About this taskCaution: Upgrading a node OS image clears the contents of the /dev/sda boot disk. Ensure that the /dev/sda disk does not contain any persistent content or files.Note: Karbon supports legacy images on existing clusters. Existing Kubernetes clusters do not require an image upgrade. ProcedureIn Karbon, go to the Clusters view.Select a cluster by checking the box next to the cluster name.Note: Clusters that have an image eligible for an upgrade display the Upgrade Available icon.Click the Actions button.Click Upgrade Node Image.Download the target image.Upgrade using previously downloaded image (continue to step 6).In the Upgrade Host Image OS window, click Download to download the target image. Wait for the image to download.Select the target image, and click Upgrade.The status of the upgrade displays under Status on the Clusters page. More details about the upgrade display on the Tasks tile. ", "Heading_Keywords": ["upgrad", "os", "imag"]}, {"Heading": "Upgrading Kubernetes", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-kubernetes-upgrade-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "Upgrade the Kubernetes version of your cluster.About this taskUse the karbonctl to perform Kubernetes upgrades, see Logging on to the Karbonctl for steps to log on to the karbonctl.Procedure List Kubernetes versions and names of existing clusters.nutanix@pcvm$ ./karbon/karbonctl cluster list Get the latest add-on versions.nutanix@pcvm$ ./karbon/karbonctl k8s get-from-portal Get the list of compatible upgrade paths.nutanix@pcvm$ ./karbon/karbonctl cluster k8s get-compatible-versions --cluster-name cluster name Upgrade the cluster to the specified Kubernetes version.Note: The package consists of Kubernetes and add-on versions. Currently, Karbon only supports the Kubernetes version.nutanix@pcvm$ ./karbon/karbonctl cluster k8s upgrade --cluster-name cluster name \\\n--package-version package versionWhat to do nextCheck the upgrade status in the Tasks view, or using karbonctl. nutanix@pcvm$ ./karbon/karbonctl cluster k8s upgrade status --cluster-name cluster name", "Heading_Keywords": ["upgrad", "kubernet"]}, {"Heading": "Upgrading the Karbon Airgap", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-airgap-upgrade-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "Upgrade the Karbon aigrap using the Life-Cycle Manager (LCM).About this taskBefore you beginYou need a local web server reachable by your Nutanix clusters to host the LCM repository. Note: Karbon airgap upgrades using Prism Central (PC) 5.16.1.2. cause an error. Upgrade PC 5.16.1.2. before attempting to upgrade the airgap.ProcedureFrom a device that has public Internet access, go to Nutanix Portal > Downloads  > LCM. Next to LCM Dark Site Bundle (version), click Download to download the lcm_dark_site_bundle_version.tar.gz. file.Transfer lcm_dark_site_bundle_version.tar.gz. to your local web server and untar into the release directory.From a device that has public Internet access, go to the Nutanix portal and navigate to Downloads  > Karbon.Next to  LCM Darksite bundle for Karbon , click Download to download the lcm-darksite_karbon-builds_version-number.tar.gz file.Transfer lcm-darksite_karbon-builds_version-number.tar.gz to your local web server and untar into the release directory.Log on to Prism Central.Click Home  > LCM > Settings.In the Fetch updates from field, enter the path to the directory where you extracted the tar file on your local server. Use the format http://webserver_IP_address/release.Click Save.You return to the Life Cycle Manager.In the LCM sidebar, click Inventory > Perform Inventory. Update the LCM framework before trying to update any other component. The LCM sidebar shows the LCM framework with the same version as the file you downloaded.", "Heading_Keywords": ["upgrad", "karbon", "airgap"]}, {"Heading": "Updating OS Images and Kubernetes for Airgap", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-airgap-image-update-t.html", "Document Name": "Nutanix Karbon Guide", "Content": "To upgrade OS images or the Kubernetes version on the airgap, upload Karbon Airgap bundle and manifest files to a web server.Before you beginReview Karbon Release Notes for image compatibility details.Create directory ntnx-version-number on your local web server.Note: As a best practice, use the full version number (for example, 2.0.0 or 2.0.1).About this taskProcedureFrom a device that has public Internet access, go to Support Portal > collapse menu icon > Downloads > Karbon.Under Download Karbon Airgap bundle and manifest files, do the following.Click Karbon Airgap bundle to download airgap-ntnx-version-number.tar.gz. Click Airgap Manifest to download airgap-manifest.json. Tip: Verify that the Karbon version in the airgap-manifest.json is for a version that includes new images. Transfer airgap-ntnx-version-number.tar.gz and airgap-manifest.json files to a local web server. Transfer and untar the files in the ntnx-version-number directory.Log on to karbonctl, see Logging on to the Karbonctl.Upload the new images to the airgap. Replace airgap-UUID with the universally unique identifier for the airgap. Replace webserver-directory-URL with the URL for the directory you transferred files to in step 3.nutanix@pcvm$ ./karbon/karbonctl airgap package-upload --airgap-uuid airgap-UUID \\\n--webserver-url webserver-directory-URLFollow steps in Upgrading an OS Image to upgrade an OS image for a cluster. To upgrade the Kubernetes version, follow steps in Upgrading Kubernetes.", "Heading_Keywords": ["updat", "os", "imag", "kubernet", "airgap"]}, {"Heading": "Add-Ons", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-addons-c.html", "Document Name": "Nutanix Karbon Guide", "Content": "Karbon add-ons are open source software extensions that provide additional features to your deployment. The add-ons are automatically installed when you enable Karbon. Karbon includes the following add-ons: A logging add-on powered by Kibana, see LoggingA monitoring add-on powered by Prometheus, see MonitoringLoggingMonitoringLoggingKibana, a data visualization plug-in, is the Karbon logging add-on. The Kibana dashboard has a custom tab for the LogTrail plugin that displays data for the selected namespaces. By default, LogTrail is configured to display logs for the system namespaces of the Kubernetes cluster: kube-system and ntnx-logging.Note: Do not delete or modify the supporting namespaces.Figure. Kibana Add-OnClick to enlargeSettingsThe Settings filter displays logs for the selected entity. Kibana displays the hostname in orange and the pod name in blue. Click the colored text to filter by pod or hostname.You can select the following logging options from the Settings tab:Table 1. Logging SettingsSettingDescriptionkubernetes-* (default)Displays logs for pods running in the kube-system and ntnx-logging namespaces.systemd-*Displays logs for the kubelet master and worker services of every node.etcd-*Displays logs from etcd services running on etcd VMs.All SystemsBy default, the All Systems tab displays logs from all nodes. You can also use it to filter the display to only show logs for specific nodes.MonitoringThe built-in Prometheus add-on provides monitoring for Kubernetes clusters. Prometheus scans clusters for health and consumption, provides data for metrics, and triggers alerts and notifications that appear in the Karbon Console.Prometheus feeds data to the alerts tab in the Karbon user interface (UI). Note: Do not delete or modify the supporting namespaces.", "Heading_Keywords": ["add", "on"]}, {"Heading": "Logging", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-logging-r.html", "Document Name": "Nutanix Karbon Guide", "Content": "Kibana, a data visualization plug-in, is the Karbon logging add-on. The Kibana dashboard has a custom tab for the LogTrail plugin that displays data for the selected namespaces. By default, LogTrail is configured to display logs for the system namespaces of the Kubernetes cluster: kube-system and ntnx-logging.Note: Do not delete or modify the supporting namespaces.Figure. Kibana Add-OnClick to enlargeSettingsThe Settings filter displays logs for the selected entity. Kibana displays the hostname in orange and the pod name in blue. Click the colored text to filter by pod or hostname.You can select the following logging options from the Settings tab:Table 1. Logging SettingsSettingDescriptionkubernetes-* (default)Displays logs for pods running in the kube-system and ntnx-logging namespaces.systemd-*Displays logs for the kubelet master and worker services of every node.etcd-*Displays logs from etcd services running on etcd VMs.All SystemsBy default, the All Systems tab displays logs from all nodes. You can also use it to filter the display to only show logs for specific nodes.", "Heading_Keywords": ["log"]}, {"Heading": "Monitoring", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Karbon-v2_1:kar-karbon-monitoring-c.html", "Document Name": "Nutanix Karbon Guide", "Content": "The built-in Prometheus add-on provides monitoring for Kubernetes clusters. Prometheus scans clusters for health and consumption, provides data for metrics, and triggers alerts and notifications that appear in the Karbon Console.Prometheus feeds data to the alerts tab in the Karbon user interface (UI). Note: Do not delete or modify the supporting namespaces.", "Heading_Keywords": ["monitor"]}, {"Heading": "Foundation Central", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Foundation-Central-v1_0:v10-foundation-central-c.html", "Document Name": "Foundation Central Guide", "Content": "Foundation Central OverviewFoundation Central can create clusters from factory-imaged nodes and reimage existing nodes that are already registered with Foundation Central, remotely from Prism Central. This provides benefit such as creating cluster on remote sites such as ROBO, without arranging for a deployment personnel visit.LimitationsFoundation Central has the following limitations:Foundation Central supports creation of one node cluster without imaging on factory shipped nodes with AOS and any hypervisor installed.Foundation Central supports creation of one node cluster with imaging only on nodes that are shipped out of factory with DiscoveryOS installed.Note: If you want to create a one or two-node cluster, ensure that the nodes you select support the creation of a one or two-node cluster.Imaging logs of the remote node are not available on Prism Central. These logs are only accessible within the nodes.It does not support VLAN tagging of the remote nodes.It does not support updating the CVM memory and hostname for one node cluster creation without imaging.If the remote nodes are running DiscoveryOS, then it does not support configuring the IPMI IP", "Heading_Keywords": ["foundat", "central"]}, {"Heading": "Foundation Central Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Foundation-Central-v1_0:v10-foundation-central-overview-c.html", "Document Name": "Foundation Central Guide", "Content": "Foundation Central can create clusters from factory-imaged nodes and reimage existing nodes that are already registered with Foundation Central, remotely from Prism Central. This provides benefit such as creating cluster on remote sites such as ROBO, without arranging for a deployment personnel visit.", "Heading_Keywords": ["foundat", "central", "overview"]}, {"Heading": "Limitations", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Foundation-Central-v1_0:v10-foundation-central-limitations-c.html", "Document Name": "Foundation Central Guide", "Content": "Foundation Central has the following limitations:Foundation Central supports creation of one node cluster without imaging on factory shipped nodes with AOS and any hypervisor installed.Foundation Central supports creation of one node cluster with imaging only on nodes that are shipped out of factory with DiscoveryOS installed.Note: If you want to create a one or two-node cluster, ensure that the nodes you select support the creation of a one or two-node cluster.Imaging logs of the remote node are not available on Prism Central. These logs are only accessible within the nodes.It does not support VLAN tagging of the remote nodes.It does not support updating the CVM memory and hostname for one node cluster creation without imaging.If the remote nodes are running DiscoveryOS, then it does not support configuring the IPMI IP", "Heading_Keywords": ["limit"]}, {"Heading": "Set up Foundation Central", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Foundation-Central-v1_0:v10-set-up-foundation-central-t.html", "Document Name": "Foundation Central Guide", "Content": "This section describes the procedure to set up Foundation Central.Before you beginEnsure that the physical network configuration of the nodes is done.Set up DHCP as it is mandatory to register the nodes with Foundation Central.Supports only factory-imaged nodes.Ensure that you have the login credentials to the Prism Central VM where Foundation Central is used.About this taskPerform the following procedures to set up Foundation Central.ProcedureEnable Foundation Central on Prism CentralConfiguring the DHCP Vendor-Specific Options for NodesEnable Foundation Central on Prism CentralAbout this taskPerform the following steps to enable Foundation Central on a Prism Central VM.ProcedureLog on to the Prism Central VM where you want to deploy Foundation Central.Click the hamburger menu and select Services > Foundation Central.In the Foundation Central screen, click Enable Foundation Central > Enable.Note: You cannot disable Foundation Central after enabling it.To generate an API key, click + Generate Key and provide an alias.You cannot delete this key. It is used to configure the DHCP vendor-specific option later.Note: The Foundation Central log file is available at~/data/logs/foundation_central.out in the Prism Central VM. Configuring the DHCP Vendor-Specific Options for NodesFor the factory-imaged nodes to connect with Foundation Central on the Prism Central VM, they need two values:Foundation Central IP addressNote: If you use Foundation Central in a scale-out PC, the Foundation Central IP address used in DHCP server must be the external IP address of the Prism Central cluster.API keyNote: You can generate the API key on the Settings page in Foundation Central UI, which is assigned to the nodes through DHCP. This key authenticates API communication between the node and Foundation Central. Currently, you cannot delete an API key. Hence, create only the required number of API keys.Note: Ensure that the DHCP server adheres to the DHCP standard described in RFC 2132 so that it supports vendor-specific informationFor imaging nodes booted into DiscoveryOS, the static IPs provided must be from a pool that is different from the DHCP IP pool.The factory-imaged nodes are configured to be in DHCP mode by default. You can configure DHCP servers to provide these two values to the nodes. To configure a Windows or Linux DHCP server, see the following sections:Configure Windows DHCP ServerConfigure Linux DHCP ServerConfigure Windows DHCP ServerConfigures Windows DHCP server to provide Foundation Central IP address and API key to the nodes.Before you beginNote the Foundation Central IP address.Generate an API key on the Settings tab in Foundation Central UI.Using PowerShellAbout this taskTo configure a Windows DHCP server, perform the following steps on the PowerShell window :Note: You can also set up DHCP using Windows GUI. Contact your DHCP vendor to set it up or contact the Nutanix Support team for further assistance.Values set using the PowerShell method can only be read by nodes with Foundation 4.5.1 or higher.ProcedureOn the DHCP server, create a new vendor class. Add the vendor class name \"NutanixFC\" as it is case-sensitive. Add-DhcpServerv4Class -Name \"NutanixFC\" -Type Vendor -Data \"NutanixFC\"In this vendor class, add two vendor-specific options (fc_ip - option code 200, api_key - option code 201).Add-DhcpServerv4OptionDefinition -Name fc_ip -OptionId 200 -Type String -Description \"Foundation Central's IP Address\" -VendorClass NutanixFCAdd-DhcpServerv4OptionDefinition -Name api_key -OptionId 201 -Type String -Description \"API Key obtained from FC\" -VendorClass NutanixFCVerify that the vendor options are added correctly:Get-DhcpServerv4OptionDefinition -VendorClass NutanixFCExample output:Name      OptionId      Type     VendorClass     M\n                                                 u\n                                                 l\n                                                 t\n                                                 i\n                                                 v\n                                                 a\n                                                 l\n                                                 u\n                                                 e\n                                                 d\n----     ---------      ----     -----------     -\nfc_ip    200            String    NutanixFC      F\napi_key  201            String    NutanixFC      FSet the value for the options. For fc_ip set the value to Foundation Central IP address and for api_key set the API key obtained from Foundation Central.Set-DhcpServerv4OptionValue  -VendorClass NutanixFC -OptionId 200 -Value \"<your_fc_ip>\"Set-DhcpServerv4OptionValue  -VendorClass NutanixFC -OptionId 201 -Value \"<your_api_key>\"To verify if the options are set correctly.Get-DhcpServerv4OptionValue -VendorClass NutanixFCExample output:OptionID    Name    Type     Value         VendorClass    UserClass   PolicyName\n--------    ----    ----     -----         -----------    ---------   ----------\n200         fc_ip   String   {10.1.1.1}      NutanixFC\n201         api_key String   {eyJhik....}    NutanixFCConfigure Linux DHCP ServerConfigures Linux DHCP server to provide Foundation Central IP address and API key to nodes.Before you beginNote the Foundation Central IP address.Generate API key on the Settings tab in Foundation Central UI.About this taskPerform the following steps to configure a Linux DHCP server.ProcedureOn the Linux DHCP server, open the DHCP configuration file /etc/dhcp/dhcpd.conf.Create a new vendor class NutanixFC.In the global space, add two vendor-specific options with values as follows:fc_ip (option code 200): Set the value to Foundation Central IP address.api_key (option code 201): Set the value to the API key string.An example vendor-specific option is as follows:option space Nutanix;\noption Nutanix.fc_ip code 200 = string;\noption Nutanix.api_key code 201 = string;\nclass \u201cNutanixFC\u201d {\nmatch if option vendor-class-identifier = \u201cNutanixFC\u201d;\n  \nvendor-option-space Nutanix;\n  \noption Nutanix.fc_ip \u201c10.1.1.1\u201d;\n  \noption Nutanix.api_key \u201ceyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJLZXlVVUlEIjoiZjE2MzBkYzMtODU0OC00YjZiLTZlMWMtZTVlOTU0YjM1NTQ2In0.HB_IdIaFvvyHpfzDzLZMQkHKstRsdiWnEMoqtU4N4kY\u201d;}Save the file and restart the DHCP server.", "Heading_Keywords": ["set", "foundat", "central"]}, {"Heading": "Enable Foundation Central on Prism Central", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Foundation-Central-v1_0:v10-install-foundation-central-on-prism-central-t.html", "Document Name": "Foundation Central Guide", "Content": "About this taskPerform the following steps to enable Foundation Central on a Prism Central VM.ProcedureLog on to the Prism Central VM where you want to deploy Foundation Central.Click the hamburger menu and select Services > Foundation Central.In the Foundation Central screen, click Enable Foundation Central > Enable.Note: You cannot disable Foundation Central after enabling it.To generate an API key, click + Generate Key and provide an alias.You cannot delete this key. It is used to configure the DHCP vendor-specific option later.Note: The Foundation Central log file is available at~/data/logs/foundation_central.out in the Prism Central VM. ", "Heading_Keywords": ["enabl", "foundat", "central", "prism", "central"]}, {"Heading": "Configuring the DHCP Vendor-Specific Options for Nodes", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Foundation-Central-v1_0:v10-dhcp-vendor-specific-options-for-nodes-c.html", "Document Name": "Foundation Central Guide", "Content": "For the factory-imaged nodes to connect with Foundation Central on the Prism Central VM, they need two values:Foundation Central IP addressNote: If you use Foundation Central in a scale-out PC, the Foundation Central IP address used in DHCP server must be the external IP address of the Prism Central cluster.API keyNote: You can generate the API key on the Settings page in Foundation Central UI, which is assigned to the nodes through DHCP. This key authenticates API communication between the node and Foundation Central. Currently, you cannot delete an API key. Hence, create only the required number of API keys.Note: Ensure that the DHCP server adheres to the DHCP standard described in RFC 2132 so that it supports vendor-specific informationFor imaging nodes booted into DiscoveryOS, the static IPs provided must be from a pool that is different from the DHCP IP pool.The factory-imaged nodes are configured to be in DHCP mode by default. You can configure DHCP servers to provide these two values to the nodes. To configure a Windows or Linux DHCP server, see the following sections:Configure Windows DHCP ServerConfigure Linux DHCP ServerConfigure Windows DHCP ServerConfigures Windows DHCP server to provide Foundation Central IP address and API key to the nodes.Before you beginNote the Foundation Central IP address.Generate an API key on the Settings tab in Foundation Central UI.Using PowerShellAbout this taskTo configure a Windows DHCP server, perform the following steps on the PowerShell window :Note: You can also set up DHCP using Windows GUI. Contact your DHCP vendor to set it up or contact the Nutanix Support team for further assistance.Values set using the PowerShell method can only be read by nodes with Foundation 4.5.1 or higher.ProcedureOn the DHCP server, create a new vendor class. Add the vendor class name \"NutanixFC\" as it is case-sensitive. Add-DhcpServerv4Class -Name \"NutanixFC\" -Type Vendor -Data \"NutanixFC\"In this vendor class, add two vendor-specific options (fc_ip - option code 200, api_key - option code 201).Add-DhcpServerv4OptionDefinition -Name fc_ip -OptionId 200 -Type String -Description \"Foundation Central's IP Address\" -VendorClass NutanixFCAdd-DhcpServerv4OptionDefinition -Name api_key -OptionId 201 -Type String -Description \"API Key obtained from FC\" -VendorClass NutanixFCVerify that the vendor options are added correctly:Get-DhcpServerv4OptionDefinition -VendorClass NutanixFCExample output:Name      OptionId      Type     VendorClass     M\n                                                 u\n                                                 l\n                                                 t\n                                                 i\n                                                 v\n                                                 a\n                                                 l\n                                                 u\n                                                 e\n                                                 d\n----     ---------      ----     -----------     -\nfc_ip    200            String    NutanixFC      F\napi_key  201            String    NutanixFC      FSet the value for the options. For fc_ip set the value to Foundation Central IP address and for api_key set the API key obtained from Foundation Central.Set-DhcpServerv4OptionValue  -VendorClass NutanixFC -OptionId 200 -Value \"<your_fc_ip>\"Set-DhcpServerv4OptionValue  -VendorClass NutanixFC -OptionId 201 -Value \"<your_api_key>\"To verify if the options are set correctly.Get-DhcpServerv4OptionValue -VendorClass NutanixFCExample output:OptionID    Name    Type     Value         VendorClass    UserClass   PolicyName\n--------    ----    ----     -----         -----------    ---------   ----------\n200         fc_ip   String   {10.1.1.1}      NutanixFC\n201         api_key String   {eyJhik....}    NutanixFCConfigure Linux DHCP ServerConfigures Linux DHCP server to provide Foundation Central IP address and API key to nodes.Before you beginNote the Foundation Central IP address.Generate API key on the Settings tab in Foundation Central UI.About this taskPerform the following steps to configure a Linux DHCP server.ProcedureOn the Linux DHCP server, open the DHCP configuration file /etc/dhcp/dhcpd.conf.Create a new vendor class NutanixFC.In the global space, add two vendor-specific options with values as follows:fc_ip (option code 200): Set the value to Foundation Central IP address.api_key (option code 201): Set the value to the API key string.An example vendor-specific option is as follows:option space Nutanix;\noption Nutanix.fc_ip code 200 = string;\noption Nutanix.api_key code 201 = string;\nclass \u201cNutanixFC\u201d {\nmatch if option vendor-class-identifier = \u201cNutanixFC\u201d;\n  \nvendor-option-space Nutanix;\n  \noption Nutanix.fc_ip \u201c10.1.1.1\u201d;\n  \noption Nutanix.api_key \u201ceyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJLZXlVVUlEIjoiZjE2MzBkYzMtODU0OC00YjZiLTZlMWMtZTVlOTU0YjM1NTQ2In0.HB_IdIaFvvyHpfzDzLZMQkHKstRsdiWnEMoqtU4N4kY\u201d;}Save the file and restart the DHCP server.", "Heading_Keywords": ["configur", "dhcp", "vendor", "specif", "option", "node"]}, {"Heading": "Configure Windows DHCP Server", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Foundation-Central-v1_0:v10-configure-windows-dhcp-server-t.html", "Document Name": "Foundation Central Guide", "Content": "Configures Windows DHCP server to provide Foundation Central IP address and API key to the nodes.Before you beginNote the Foundation Central IP address.Generate an API key on the Settings tab in Foundation Central UI.Using PowerShellAbout this taskTo configure a Windows DHCP server, perform the following steps on the PowerShell window :Note: You can also set up DHCP using Windows GUI. Contact your DHCP vendor to set it up or contact the Nutanix Support team for further assistance.Values set using the PowerShell method can only be read by nodes with Foundation 4.5.1 or higher.ProcedureOn the DHCP server, create a new vendor class. Add the vendor class name \"NutanixFC\" as it is case-sensitive. Add-DhcpServerv4Class -Name \"NutanixFC\" -Type Vendor -Data \"NutanixFC\"In this vendor class, add two vendor-specific options (fc_ip - option code 200, api_key - option code 201).Add-DhcpServerv4OptionDefinition -Name fc_ip -OptionId 200 -Type String -Description \"Foundation Central's IP Address\" -VendorClass NutanixFCAdd-DhcpServerv4OptionDefinition -Name api_key -OptionId 201 -Type String -Description \"API Key obtained from FC\" -VendorClass NutanixFCVerify that the vendor options are added correctly:Get-DhcpServerv4OptionDefinition -VendorClass NutanixFCExample output:Name      OptionId      Type     VendorClass     M\n                                                 u\n                                                 l\n                                                 t\n                                                 i\n                                                 v\n                                                 a\n                                                 l\n                                                 u\n                                                 e\n                                                 d\n----     ---------      ----     -----------     -\nfc_ip    200            String    NutanixFC      F\napi_key  201            String    NutanixFC      FSet the value for the options. For fc_ip set the value to Foundation Central IP address and for api_key set the API key obtained from Foundation Central.Set-DhcpServerv4OptionValue  -VendorClass NutanixFC -OptionId 200 -Value \"<your_fc_ip>\"Set-DhcpServerv4OptionValue  -VendorClass NutanixFC -OptionId 201 -Value \"<your_api_key>\"To verify if the options are set correctly.Get-DhcpServerv4OptionValue -VendorClass NutanixFCExample output:OptionID    Name    Type     Value         VendorClass    UserClass   PolicyName\n--------    ----    ----     -----         -----------    ---------   ----------\n200         fc_ip   String   {10.1.1.1}      NutanixFC\n201         api_key String   {eyJhik....}    NutanixFC", "Heading_Keywords": ["configur", "window", "dhcp", "server"]}, {"Heading": "Configure Linux DHCP Server", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Foundation-Central-v1_0:v10-configure-linux-dhcp-server-t.html", "Document Name": "Foundation Central Guide", "Content": "Configures Linux DHCP server to provide Foundation Central IP address and API key to nodes.Before you beginNote the Foundation Central IP address.Generate API key on the Settings tab in Foundation Central UI.About this taskPerform the following steps to configure a Linux DHCP server.ProcedureOn the Linux DHCP server, open the DHCP configuration file /etc/dhcp/dhcpd.conf.Create a new vendor class NutanixFC.In the global space, add two vendor-specific options with values as follows:fc_ip (option code 200): Set the value to Foundation Central IP address.api_key (option code 201): Set the value to the API key string.An example vendor-specific option is as follows:option space Nutanix;\noption Nutanix.fc_ip code 200 = string;\noption Nutanix.api_key code 201 = string;\nclass \u201cNutanixFC\u201d {\nmatch if option vendor-class-identifier = \u201cNutanixFC\u201d;\n  \nvendor-option-space Nutanix;\n  \noption Nutanix.fc_ip \u201c10.1.1.1\u201d;\n  \noption Nutanix.api_key \u201ceyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJLZXlVVUlEIjoiZjE2MzBkYzMtODU0OC00YjZiLTZlMWMtZTVlOTU0YjM1NTQ2In0.HB_IdIaFvvyHpfzDzLZMQkHKstRsdiWnEMoqtU4N4kY\u201d;}Save the file and restart the DHCP server.", "Heading_Keywords": ["configur", "linux", "dhcp", "server"]}, {"Heading": "Run Foundation Central", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Foundation-Central-v1_0:v10-run-foundation-central-t.html", "Document Name": "Foundation Central Guide", "Content": "Launch Foundation Central to create cluster out of remote nodes.About this taskPerform the following steps to run Foundation Central and create a cluster.ProcedureOn the Prism Central page, click the hamburger menu and go to Services > Foundation CentralTo create a cluster, select the nodes on the Create Cluster tab and click + Create n-Nodes Cluster.Note: After you switch on a remote node, it could take around 20 minutes to discover a node in Foundation Central. If the nodes are not discovered, recheck the DHCP server settings and the network settings.The Hypervisor / AOS displays the AOS and AHV/ESXi/Hyper-V version. You can provide the URL for AOS and hypervisor installers to reimage all the selected nodes and click Next . Note: If all the nodes have the same AOS and hypervisor version, then you can also create the cluster without reimaging the nodes.Make the installers available on a file share that the nodes can connect to. If you want to use ESXi or Hyper-V, obtain the installers from the respective vendors.Download the AOS installer from the Nutanix portal. Foundation Central uses the AHV bundle that is included with the AOS installer.In the Cluster page, provide a name for the cluster, choose the RF factor, and click Next. In the Networks page, you can reuse the existing values or add the required details manually and click Next.Note: If you want to specify static IP addresses for the IPMI ports on the nodes, specify the gateway and subnet mask on the Networks page. On the Nodes page, which appears later in the workflow, you can specify the static IP addresses.In the CVM Settings page, provide the timezone settings, DNS settings and click Next.Note: Provide the IP address of the DNS server that the Nutanix nodes can use to resolve the FQDN of the server that hosts the AOS and hypervisor installers. In the Nodes page, the hostname for the hypervisor and IP addresses for the CVM and host are configured. If you have chosen to assign a static IP to the IPMI of each node in the Subnet page, you can also set IP addresses for the IPMI ports of the node.Note: To reuse the existing IP addresses or hostnames of all nodes, use the Reuse existing option.To assign these values to the nodes in a specific sequence, click Reorder and then click Reuse existing. To image any node as a storage node, select the Storage Node check box.Click Submit. The Deployment History tab is displayed. On this tab, you can view the status of the imaging process. You can also click View Details to open the Foundation Installation-in-progress page. Note: The Foundation Central specific logs on the remote CVMs are at ~/data/logs/foundation/foundation_central.log. If the node is running on Discovery OS, then the logs are found at /tmp/foundation_central.log.", "Heading_Keywords": ["run", "foundat", "central"]}, {"Heading": "Era Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-overview-c.html", "Document Name": "Era User Guide", "Content": "Era is a database as a service (DBaaS) that automates and simplifies database administration, bringing one-click simplicity and invisible operations to database provisioning and life-cycle management. Era enables database administrators to perform operations such as database registration, provisioning, cloning, patching, restore and much more. It allows administrators to define standards for their database provisioning needs with end-state driven functionality that includes High Availability (HA) database deployments.Era allows multi-cluster database management. Database administration for different databases across multiple Nutanix clusters can be performed with a single Era instance. With the extension of support for Nutanix clusters, you can now use all the capabilities of Era on Nutanix clusters (both cloud and on-prem). For information about the supported operating system, database server, and Nutanix software versions, see Era Software Compatibility and Feature Support in Nutanix Era Release Notes.Era WorkflowEra Notes and LimitationsEra ServicesEra Service ResiliencyEra provides service resiliency that allows you to recover to the latest stable state from any failures. Era achieves resiliency by monitoring critical Era services and periodically backing up the necessary datasets.Terminology ReferenceEra WorkflowThe following figure explains how you use Era as a database service.Note: All the components (source database and database server VM, target database and database server VM, and Era) must be installed on the same Nutanix cluster.Figure. Era as DBaaSClick to enlargeFollowing is the DBaaS workflow in Era.Install the Era VM on a Nutanix cluster.Either use the sample built-in profiles available in Era or update the sample profiles to suit your requirements, or create profiles.Either provision a new source database server VM and database on your Nutanix cluster by using Era, or register an existing source database with Era.Note: The existing source database server VM or database must be running on the same Nutanix cluster as Era.As part of the database provisioning or registration process:Era registers the VM used by the database as a database server.Era creates a time machine for that source database. The time machine takes snapshots and copies transaction logs as defined in the schedule when you provision or register the source database.Either use Era to provision another database server VM (target database server VM) on your Nutanix cluster or choose to create a database server VM when you clone the source database.Proceed to use other features of Era such as copy data management.Era Notes and LimitationsNotesEra directs all API calls of port 8443 to port 443.Era supports the following in both English and non-English languages: operating system, database software, and database contents such as tables.Deploy and configure the Era VM on one of the Nutanix clusters before it can start managing the database virtual machines on that cluster. Era does not support databases running on platforms other than Nutanix.Note: To clone databases running on other platforms, you must first replicate the source database to a database VM running on a Nutanix platform. For example, you can use Oracle Data Guard to clone the Oracle databases.LimitationsEra software is available only in English and Japanese.Era supports the database name on VM, VM name, graphical user interface (GUI), and command-line interface (CLI) only in English and Japanese.Era does not support database server VMs protected by NearSync or metro availability.Era does not support forward or reverse proxy.Era ServicesEra offers the following key services for several database engines:One-Click Provisioning. Copy Data Management. Database Protection.One-Click Patching.One-Click ProvisioningCopy Data Management (CDM)Database ProtectionOne-Click PatchingOne-Click ProvisioningEra enables you to easily provision database environments (either production or otherwise) on your Nutanix clusters.Era provisioning service includes the following components:Database engines: Custom software images that can be tailored to fit your enterprise needs. (See Oracle Database Management, Microsoft SQL Server Database Management, PostgreSQL Database Management, MySQL Database Management, MariaDB Database Management, and SAP HANA Database Management for more information) Database profiles: Customizable database profiles for software, compute, networking, and database parameters. (See Era Profiles for more information) Database recovery SLAs: Customizable recovery SLAs for continuous, daily, weekly, monthly, and quarterly Recovery Point Objectives (RPOs). (See SLA Management for more information) VM Affinity and Antiaffinity Rule for AHV and ESXi (Database Server Cluster)Era-provisioned cluster database VMs are assigned to nodes or hosts to maintain High Availability during the rolling upgrade of the cluster or host failure.AHVThe affinity rule applies to AHV. According to this rule, if one node or host goes down, then the database server VM hosted on that node moves to another node or host in the cluster.Example: Redundancy state in a cluster is the parameter that defines the number of host failures to be tolerated. If the redundancy state is set to two, then the cluster can tolerate one host failure. If the number of healthy hosts in the cluster is greater than the number of host failures that can be tolerated, then the host-VM affinity is set such that each VM is allocated to the number of host failures to be tolerated plus one host.Note: A healthy host has CPU and memory usage of less than 95 percent and is in a normal stateSuppose that there are H1, H2, H3, H4, and H5 healthy hosts available, and you must provision the database servers VM1, VM2, and VM3. Era assigns the database servers as follows: VM1 - H1, H2VM2 - H3, H4VM3 - H5, H1ESXiThe VM-VM antiaffinity rule applies to ESXi. When the number of healthy hosts is greater than or equal to the number of database server VMs to be created, then Era creates the VM-VM antiaffinity rule such that two database servers are not assigned to the same host.Example: Suppose that there are H1, H2, H3, H4, and H5 healthy hosts available, and you must provision database servers VM1, VM2, and VM3. According to the VM-VM antiaffinity rule, Era assigns the database servers as follows:VM1 - H1VM2 - H2VM3 - H3If one host fails, the database server on that host moves to the available host (H4 or H5).Copy Data Management (CDM)Era enables you to clone your source databases (running on Nutanix clusters) and refresh the database clones by using snapshots or transaction logs. Era uses the Nutanix storage-efficient and time-efficient snapshots thus lowering the cost of managing multiple copies of your databases. Era allows you to clone and refresh your clones to a point in time within minutes making the clone and refresh operations highly time-efficient.Era copy data management service includes the following components:Time machine. Collects logs and snapshots from the database. See Era Time Machine Management for more information.One-click cloning and refresh. Zero-byte database clones to any point in time. See Clone Management for more information.With Era, you can do the following.Create copies of your production databases for dev-test, reporting, or auditing purposes.Create copies (clones) of your databases on newly created database server VMs.To use CDM, do the following:Register a source (production) database running on that Nutanix cluster with Era.When you register a database with Era, the database server VM (VM that hosts the source database) is registered with Era.Either register a target database server VM with Era, or create a database server VM during the cloning of the source database.After you have registered a database with Era, a time machine is created for that database. The time machine takes periodic database snapshots and log catch-ups (see Time Machine Functionality). The time machine performs the snapshot and log catch-up operations as defined in the SLA that you have selected or created during the registration of the database (see SLA Management). Database ProtectionProtect your database with the consumer-grade database operations of Era to back up databases (of any size) in a full database consistent manner within a matter of minutes. With Era, you can do the following.One-click snapshots for simplifying database rollback.Explore your backup data through a robust time machine.Back up your databases instantaneously with no overhead.See Era Time Machine Management for more information. One-Click PatchingEnsure data security with one-click patching to efficiently validate critical database updates. Era provides out-of-bond patching of databases to eliminate database config sprawls. All new database updates and patches are tested before publishing to the patch train.For Oracle, see Patching an Oracle Database Server VM and Patching an Oracle Database Server Cluster.For SQL Server, see Patching a SQL Server Database Server VM and Patching a SQL Server Database Server Cluster.For PostgreSQL, see Patching a PostgreSQL Database Server VM and Patching a PostgreSQL Database Server Cluster.Era Service ResiliencyEra provides service resiliency that allows you to recover to the latest stable state from any failures. Era achieves resiliency by monitoring critical Era services and periodically backing up the necessary datasets.Table 1. Era Failure ScenariosFailure ScenarioRecoverableImpactFixEra server process is down.YesEra service is down for few seconds. Auto recoverableEra database is down.YesEra service is unable to collect logs and snapshots.Restart the database.Era agent is down.YesEra service is down for few seconds. Auto recoverableEra server VM is down.YesEra service is down and inaccessible.Restart the VM; For further assistance, call Nutanix Support.Era log drive is corrupted or deleted.Partially, recoverablePoint in Time Recovery (PITR) is not available for some time.For assistance, call Nutanix Support.Era server VM is lost or deleted.Partially, recoverable Era service is down and inaccessible.For assistance, call Nutanix Support.Terminology ReferenceThis section defines the terms and technologies referenced in this guide. Each term or technology is described within an Era-specific context.Nutanix ClusterHosts all the components such as, source databases and database server VMs, target databases and database servers, and Era).DatabasesDatabases contain your application data. Source databases are registered or provisioned in Era, and cloned databases contain the data cloned from your source databases.Database Server VMsDatabase server VMs from Oracle, SQL Server, PostgreSQL, MariaDB, MySQL, and SAP HANA that host your databases.Greenfield Database Server VMsDatabase server VMs from Oracle, SQL Server, PostgreSQL, MariaDB, MySQL, and SAP HANA that are provisioned in Era.Brownfield Database Server VMsDatabase server VMs from Oracle, SQL Server, PostgreSQL, MariaDB, MySQL, and SAP HANA that are registered with Era.ProfilesTemplates of database software, networking, compute, database parameters, and Windows domains to successfully provision databases or database server VMs using Era.Time MachinesCapture and maintain snapshots and transaction logs of your source databases. For every source database you provision or register with Era, Era creates a time machine. You create clones and refresh clones from the snapshots or transaction logs captured by the time machine. For more information, see Time Machine Functionality.Clone or Cloned DatabasesA database with a copy of data from your source databases taken from a point in time by using a time machine. You can work with the cloned database, and make changes as needed. You can also refresh the clones as needed from the latest set of data available in a time machine.Cluster DatabaseCluster database consists of two or more database server VMs. In cluster databases, multiple instances of the same database run on different database server VMs, which can be set up across different Nutanix clusters. For example, RAC for Oracle, AG for SQL Server, and Postgres HA instance for PostgreSQL.Era Database AgentEra worker service that runs on the database servers. It is responsible for scheduling and monitoring the Era-related operations on the database servers.SLAsData retention policies that allow you to specify for how long Era retains the log backups and snapshots taken by the time machine (daily, monthly, weekly, or quarterly snapshots). For more information, see SLA Management.Log Catchup OperationCopies transaction logs from the source database to Era based on a specified schedule. The schedule can be provided during database registration or provisioning, or can be modified later. For more information, see the Log Catchup Operation section in Time Machine Functionality.Era DriveAttached to the source database server. Temporarily stores the transaction logs of the source database before Era copies the logs.Always On Availability GroupsA High Availability and disaster recovery solution introduced in Microsoft SQL Server 2012.Windows Server Failover Cluster (WSFC)A group of independent servers that work together to increase the availability of applications and services. Microsoft SQL Server uses the WSFC services to support Always On Availability Groups (AG) and SQL Server failover cluster instances.", "Heading_Keywords": ["era", "overview"]}, {"Heading": "Era Workflow", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-workflow-c.html", "Document Name": "Era User Guide", "Content": "The following figure explains how you use Era as a database service.Note: All the components (source database and database server VM, target database and database server VM, and Era) must be installed on the same Nutanix cluster.Figure. Era as DBaaSClick to enlargeFollowing is the DBaaS workflow in Era.Install the Era VM on a Nutanix cluster.Either use the sample built-in profiles available in Era or update the sample profiles to suit your requirements, or create profiles.Either provision a new source database server VM and database on your Nutanix cluster by using Era, or register an existing source database with Era.Note: The existing source database server VM or database must be running on the same Nutanix cluster as Era.As part of the database provisioning or registration process:Era registers the VM used by the database as a database server.Era creates a time machine for that source database. The time machine takes snapshots and copies transaction logs as defined in the schedule when you provision or register the source database.Either use Era to provision another database server VM (target database server VM) on your Nutanix cluster or choose to create a database server VM when you clone the source database.Proceed to use other features of Era such as copy data management.", "Heading_Keywords": ["era", "workflow"]}, {"Heading": "Era Notes and Limitations", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-limitations-c.html", "Document Name": "Era User Guide", "Content": "NotesEra directs all API calls of port 8443 to port 443.Era supports the following in both English and non-English languages: operating system, database software, and database contents such as tables.Deploy and configure the Era VM on one of the Nutanix clusters before it can start managing the database virtual machines on that cluster. Era does not support databases running on platforms other than Nutanix.Note: To clone databases running on other platforms, you must first replicate the source database to a database VM running on a Nutanix platform. For example, you can use Oracle Data Guard to clone the Oracle databases.LimitationsEra software is available only in English and Japanese.Era supports the database name on VM, VM name, graphical user interface (GUI), and command-line interface (CLI) only in English and Japanese.Era does not support database server VMs protected by NearSync or metro availability.Era does not support forward or reverse proxy.", "Heading_Keywords": ["era", "note", "limit"]}, {"Heading": "Era Services", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-services-c.html", "Document Name": "Era User Guide", "Content": "Era offers the following key services for several database engines:One-Click Provisioning. Copy Data Management. Database Protection.One-Click Patching.One-Click ProvisioningCopy Data Management (CDM)Database ProtectionOne-Click PatchingOne-Click ProvisioningEra enables you to easily provision database environments (either production or otherwise) on your Nutanix clusters.Era provisioning service includes the following components:Database engines: Custom software images that can be tailored to fit your enterprise needs. (See Oracle Database Management, Microsoft SQL Server Database Management, PostgreSQL Database Management, MySQL Database Management, MariaDB Database Management, and SAP HANA Database Management for more information) Database profiles: Customizable database profiles for software, compute, networking, and database parameters. (See Era Profiles for more information) Database recovery SLAs: Customizable recovery SLAs for continuous, daily, weekly, monthly, and quarterly Recovery Point Objectives (RPOs). (See SLA Management for more information) VM Affinity and Antiaffinity Rule for AHV and ESXi (Database Server Cluster)Era-provisioned cluster database VMs are assigned to nodes or hosts to maintain High Availability during the rolling upgrade of the cluster or host failure.AHVThe affinity rule applies to AHV. According to this rule, if one node or host goes down, then the database server VM hosted on that node moves to another node or host in the cluster.Example: Redundancy state in a cluster is the parameter that defines the number of host failures to be tolerated. If the redundancy state is set to two, then the cluster can tolerate one host failure. If the number of healthy hosts in the cluster is greater than the number of host failures that can be tolerated, then the host-VM affinity is set such that each VM is allocated to the number of host failures to be tolerated plus one host.Note: A healthy host has CPU and memory usage of less than 95 percent and is in a normal stateSuppose that there are H1, H2, H3, H4, and H5 healthy hosts available, and you must provision the database servers VM1, VM2, and VM3. Era assigns the database servers as follows: VM1 - H1, H2VM2 - H3, H4VM3 - H5, H1ESXiThe VM-VM antiaffinity rule applies to ESXi. When the number of healthy hosts is greater than or equal to the number of database server VMs to be created, then Era creates the VM-VM antiaffinity rule such that two database servers are not assigned to the same host.Example: Suppose that there are H1, H2, H3, H4, and H5 healthy hosts available, and you must provision database servers VM1, VM2, and VM3. According to the VM-VM antiaffinity rule, Era assigns the database servers as follows:VM1 - H1VM2 - H2VM3 - H3If one host fails, the database server on that host moves to the available host (H4 or H5).Copy Data Management (CDM)Era enables you to clone your source databases (running on Nutanix clusters) and refresh the database clones by using snapshots or transaction logs. Era uses the Nutanix storage-efficient and time-efficient snapshots thus lowering the cost of managing multiple copies of your databases. Era allows you to clone and refresh your clones to a point in time within minutes making the clone and refresh operations highly time-efficient.Era copy data management service includes the following components:Time machine. Collects logs and snapshots from the database. See Era Time Machine Management for more information.One-click cloning and refresh. Zero-byte database clones to any point in time. See Clone Management for more information.With Era, you can do the following.Create copies of your production databases for dev-test, reporting, or auditing purposes.Create copies (clones) of your databases on newly created database server VMs.To use CDM, do the following:Register a source (production) database running on that Nutanix cluster with Era.When you register a database with Era, the database server VM (VM that hosts the source database) is registered with Era.Either register a target database server VM with Era, or create a database server VM during the cloning of the source database.After you have registered a database with Era, a time machine is created for that database. The time machine takes periodic database snapshots and log catch-ups (see Time Machine Functionality). The time machine performs the snapshot and log catch-up operations as defined in the SLA that you have selected or created during the registration of the database (see SLA Management). Database ProtectionProtect your database with the consumer-grade database operations of Era to back up databases (of any size) in a full database consistent manner within a matter of minutes. With Era, you can do the following.One-click snapshots for simplifying database rollback.Explore your backup data through a robust time machine.Back up your databases instantaneously with no overhead.See Era Time Machine Management for more information. One-Click PatchingEnsure data security with one-click patching to efficiently validate critical database updates. Era provides out-of-bond patching of databases to eliminate database config sprawls. All new database updates and patches are tested before publishing to the patch train.For Oracle, see Patching an Oracle Database Server VM and Patching an Oracle Database Server Cluster.For SQL Server, see Patching a SQL Server Database Server VM and Patching a SQL Server Database Server Cluster.For PostgreSQL, see Patching a PostgreSQL Database Server VM and Patching a PostgreSQL Database Server Cluster.", "Heading_Keywords": ["era", "servic"]}, {"Heading": "One-Click Provisioning", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-provisioning-configuration-c.html", "Document Name": "Era User Guide", "Content": "Era enables you to easily provision database environments (either production or otherwise) on your Nutanix clusters.Era provisioning service includes the following components:Database engines: Custom software images that can be tailored to fit your enterprise needs. (See Oracle Database Management, Microsoft SQL Server Database Management, PostgreSQL Database Management, MySQL Database Management, MariaDB Database Management, and SAP HANA Database Management for more information) Database profiles: Customizable database profiles for software, compute, networking, and database parameters. (See Era Profiles for more information) Database recovery SLAs: Customizable recovery SLAs for continuous, daily, weekly, monthly, and quarterly Recovery Point Objectives (RPOs). (See SLA Management for more information) VM Affinity and Antiaffinity Rule for AHV and ESXi (Database Server Cluster)Era-provisioned cluster database VMs are assigned to nodes or hosts to maintain High Availability during the rolling upgrade of the cluster or host failure.AHVThe affinity rule applies to AHV. According to this rule, if one node or host goes down, then the database server VM hosted on that node moves to another node or host in the cluster.Example: Redundancy state in a cluster is the parameter that defines the number of host failures to be tolerated. If the redundancy state is set to two, then the cluster can tolerate one host failure. If the number of healthy hosts in the cluster is greater than the number of host failures that can be tolerated, then the host-VM affinity is set such that each VM is allocated to the number of host failures to be tolerated plus one host.Note: A healthy host has CPU and memory usage of less than 95 percent and is in a normal stateSuppose that there are H1, H2, H3, H4, and H5 healthy hosts available, and you must provision the database servers VM1, VM2, and VM3. Era assigns the database servers as follows: VM1 - H1, H2VM2 - H3, H4VM3 - H5, H1ESXiThe VM-VM antiaffinity rule applies to ESXi. When the number of healthy hosts is greater than or equal to the number of database server VMs to be created, then Era creates the VM-VM antiaffinity rule such that two database servers are not assigned to the same host.Example: Suppose that there are H1, H2, H3, H4, and H5 healthy hosts available, and you must provision database servers VM1, VM2, and VM3. According to the VM-VM antiaffinity rule, Era assigns the database servers as follows:VM1 - H1VM2 - H2VM3 - H3If one host fails, the database server on that host moves to the available host (H4 or H5).", "Heading_Keywords": ["one", "click", "provis"]}, {"Heading": "Copy Data Management (CDM)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-copy-data-management-c.html", "Document Name": "Era User Guide", "Content": "Era enables you to clone your source databases (running on Nutanix clusters) and refresh the database clones by using snapshots or transaction logs. Era uses the Nutanix storage-efficient and time-efficient snapshots thus lowering the cost of managing multiple copies of your databases. Era allows you to clone and refresh your clones to a point in time within minutes making the clone and refresh operations highly time-efficient.Era copy data management service includes the following components:Time machine. Collects logs and snapshots from the database. See Era Time Machine Management for more information.One-click cloning and refresh. Zero-byte database clones to any point in time. See Clone Management for more information.With Era, you can do the following.Create copies of your production databases for dev-test, reporting, or auditing purposes.Create copies (clones) of your databases on newly created database server VMs.To use CDM, do the following:Register a source (production) database running on that Nutanix cluster with Era.When you register a database with Era, the database server VM (VM that hosts the source database) is registered with Era.Either register a target database server VM with Era, or create a database server VM during the cloning of the source database.After you have registered a database with Era, a time machine is created for that database. The time machine takes periodic database snapshots and log catch-ups (see Time Machine Functionality). The time machine performs the snapshot and log catch-up operations as defined in the SLA that you have selected or created during the registration of the database (see SLA Management). ", "Heading_Keywords": ["copi", "data", "manag", "cdm"]}, {"Heading": "Database Protection", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-database-protection-c.html", "Document Name": "Era User Guide", "Content": "Protect your database with the consumer-grade database operations of Era to back up databases (of any size) in a full database consistent manner within a matter of minutes. With Era, you can do the following.One-click snapshots for simplifying database rollback.Explore your backup data through a robust time machine.Back up your databases instantaneously with no overhead.See Era Time Machine Management for more information. ", "Heading_Keywords": ["databas", "protect"]}, {"Heading": "One-Click Patching", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-patching-c.html", "Document Name": "Era User Guide", "Content": "Ensure data security with one-click patching to efficiently validate critical database updates. Era provides out-of-bond patching of databases to eliminate database config sprawls. All new database updates and patches are tested before publishing to the patch train.For Oracle, see Patching an Oracle Database Server VM and Patching an Oracle Database Server Cluster.For SQL Server, see Patching a SQL Server Database Server VM and Patching a SQL Server Database Server Cluster.For PostgreSQL, see Patching a PostgreSQL Database Server VM and Patching a PostgreSQL Database Server Cluster.", "Heading_Keywords": ["one", "click", "patch"]}, {"Heading": "Era Service Resiliency", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-service-resiliency-r.html", "Document Name": "Era User Guide", "Content": "Era provides service resiliency that allows you to recover to the latest stable state from any failures. Era achieves resiliency by monitoring critical Era services and periodically backing up the necessary datasets.Table 1. Era Failure ScenariosFailure ScenarioRecoverableImpactFixEra server process is down.YesEra service is down for few seconds. Auto recoverableEra database is down.YesEra service is unable to collect logs and snapshots.Restart the database.Era agent is down.YesEra service is down for few seconds. Auto recoverableEra server VM is down.YesEra service is down and inaccessible.Restart the VM; For further assistance, call Nutanix Support.Era log drive is corrupted or deleted.Partially, recoverablePoint in Time Recovery (PITR) is not available for some time.For assistance, call Nutanix Support.Era server VM is lost or deleted.Partially, recoverable Era service is down and inaccessible.For assistance, call Nutanix Support.", "Heading_Keywords": ["era", "servic", "resili"]}, {"Heading": "Terminology Reference", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-terminology-reference-r.html", "Document Name": "Era User Guide", "Content": "This section defines the terms and technologies referenced in this guide. Each term or technology is described within an Era-specific context.Nutanix ClusterHosts all the components such as, source databases and database server VMs, target databases and database servers, and Era).DatabasesDatabases contain your application data. Source databases are registered or provisioned in Era, and cloned databases contain the data cloned from your source databases.Database Server VMsDatabase server VMs from Oracle, SQL Server, PostgreSQL, MariaDB, MySQL, and SAP HANA that host your databases.Greenfield Database Server VMsDatabase server VMs from Oracle, SQL Server, PostgreSQL, MariaDB, MySQL, and SAP HANA that are provisioned in Era.Brownfield Database Server VMsDatabase server VMs from Oracle, SQL Server, PostgreSQL, MariaDB, MySQL, and SAP HANA that are registered with Era.ProfilesTemplates of database software, networking, compute, database parameters, and Windows domains to successfully provision databases or database server VMs using Era.Time MachinesCapture and maintain snapshots and transaction logs of your source databases. For every source database you provision or register with Era, Era creates a time machine. You create clones and refresh clones from the snapshots or transaction logs captured by the time machine. For more information, see Time Machine Functionality.Clone or Cloned DatabasesA database with a copy of data from your source databases taken from a point in time by using a time machine. You can work with the cloned database, and make changes as needed. You can also refresh the clones as needed from the latest set of data available in a time machine.Cluster DatabaseCluster database consists of two or more database server VMs. In cluster databases, multiple instances of the same database run on different database server VMs, which can be set up across different Nutanix clusters. For example, RAC for Oracle, AG for SQL Server, and Postgres HA instance for PostgreSQL.Era Database AgentEra worker service that runs on the database servers. It is responsible for scheduling and monitoring the Era-related operations on the database servers.SLAsData retention policies that allow you to specify for how long Era retains the log backups and snapshots taken by the time machine (daily, monthly, weekly, or quarterly snapshots). For more information, see SLA Management.Log Catchup OperationCopies transaction logs from the source database to Era based on a specified schedule. The schedule can be provided during database registration or provisioning, or can be modified later. For more information, see the Log Catchup Operation section in Time Machine Functionality.Era DriveAttached to the source database server. Temporarily stores the transaction logs of the source database before Era copies the logs.Always On Availability GroupsA High Availability and disaster recovery solution introduced in Microsoft SQL Server 2012.Windows Server Failover Cluster (WSFC)A group of independent servers that work together to increase the availability of applications and services. Microsoft SQL Server uses the WSFC services to support Always On Availability Groups (AG) and SQL Server failover cluster instances.", "Heading_Keywords": ["terminolog", "refer"]}, {"Heading": "Era Installation", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-installation-c.html", "Document Name": "Era User Guide", "Content": "Era is distributed as a virtual appliance that can be installed on either AHV or ESXi clusters. To install Era on an AHV cluster, use the Prism Element web console. To install Era on an ESXi cluster, use vCenter Server. Era RequirementsInstalling Era (AHV)Installing Era (ESXi)Era RequirementsEnsure that you meet the following network requirements on your Nutanix cluster.Table 1. Era Server RequirementsComponentDescriptionREST APIsEra service uses port 443 for HTTPS REST API calls.Telemetry dataEra server sends periodic telemetry data to the central Nutanix repository. Era server posts data to the Pulse pipeline that is reachable at insights.nutanix.com.Access to Nutanix portalFor checking and downloading latest Era upgrades, Era server must have connectivity to the Nutanix portal.Access to NTP time serversEra server periodically synchronizes with the time servers to update the server clock. If the Internet connection is active, Era server must be able to connect to NTP servers (for example, *.centos.pool.ntp.org). For Era server that has no Internet connectivity, you have to manually perform time synchronization and ensure that the server time is correct.iSCSI connectionsPorts 3205 and 3260 must be open on the Era server and all Controller VMs (CVMs) to facilitate iSCSI connections.Era multi-clusterThe following ports must be open across datacenters if the clusters are deployed in different datacenters.Era server - SSH (22) and HTTPS (8443).Oracle - SSH (22).SQL Server - cluster service (3343), RPC (135), cluster admin (137), WinRM (5985, 5986), WMI (anyone port from 1024 through 65535), SMB (445), and ICMP.PostgreSQL - PostgreSQL database (5432), etcd (2379, 2380), Patroni (8679), proxy stats (7000), proxy write port (default 5000), proxy read port (default 5001), and port 22.Table 2. Database Server VM Port RequirementsSourceDestinationPort/ProtocolDescriptionDatabase server VM (general)Cluster virtual IP9440VM makes REST calls to cluster virtual IP (mandatory).Database server VM (general)Data service IP (if DSIP is configured on cluster) or cluster virtual IP.3205 and 3260 (for ISCSI connections)Database server VM (general)Era server443 or httpsVM connects to Era server through https.Database server VM (general)vCenter server443 or httpsTo gather VM details that are not available through Prism APIs.Domain controllerDatabase server VM (Windows)9389Port 9389 must be opened on the domain controller to support SQL Server Always On Availability Group (AG) provisioning by Era.Era serverLinux database server VMsSSH connection. For Linux database server VMs, Era server performs SSH and SCP onto the database server VM. The port 22 and the SSH service access must be enabled on the database server VMs. sshpass access. sshpass must be enabled on the network.Era serverWindows database server VMWinRM (port 5985)Era server uses WinRM for remote connections.Table 3. Nutanix Cluster RequirementsComponentDescriptionNutanix clusterThe Era server, Era agent, and Era database agent communicate with the registered Nutanix clusters over port 9440 (Prism REST API calls). If any of the disks are part of the volume group that is attached through iSCSI, Era server uses port 3260 and 3205.Ports 3205 and 3260 must be open on the Cluster Data Services IP (if configured) or Cluster Virtual IP (if Data Services IP is not configured), and on all the Controller VMs (CVMs) to facilitate iSCSI connections.Prism Element with cluster administrator access (AHV and ESXi)(ESXi only) ensure that you have registered vCenter with Prism Element.Figure. Windows Database Server VM Network RequirementsClick to enlargeFigure. Multi-Cluster Windows Database Server VM Network RequirementsClick to enlargeFigure. Linux Database Server VM Network RequirementsClick to enlargeInstalling Era (AHV)About this taskYou can install Era on an AHV cluster by using the Prism Element web console.Note: Era requires a Prism Element account with the cluster administrator access.Perform the following procedure to install Era on AHV.ProcedureDownload the qcow2 image file of Era from the Nutanix Support portal.Log on to the Prism Element web console.Select Settings from the main menu drop-down list and click Image Configuration.Under Image Configuration, click Upload Image.The Create Image window appears.Do the following in the indicated fields.Name. Type a name of the image.Annotation. Type a description of the image.Image Type. Select Disk from the drop-down list.Storage Container. Select a storage container on which you want to install Era.Under Image Source, select Upload a file and click Choose File.Browse to the location on your local computer where you have saved the qcow2 image file of Era and click Open.Click Save.Wait for the Create Image task to complete.From the main menu drop-down list, select VM and click Create VM.The Create VM window appears.Do the following in the indicated fields.Name. Enter the name of the VM.Description. Enter a description of the VM.Timezone. Select the timezone that you want the VM to use. If you are creating an Era VM, select (UTC) UTC.Note: The Real Time Clock (RTC) of Linux VMs must match Coordinated Universal Time (UTC), hence select the UTC time zone when creating an Era VM.Use this VM as an agent VM. Select this option to make this VM as an agent VM.Select this option for VMs that must be powered-on before the rest of the VMs (for example, to provide network functions before rest of VMs are powered on the host) and must be powered off and migrated after the rest of the VMs (for example, during maintenance mode operations).vCPU(s). Enter 4 as the number of virtual CPUs to allocate to this VM.Number of Cores Per vCPU. Enter 1 as the number of cores assigned to each virtual CPU.Memory. Enter 16 GB as the amount of memory (in GB) to allocate to this VM.To attach a disk to the VM, click Add New Disk.The Add Disks dialog box appears.Do the following in the indicated fields.Type. Select Disk as the type of storage device from the drop-down list.Operation. Select Clone from Image Service to copy the Era image that you have imported by using the image service feature onto the disk.Bus Type. Select SCSI as the bus type from the pull-down list.Image. Select the Era image that you have imported by using the image service feature.Size. This field is populated with the size of the image after you select the Era image in the previous step.Click Add to attach the disk to the VM and return to the Create VM dialog box.To create a network interface for the VM, click Add New NIC.The Create NIC dialog box appears.VLAN Name. Select the target virtual LAN from the drop-down list. The list includes all defined networks.IP Address. Enter an IP address for the VLAN.This field appears only if the NIC is placed in a managed network. Entering an IP address in this field is optional if the network configuration provides an IP pool. If you leave the field blank, the NIC is assigned an IP address from the pool.Click Add to create a network interface for the VM and return to the Create VM dialog box.If you want to assign a static IP address to the Era VM, do the following:Select the Custom Script check box.In the Type or paste script text box, paste the following script.#cloud-config\nruncmd:\n - configure_static_ip ip=ip_address gateway=gateway_address netmask=ip_netmask nameserver=ns1\nAll parameters except the nameserver parameter are mandatory.Replace the variables with the following:Replace ip_address with the static IP address you want to assign to the Era VM.Replace gateway_address with the gateway IP address for the Era VM.Replace ip_netmask with the netmask of the network.Replace ns1 with the URL or IP address of the name server.For example:Figure. Assign a Static IP Address to the Era VMClick to enlargeAlternatively, you can assign a static IP address to the Era VM after you have installed the VM. For instructions, see Assigning a Static IP Address to the Era VM by Using the Console. Click Save to create the VM.In the Table view of the VM dashboard, select the Era VM and click Power On to start the VM.Determine the IP address assigned to the Era VM from the IP Addresses field of the Table view in the Prism Element web console.If you assign a static IP address to the Era VM on a VLAN that has a DHCP server, Prism Element first assigns an IP address to the Era VM by using DHCP. Wait for a few minutes and refresh the Prism Element page to verify if the static IP address you specified has been assigned to the VM.Installing Era (ESXi)About this taskPerform the following procedure to install Era on an ESXi cluster by using vCenter Server.ProcedureDownload the Era OVA file from the Nutanix Support portal.Log on to vCenter Server by using your administrator credentials.To deploy an OVF template in the vCenter Server, follow the VMware documentation.Before you register a database running on ESXi cluster, you must set disk.EnableUUID to True by using vCenter Server.Shut down the database server VM on which the database is running.Select the database server VM, go to VM > Actions > Edit Settings > VM Options > Advanced > Configuration Parameters > Edit Configuration, and click Add Row.In the Name field, type disk.EnableUUID.In the Value field, type True.Start the database server VM.Turn on the Era VM.To determine the IP address that is assigned to the Era VM, do one of the following.In vCenter Server, check the Summary tab of the VM.In the Prism Element web console, check the IP Addresses field of the Table view.To assign a static IP address to the Era VM, see Assigning a Static IP Address to the Era VM by Using the Console. If you assign a static IP address to the Era VM, Prism Element first assigns an IP address to the Era VM by using DHCP. Wait for one or two minutes and refresh the Prism Element page to verify if Era assigns the static IP address to the VM.", "Heading_Keywords": ["era", "instal"]}, {"Heading": "Era Requirements", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-requirements-r.html", "Document Name": "Era User Guide", "Content": "Ensure that you meet the following network requirements on your Nutanix cluster.Table 1. Era Server RequirementsComponentDescriptionREST APIsEra service uses port 443 for HTTPS REST API calls.Telemetry dataEra server sends periodic telemetry data to the central Nutanix repository. Era server posts data to the Pulse pipeline that is reachable at insights.nutanix.com.Access to Nutanix portalFor checking and downloading latest Era upgrades, Era server must have connectivity to the Nutanix portal.Access to NTP time serversEra server periodically synchronizes with the time servers to update the server clock. If the Internet connection is active, Era server must be able to connect to NTP servers (for example, *.centos.pool.ntp.org). For Era server that has no Internet connectivity, you have to manually perform time synchronization and ensure that the server time is correct.iSCSI connectionsPorts 3205 and 3260 must be open on the Era server and all Controller VMs (CVMs) to facilitate iSCSI connections.Era multi-clusterThe following ports must be open across datacenters if the clusters are deployed in different datacenters.Era server - SSH (22) and HTTPS (8443).Oracle - SSH (22).SQL Server - cluster service (3343), RPC (135), cluster admin (137), WinRM (5985, 5986), WMI (anyone port from 1024 through 65535), SMB (445), and ICMP.PostgreSQL - PostgreSQL database (5432), etcd (2379, 2380), Patroni (8679), proxy stats (7000), proxy write port (default 5000), proxy read port (default 5001), and port 22.Table 2. Database Server VM Port RequirementsSourceDestinationPort/ProtocolDescriptionDatabase server VM (general)Cluster virtual IP9440VM makes REST calls to cluster virtual IP (mandatory).Database server VM (general)Data service IP (if DSIP is configured on cluster) or cluster virtual IP.3205 and 3260 (for ISCSI connections)Database server VM (general)Era server443 or httpsVM connects to Era server through https.Database server VM (general)vCenter server443 or httpsTo gather VM details that are not available through Prism APIs.Domain controllerDatabase server VM (Windows)9389Port 9389 must be opened on the domain controller to support SQL Server Always On Availability Group (AG) provisioning by Era.Era serverLinux database server VMsSSH connection. For Linux database server VMs, Era server performs SSH and SCP onto the database server VM. The port 22 and the SSH service access must be enabled on the database server VMs. sshpass access. sshpass must be enabled on the network.Era serverWindows database server VMWinRM (port 5985)Era server uses WinRM for remote connections.Table 3. Nutanix Cluster RequirementsComponentDescriptionNutanix clusterThe Era server, Era agent, and Era database agent communicate with the registered Nutanix clusters over port 9440 (Prism REST API calls). If any of the disks are part of the volume group that is attached through iSCSI, Era server uses port 3260 and 3205.Ports 3205 and 3260 must be open on the Cluster Data Services IP (if configured) or Cluster Virtual IP (if Data Services IP is not configured), and on all the Controller VMs (CVMs) to facilitate iSCSI connections.Prism Element with cluster administrator access (AHV and ESXi)(ESXi only) ensure that you have registered vCenter with Prism Element.Figure. Windows Database Server VM Network RequirementsClick to enlargeFigure. Multi-Cluster Windows Database Server VM Network RequirementsClick to enlargeFigure. Linux Database Server VM Network RequirementsClick to enlarge", "Heading_Keywords": ["era", "requir"]}, {"Heading": "Installing Era (AHV)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-installing-on-ahv-t.html", "Document Name": "Era User Guide", "Content": "About this taskYou can install Era on an AHV cluster by using the Prism Element web console.Note: Era requires a Prism Element account with the cluster administrator access.Perform the following procedure to install Era on AHV.ProcedureDownload the qcow2 image file of Era from the Nutanix Support portal.Log on to the Prism Element web console.Select Settings from the main menu drop-down list and click Image Configuration.Under Image Configuration, click Upload Image.The Create Image window appears.Do the following in the indicated fields.Name. Type a name of the image.Annotation. Type a description of the image.Image Type. Select Disk from the drop-down list.Storage Container. Select a storage container on which you want to install Era.Under Image Source, select Upload a file and click Choose File.Browse to the location on your local computer where you have saved the qcow2 image file of Era and click Open.Click Save.Wait for the Create Image task to complete.From the main menu drop-down list, select VM and click Create VM.The Create VM window appears.Do the following in the indicated fields.Name. Enter the name of the VM.Description. Enter a description of the VM.Timezone. Select the timezone that you want the VM to use. If you are creating an Era VM, select (UTC) UTC.Note: The Real Time Clock (RTC) of Linux VMs must match Coordinated Universal Time (UTC), hence select the UTC time zone when creating an Era VM.Use this VM as an agent VM. Select this option to make this VM as an agent VM.Select this option for VMs that must be powered-on before the rest of the VMs (for example, to provide network functions before rest of VMs are powered on the host) and must be powered off and migrated after the rest of the VMs (for example, during maintenance mode operations).vCPU(s). Enter 4 as the number of virtual CPUs to allocate to this VM.Number of Cores Per vCPU. Enter 1 as the number of cores assigned to each virtual CPU.Memory. Enter 16 GB as the amount of memory (in GB) to allocate to this VM.To attach a disk to the VM, click Add New Disk.The Add Disks dialog box appears.Do the following in the indicated fields.Type. Select Disk as the type of storage device from the drop-down list.Operation. Select Clone from Image Service to copy the Era image that you have imported by using the image service feature onto the disk.Bus Type. Select SCSI as the bus type from the pull-down list.Image. Select the Era image that you have imported by using the image service feature.Size. This field is populated with the size of the image after you select the Era image in the previous step.Click Add to attach the disk to the VM and return to the Create VM dialog box.To create a network interface for the VM, click Add New NIC.The Create NIC dialog box appears.VLAN Name. Select the target virtual LAN from the drop-down list. The list includes all defined networks.IP Address. Enter an IP address for the VLAN.This field appears only if the NIC is placed in a managed network. Entering an IP address in this field is optional if the network configuration provides an IP pool. If you leave the field blank, the NIC is assigned an IP address from the pool.Click Add to create a network interface for the VM and return to the Create VM dialog box.If you want to assign a static IP address to the Era VM, do the following:Select the Custom Script check box.In the Type or paste script text box, paste the following script.#cloud-config\nruncmd:\n - configure_static_ip ip=ip_address gateway=gateway_address netmask=ip_netmask nameserver=ns1\nAll parameters except the nameserver parameter are mandatory.Replace the variables with the following:Replace ip_address with the static IP address you want to assign to the Era VM.Replace gateway_address with the gateway IP address for the Era VM.Replace ip_netmask with the netmask of the network.Replace ns1 with the URL or IP address of the name server.For example:Figure. Assign a Static IP Address to the Era VMClick to enlargeAlternatively, you can assign a static IP address to the Era VM after you have installed the VM. For instructions, see Assigning a Static IP Address to the Era VM by Using the Console. Click Save to create the VM.In the Table view of the VM dashboard, select the Era VM and click Power On to start the VM.Determine the IP address assigned to the Era VM from the IP Addresses field of the Table view in the Prism Element web console.If you assign a static IP address to the Era VM on a VLAN that has a DHCP server, Prism Element first assigns an IP address to the Era VM by using DHCP. Wait for a few minutes and refresh the Prism Element page to verify if the static IP address you specified has been assigned to the VM.", "Heading_Keywords": ["instal", "era", "ahv"]}, {"Heading": "Installing Era (ESXi)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-installing-on-esxi-t.html", "Document Name": "Era User Guide", "Content": "About this taskPerform the following procedure to install Era on an ESXi cluster by using vCenter Server.ProcedureDownload the Era OVA file from the Nutanix Support portal.Log on to vCenter Server by using your administrator credentials.To deploy an OVF template in the vCenter Server, follow the VMware documentation.Before you register a database running on ESXi cluster, you must set disk.EnableUUID to True by using vCenter Server.Shut down the database server VM on which the database is running.Select the database server VM, go to VM > Actions > Edit Settings > VM Options > Advanced > Configuration Parameters > Edit Configuration, and click Add Row.In the Name field, type disk.EnableUUID.In the Value field, type True.Start the database server VM.Turn on the Era VM.To determine the IP address that is assigned to the Era VM, do one of the following.In vCenter Server, check the Summary tab of the VM.In the Prism Element web console, check the IP Addresses field of the Table view.To assign a static IP address to the Era VM, see Assigning a Static IP Address to the Era VM by Using the Console. If you assign a static IP address to the Era VM, Prism Element first assigns an IP address to the Era VM by using DHCP. Wait for one or two minutes and refresh the Prism Element page to verify if Era assigns the static IP address to the VM.", "Heading_Keywords": ["instal", "era", "esxi"]}, {"Heading": "Era Initial Configuration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-installation-initial-configuration-c.html", "Document Name": "Era User Guide", "Content": "Era virtual machine must be deployed and configured in the cluster before it can start managing database VMs on the specific cluster.Assigning a Static IP Address to the Era VM by Using the ConsoleConfiguring an SSL CertificateSecure Sockets Layer (SSL) certificates are used to establish an encrypted connection between a browser or computer and a server or website.Logging into EraChanging the Language SettingsMulti-Language support in Era enables you to select different languages (currently, English and Japanese) according to your requirements.Assigning a Static IP Address to the Era VM by Using the ConsoleAbout this taskAfter you install Era, you can launch the console of the Era VM to assign a static IP address to the Era VM.For ESXi, use the following procedure if you want to assign a static IP address to the Era VM.For AHV, either use the following procedure or assign a static IP to the VM at the time of installation. For instructions about assigning a static IP address to the Era VM at the time of installation, see Installing Era (AHV).ProcedureLog on to the Prism Element web console.Go to the VM dashboard, select the Era VM, and click Launch Console.Use the following credentials to log on to Era.User name: eraPassword: Nutanix.1Launch the Era server prompt.$ era-serverAssign a static IP address to Era.era-server > era_server set ip=ip_address gateway=gateway_address netmask=ip_netmask nameserver=ns1All parameters except the nameserver parameter are mandatory.Replace the variables with the following:Replace ip_address with the static IP address you want to assign to the Era VM.Replace gateway_address with the gateway IP address for the Era VM.Replace ip_netmask with the netmask of the network.Replace ns1 with the URL or IP address of the name server.Alternatively, instead of typing the command, you can press the Tab key to prompt you to complete the command.Configuring an SSL CertificateSecure Sockets Layer (SSL) certificates are used to establish an encrypted connection between a browser or computer and a server or website.About this taskEra supports custom SSL certificate-based authentication. You can configure a custom SSL certificate using CLI.Note: Nutanix recommends that customers replace the default self-signed certificate with a Certificate Authority (CA) signed certificate.To configure a custom SSL certificate using CLI, perform the following procedure:ProcedureLaunch the Era server CLI.$ era-serverConfigure the certificate.era-server > security ssl add_custom certificate_file= value private_key= value ca_certificate= valueLogging into EraAbout this taskNote: Root access is disabled on the Era VM.Perform the following procedure to log on to Era.ProcedureOpen a web browser and type the following in the address bar:https://era_vm_ip_addressReplace era_vm_ip_address with the IP address assigned to the Era VM.If you are logging in for the first time, do the following:Read the Nutanix End User License Agreement (EULA) agreement, click the I have read and agree to terms and conditions option, and click Continue.In the Nutanix Customer Experience Program screen, click OK.By participating in the Nutanix customer experience program, Nutanix collects non-identifying information for product improvement.In the logon screen, set a password for the administrator user in the Enter new password and Re-enter new password fields and click Set Password.In the logon screen, type the password of the \"admin\" user and press Enter.If you are logging in for the first time, you are directed to the Welcome to Era wizard, otherwise you are directed to the Era dashboard.Changing the Language SettingsMulti-Language support in Era enables you to select different languages (currently, English and Japanese) according to your requirements.About this taskYou have an option to change the language settings of the Era user interface from English (default) to Japanese, thus allowing you to view the user interface and provide user inputs in the available fields in Japanese.You can change the language to Japanese in the Profile page.To change the language settings to Japanese for the user interface, do the following.ProcedureAt the top-right corner of the screen, select Profile from the user drop-down list.The Profile page appears.In the Language list, click Japanese.Click Save to complete.The Era user interface language changes to Japanese.Note: The language settings are local to a web browser. When you log into Era from another browser, the language settings default to English.", "Heading_Keywords": ["era", "initi", "configur"]}, {"Heading": "Assigning a Static IP Address to the Era VM by Using the Console", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-assigning-static-IP-address-to-era-vm-t.html", "Document Name": "Era User Guide", "Content": "About this taskAfter you install Era, you can launch the console of the Era VM to assign a static IP address to the Era VM.For ESXi, use the following procedure if you want to assign a static IP address to the Era VM.For AHV, either use the following procedure or assign a static IP to the VM at the time of installation. For instructions about assigning a static IP address to the Era VM at the time of installation, see Installing Era (AHV).ProcedureLog on to the Prism Element web console.Go to the VM dashboard, select the Era VM, and click Launch Console.Use the following credentials to log on to Era.User name: eraPassword: Nutanix.1Launch the Era server prompt.$ era-serverAssign a static IP address to Era.era-server > era_server set ip=ip_address gateway=gateway_address netmask=ip_netmask nameserver=ns1All parameters except the nameserver parameter are mandatory.Replace the variables with the following:Replace ip_address with the static IP address you want to assign to the Era VM.Replace gateway_address with the gateway IP address for the Era VM.Replace ip_netmask with the netmask of the network.Replace ns1 with the URL or IP address of the name server.Alternatively, instead of typing the command, you can press the Tab key to prompt you to complete the command.", "Heading_Keywords": ["assign", "static", "ip", "address", "era", "vm", "use", "consol"]}, {"Heading": "Configuring an SSL Certificate", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-install-ssl-certificate-t.html", "Document Name": "Era User Guide", "Content": "Secure Sockets Layer (SSL) certificates are used to establish an encrypted connection between a browser or computer and a server or website.About this taskEra supports custom SSL certificate-based authentication. You can configure a custom SSL certificate using CLI.Note: Nutanix recommends that customers replace the default self-signed certificate with a Certificate Authority (CA) signed certificate.To configure a custom SSL certificate using CLI, perform the following procedure:ProcedureLaunch the Era server CLI.$ era-serverConfigure the certificate.era-server > security ssl add_custom certificate_file= value private_key= value ca_certificate= value", "Heading_Keywords": ["configur", "ssl", "certif"]}, {"Heading": "Logging into Era", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-logging-in-t.html", "Document Name": "Era User Guide", "Content": "About this taskNote: Root access is disabled on the Era VM.Perform the following procedure to log on to Era.ProcedureOpen a web browser and type the following in the address bar:https://era_vm_ip_addressReplace era_vm_ip_address with the IP address assigned to the Era VM.If you are logging in for the first time, do the following:Read the Nutanix End User License Agreement (EULA) agreement, click the I have read and agree to terms and conditions option, and click Continue.In the Nutanix Customer Experience Program screen, click OK.By participating in the Nutanix customer experience program, Nutanix collects non-identifying information for product improvement.In the logon screen, set a password for the administrator user in the Enter new password and Re-enter new password fields and click Set Password.In the logon screen, type the password of the \"admin\" user and press Enter.If you are logging in for the first time, you are directed to the Welcome to Era wizard, otherwise you are directed to the Era dashboard.", "Heading_Keywords": ["log", "era"]}, {"Heading": "Changing the Language Settings", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-change-language-settings-t.html", "Document Name": "Era User Guide", "Content": "Multi-Language support in Era enables you to select different languages (currently, English and Japanese) according to your requirements.About this taskYou have an option to change the language settings of the Era user interface from English (default) to Japanese, thus allowing you to view the user interface and provide user inputs in the available fields in Japanese.You can change the language to Japanese in the Profile page.To change the language settings to Japanese for the user interface, do the following.ProcedureAt the top-right corner of the screen, select Profile from the user drop-down list.The Profile page appears.In the Language list, click Japanese.Click Save to complete.The Era user interface language changes to Japanese.Note: The language settings are local to a web browser. When you log into Era from another browser, the language settings default to English.", "Heading_Keywords": ["chang", "languag", "set"]}, {"Heading": "Get Started with Era", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-getting-started-c.html", "Document Name": "Era User Guide", "Content": "After the Era setup is complete, the Welcome to Era wizard guides you to complete the initial tasks such as registering a Nutanix cluster with Era, and creating a sample network profile. This wizard then directs you to the Getting Started page which guides you in provisioning a database or registering an existing database to create a time machine. For information related to Era Service Management, Role-based Access Control, Multi-Cluster Management, Network Management and so on see Era Administration.Welcome to Era WizardThe Welcome to Era wizard guides you to complete the initial tasks such as registering a Nutanix cluster with Era, and creating a sample network profile. This wizard then directs you to the Getting Started menu that guides you through the provisioning or registration of your first database by using Era.Era ProfilesGetting Started with Provisioning DatabasesAfter the Era setup is complete, you can provision a database or register a database to create a time machine. The Getting Started page guides you through the provisioning of your first database. You can use Era to provision database server VMs and databases on the registered Nutanix cluster, or you can register an existing source database running on the Nutanix cluster. Welcome to Era WizardThe Welcome to Era wizard guides you to complete the initial tasks such as registering a Nutanix cluster with Era, and creating a sample network profile. This wizard then directs you to the Getting Started menu that guides you through the provisioning or registration of your first database by using Era.About this taskTo complete the wizard, perform the following procedure.ProcedureIn the Era\u2019s Cluster screen, do the following in the indicated fields:Name. Type a name of the Nutanix cluster as you want the name to appear in Era.Description. Type a description of the Nutanix cluster.IP Address of the Prism Element. Type the IP address of the Prism Element web console of the Nutanix cluster.Prism Element Administrator. Type the username of the Prism Element user account with which you want Era to access the Nutanix cluster.Note: It is not advisable to use the default administrative account for Era operations. It is recommended to use a separate Prism Element user account with Nutanix cluster administrative privileges as Era service account.Password. Type the password of the Prism Element user account.Enter your vCenter credentials.The fields to enter the vCenter credentials appear if the cluster runs on ESXi hypervisor.Click Next.In the Services screen, do the following in the indicated fields:Edit the DNS Servers and NTP Servers IP addresses if you want.The list contains the DNS servers and NTP servers configured in the Era server and the cluster (Prism Element) registered in the Era server. If no DNS servers are configured in the Era server, then the list only shows the DNS servers pulled from the cluster. You can add or remove IP addresses according to your requirements, and the changes are only applicable to the Era server.Figure. Services ScreenClick to enlargeConfigure the SMTP server if you want to avail the service of sending alerts notification through emails.Enter the IP address and port number for the SMTP server. For more information about configuring the SMTP server, see Sending Alert Notifications to an Email Recipient.Note: SMTP server configuration details are pulled from the cluster and auto-populated in the Services screen. You can edit the details and save your changes.Select the cryptographic protocol type you want to use for authentication and data encryption when sending alerts notification through emails. The available options are SSL and TLS.Enter the username, password, and sender's email address when configuring the SMTP server.In the Era Server's OS Time Zone list, select a timezone that you want the Era server to use.Enter your vCenter credentials.The fields to enter the vCenter credentials appear if the cluster runs on ESXi hypervisor.Click Next to go to the Storage Container screen.In the Storage Container screen, select the storage container that you want Era to use to provision new databases and database servers, and click Next.In the Network Profile screen, do the following in the indicated fields if you want to create a sample network profile.If you do not want to create a sample network profile now, select the Create Profile Later option to move to the next step.Under VLAN, select a VLAN from the drop-down list of available VLANs.This is the default network profile that Era uses when provisioning new databases. Note: A VLAN must be created on your Nutanix cluster for your database environment.If you want Era to assign static IP addresses to your database server VMs, select Manage IP Address Pool in Era option. Type the gateway, subnet mask, primary DNS, secondary DNS domain, and the start and end values of the IP address range for new database servers.If you select this option, Era assigns a static IP address from this IP address pool to your newly provisioned database server VMs.Click Next.Figure. Sample Network ProfileClick to enlargeIn the Setup screen, click Get Started.The Getting Started page describes how to register and provision databases in Era. You can also open the main menu and start using the product.Era ProfilesEra provides the building blocks to create standards (profiles) to simplify and standardize the provisioning process. Profiles enable you to create templates of database software, networking, compute, and database parameters, which help you to successfully provision databases or database server VMs on Era. Era provides the following profiles to get you started with provisioning your database or database server VMs.Software ProfileContains an image of the database and operating system that are generated from registered database server VMs. Era uses these images to provision the database server VM. For PostgreSQL, MariaDB, and MySQL, a sample software profile is available that contains the PostgreSQL, MariaDB, and MySQL software. For more information about supported built-in profiles, see Era Release Notes.For Oracle, SQL Server, and SAP HANA, you must create a software profile. The software profile for these engines is created by using an existing installation of the database. Therefore, you must have previously registered a database server VM running the type of database needed with Era.Note: Before creating a software profile, you must register a database server VM for use in the software profile. Compute ProfileSpecifies the size of the database server VM, which includes details such as vCPUs, cores per vCPU, and memory. A sample compute profile DEFAULT_OOB_COMPUTE is available for all types of database server VMs.Network ProfileSpecifies the VLAN that you want the new database server VM to use.Database Parameter ProfileLets you customize any number of database parameters that you want to apply to the database. Sample profiles for Oracle (DEFAULT_ORACLE_PARAMS), PostgreSQL (DEFAULT_POSTGRES_PARAMS), SQL Server (DEFAULT_SQLSERVER_PARAMS), MariaDB (DEFAULT_MARIADB_PARAMS), MySQL (DEFAULT_MYSQL_PARAMS), and SAP HANA (DEFAULT_SAPHANA_PARAMS) are available for use.Note: If you do not want to use the sample profiles available, you can either modify the sample profiles or create your own profiles in Era. Windows Domain ProfileContains Windows domain information such as domain name(FQDN), domain user, and password. This profile also includes information related to Active Directory such as the Organizational Unit (OU) paths for clusters and database server VMsGetting Started with Provisioning DatabasesAfter the Era setup is complete, you can provision a database or register a database to create a time machine. The Getting Started page guides you through the provisioning of your first database. You can use Era to provision database server VMs and databases on the registered Nutanix cluster, or you can register an existing source database running on the Nutanix cluster. About this taskYou can select Getting Started from the drop-down list of the main menu to open the Getting Started page.In this example, you can provision a PostgreSQL instance. The instance contains a number of databases.ProcedureFrom the drop-down list of the main menu, select Getting Started and then select the PostgreSQL engine.Figure. Getting Started MenuClick to enlargeIn the Provision a PostgreSQL Database page, click Provision a Database.Figure. Provision a PostgreSQL InstanceClick to enlargeThe Provision a PostgreSQL Instance window appears.You provision an instance in the following steps:Database Server VMInstanceTime MachineIn the Database Server VM step, select Create New Server.Select the following built-in sample profiles available in Era.Software Profile. Select the POSTGRES_10.4_OOB profile from the drop-down list.Compute Profile. Select DEFAULT_OOB_COMPUTE from the drop-down list.By using the sample profile, the PostgreSQL database server VM is created with the following compute values:vCPUs: 4Cores per vCPU: 2Memory: 32 GBNetwork Profile. Select DEFAULT_OOB_POSTGRESQL_NETWORK from the drop-down list. The DEFAULT_OOB_POSTGRESQL_NETWORK profile includes the VLAN you selected when you created this profile by using the Welcome to Era wizard.Figure. Select Built-in ProfilesClick to enlargeType the details for the instance such as name, description, password, name of the initial database, and select the DEFAULT_POSTGRES_PARAMS profile from the Database Parameter Profile drop-down list.Figure. Database DetailsClick to enlargeType a name for the time machine, select an SLA (duration for which Era retains the snapshots), and specify the schedule to take snapshots and copy transaction logs.Era has the following built-in SLAs.Figure. SLAsClick to enlargeIf you do not want to use the built-in SLAs, you can create your own SLAs in Era. For more information, see SLA Management.Figure. Time MachineClick to enlargeClick Provision to start the operation to provision your first PostgreSQL instance.After the operation is complete, you will have successfully provisioned your first PostgreSQL instance in Era. The instance is displayed in the list of databases. You can click the name of the instance to review the instance homepage. The instance homepage displays separate tiles for instance summary, database server VM, profiles, and time machine details.What to do nextYou can now proceed to use other features of Era such as copy data management.Note: Similarly, you can provision Oracle, SQL Server, SAP HANA databases, and MariaDB, MySQL instances. To create a software profile for provisioning an Oracle database, you must have previously registered an Oracle database with Era.For more information about database provisioning, see One-Click Provisioning.", "Heading_Keywords": ["get", "start", "era"]}, {"Heading": "Welcome to Era Wizard", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-welcome-wizard-t.html", "Document Name": "Era User Guide", "Content": "The Welcome to Era wizard guides you to complete the initial tasks such as registering a Nutanix cluster with Era, and creating a sample network profile. This wizard then directs you to the Getting Started menu that guides you through the provisioning or registration of your first database by using Era.About this taskTo complete the wizard, perform the following procedure.ProcedureIn the Era\u2019s Cluster screen, do the following in the indicated fields:Name. Type a name of the Nutanix cluster as you want the name to appear in Era.Description. Type a description of the Nutanix cluster.IP Address of the Prism Element. Type the IP address of the Prism Element web console of the Nutanix cluster.Prism Element Administrator. Type the username of the Prism Element user account with which you want Era to access the Nutanix cluster.Note: It is not advisable to use the default administrative account for Era operations. It is recommended to use a separate Prism Element user account with Nutanix cluster administrative privileges as Era service account.Password. Type the password of the Prism Element user account.Enter your vCenter credentials.The fields to enter the vCenter credentials appear if the cluster runs on ESXi hypervisor.Click Next.In the Services screen, do the following in the indicated fields:Edit the DNS Servers and NTP Servers IP addresses if you want.The list contains the DNS servers and NTP servers configured in the Era server and the cluster (Prism Element) registered in the Era server. If no DNS servers are configured in the Era server, then the list only shows the DNS servers pulled from the cluster. You can add or remove IP addresses according to your requirements, and the changes are only applicable to the Era server.Figure. Services ScreenClick to enlargeConfigure the SMTP server if you want to avail the service of sending alerts notification through emails.Enter the IP address and port number for the SMTP server. For more information about configuring the SMTP server, see Sending Alert Notifications to an Email Recipient.Note: SMTP server configuration details are pulled from the cluster and auto-populated in the Services screen. You can edit the details and save your changes.Select the cryptographic protocol type you want to use for authentication and data encryption when sending alerts notification through emails. The available options are SSL and TLS.Enter the username, password, and sender's email address when configuring the SMTP server.In the Era Server's OS Time Zone list, select a timezone that you want the Era server to use.Enter your vCenter credentials.The fields to enter the vCenter credentials appear if the cluster runs on ESXi hypervisor.Click Next to go to the Storage Container screen.In the Storage Container screen, select the storage container that you want Era to use to provision new databases and database servers, and click Next.In the Network Profile screen, do the following in the indicated fields if you want to create a sample network profile.If you do not want to create a sample network profile now, select the Create Profile Later option to move to the next step.Under VLAN, select a VLAN from the drop-down list of available VLANs.This is the default network profile that Era uses when provisioning new databases. Note: A VLAN must be created on your Nutanix cluster for your database environment.If you want Era to assign static IP addresses to your database server VMs, select Manage IP Address Pool in Era option. Type the gateway, subnet mask, primary DNS, secondary DNS domain, and the start and end values of the IP address range for new database servers.If you select this option, Era assigns a static IP address from this IP address pool to your newly provisioned database server VMs.Click Next.Figure. Sample Network ProfileClick to enlargeIn the Setup screen, click Get Started.The Getting Started page describes how to register and provision databases in Era. You can also open the main menu and start using the product.", "Heading_Keywords": ["welcom", "era", "wizard"]}, {"Heading": "Era Profiles", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-getting-started-profiles-c.html", "Document Name": "Era User Guide", "Content": "Era provides the building blocks to create standards (profiles) to simplify and standardize the provisioning process. Profiles enable you to create templates of database software, networking, compute, and database parameters, which help you to successfully provision databases or database server VMs on Era. Era provides the following profiles to get you started with provisioning your database or database server VMs.Software ProfileContains an image of the database and operating system that are generated from registered database server VMs. Era uses these images to provision the database server VM. For PostgreSQL, MariaDB, and MySQL, a sample software profile is available that contains the PostgreSQL, MariaDB, and MySQL software. For more information about supported built-in profiles, see Era Release Notes.For Oracle, SQL Server, and SAP HANA, you must create a software profile. The software profile for these engines is created by using an existing installation of the database. Therefore, you must have previously registered a database server VM running the type of database needed with Era.Note: Before creating a software profile, you must register a database server VM for use in the software profile. Compute ProfileSpecifies the size of the database server VM, which includes details such as vCPUs, cores per vCPU, and memory. A sample compute profile DEFAULT_OOB_COMPUTE is available for all types of database server VMs.Network ProfileSpecifies the VLAN that you want the new database server VM to use.Database Parameter ProfileLets you customize any number of database parameters that you want to apply to the database. Sample profiles for Oracle (DEFAULT_ORACLE_PARAMS), PostgreSQL (DEFAULT_POSTGRES_PARAMS), SQL Server (DEFAULT_SQLSERVER_PARAMS), MariaDB (DEFAULT_MARIADB_PARAMS), MySQL (DEFAULT_MYSQL_PARAMS), and SAP HANA (DEFAULT_SAPHANA_PARAMS) are available for use.Note: If you do not want to use the sample profiles available, you can either modify the sample profiles or create your own profiles in Era. Windows Domain ProfileContains Windows domain information such as domain name(FQDN), domain user, and password. This profile also includes information related to Active Directory such as the Organizational Unit (OU) paths for clusters and database server VMs", "Heading_Keywords": ["era", "profil"]}, {"Heading": "Getting Started with Provisioning Databases", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-getting-started-with-provisioning-t.html", "Document Name": "Era User Guide", "Content": "After the Era setup is complete, you can provision a database or register a database to create a time machine. The Getting Started page guides you through the provisioning of your first database. You can use Era to provision database server VMs and databases on the registered Nutanix cluster, or you can register an existing source database running on the Nutanix cluster. About this taskYou can select Getting Started from the drop-down list of the main menu to open the Getting Started page.In this example, you can provision a PostgreSQL instance. The instance contains a number of databases.ProcedureFrom the drop-down list of the main menu, select Getting Started and then select the PostgreSQL engine.Figure. Getting Started MenuClick to enlargeIn the Provision a PostgreSQL Database page, click Provision a Database.Figure. Provision a PostgreSQL InstanceClick to enlargeThe Provision a PostgreSQL Instance window appears.You provision an instance in the following steps:Database Server VMInstanceTime MachineIn the Database Server VM step, select Create New Server.Select the following built-in sample profiles available in Era.Software Profile. Select the POSTGRES_10.4_OOB profile from the drop-down list.Compute Profile. Select DEFAULT_OOB_COMPUTE from the drop-down list.By using the sample profile, the PostgreSQL database server VM is created with the following compute values:vCPUs: 4Cores per vCPU: 2Memory: 32 GBNetwork Profile. Select DEFAULT_OOB_POSTGRESQL_NETWORK from the drop-down list. The DEFAULT_OOB_POSTGRESQL_NETWORK profile includes the VLAN you selected when you created this profile by using the Welcome to Era wizard.Figure. Select Built-in ProfilesClick to enlargeType the details for the instance such as name, description, password, name of the initial database, and select the DEFAULT_POSTGRES_PARAMS profile from the Database Parameter Profile drop-down list.Figure. Database DetailsClick to enlargeType a name for the time machine, select an SLA (duration for which Era retains the snapshots), and specify the schedule to take snapshots and copy transaction logs.Era has the following built-in SLAs.Figure. SLAsClick to enlargeIf you do not want to use the built-in SLAs, you can create your own SLAs in Era. For more information, see SLA Management.Figure. Time MachineClick to enlargeClick Provision to start the operation to provision your first PostgreSQL instance.After the operation is complete, you will have successfully provisioned your first PostgreSQL instance in Era. The instance is displayed in the list of databases. You can click the name of the instance to review the instance homepage. The instance homepage displays separate tiles for instance summary, database server VM, profiles, and time machine details.What to do nextYou can now proceed to use other features of Era such as copy data management.Note: Similarly, you can provision Oracle, SQL Server, SAP HANA databases, and MariaDB, MySQL instances. To create a software profile for provisioning an Oracle database, you must have previously registered an Oracle database with Era.For more information about database provisioning, see One-Click Provisioning.", "Heading_Keywords": ["get", "start", "provis", "databas"]}, {"Heading": "Era Dashboard", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-dashboard-r.html", "Document Name": "Era User Guide", "Content": "Era provides a dashboard view that allows you to manage and monitor activities across your databases and database server VMs on ERA. To view the dashboard at any time, select Dashboard from the drop-down list of the main menu.Figure. Era DashboardClick to enlargeMain MenuThe main menu at the top of every screen provides access to all the features of Era. The following options are displayed in the main menu:View Menu. The View Menu on the left of the main menu provides a drop-down list of all the entities of Era.User Menu. The user menu on the right of the main menu provides options to update user profile, access the REST API explorer, download Era CLI, perform any session settings, and log off from Era.Alerts. The alerts icon on the main menu indicates the number of alert messages that have been generated and have not been marked as resolved. You can click Alerts to view all the alert details.Operations. The operations icon on the main menu indicates the number of operations running on Era. You can click Operations to view all the operations and their status.DashboardThe dashboard is the opening screen that appears after logging into Era. It provides a dynamic summary view that allows you to manage and monitor activities across your databases and database server VMs on ERA.The dashboard displays the following widgets:Table 1. Dashboard WidgetsNameDescriptionDatabasesDisplays the total count of source and cloned databases on Era.Clone Data Age (Days)Displays the age range of cloned databases maintained by Era. Data Usage (GiB)Displays information on the amount of data utilized and saved by using Era CDM.A comparative analysis of the disk space usage when cloned traditionally (full clones) and when cloned using Era is also displayed.Tasks (Last 5 days)Displays the summary of failed and succeeded tasks from the last 5 days.Alerts (Last 5 days)Displays the summary of critical and warning alerts from the last 5 days.Summary TableDisplays a summary of all the source databases registered on Era. The associated time machine, clones created, and data usage details are also displayed. AboutDisplays the cluster name and version of Era.", "Heading_Keywords": ["era", "dashboard"]}, {"Heading": "Oracle Database Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-oracle-db-management-c.html", "Document Name": "Era User Guide", "Content": "Era enables you to easily register, provision, clone, and administer all your Oracle (Single- instance and RAC) databases on multiple Nutanix clusters in a single-click. The following sections provide more information on Era Oracle database management.Oracle RAC DatabaseCurrent LimitationsOracle Database RegistrationOracle Database ProfilesOracle Database ProvisioningOracle Database CloneRestoring an Oracle DatabaseRestoring allows you to restore a source database registered with Era to a snapshot or point-in-time supported by the source database time machine. You can restore a database by using a snapshot ID, Point in Time Recovery (PITR) timestamp, any latest snapshot, or to the maximum recovery point possible.Patching an Oracle Database Server VMDatabase patching is the process of updating the Oracle home, Grid home, and Oracle database with the latest Patch Set Updates (PSU) released by Oracle. Era leverages the Oracle out-of-place patching method. It allows you to install updates on one database host, copy Oracle/Grid infrastructure home, install it on the destination server(s), and start the services. In this method, manual patching needs to be done only once on the gold image VM, and a newer version of the software profile needs to be created. All the compatible oracle database server VMs can then be patched using this new version of the software profile. This involves minimal downtime, which is required while switching the services to the new Oracle home on the database servers. Once successfully applied, the patches cannot be rolled back.Patching an Oracle Database Server ClusterOracle RAC DatabaseOracle RAC is an active-active cluster database configuration that enables multiple database instances, each running on different nodes, to read and write to the same database. When you register a RAC database, Era creates a single Time Machine for the database but collects metadata about all the nodes and instances that constitute the database. For all upcoming Time Machine operations such as snapshot and log catch up operations, Era uses one of the nodes to operate that you specify while registering the database. When the operation starts, the Era software on that node connects to the RAC instance (locally - no scan or VIP used) to quiesce the database. If the instance on that node is down, Era instantly selects a different node from its metadata and assigns the Time Machine operations to that node. If the operation is successful, Era assigns the next scheduled operations to the same node.Example: An Oracle RAC database has three nodes A, B, and C. If you registered the database by specifying the VM IP address for node A, the Time Machine first selects node A to carry out its operations. If node A stops working due to some reason, the Time Machine selects the next available node (either node B or node C) to operate.See Registering an Oracle RAC Database for information on registering an Oracle RAC database. See Provisioning an Oracle RAC Database for information on provisioning an Oracle RAC database. Current LimitationsEra has the following limitation for Oracle. Era does not support multiple clones onto the same database server for Oracle non-ASM configuration where data disks are not logical Volumes.Era does not support a source database with 12.1.0.2.0 version ASM filter driver if ASM SPFILE is on the same disk group as data. Era does not support multiple clones onto the same database server for Oracle version 12.1.0.2.0 with ASM filter driver LOADED. Era does not support DB_BLOCK_SIZE database parameter profile when you clone a database. Database restore operation on Oracle 12.1.0.2 with AFD is not supported.Oracle Database RegistrationYou can register a source (production) database running on a Nutanix cluster with Era. When you register a database with Era, the database server VM (VM that hosts the source database) is also registered with Era. After you have registered a database with Era, a time machine is created for that database. Era allows you to register multiple databases on a single database server VM.The time machine takes periodic database snapshots and log catch-ups (see Era Time Machine Management). The time machine performs the snapshot and log catch-up operations as defined in the SLA that you have selected or created during the registration of the database (see SLA Management).You can register both a single-instance Oracle database and Oracle RAC database.Oracle Database and Database Server VM Registration PrerequisitesRegistering an Oracle Database Server VMRegistering an Oracle Single-Instance DatabaseRegistering an Oracle RAC DatabaseOracle Database and Database Server VM Registration PrerequisitesEnsure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Before you register a database running on ESXi cluster, you must set disk.EnableUUID to True by using vCenter Server. Shut down the database server VM on which the database is running.Select the database server VM, go to VM > Actions > Edit Settings > VM Options > Advanced > Configuration Parameters > Edit Configuration, and click Add Row.In the Name field, type disk.EnableUUID.In the Value field, type True.Start the database server VM.Software Dependencies (Linux)To successfully register a database server VM with Era, database server VM must satisfy all the required software and configuration dependencies. (For more information about the software packages that must be installed, see Database Server VM Registration Pre-requirement Checks and Running Pre-requirement Script (Linux)).OS Configuration (Linux)SUDO NOPASS access is required.Linux OS root access is required.Install and configure crontab.Configure binary paths as secure_paths in the etc/sudoers file.Ensure that Prism APIs are callable from the VM./tmp folder must have read and write permissions.Disable requiretty setting on the source database to successfully register the database.Ensure that /etc/sudoers file includes the following line under defaults: secure_path = /sbin:/bin:/usr/sbin:/usr/binRegistering an Oracle Database Server VMBefore you beginEnsure that you meet the following requirements before you register an Oracle database server VM with Era.For general requirements, see Oracle Database and Database Server VM Registration PrerequisitesOS or database software disks must be distinct from the data disks.Database instances must be in OPEN or in MOUNT mode for physical standby databases on the specified VM. For Oracle RAC, the database instance must be OPEN on all configured nodes at the time of registration.Set Oracle home or Grid home input parameters correctly.If the database use ASM, Grid home must be set.For ASM instances, asm_diskstring and SPFILE parameters must be set.In etc/oratab, an entry for database and ASM instance must be present.Enable OS authentication.Run listener.About this taskPerform the following procedure to register an Oracle database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VMs.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select Oracle. The Register Database Server VM window appears. Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM you want to register.Listener Port. The default port of an Oracle database is 1521, which is populated in this field. You can choose to set another port number.Era Drive User. Type the username of the Era drive user account that has sudo access.Oracle Database Home. Type the path to the Oracle home directory in which the Oracle database software is installed.Grid Infrastructure Home. Type the path to the Oracle home directory in which the Oracle Grid Infrastructure software is installed.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Figure. Registering Database Server VMClick to enlargeClick Register to successfully register the database server VM.A message appears indicating that the operation to register a database server VM has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server VM appears in the list of the registered database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays the name, time zone, status, date of registration, and version of the database server VM.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server VM. You can also click See Description to view the steps to connect to the database server VM using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the database.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Registering an Oracle Single-Instance DatabaseBefore you beginEnsure that you meet the following requirements before you register an Oracle single-instance database with Era.For general requirements, see Oracle Database and Database Server VM Registration PrerequisitesOS or database software disks must be distinct from the data disks.Database instances must be in OPEN or in MOUNT mode for physical standby databases on the specified VM. Set Oracle home or Grid home input parameters correctly.If the databases use ASM, Grid home must be set.For ASM instances, asm_diskstring and SPFILE parameters must be set.In etc/oratab, an entry for database and ASM instance must be present.Enable archive logging.Enable OS authentication.Run listener.Ensure that you have DBA level access to the databases you want to add.About this taskPerform the following procedure to register an Oracle single-instance database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select Single Instance Database under the Oracle engine. The Register an Oracle Single Instance Database window appears. You register a single-instance database in the following steps:Database Server VMDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one the following.Registered. Select this option if you want to register a database running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the database you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the database you want to register is running and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the name or IP address of the database server VM on which the database that you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.Oracle Database Home. Type the path to the Oracle home directory in which the Oracle database software is installed.Grid Infrastructure Home. Type the path to the Oracle home directory in which the Oracle Grid Infrastructure software is installed.Provide Credentials Through. Select either Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Database Server DetailsClick to enlargeIn the Database step, do the following in the indicated steps.Database Name in Era. Type a name of the database.Description. Type a description of the database.SID. Type an SID for the database.In the Time Machine step, do the following in the indicated fields.Time Machine Name. Type a name of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeDescription. Type a description for the time machine.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the single-instance database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Registering an Oracle RAC DatabaseBefore you beginEnsure that you meet the following requirements before you register an Oracle RAC database with Era.For general requirements, see Oracle Database and Database Server VM Registration PrerequisitesOS or database software disks must be distinct from the data disks.The database instance must be OPEN on all configured nodes at the time of registration.Set Oracle home or Grid home input parameters correctly.If the databases use ASM, Grid home must be set.For ASM instances, asm_diskstring and SPFILE parameters must be set.In etc/oratab, an entry for database and ASM instance must be present.Enable archive logging.Enable OS authentication.Run listener.Ensure that you have DBA level access to the databases you want to add.About this taskPerform the following procedure to register an Oracle RAC database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select RAC Database under the Oracle engine. The Register an Oracle RAC Database window appears. You register a RAC database in the following steps:Server ClusterDatabaseTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Server Cluster step, select one of the following.Registered. Select this option if you want to register a database running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the database you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the database you want to register is running and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the name or IP address of the database server VM on which the database that you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.Oracle Database Home. Type the path to the Oracle home directory in which the Oracle database software is installed.Grid Infrastructure Home. Type the path to the Oracle home directory in which the Oracle Grid Infrastructure software is installed.Provide Credentials Through. Select either Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Database Server DetailsClick to enlargeIn the Database step, do the following in the indicated steps.Database Name in Era. Type a name of the database.Description. Type a description of the database.Database Name. Type a global name for the Oracle database.In the Time Machine step, do the following in the indicated fields.Time Machine Name. Type a name of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeDescription. Type a description for the time machine.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the RAC database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:RAC Database Summary . Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Database Instances. Displays the list of database instances created. Details such as name, status, database server VM, IP addresses and time machine status is also displayed.Time Machine. Displays the name, description, age, and size of the time machine.Server Cluster. Displays the name, status, SCAN IP address, OS, SCAN name and SCAN port of the Oracle server cluster. Tags. Displays a list of the tags that are applied to this database. You can click Update to set the tag values.Oracle Database ProfilesProfiles enable you to create templates of database software, networking, compute, and database parameters, which help you to successfully provision databases or database server VMs on Era.Creating a Software ProfileCreating a Software Profile VersionUpdating a Software Profile VersionCreating a Compute ProfileCreating a Network ProfileA network profile specifies the VLAN for the new database server VM. Creating a Oracle RAC Network ProfileCreating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. Creating a Software ProfileBefore you beginEnsure that you have registered an existing Oracle database server VM with Era. If you want to create a RAC database (cluster database), ensure that you have registered a database server VM that has the Oracle Grid Infrastructure software.About this taskA software profile is a template that includes the Oracle database software and operating system. After you have registered an existing Oracle database server VM with Era, Era creates a software template from the Oracle database server VM. For more information about supported built-in profiles, see Era Release Notes.A software profile is created from the software installed on the registered databases. Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software, click Create, and select either  Single Instance Database or RAC Database under the Oracle engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: If you want to create a RAC database (cluster database), ensure that you have registered a database server VM that has the Oracle Grid infrastructure software.Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Note: If you have selected RAC Database as the type of deployment, Era displays only the database server VMs that have the Oracle Grid Infrastructure software.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a version of the software profile. For more information, see Creating a Software Profile Version .Creating a Software Profile VersionAbout this taskSoftware profile version is required when you update a database server VM to a new update version available. You can create a software profile version to provision and update other database server VMs using this software profile. Perform the following procedure to create a version of the software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and click the software profile used by the database server VM.Click Create. The Create Software Profile Version window appears. You create a software profile in the following steps:SoftwareNotesIn the Software step, do the following in the indicated fields, do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Figure. Creating a Software Profile VersionClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile version.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Create.Era creates a version of the software profile for provisioning and updating other database server VMs using this software profile and displays in the list. Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version, patches, and bug fixes. Click the + icon to view the bug fixes for the respective PSU.Grid Infrastructure Software. Displays information about Grid Infrastructure version, patches, and bug fixes.Database Server VMs. Displays the database server VMs that are using this version of the profile.Availability. Displays the profile availability across clusters.Updating a Software Profile VersionAbout this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesHyperlinksIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile must update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message is displayed on the homepages of the database server VMs and server clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Grid Infrastructure Software Notes. Type a note to provide additional information about the Grid Infrastructure software.Configuration Notes. Type a note to provide additional information about the configuration.In the Hyperlinks step, do the following in the indicated fields.Note: Hyperlinks are optional. You can add links to the related information.Operating System Hyperlink. Type a label and URL for the operating system in use.Database Software Hyperlink. Type a label and URL for the database software in use.Grid Infrastructure Software Hyperlink. Type a label and URL for the Grid Infrastructure software in use.Configuration Hyperlink. Type a label and URL for the configuration.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.Creating a Compute ProfileAbout this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: Create a compute profile only if you do not want to use the sample profile (DEFAULT_OOB_COMPUTE).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.Creating a Network ProfileA network profile specifies the VLAN for the new database server VM. Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskCreate a network profile as a sample network profile is not available in Era. You can create a sample network profile either by using the Welcome to Era wizard, or by performing the following procedure.Perform the following procedure to create a network profile for Oracle.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select Database Server VMs under the Oracle engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Under Service Mapping, do the following in the indicated field:Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option. You can add one or more VLANs to Era.Note: For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Figure. Network Profile for Database Server VMClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.Creating a Oracle RAC Network ProfileBefore you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix clusters for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskPerform the following procedure to create a network profile for Oracle RAC.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select RAC Database under the Oracle engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: The Nutanix Cluster field is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.Under Service Mapping, do the following in the indicated fields:Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Virtual Service VLAN. Select the VLAN to provide the IP address for each node within an Oracle RAC database environment with the IP address residing in the public subnet. Clients use node VIPs to connect to an Oracle RAC database.Scan Service VLAN. Select the VLAN to provide the IP addresses for the Single Client Access Name (SCAN). Three IP addresses are reserved for SCAN.This step provides a single name for clients to access the Oracle databases running in a cluster. Private Service VLAN. Select the VLAN to provide the private IP address used for interconnect communication between all the nodes in the cluster.Optionally, if the VLAN you want to select does not appear in the drop-down lists of available VLAN, click the Click here option. You can add one or more VLANs to Era. For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Note: Provisioning of Oracle RAC databases requires IP addresses in the VLANs to be managed by Era. Hence, only such VLANs are displayed from the selected Nutanix cluster.Figure. Network Profile for RACClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and VLANs associated with the respective profile.Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a database parameters profile only if you do not want to use the sample database parameter profile.Perform the following procedure to create a database parameters profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, select Oracle as the database engine and click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.The parameters in the profile are populated with the default values and are optional to configure. You can update these parameters to suit your requirements. Click the page navigation arrows to display all the available parameters. To search for a parameter, type the name of the parameter in the search box. The Value column displays the default values of the parameters. You can choose to update the value of the parameters to suit your requirements. If you want to display only those parameters that you have updated, select the Modified Only option.Figure. Database Parameters ProfileClick to enlargeNote: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.Oracle Database ProvisioningYou can provision database server VMs and databases on the Nutanix clusters. As part of the database provisioning process, you can either create a database server VM on which you provision the database or select a database server VM that you have already provisioned.You use the built-in database parameter profiles or profiles you created to provision the databases.With Era's multi-cluster capability, both Oracle single-instance and RAC databases can be provisioned on different Nutanix clusters. Era also supports provisioning of multiple Oracle databases in the same database server VM.Database Server VM Provisioning PrerequisitesProvisioning an Oracle Database Server VMProvisioning an Oracle Single Instance DatabaseProvisioning an Oracle RAC DatabaseDatabase Server VM Provisioning PrerequisitesComplete the following tasks before you start provisioning a database server VM.Register a source database with Era (see Registering an Oracle Database).Create a software profile.Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Generate an SSH key for database provisioning on Linux-based operating systems (see Additional Information: Generating an SSH Key (Windows) ). Provisioning an Oracle Database Server VMBefore you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select the Oracle engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: The Nutanix Cluster field is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. Enable High Availability (SIHA). Select this option if you want to enable High Availability on your Oracle database server VM.SYS ASM Password. Set a password for the ASM instance.The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterNote: This option appears only if the software profile you selected has the Oracle Grid Infrastructure software.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Provisioning an Oracle Single Instance DatabaseBefore you beginEnsure that you have created a software profile before you start provisioning an single-instance Oracle database. For more information, see Creating a Software Profile.About this taskNote: Era supports provisioning of multiple Oracle databases in the same database server VM. With Era's multi-cluster capability, both Oracle single-instance and RAC databases can be provisioned on different Nutanix clusters. You can only use the profiles and profile versions (unpublished) that you own while provisioning a database.Perform the following procedure to provision a single-instance Oracle database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select Single Instance Database under the Oracle engine. The Provision an Oracle Single Instance Database window appears. You provision a single-instance database in the following steps:Database Server VMDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one of the following.Create New Server. Select this option if you want to provision a single-instance database on a new database server VM.Use Registered Server. Select this option if you want to provision a single-instance database on a database server VM that you have previously registered with Era.If you have selected Create New Server in the previous step, do the following under New Database Server VM.Database Server VM Name. Type a name of the database server VM. The name that you provide in this field is used as the virtual machine name created for the single-instance Oracle database.Description. Type a description of the database server VM.Nutanix Cluster. Select the Nutanix cluster on which you want to provision the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appear in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Enable High Availability (SIHA). Select this option if you want to enable Grid Infrastructure on the single instance.If you have selected this option, set a password in the SYS ASM Password field and select an ASM Driver from the drop-down list of ASM drivers available for the ASM instance.The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterNote: This option appears only if the software profile you selected has the Oracle Grid Infrastructure software.Database Server VM's Time Zone. Select a timezone for the database server VM.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.Figure. Provisioning DetailsClick to enlargeIf you have selected Use Registered Server in the previous step, select the database server VM on which you want to provision the instance and click Next.In the Database step, do the following in the indicated steps.Database Name. Type a name of the database.Description. Type a description of the database.SID. Type an SID for the database.Global Database Name. This field automatically replicates with the value that you have typed in SID.SYS and SYSTEM Password. Type a common password for both the SYS and SYSTEM user accounts.If you want to set different passwords for both the user accounts, log on to the single-instance database after the database is provisioned to change the passwords. Retype the SYS and SYSTEM password in the Confirm Password field.The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterSize (GiB). Type the size needed for the database in GB.Fast Recovery Area Size. Type the recovery area size in GB.The fast recovery area provides a centralized storage location for backup and recovery files.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Character Set. Select a character set (AL32UTF8 or UTF8) for the database.National Character Set. Select a national character set (AL16UTF16 or UTF8) for the database.Listener Port. By default, this field is populated with port number 1521.You can choose to set another port number. Encryption. Select this option if you want to enable encryption for this database.If you have selected this option, type the passphrase in the Passphrase and Confirm Passphrase fields.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the database is created.Post-Create Command. Type a complete OS command that you want to run after the database is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management. Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision a single-instance database has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the single-instance database appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, network, and database parameter profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Provisioning an Oracle RAC DatabaseBefore you beginEnsure that you have created a software profile before you start provisioning an Oracle RAC database. For more information, see Creating a Software Profile.About this taskEra supports provisioning of multiple Oracle databases in the same database server VM. With Era's multi-cluster capability, both Oracle single-instance and RAC databases can be provisioned on different Nutanix clusters. Note: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database.Perform the following procedure to provision an Oracle RAC database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select RAC Database under the Oracle engine. The Provision an Oracle RAC Database window appears. You provision a RAC database in the following steps:Server ClusterRAC TopologyDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Server Cluster step, select one of the following.Create New Cluster. Select this option if you want to provision a RAC database on a new cluster.Use Registered Cluster. Select this option if you want to provision a RAC database on a cluster that you have previously registered with Era.If you have selected Create New Cluster in the previous step, do the following in the indicated fields.Do the following under New Server Cluster.Server Cluster Name. Type a name for the server cluster.Description. Type a description for the server cluster.Nutanix Cluster. Select the Nutanix cluster on which you want to provision the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.All the nodes of the Oracle RAC database will be provisioned on the same Nutanix cluster.Network Profile. Select a network profile from the drop-down list of network profiles available.Under Database Server VMs in the Cluster, do the following in the indicated fields:Number of Database Server VMs. Select the number of nodes for creating a cluster.Database Server VM Name Prefix. Type a name prefix for the database server VMs that will be added to the Oracle cluster.Database Server VM's Time Zone. Select a timezone for the database server VM.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.SYS ASM Password. Type a password for the SYSASM user account.ASM Driver. Select an ASM driver from the drop-down list of ASM drivers available. The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterSSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.If you have selected Use Registered Cluster in the previous step, do the following.Select the registered cluster on which you want to provision the database.Click Next.Figure. Provisioning RAC DetailsClick to enlargeIn the RAC Topology step, do the following in the indicated steps.SCAN. Type a name for Single Client Access Name (SCAN).SCAN is an Oracle RAC feature that provides a single name for clients to access Oracle databases running in a cluster.Listener Port. By default, this field is populated with port number 1521.You can choose to set another port number. Database Server VMs in the Cluster. This field is auto-populated with the database server VM names. The database server VM names are generated based on the number of database server VMs and database server VM name prefix mentioned in the Server Cluster step. In the Database step, do the following in the indicated steps.Database Name. Type a name for the database.Description. Type a description for the database.SID. Type an SID for the database.Global Database Name. This field automatically replicates with the value that you have typed in SID.SYS and SYSTEM Password. Type a common password for both the SYS and SYSTEM user accounts.If you want to set different passwords for both the user accounts, log on to the database after the database is provisioned to change the passwords. Retype the SYS and SYSTEM password in the Confirm Password field.The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterSize (GiB). Type the size needed for the database in GB.Fast Recovery Area Size. Type the recovery area size in GB.The fast recovery area provides a centralized storage location for backup and recovery files.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Character Set. Select a character set (AL32UTF8 or UTF8) for the database.National Character Set. Select a national character set (AL16UTF16 or UTF8) for the database.Encryption. Select this option if you want to enable encryption for this database.If you have selected this option, type the passphrase in the Passphrase and Confirm Passphrase fields.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management. Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision an RAC database has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the RAC database appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:RAC Database Summary . Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, network, and database parameter profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Database Instances. Displays the list of database instances created. Details such as name, status, database server VM, IP addresses and time machine status is also displayed.Time Machine. Displays the name, description, age, and size of the time machine.Server Cluster. Displays the name, status, SCAN IP address, OS, SCAN name and SCAN port of the Oracle server cluster. Tags. Displays a list of the tags that are applied to this database. You can click Update to set the tag values.Oracle Database CloneYou can create clones either to a point in time (by using transaction logs) or by using snapshots. If you want to use snapshots to clone the source database, you select an available snapshot and the source database is cloned to a state when the snapshot is taken. If you want to clone the source database at a point in time, you select the clone time and the source database is cloned to a state then. Creating Oracle Database ClonesCreating Oracle Database ClonesBefore you beginEnsure that you meet the following requirements before you start the cloning operation.A database with the same SID should not be already running on the target database server VM.A clone should not be registered with an older version of Era on the target database server VM.If you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone an Oracle database.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the Oracle source database you want to clone, click Actions and select Create Single Instance Database Clone. The Create Oracle SI Database Clone from Time Machine window appears. You clone the database in the following steps:Time/SnapshotDatabase Server VMDatabaseIn the Time/Snapshot step, select the cluster and clone time to which you want to clone the database. Do the following to select the time.Nutanix Cluster. Select a Nutanix cluster to clone the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Do one of the following:Point in time. Select this option if you want to clone the source database to a point in time. If you select this option, the database is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source database by using the available snapshots.Click Next.In the Database Server VM step, select one of the following.Create New Server. Select this option to create a target database server VM and clone the database on the newly created target database server VM.Use Authorized Server. Select this option to clone the database to a database server VM that you have already registered with Era. If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name for the database server VM.Description. Type a description of the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a time zone for the database server VM.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the Database step, do the following in the indicated steps.Name. Type a name of the cloned database.Description. Type a description of the cloned database.SID. Type an SID for the database.SYS and SYSTEM Password. Type a common password for both the SYS and SYSTEM user accounts. If you want to set different passwords for both the user accounts, log on to the database after the database is provisioned to change the passwords.The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterDatabase Parameter Profile. Select a database parameters profile from the list of the profiles available.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Next.Click Clone to successfully clone the source database.A message appears indicating that the operation to clone the database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone database appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.Restoring an Oracle DatabaseRestoring allows you to restore a source database registered with Era to a snapshot or point-in-time supported by the source database time machine. You can restore a database by using a snapshot ID, Point in Time Recovery (PITR) timestamp, any latest snapshot, or to the maximum recovery point possible.Before you beginEnsure the following before you restore an Oracle Database.Register the source database running on that cluster with Nutanix Era (see Registering an Oracle Single-Instance Database. Ensure that the database has a time machine that supports the required snapshot or point in time restore capability.Ensure that the database server VM of the source database is available.About this taskA database restore operation replaces the current database with data as of the specified snapshot or point-in-time. The time machine for the source database is paused before a restore operation is initiated. After a successful restore, the time machine is automatically resumed that triggers a new snapshot and log catchup operation for the restored database. If the restore operation fails, the database is left in the state that it was before the restore was initiated.Note: Perform this operation with caution as there might be some data loss.Database restore operation is not supported for databases of physical standby and Real Application Clusters (RAC) type.Database restore operation is not supported for databases with shared database storage.Shared database storage is defined as follows: ASM Shared StorageAny database sharing disk group with the restore database.FS Shared StorageAny file present on database storage which is not belonging to the current database.For databases having AFD configured, database restore operation is supported only for Oracle version 12.2 and higher.Caution: If there is a change in the FRA location between the point-in-time of restore and the current state, then new FRA location files are identified which do not belong to the database. Hence, you have to move these files out of the current mount point to proceed with the restore operation.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources and click the database you want to restore.You can restore a database by doing any one of the following.Click Restore in the database summary page. Click the time machine name in the Time Machine widget.In the Actions drop-down list, select Restore Source Database.The Restore Source Database window appears.Figure. Database Home PageClick to enlargeYou can restore a database in the following steps:Recovery PointData/LocationIn the Recovery Point step, you can view a timeline of the data available for the restore. Archive/Online Redo Logs. (Optional) Select this check box to backup all the archive and online logs in the time machine.Note: If the online redo log files are Oracle Managed Files (OMF), then the redo logs will not be used for the restore operation. Restore will be performed only till the last archived log available.Shutdown the database after backup. Select this check box to shutdown the database after performing the backup of all the archive and online logs in the time machine.A confirmation box to shutdown the database is displayed when you click Next. Type the database name and click Shutdown to start the backup and recovery operations.Figure. Database Restore DetailsClick to enlargeIn the Data/Location step, do the following.Select any one of the following restore options.Most Recent Time Available. Select this option to restore the database to the maximum recovery point in time possible. For the time period falling under the green region, the most recent recovery point in time is taken. whereas, for the time period falling under the grey region, the maximum recovery point in time available is taken.Point in Time. Select this option and enter the time to which you want to restore your database. Note: Point-in-time recovery cannot be performed for the time period falling under the grey region.Snapshot. Select this option and choose the snapshot you want to use for restoring the database from the drop-down list.Note: Original Location. Select this option to restore the database to its original location.Figure. Database Restore DetailsClick to enlargeClick Restore.A message appears at the top of the page stating that the restore operation has started. You can click on the message to view the status.Patching an Oracle Database Server VMDatabase patching is the process of updating the Oracle home, Grid home, and Oracle database with the latest Patch Set Updates (PSU) released by Oracle. Era leverages the Oracle out-of-place patching method. It allows you to install updates on one database host, copy Oracle/Grid infrastructure home, install it on the destination server(s), and start the services. In this method, manual patching needs to be done only once on the gold image VM, and a newer version of the software profile needs to be created. All the compatible oracle database server VMs can then be patched using this new version of the software profile. This involves minimal downtime, which is required while switching the services to the new Oracle home on the database servers. Once successfully applied, the patches cannot be rolled back.Before you beginEnsure the following before you update an Oracle database.Download the Patch Set Updates (PSU) from Oracle support and apply updates to Oracle and Grid home on a database server. For more information about applying updates, see Oracle Documentation.Create a version of the software profile for the recommended Oracle updates from the database server (see Creating a Software Profile Version).About this taskPerform the following procedure to apply updates to an already provisioned database.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List and click the database server VM for which you want to update the software profile version.Go to the Software Profile Version widget and click Update. The Update Database Server VM window appears.Note: The Update option only appears when a new software profile version is available.Do the following in the indicated fields:Update to Software Profile Version. Select a software profile version from the drop-down list.Under Start Update, select one of the following:Now. Select this option if you want to start updating the software version now.Later. Select this option and then select the day and time if you want to create a schedule for patching the software profile version.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Under Method, select one of the following: Note: This option is applicable only for cluster databases.Rolling. Select this option if you want to update the version on only one node at a time.Non-Rolling. Select this option if you want to update the version on all the nodes in a cluster database at the same time.Click Update.A message appears at the top indicating that the operation to update a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.Patching an Oracle Database Server ClusterBefore you beginEnsure the following before you update an Oracle database.Download the Patch Set Updates (PSU) from Oracle support and apply updates to Oracle and Grid home on a database server. For more information about applying updates, see Oracle Documentation.Create a version of the software profile for the recommended Oracle updates from the database server (see Creating a Software Profile Version).About this taskPerform the following procedure to apply updates to an already provisioned RAC database.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List and click the database server cluster for which you want to update the software profile version.Go to the Software Profile Version widget and click Update. The Update DBServer VM Cluster window appears.Note: The Update option only appears when a new software profile version is available.Do the following in the indicated fields:Update to Software Profile Version. Select a software profile version from the drop-down list.Under Start Update, select one of the following:Now. Select this option if you want to start updating the software version now.Later. Select this option and then select the day and time if you want to create a schedule for patching the software profile version.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Under Method, select one of the following: Note: This option is applicable only for cluster databases.Rolling. Select this option if you want to update the version on only one node at a time.Non-Rolling. Select this option if you want to update the version on all the nodes in a cluster database at the same time.Figure. Oracle Database Server Cluster PatchingClick to enlargeClick Update.A message appears at the top indicating that the operation to update a database server cluster has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.", "Heading_Keywords": ["oracl", "databas", "manag"]}, {"Heading": "Oracle RAC Database", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-oracle-rac-database-c.html", "Document Name": "Era User Guide", "Content": "Oracle RAC is an active-active cluster database configuration that enables multiple database instances, each running on different nodes, to read and write to the same database. When you register a RAC database, Era creates a single Time Machine for the database but collects metadata about all the nodes and instances that constitute the database. For all upcoming Time Machine operations such as snapshot and log catch up operations, Era uses one of the nodes to operate that you specify while registering the database. When the operation starts, the Era software on that node connects to the RAC instance (locally - no scan or VIP used) to quiesce the database. If the instance on that node is down, Era instantly selects a different node from its metadata and assigns the Time Machine operations to that node. If the operation is successful, Era assigns the next scheduled operations to the same node.Example: An Oracle RAC database has three nodes A, B, and C. If you registered the database by specifying the VM IP address for node A, the Time Machine first selects node A to carry out its operations. If node A stops working due to some reason, the Time Machine selects the next available node (either node B or node C) to operate.See Registering an Oracle RAC Database for information on registering an Oracle RAC database. See Provisioning an Oracle RAC Database for information on provisioning an Oracle RAC database. ", "Heading_Keywords": ["oracl", "rac", "databas"]}, {"Heading": "Current Limitations", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-limitations-oracle-c.html", "Document Name": "Era User Guide", "Content": "Era has the following limitation for Oracle. Era does not support multiple clones onto the same database server for Oracle non-ASM configuration where data disks are not logical Volumes.Era does not support a source database with 12.1.0.2.0 version ASM filter driver if ASM SPFILE is on the same disk group as data. Era does not support multiple clones onto the same database server for Oracle version 12.1.0.2.0 with ASM filter driver LOADED. Era does not support DB_BLOCK_SIZE database parameter profile when you clone a database. Database restore operation on Oracle 12.1.0.2 with AFD is not supported.", "Heading_Keywords": ["current", "limit"]}, {"Heading": "Oracle Database Registration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-database-registration-oracle-c.html", "Document Name": "Era User Guide", "Content": "You can register a source (production) database running on a Nutanix cluster with Era. When you register a database with Era, the database server VM (VM that hosts the source database) is also registered with Era. After you have registered a database with Era, a time machine is created for that database. Era allows you to register multiple databases on a single database server VM.The time machine takes periodic database snapshots and log catch-ups (see Era Time Machine Management). The time machine performs the snapshot and log catch-up operations as defined in the SLA that you have selected or created during the registration of the database (see SLA Management).You can register both a single-instance Oracle database and Oracle RAC database.Oracle Database and Database Server VM Registration PrerequisitesRegistering an Oracle Database Server VMRegistering an Oracle Single-Instance DatabaseRegistering an Oracle RAC DatabaseOracle Database and Database Server VM Registration PrerequisitesEnsure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Before you register a database running on ESXi cluster, you must set disk.EnableUUID to True by using vCenter Server. Shut down the database server VM on which the database is running.Select the database server VM, go to VM > Actions > Edit Settings > VM Options > Advanced > Configuration Parameters > Edit Configuration, and click Add Row.In the Name field, type disk.EnableUUID.In the Value field, type True.Start the database server VM.Software Dependencies (Linux)To successfully register a database server VM with Era, database server VM must satisfy all the required software and configuration dependencies. (For more information about the software packages that must be installed, see Database Server VM Registration Pre-requirement Checks and Running Pre-requirement Script (Linux)).OS Configuration (Linux)SUDO NOPASS access is required.Linux OS root access is required.Install and configure crontab.Configure binary paths as secure_paths in the etc/sudoers file.Ensure that Prism APIs are callable from the VM./tmp folder must have read and write permissions.Disable requiretty setting on the source database to successfully register the database.Ensure that /etc/sudoers file includes the following line under defaults: secure_path = /sbin:/bin:/usr/sbin:/usr/binRegistering an Oracle Database Server VMBefore you beginEnsure that you meet the following requirements before you register an Oracle database server VM with Era.For general requirements, see Oracle Database and Database Server VM Registration PrerequisitesOS or database software disks must be distinct from the data disks.Database instances must be in OPEN or in MOUNT mode for physical standby databases on the specified VM. For Oracle RAC, the database instance must be OPEN on all configured nodes at the time of registration.Set Oracle home or Grid home input parameters correctly.If the database use ASM, Grid home must be set.For ASM instances, asm_diskstring and SPFILE parameters must be set.In etc/oratab, an entry for database and ASM instance must be present.Enable OS authentication.Run listener.About this taskPerform the following procedure to register an Oracle database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VMs.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select Oracle. The Register Database Server VM window appears. Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM you want to register.Listener Port. The default port of an Oracle database is 1521, which is populated in this field. You can choose to set another port number.Era Drive User. Type the username of the Era drive user account that has sudo access.Oracle Database Home. Type the path to the Oracle home directory in which the Oracle database software is installed.Grid Infrastructure Home. Type the path to the Oracle home directory in which the Oracle Grid Infrastructure software is installed.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Figure. Registering Database Server VMClick to enlargeClick Register to successfully register the database server VM.A message appears indicating that the operation to register a database server VM has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server VM appears in the list of the registered database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays the name, time zone, status, date of registration, and version of the database server VM.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server VM. You can also click See Description to view the steps to connect to the database server VM using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the database.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Registering an Oracle Single-Instance DatabaseBefore you beginEnsure that you meet the following requirements before you register an Oracle single-instance database with Era.For general requirements, see Oracle Database and Database Server VM Registration PrerequisitesOS or database software disks must be distinct from the data disks.Database instances must be in OPEN or in MOUNT mode for physical standby databases on the specified VM. Set Oracle home or Grid home input parameters correctly.If the databases use ASM, Grid home must be set.For ASM instances, asm_diskstring and SPFILE parameters must be set.In etc/oratab, an entry for database and ASM instance must be present.Enable archive logging.Enable OS authentication.Run listener.Ensure that you have DBA level access to the databases you want to add.About this taskPerform the following procedure to register an Oracle single-instance database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select Single Instance Database under the Oracle engine. The Register an Oracle Single Instance Database window appears. You register a single-instance database in the following steps:Database Server VMDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one the following.Registered. Select this option if you want to register a database running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the database you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the database you want to register is running and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the name or IP address of the database server VM on which the database that you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.Oracle Database Home. Type the path to the Oracle home directory in which the Oracle database software is installed.Grid Infrastructure Home. Type the path to the Oracle home directory in which the Oracle Grid Infrastructure software is installed.Provide Credentials Through. Select either Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Database Server DetailsClick to enlargeIn the Database step, do the following in the indicated steps.Database Name in Era. Type a name of the database.Description. Type a description of the database.SID. Type an SID for the database.In the Time Machine step, do the following in the indicated fields.Time Machine Name. Type a name of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeDescription. Type a description for the time machine.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the single-instance database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Registering an Oracle RAC DatabaseBefore you beginEnsure that you meet the following requirements before you register an Oracle RAC database with Era.For general requirements, see Oracle Database and Database Server VM Registration PrerequisitesOS or database software disks must be distinct from the data disks.The database instance must be OPEN on all configured nodes at the time of registration.Set Oracle home or Grid home input parameters correctly.If the databases use ASM, Grid home must be set.For ASM instances, asm_diskstring and SPFILE parameters must be set.In etc/oratab, an entry for database and ASM instance must be present.Enable archive logging.Enable OS authentication.Run listener.Ensure that you have DBA level access to the databases you want to add.About this taskPerform the following procedure to register an Oracle RAC database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select RAC Database under the Oracle engine. The Register an Oracle RAC Database window appears. You register a RAC database in the following steps:Server ClusterDatabaseTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Server Cluster step, select one of the following.Registered. Select this option if you want to register a database running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the database you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the database you want to register is running and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the name or IP address of the database server VM on which the database that you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.Oracle Database Home. Type the path to the Oracle home directory in which the Oracle database software is installed.Grid Infrastructure Home. Type the path to the Oracle home directory in which the Oracle Grid Infrastructure software is installed.Provide Credentials Through. Select either Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Database Server DetailsClick to enlargeIn the Database step, do the following in the indicated steps.Database Name in Era. Type a name of the database.Description. Type a description of the database.Database Name. Type a global name for the Oracle database.In the Time Machine step, do the following in the indicated fields.Time Machine Name. Type a name of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeDescription. Type a description for the time machine.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the RAC database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:RAC Database Summary . Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Database Instances. Displays the list of database instances created. Details such as name, status, database server VM, IP addresses and time machine status is also displayed.Time Machine. Displays the name, description, age, and size of the time machine.Server Cluster. Displays the name, status, SCAN IP address, OS, SCAN name and SCAN port of the Oracle server cluster. Tags. Displays a list of the tags that are applied to this database. You can click Update to set the tag values.", "Heading_Keywords": ["oracl", "databas", "registr"]}, {"Heading": "Oracle Database and Database Server VM Registration Prerequisites", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-registration-prerequisite-oracle-r.html", "Document Name": "Era User Guide", "Content": "Ensure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Before you register a database running on ESXi cluster, you must set disk.EnableUUID to True by using vCenter Server. Shut down the database server VM on which the database is running.Select the database server VM, go to VM > Actions > Edit Settings > VM Options > Advanced > Configuration Parameters > Edit Configuration, and click Add Row.In the Name field, type disk.EnableUUID.In the Value field, type True.Start the database server VM.Software Dependencies (Linux)To successfully register a database server VM with Era, database server VM must satisfy all the required software and configuration dependencies. (For more information about the software packages that must be installed, see Database Server VM Registration Pre-requirement Checks and Running Pre-requirement Script (Linux)).OS Configuration (Linux)SUDO NOPASS access is required.Linux OS root access is required.Install and configure crontab.Configure binary paths as secure_paths in the etc/sudoers file.Ensure that Prism APIs are callable from the VM./tmp folder must have read and write permissions.Disable requiretty setting on the source database to successfully register the database.Ensure that /etc/sudoers file includes the following line under defaults: secure_path = /sbin:/bin:/usr/sbin:/usr/bin", "Heading_Keywords": ["oracl", "databas", "databas", "server", "vm", "registr", "prerequisit"]}, {"Heading": "Registering an Oracle Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-registering-an-oracle-database-server-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you register an Oracle database server VM with Era.For general requirements, see Oracle Database and Database Server VM Registration PrerequisitesOS or database software disks must be distinct from the data disks.Database instances must be in OPEN or in MOUNT mode for physical standby databases on the specified VM. For Oracle RAC, the database instance must be OPEN on all configured nodes at the time of registration.Set Oracle home or Grid home input parameters correctly.If the database use ASM, Grid home must be set.For ASM instances, asm_diskstring and SPFILE parameters must be set.In etc/oratab, an entry for database and ASM instance must be present.Enable OS authentication.Run listener.About this taskPerform the following procedure to register an Oracle database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VMs.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select Oracle. The Register Database Server VM window appears. Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM you want to register.Listener Port. The default port of an Oracle database is 1521, which is populated in this field. You can choose to set another port number.Era Drive User. Type the username of the Era drive user account that has sudo access.Oracle Database Home. Type the path to the Oracle home directory in which the Oracle database software is installed.Grid Infrastructure Home. Type the path to the Oracle home directory in which the Oracle Grid Infrastructure software is installed.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Figure. Registering Database Server VMClick to enlargeClick Register to successfully register the database server VM.A message appears indicating that the operation to register a database server VM has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server VM appears in the list of the registered database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays the name, time zone, status, date of registration, and version of the database server VM.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server VM. You can also click See Description to view the steps to connect to the database server VM using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the database.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.", "Heading_Keywords": ["regist", "oracl", "databas", "server", "vm"]}, {"Heading": "Registering an Oracle Single-Instance Database", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-registering-an-oracle-database-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you register an Oracle single-instance database with Era.For general requirements, see Oracle Database and Database Server VM Registration PrerequisitesOS or database software disks must be distinct from the data disks.Database instances must be in OPEN or in MOUNT mode for physical standby databases on the specified VM. Set Oracle home or Grid home input parameters correctly.If the databases use ASM, Grid home must be set.For ASM instances, asm_diskstring and SPFILE parameters must be set.In etc/oratab, an entry for database and ASM instance must be present.Enable archive logging.Enable OS authentication.Run listener.Ensure that you have DBA level access to the databases you want to add.About this taskPerform the following procedure to register an Oracle single-instance database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select Single Instance Database under the Oracle engine. The Register an Oracle Single Instance Database window appears. You register a single-instance database in the following steps:Database Server VMDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one the following.Registered. Select this option if you want to register a database running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the database you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the database you want to register is running and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the name or IP address of the database server VM on which the database that you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.Oracle Database Home. Type the path to the Oracle home directory in which the Oracle database software is installed.Grid Infrastructure Home. Type the path to the Oracle home directory in which the Oracle Grid Infrastructure software is installed.Provide Credentials Through. Select either Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Database Server DetailsClick to enlargeIn the Database step, do the following in the indicated steps.Database Name in Era. Type a name of the database.Description. Type a description of the database.SID. Type an SID for the database.In the Time Machine step, do the following in the indicated fields.Time Machine Name. Type a name of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeDescription. Type a description for the time machine.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the single-instance database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["regist", "oracl", "singl", "instanc", "databas"]}, {"Heading": "Registering an Oracle RAC Database", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-registering-orcale-RAC-database-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you register an Oracle RAC database with Era.For general requirements, see Oracle Database and Database Server VM Registration PrerequisitesOS or database software disks must be distinct from the data disks.The database instance must be OPEN on all configured nodes at the time of registration.Set Oracle home or Grid home input parameters correctly.If the databases use ASM, Grid home must be set.For ASM instances, asm_diskstring and SPFILE parameters must be set.In etc/oratab, an entry for database and ASM instance must be present.Enable archive logging.Enable OS authentication.Run listener.Ensure that you have DBA level access to the databases you want to add.About this taskPerform the following procedure to register an Oracle RAC database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select RAC Database under the Oracle engine. The Register an Oracle RAC Database window appears. You register a RAC database in the following steps:Server ClusterDatabaseTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Server Cluster step, select one of the following.Registered. Select this option if you want to register a database running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the database you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the database you want to register is running and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the name or IP address of the database server VM on which the database that you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.Oracle Database Home. Type the path to the Oracle home directory in which the Oracle database software is installed.Grid Infrastructure Home. Type the path to the Oracle home directory in which the Oracle Grid Infrastructure software is installed.Provide Credentials Through. Select either Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Database Server DetailsClick to enlargeIn the Database step, do the following in the indicated steps.Database Name in Era. Type a name of the database.Description. Type a description of the database.Database Name. Type a global name for the Oracle database.In the Time Machine step, do the following in the indicated fields.Time Machine Name. Type a name of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeDescription. Type a description for the time machine.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the RAC database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:RAC Database Summary . Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Database Instances. Displays the list of database instances created. Details such as name, status, database server VM, IP addresses and time machine status is also displayed.Time Machine. Displays the name, description, age, and size of the time machine.Server Cluster. Displays the name, status, SCAN IP address, OS, SCAN name and SCAN port of the Oracle server cluster. Tags. Displays a list of the tags that are applied to this database. You can click Update to set the tag values.", "Heading_Keywords": ["regist", "oracl", "rac", "databas"]}, {"Heading": "Oracle Database Profiles", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-profiles-oracle-c.html", "Document Name": "Era User Guide", "Content": "Profiles enable you to create templates of database software, networking, compute, and database parameters, which help you to successfully provision databases or database server VMs on Era.Creating a Software ProfileCreating a Software Profile VersionUpdating a Software Profile VersionCreating a Compute ProfileCreating a Network ProfileA network profile specifies the VLAN for the new database server VM. Creating a Oracle RAC Network ProfileCreating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. Creating a Software ProfileBefore you beginEnsure that you have registered an existing Oracle database server VM with Era. If you want to create a RAC database (cluster database), ensure that you have registered a database server VM that has the Oracle Grid Infrastructure software.About this taskA software profile is a template that includes the Oracle database software and operating system. After you have registered an existing Oracle database server VM with Era, Era creates a software template from the Oracle database server VM. For more information about supported built-in profiles, see Era Release Notes.A software profile is created from the software installed on the registered databases. Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software, click Create, and select either  Single Instance Database or RAC Database under the Oracle engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: If you want to create a RAC database (cluster database), ensure that you have registered a database server VM that has the Oracle Grid infrastructure software.Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Note: If you have selected RAC Database as the type of deployment, Era displays only the database server VMs that have the Oracle Grid Infrastructure software.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a version of the software profile. For more information, see Creating a Software Profile Version .Creating a Software Profile VersionAbout this taskSoftware profile version is required when you update a database server VM to a new update version available. You can create a software profile version to provision and update other database server VMs using this software profile. Perform the following procedure to create a version of the software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and click the software profile used by the database server VM.Click Create. The Create Software Profile Version window appears. You create a software profile in the following steps:SoftwareNotesIn the Software step, do the following in the indicated fields, do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Figure. Creating a Software Profile VersionClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile version.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Create.Era creates a version of the software profile for provisioning and updating other database server VMs using this software profile and displays in the list. Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version, patches, and bug fixes. Click the + icon to view the bug fixes for the respective PSU.Grid Infrastructure Software. Displays information about Grid Infrastructure version, patches, and bug fixes.Database Server VMs. Displays the database server VMs that are using this version of the profile.Availability. Displays the profile availability across clusters.Updating a Software Profile VersionAbout this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesHyperlinksIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile must update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message is displayed on the homepages of the database server VMs and server clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Grid Infrastructure Software Notes. Type a note to provide additional information about the Grid Infrastructure software.Configuration Notes. Type a note to provide additional information about the configuration.In the Hyperlinks step, do the following in the indicated fields.Note: Hyperlinks are optional. You can add links to the related information.Operating System Hyperlink. Type a label and URL for the operating system in use.Database Software Hyperlink. Type a label and URL for the database software in use.Grid Infrastructure Software Hyperlink. Type a label and URL for the Grid Infrastructure software in use.Configuration Hyperlink. Type a label and URL for the configuration.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.Creating a Compute ProfileAbout this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: Create a compute profile only if you do not want to use the sample profile (DEFAULT_OOB_COMPUTE).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.Creating a Network ProfileA network profile specifies the VLAN for the new database server VM. Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskCreate a network profile as a sample network profile is not available in Era. You can create a sample network profile either by using the Welcome to Era wizard, or by performing the following procedure.Perform the following procedure to create a network profile for Oracle.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select Database Server VMs under the Oracle engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Under Service Mapping, do the following in the indicated field:Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option. You can add one or more VLANs to Era.Note: For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Figure. Network Profile for Database Server VMClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.Creating a Oracle RAC Network ProfileBefore you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix clusters for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskPerform the following procedure to create a network profile for Oracle RAC.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select RAC Database under the Oracle engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: The Nutanix Cluster field is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.Under Service Mapping, do the following in the indicated fields:Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Virtual Service VLAN. Select the VLAN to provide the IP address for each node within an Oracle RAC database environment with the IP address residing in the public subnet. Clients use node VIPs to connect to an Oracle RAC database.Scan Service VLAN. Select the VLAN to provide the IP addresses for the Single Client Access Name (SCAN). Three IP addresses are reserved for SCAN.This step provides a single name for clients to access the Oracle databases running in a cluster. Private Service VLAN. Select the VLAN to provide the private IP address used for interconnect communication between all the nodes in the cluster.Optionally, if the VLAN you want to select does not appear in the drop-down lists of available VLAN, click the Click here option. You can add one or more VLANs to Era. For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Note: Provisioning of Oracle RAC databases requires IP addresses in the VLANs to be managed by Era. Hence, only such VLANs are displayed from the selected Nutanix cluster.Figure. Network Profile for RACClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and VLANs associated with the respective profile.Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a database parameters profile only if you do not want to use the sample database parameter profile.Perform the following procedure to create a database parameters profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, select Oracle as the database engine and click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.The parameters in the profile are populated with the default values and are optional to configure. You can update these parameters to suit your requirements. Click the page navigation arrows to display all the available parameters. To search for a parameter, type the name of the parameter in the search box. The Value column displays the default values of the parameters. You can choose to update the value of the parameters to suit your requirements. If you want to display only those parameters that you have updated, select the Modified Only option.Figure. Database Parameters ProfileClick to enlargeNote: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.", "Heading_Keywords": ["oracl", "databas", "profil"]}, {"Heading": "Creating a Software Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-a-software-profile-oracle-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have registered an existing Oracle database server VM with Era. If you want to create a RAC database (cluster database), ensure that you have registered a database server VM that has the Oracle Grid Infrastructure software.About this taskA software profile is a template that includes the Oracle database software and operating system. After you have registered an existing Oracle database server VM with Era, Era creates a software template from the Oracle database server VM. For more information about supported built-in profiles, see Era Release Notes.A software profile is created from the software installed on the registered databases. Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software, click Create, and select either  Single Instance Database or RAC Database under the Oracle engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: If you want to create a RAC database (cluster database), ensure that you have registered a database server VM that has the Oracle Grid infrastructure software.Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Note: If you have selected RAC Database as the type of deployment, Era displays only the database server VMs that have the Oracle Grid Infrastructure software.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a version of the software profile. For more information, see Creating a Software Profile Version .", "Heading_Keywords": ["creat", "softwar", "profil"]}, {"Heading": "Creating a Software Profile Version", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-create-software-profile-version-oracle-t.html", "Document Name": "Era User Guide", "Content": "About this taskSoftware profile version is required when you update a database server VM to a new update version available. You can create a software profile version to provision and update other database server VMs using this software profile. Perform the following procedure to create a version of the software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and click the software profile used by the database server VM.Click Create. The Create Software Profile Version window appears. You create a software profile in the following steps:SoftwareNotesIn the Software step, do the following in the indicated fields, do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Figure. Creating a Software Profile VersionClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile version.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Create.Era creates a version of the software profile for provisioning and updating other database server VMs using this software profile and displays in the list. Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version, patches, and bug fixes. Click the + icon to view the bug fixes for the respective PSU.Grid Infrastructure Software. Displays information about Grid Infrastructure version, patches, and bug fixes.Database Server VMs. Displays the database server VMs that are using this version of the profile.Availability. Displays the profile availability across clusters.", "Heading_Keywords": ["creat", "softwar", "profil", "version"]}, {"Heading": "Updating a Software Profile Version", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-update-software-profile-version-oracle-t.html", "Document Name": "Era User Guide", "Content": "About this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesHyperlinksIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile must update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message is displayed on the homepages of the database server VMs and server clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Grid Infrastructure Software Notes. Type a note to provide additional information about the Grid Infrastructure software.Configuration Notes. Type a note to provide additional information about the configuration.In the Hyperlinks step, do the following in the indicated fields.Note: Hyperlinks are optional. You can add links to the related information.Operating System Hyperlink. Type a label and URL for the operating system in use.Database Software Hyperlink. Type a label and URL for the database software in use.Grid Infrastructure Software Hyperlink. Type a label and URL for the Grid Infrastructure software in use.Configuration Hyperlink. Type a label and URL for the configuration.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.", "Heading_Keywords": ["updat", "softwar", "profil", "version"]}, {"Heading": "Creating a Compute Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-a-compute-profile-t.html", "Document Name": "Era User Guide", "Content": "About this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: Create a compute profile only if you do not want to use the sample profile (DEFAULT_OOB_COMPUTE).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.", "Heading_Keywords": ["creat", "comput", "profil"]}, {"Heading": "Creating a Network Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-a-network-profile-oracle-t.html", "Document Name": "Era User Guide", "Content": "A network profile specifies the VLAN for the new database server VM. Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskCreate a network profile as a sample network profile is not available in Era. You can create a sample network profile either by using the Welcome to Era wizard, or by performing the following procedure.Perform the following procedure to create a network profile for Oracle.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select Database Server VMs under the Oracle engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Under Service Mapping, do the following in the indicated field:Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option. You can add one or more VLANs to Era.Note: For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Figure. Network Profile for Database Server VMClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.", "Heading_Keywords": ["creat", "network", "profil"]}, {"Heading": "Creating a Oracle RAC Network Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-rac-network-profile-oracle-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix clusters for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskPerform the following procedure to create a network profile for Oracle RAC.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select RAC Database under the Oracle engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: The Nutanix Cluster field is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.Under Service Mapping, do the following in the indicated fields:Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Virtual Service VLAN. Select the VLAN to provide the IP address for each node within an Oracle RAC database environment with the IP address residing in the public subnet. Clients use node VIPs to connect to an Oracle RAC database.Scan Service VLAN. Select the VLAN to provide the IP addresses for the Single Client Access Name (SCAN). Three IP addresses are reserved for SCAN.This step provides a single name for clients to access the Oracle databases running in a cluster. Private Service VLAN. Select the VLAN to provide the private IP address used for interconnect communication between all the nodes in the cluster.Optionally, if the VLAN you want to select does not appear in the drop-down lists of available VLAN, click the Click here option. You can add one or more VLANs to Era. For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Note: Provisioning of Oracle RAC databases requires IP addresses in the VLANs to be managed by Era. Hence, only such VLANs are displayed from the selected Nutanix cluster.Figure. Network Profile for RACClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and VLANs associated with the respective profile.", "Heading_Keywords": ["creat", "oracl", "rac", "network", "profil"]}, {"Heading": "Creating a Database Parameters Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-create-database-parameters-profile-oracle-t.html", "Document Name": "Era User Guide", "Content": "A database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a database parameters profile only if you do not want to use the sample database parameter profile.Perform the following procedure to create a database parameters profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, select Oracle as the database engine and click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.The parameters in the profile are populated with the default values and are optional to configure. You can update these parameters to suit your requirements. Click the page navigation arrows to display all the available parameters. To search for a parameter, type the name of the parameter in the search box. The Value column displays the default values of the parameters. You can choose to update the value of the parameters to suit your requirements. If you want to display only those parameters that you have updated, select the Modified Only option.Figure. Database Parameters ProfileClick to enlargeNote: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.", "Heading_Keywords": ["creat", "databas", "paramet", "profil"]}, {"Heading": "Updating Profile Availability", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-update-profile-availability-t.html", "Document Name": "Era User Guide", "Content": "After profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.", "Heading_Keywords": ["updat", "profil", "avail"]}, {"Heading": "Oracle Database Provisioning", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-database-provisioning-oracle-c.html", "Document Name": "Era User Guide", "Content": "You can provision database server VMs and databases on the Nutanix clusters. As part of the database provisioning process, you can either create a database server VM on which you provision the database or select a database server VM that you have already provisioned.You use the built-in database parameter profiles or profiles you created to provision the databases.With Era's multi-cluster capability, both Oracle single-instance and RAC databases can be provisioned on different Nutanix clusters. Era also supports provisioning of multiple Oracle databases in the same database server VM.Database Server VM Provisioning PrerequisitesProvisioning an Oracle Database Server VMProvisioning an Oracle Single Instance DatabaseProvisioning an Oracle RAC DatabaseDatabase Server VM Provisioning PrerequisitesComplete the following tasks before you start provisioning a database server VM.Register a source database with Era (see Registering an Oracle Database).Create a software profile.Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Generate an SSH key for database provisioning on Linux-based operating systems (see Additional Information: Generating an SSH Key (Windows) ). Provisioning an Oracle Database Server VMBefore you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select the Oracle engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: The Nutanix Cluster field is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. Enable High Availability (SIHA). Select this option if you want to enable High Availability on your Oracle database server VM.SYS ASM Password. Set a password for the ASM instance.The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterNote: This option appears only if the software profile you selected has the Oracle Grid Infrastructure software.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Provisioning an Oracle Single Instance DatabaseBefore you beginEnsure that you have created a software profile before you start provisioning an single-instance Oracle database. For more information, see Creating a Software Profile.About this taskNote: Era supports provisioning of multiple Oracle databases in the same database server VM. With Era's multi-cluster capability, both Oracle single-instance and RAC databases can be provisioned on different Nutanix clusters. You can only use the profiles and profile versions (unpublished) that you own while provisioning a database.Perform the following procedure to provision a single-instance Oracle database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select Single Instance Database under the Oracle engine. The Provision an Oracle Single Instance Database window appears. You provision a single-instance database in the following steps:Database Server VMDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one of the following.Create New Server. Select this option if you want to provision a single-instance database on a new database server VM.Use Registered Server. Select this option if you want to provision a single-instance database on a database server VM that you have previously registered with Era.If you have selected Create New Server in the previous step, do the following under New Database Server VM.Database Server VM Name. Type a name of the database server VM. The name that you provide in this field is used as the virtual machine name created for the single-instance Oracle database.Description. Type a description of the database server VM.Nutanix Cluster. Select the Nutanix cluster on which you want to provision the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appear in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Enable High Availability (SIHA). Select this option if you want to enable Grid Infrastructure on the single instance.If you have selected this option, set a password in the SYS ASM Password field and select an ASM Driver from the drop-down list of ASM drivers available for the ASM instance.The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterNote: This option appears only if the software profile you selected has the Oracle Grid Infrastructure software.Database Server VM's Time Zone. Select a timezone for the database server VM.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.Figure. Provisioning DetailsClick to enlargeIf you have selected Use Registered Server in the previous step, select the database server VM on which you want to provision the instance and click Next.In the Database step, do the following in the indicated steps.Database Name. Type a name of the database.Description. Type a description of the database.SID. Type an SID for the database.Global Database Name. This field automatically replicates with the value that you have typed in SID.SYS and SYSTEM Password. Type a common password for both the SYS and SYSTEM user accounts.If you want to set different passwords for both the user accounts, log on to the single-instance database after the database is provisioned to change the passwords. Retype the SYS and SYSTEM password in the Confirm Password field.The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterSize (GiB). Type the size needed for the database in GB.Fast Recovery Area Size. Type the recovery area size in GB.The fast recovery area provides a centralized storage location for backup and recovery files.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Character Set. Select a character set (AL32UTF8 or UTF8) for the database.National Character Set. Select a national character set (AL16UTF16 or UTF8) for the database.Listener Port. By default, this field is populated with port number 1521.You can choose to set another port number. Encryption. Select this option if you want to enable encryption for this database.If you have selected this option, type the passphrase in the Passphrase and Confirm Passphrase fields.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the database is created.Post-Create Command. Type a complete OS command that you want to run after the database is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management. Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision a single-instance database has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the single-instance database appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, network, and database parameter profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Provisioning an Oracle RAC DatabaseBefore you beginEnsure that you have created a software profile before you start provisioning an Oracle RAC database. For more information, see Creating a Software Profile.About this taskEra supports provisioning of multiple Oracle databases in the same database server VM. With Era's multi-cluster capability, both Oracle single-instance and RAC databases can be provisioned on different Nutanix clusters. Note: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database.Perform the following procedure to provision an Oracle RAC database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select RAC Database under the Oracle engine. The Provision an Oracle RAC Database window appears. You provision a RAC database in the following steps:Server ClusterRAC TopologyDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Server Cluster step, select one of the following.Create New Cluster. Select this option if you want to provision a RAC database on a new cluster.Use Registered Cluster. Select this option if you want to provision a RAC database on a cluster that you have previously registered with Era.If you have selected Create New Cluster in the previous step, do the following in the indicated fields.Do the following under New Server Cluster.Server Cluster Name. Type a name for the server cluster.Description. Type a description for the server cluster.Nutanix Cluster. Select the Nutanix cluster on which you want to provision the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.All the nodes of the Oracle RAC database will be provisioned on the same Nutanix cluster.Network Profile. Select a network profile from the drop-down list of network profiles available.Under Database Server VMs in the Cluster, do the following in the indicated fields:Number of Database Server VMs. Select the number of nodes for creating a cluster.Database Server VM Name Prefix. Type a name prefix for the database server VMs that will be added to the Oracle cluster.Database Server VM's Time Zone. Select a timezone for the database server VM.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.SYS ASM Password. Type a password for the SYSASM user account.ASM Driver. Select an ASM driver from the drop-down list of ASM drivers available. The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterSSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.If you have selected Use Registered Cluster in the previous step, do the following.Select the registered cluster on which you want to provision the database.Click Next.Figure. Provisioning RAC DetailsClick to enlargeIn the RAC Topology step, do the following in the indicated steps.SCAN. Type a name for Single Client Access Name (SCAN).SCAN is an Oracle RAC feature that provides a single name for clients to access Oracle databases running in a cluster.Listener Port. By default, this field is populated with port number 1521.You can choose to set another port number. Database Server VMs in the Cluster. This field is auto-populated with the database server VM names. The database server VM names are generated based on the number of database server VMs and database server VM name prefix mentioned in the Server Cluster step. In the Database step, do the following in the indicated steps.Database Name. Type a name for the database.Description. Type a description for the database.SID. Type an SID for the database.Global Database Name. This field automatically replicates with the value that you have typed in SID.SYS and SYSTEM Password. Type a common password for both the SYS and SYSTEM user accounts.If you want to set different passwords for both the user accounts, log on to the database after the database is provisioned to change the passwords. Retype the SYS and SYSTEM password in the Confirm Password field.The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterSize (GiB). Type the size needed for the database in GB.Fast Recovery Area Size. Type the recovery area size in GB.The fast recovery area provides a centralized storage location for backup and recovery files.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Character Set. Select a character set (AL32UTF8 or UTF8) for the database.National Character Set. Select a national character set (AL16UTF16 or UTF8) for the database.Encryption. Select this option if you want to enable encryption for this database.If you have selected this option, type the passphrase in the Passphrase and Confirm Passphrase fields.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management. Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision an RAC database has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the RAC database appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:RAC Database Summary . Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, network, and database parameter profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Database Instances. Displays the list of database instances created. Details such as name, status, database server VM, IP addresses and time machine status is also displayed.Time Machine. Displays the name, description, age, and size of the time machine.Server Cluster. Displays the name, status, SCAN IP address, OS, SCAN name and SCAN port of the Oracle server cluster. Tags. Displays a list of the tags that are applied to this database. You can click Update to set the tag values.", "Heading_Keywords": ["oracl", "databas", "provis"]}, {"Heading": "Database Server VM Provisioning Prerequisites", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-provision-prerequisite-oracle-r.html", "Document Name": "Era User Guide", "Content": "Complete the following tasks before you start provisioning a database server VM.Register a source database with Era (see Registering an Oracle Database).Create a software profile.Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Generate an SSH key for database provisioning on Linux-based operating systems (see Additional Information: Generating an SSH Key (Windows) ). ", "Heading_Keywords": ["databas", "server", "vm", "provis", "prerequisit"]}, {"Heading": "Provisioning an Oracle Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-provisioning-database-server-vm-oracle-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select the Oracle engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: The Nutanix Cluster field is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. Enable High Availability (SIHA). Select this option if you want to enable High Availability on your Oracle database server VM.SYS ASM Password. Set a password for the ASM instance.The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterNote: This option appears only if the software profile you selected has the Oracle Grid Infrastructure software.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.", "Heading_Keywords": ["provis", "oracl", "databas", "server", "vm"]}, {"Heading": "Provisioning an Oracle Single Instance Database", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-provisioning-an-oracle-database-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have created a software profile before you start provisioning an single-instance Oracle database. For more information, see Creating a Software Profile.About this taskNote: Era supports provisioning of multiple Oracle databases in the same database server VM. With Era's multi-cluster capability, both Oracle single-instance and RAC databases can be provisioned on different Nutanix clusters. You can only use the profiles and profile versions (unpublished) that you own while provisioning a database.Perform the following procedure to provision a single-instance Oracle database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select Single Instance Database under the Oracle engine. The Provision an Oracle Single Instance Database window appears. You provision a single-instance database in the following steps:Database Server VMDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one of the following.Create New Server. Select this option if you want to provision a single-instance database on a new database server VM.Use Registered Server. Select this option if you want to provision a single-instance database on a database server VM that you have previously registered with Era.If you have selected Create New Server in the previous step, do the following under New Database Server VM.Database Server VM Name. Type a name of the database server VM. The name that you provide in this field is used as the virtual machine name created for the single-instance Oracle database.Description. Type a description of the database server VM.Nutanix Cluster. Select the Nutanix cluster on which you want to provision the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appear in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Enable High Availability (SIHA). Select this option if you want to enable Grid Infrastructure on the single instance.If you have selected this option, set a password in the SYS ASM Password field and select an ASM Driver from the drop-down list of ASM drivers available for the ASM instance.The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterNote: This option appears only if the software profile you selected has the Oracle Grid Infrastructure software.Database Server VM's Time Zone. Select a timezone for the database server VM.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.Figure. Provisioning DetailsClick to enlargeIf you have selected Use Registered Server in the previous step, select the database server VM on which you want to provision the instance and click Next.In the Database step, do the following in the indicated steps.Database Name. Type a name of the database.Description. Type a description of the database.SID. Type an SID for the database.Global Database Name. This field automatically replicates with the value that you have typed in SID.SYS and SYSTEM Password. Type a common password for both the SYS and SYSTEM user accounts.If you want to set different passwords for both the user accounts, log on to the single-instance database after the database is provisioned to change the passwords. Retype the SYS and SYSTEM password in the Confirm Password field.The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterSize (GiB). Type the size needed for the database in GB.Fast Recovery Area Size. Type the recovery area size in GB.The fast recovery area provides a centralized storage location for backup and recovery files.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Character Set. Select a character set (AL32UTF8 or UTF8) for the database.National Character Set. Select a national character set (AL16UTF16 or UTF8) for the database.Listener Port. By default, this field is populated with port number 1521.You can choose to set another port number. Encryption. Select this option if you want to enable encryption for this database.If you have selected this option, type the passphrase in the Passphrase and Confirm Passphrase fields.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the database is created.Post-Create Command. Type a complete OS command that you want to run after the database is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management. Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision a single-instance database has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the single-instance database appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, network, and database parameter profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["provis", "oracl", "singl", "instanc", "databas"]}, {"Heading": "Provisioning an Oracle RAC Database", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-provision-oracle-cluster-database-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have created a software profile before you start provisioning an Oracle RAC database. For more information, see Creating a Software Profile.About this taskEra supports provisioning of multiple Oracle databases in the same database server VM. With Era's multi-cluster capability, both Oracle single-instance and RAC databases can be provisioned on different Nutanix clusters. Note: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database.Perform the following procedure to provision an Oracle RAC database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select RAC Database under the Oracle engine. The Provision an Oracle RAC Database window appears. You provision a RAC database in the following steps:Server ClusterRAC TopologyDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Server Cluster step, select one of the following.Create New Cluster. Select this option if you want to provision a RAC database on a new cluster.Use Registered Cluster. Select this option if you want to provision a RAC database on a cluster that you have previously registered with Era.If you have selected Create New Cluster in the previous step, do the following in the indicated fields.Do the following under New Server Cluster.Server Cluster Name. Type a name for the server cluster.Description. Type a description for the server cluster.Nutanix Cluster. Select the Nutanix cluster on which you want to provision the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.All the nodes of the Oracle RAC database will be provisioned on the same Nutanix cluster.Network Profile. Select a network profile from the drop-down list of network profiles available.Under Database Server VMs in the Cluster, do the following in the indicated fields:Number of Database Server VMs. Select the number of nodes for creating a cluster.Database Server VM Name Prefix. Type a name prefix for the database server VMs that will be added to the Oracle cluster.Database Server VM's Time Zone. Select a timezone for the database server VM.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.SYS ASM Password. Type a password for the SYSASM user account.ASM Driver. Select an ASM driver from the drop-down list of ASM drivers available. The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterSSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.If you have selected Use Registered Cluster in the previous step, do the following.Select the registered cluster on which you want to provision the database.Click Next.Figure. Provisioning RAC DetailsClick to enlargeIn the RAC Topology step, do the following in the indicated steps.SCAN. Type a name for Single Client Access Name (SCAN).SCAN is an Oracle RAC feature that provides a single name for clients to access Oracle databases running in a cluster.Listener Port. By default, this field is populated with port number 1521.You can choose to set another port number. Database Server VMs in the Cluster. This field is auto-populated with the database server VM names. The database server VM names are generated based on the number of database server VMs and database server VM name prefix mentioned in the Server Cluster step. In the Database step, do the following in the indicated steps.Database Name. Type a name for the database.Description. Type a description for the database.SID. Type an SID for the database.Global Database Name. This field automatically replicates with the value that you have typed in SID.SYS and SYSTEM Password. Type a common password for both the SYS and SYSTEM user accounts.If you want to set different passwords for both the user accounts, log on to the database after the database is provisioned to change the passwords. Retype the SYS and SYSTEM password in the Confirm Password field.The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterSize (GiB). Type the size needed for the database in GB.Fast Recovery Area Size. Type the recovery area size in GB.The fast recovery area provides a centralized storage location for backup and recovery files.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Character Set. Select a character set (AL32UTF8 or UTF8) for the database.National Character Set. Select a national character set (AL16UTF16 or UTF8) for the database.Encryption. Select this option if you want to enable encryption for this database.If you have selected this option, type the passphrase in the Passphrase and Confirm Passphrase fields.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management. Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision an RAC database has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the RAC database appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:RAC Database Summary . Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, network, and database parameter profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Database Instances. Displays the list of database instances created. Details such as name, status, database server VM, IP addresses and time machine status is also displayed.Time Machine. Displays the name, description, age, and size of the time machine.Server Cluster. Displays the name, status, SCAN IP address, OS, SCAN name and SCAN port of the Oracle server cluster. Tags. Displays a list of the tags that are applied to this database. You can click Update to set the tag values.", "Heading_Keywords": ["provis", "oracl", "rac", "databas"]}, {"Heading": "Oracle Database Clone", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-clone-oracle-c.html", "Document Name": "Era User Guide", "Content": "You can create clones either to a point in time (by using transaction logs) or by using snapshots. If you want to use snapshots to clone the source database, you select an available snapshot and the source database is cloned to a state when the snapshot is taken. If you want to clone the source database at a point in time, you select the clone time and the source database is cloned to a state then. Creating Oracle Database ClonesCreating Oracle Database ClonesBefore you beginEnsure that you meet the following requirements before you start the cloning operation.A database with the same SID should not be already running on the target database server VM.A clone should not be registered with an older version of Era on the target database server VM.If you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone an Oracle database.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the Oracle source database you want to clone, click Actions and select Create Single Instance Database Clone. The Create Oracle SI Database Clone from Time Machine window appears. You clone the database in the following steps:Time/SnapshotDatabase Server VMDatabaseIn the Time/Snapshot step, select the cluster and clone time to which you want to clone the database. Do the following to select the time.Nutanix Cluster. Select a Nutanix cluster to clone the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Do one of the following:Point in time. Select this option if you want to clone the source database to a point in time. If you select this option, the database is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source database by using the available snapshots.Click Next.In the Database Server VM step, select one of the following.Create New Server. Select this option to create a target database server VM and clone the database on the newly created target database server VM.Use Authorized Server. Select this option to clone the database to a database server VM that you have already registered with Era. If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name for the database server VM.Description. Type a description of the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a time zone for the database server VM.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the Database step, do the following in the indicated steps.Name. Type a name of the cloned database.Description. Type a description of the cloned database.SID. Type an SID for the database.SYS and SYSTEM Password. Type a common password for both the SYS and SYSTEM user accounts. If you want to set different passwords for both the user accounts, log on to the database after the database is provisioned to change the passwords.The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterDatabase Parameter Profile. Select a database parameters profile from the list of the profiles available.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Next.Click Clone to successfully clone the source database.A message appears indicating that the operation to clone the database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone database appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["oracl", "databas", "clone"]}, {"Heading": "Creating Oracle Database Clones", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-database-clones-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you start the cloning operation.A database with the same SID should not be already running on the target database server VM.A clone should not be registered with an older version of Era on the target database server VM.If you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone an Oracle database.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the Oracle source database you want to clone, click Actions and select Create Single Instance Database Clone. The Create Oracle SI Database Clone from Time Machine window appears. You clone the database in the following steps:Time/SnapshotDatabase Server VMDatabaseIn the Time/Snapshot step, select the cluster and clone time to which you want to clone the database. Do the following to select the time.Nutanix Cluster. Select a Nutanix cluster to clone the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Do one of the following:Point in time. Select this option if you want to clone the source database to a point in time. If you select this option, the database is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source database by using the available snapshots.Click Next.In the Database Server VM step, select one of the following.Create New Server. Select this option to create a target database server VM and clone the database on the newly created target database server VM.Use Authorized Server. Select this option to clone the database to a database server VM that you have already registered with Era. If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name for the database server VM.Description. Type a description of the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a time zone for the database server VM.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the Database step, do the following in the indicated steps.Name. Type a name of the cloned database.Description. Type a description of the cloned database.SID. Type an SID for the database.SYS and SYSTEM Password. Type a common password for both the SYS and SYSTEM user accounts. If you want to set different passwords for both the user accounts, log on to the database after the database is provisioned to change the passwords.The following password standard must be followed for Oracle version 12.2 and higher:Minimum 8 characters, maximum 30 characters.Must start with an alphabetical character.Must not contain (\") double quotes.Must contain at least 1 letter.Must contain a number (0 through 9).Must contain at least 1 special characterMust not contain the username.Must not contain the term \"Oracle\".Must not contain (.) dot characterThe following password standard must be followed for Oracle versions 11.2 to 12.1:Must start with an alphabetical character.Must not end with a (.) dot characterDatabase Parameter Profile. Select a database parameters profile from the list of the profiles available.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Next.Click Clone to successfully clone the source database.A message appears indicating that the operation to clone the database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone database appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["creat", "oracl", "databas", "clone"]}, {"Heading": "Restoring an Oracle Database", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-restoring-a-oracle-database-t.html", "Document Name": "Era User Guide", "Content": "Restoring allows you to restore a source database registered with Era to a snapshot or point-in-time supported by the source database time machine. You can restore a database by using a snapshot ID, Point in Time Recovery (PITR) timestamp, any latest snapshot, or to the maximum recovery point possible.Before you beginEnsure the following before you restore an Oracle Database.Register the source database running on that cluster with Nutanix Era (see Registering an Oracle Single-Instance Database. Ensure that the database has a time machine that supports the required snapshot or point in time restore capability.Ensure that the database server VM of the source database is available.About this taskA database restore operation replaces the current database with data as of the specified snapshot or point-in-time. The time machine for the source database is paused before a restore operation is initiated. After a successful restore, the time machine is automatically resumed that triggers a new snapshot and log catchup operation for the restored database. If the restore operation fails, the database is left in the state that it was before the restore was initiated.Note: Perform this operation with caution as there might be some data loss.Database restore operation is not supported for databases of physical standby and Real Application Clusters (RAC) type.Database restore operation is not supported for databases with shared database storage.Shared database storage is defined as follows: ASM Shared StorageAny database sharing disk group with the restore database.FS Shared StorageAny file present on database storage which is not belonging to the current database.For databases having AFD configured, database restore operation is supported only for Oracle version 12.2 and higher.Caution: If there is a change in the FRA location between the point-in-time of restore and the current state, then new FRA location files are identified which do not belong to the database. Hence, you have to move these files out of the current mount point to proceed with the restore operation.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources and click the database you want to restore.You can restore a database by doing any one of the following.Click Restore in the database summary page. Click the time machine name in the Time Machine widget.In the Actions drop-down list, select Restore Source Database.The Restore Source Database window appears.Figure. Database Home PageClick to enlargeYou can restore a database in the following steps:Recovery PointData/LocationIn the Recovery Point step, you can view a timeline of the data available for the restore. Archive/Online Redo Logs. (Optional) Select this check box to backup all the archive and online logs in the time machine.Note: If the online redo log files are Oracle Managed Files (OMF), then the redo logs will not be used for the restore operation. Restore will be performed only till the last archived log available.Shutdown the database after backup. Select this check box to shutdown the database after performing the backup of all the archive and online logs in the time machine.A confirmation box to shutdown the database is displayed when you click Next. Type the database name and click Shutdown to start the backup and recovery operations.Figure. Database Restore DetailsClick to enlargeIn the Data/Location step, do the following.Select any one of the following restore options.Most Recent Time Available. Select this option to restore the database to the maximum recovery point in time possible. For the time period falling under the green region, the most recent recovery point in time is taken. whereas, for the time period falling under the grey region, the maximum recovery point in time available is taken.Point in Time. Select this option and enter the time to which you want to restore your database. Note: Point-in-time recovery cannot be performed for the time period falling under the grey region.Snapshot. Select this option and choose the snapshot you want to use for restoring the database from the drop-down list.Note: Original Location. Select this option to restore the database to its original location.Figure. Database Restore DetailsClick to enlargeClick Restore.A message appears at the top of the page stating that the restore operation has started. You can click on the message to view the status.", "Heading_Keywords": ["restor", "oracl", "databas"]}, {"Heading": "Patching an Oracle Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-patching-database-oracle-t.html", "Document Name": "Era User Guide", "Content": "Database patching is the process of updating the Oracle home, Grid home, and Oracle database with the latest Patch Set Updates (PSU) released by Oracle. Era leverages the Oracle out-of-place patching method. It allows you to install updates on one database host, copy Oracle/Grid infrastructure home, install it on the destination server(s), and start the services. In this method, manual patching needs to be done only once on the gold image VM, and a newer version of the software profile needs to be created. All the compatible oracle database server VMs can then be patched using this new version of the software profile. This involves minimal downtime, which is required while switching the services to the new Oracle home on the database servers. Once successfully applied, the patches cannot be rolled back.Before you beginEnsure the following before you update an Oracle database.Download the Patch Set Updates (PSU) from Oracle support and apply updates to Oracle and Grid home on a database server. For more information about applying updates, see Oracle Documentation.Create a version of the software profile for the recommended Oracle updates from the database server (see Creating a Software Profile Version).About this taskPerform the following procedure to apply updates to an already provisioned database.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List and click the database server VM for which you want to update the software profile version.Go to the Software Profile Version widget and click Update. The Update Database Server VM window appears.Note: The Update option only appears when a new software profile version is available.Do the following in the indicated fields:Update to Software Profile Version. Select a software profile version from the drop-down list.Under Start Update, select one of the following:Now. Select this option if you want to start updating the software version now.Later. Select this option and then select the day and time if you want to create a schedule for patching the software profile version.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Under Method, select one of the following: Note: This option is applicable only for cluster databases.Rolling. Select this option if you want to update the version on only one node at a time.Non-Rolling. Select this option if you want to update the version on all the nodes in a cluster database at the same time.Click Update.A message appears at the top indicating that the operation to update a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.", "Heading_Keywords": ["patch", "oracl", "databas", "server", "vm"]}, {"Heading": "Patching an Oracle Database Server Cluster", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-patching-rac-database-oracle-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure the following before you update an Oracle database.Download the Patch Set Updates (PSU) from Oracle support and apply updates to Oracle and Grid home on a database server. For more information about applying updates, see Oracle Documentation.Create a version of the software profile for the recommended Oracle updates from the database server (see Creating a Software Profile Version).About this taskPerform the following procedure to apply updates to an already provisioned RAC database.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List and click the database server cluster for which you want to update the software profile version.Go to the Software Profile Version widget and click Update. The Update DBServer VM Cluster window appears.Note: The Update option only appears when a new software profile version is available.Do the following in the indicated fields:Update to Software Profile Version. Select a software profile version from the drop-down list.Under Start Update, select one of the following:Now. Select this option if you want to start updating the software version now.Later. Select this option and then select the day and time if you want to create a schedule for patching the software profile version.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Under Method, select one of the following: Note: This option is applicable only for cluster databases.Rolling. Select this option if you want to update the version on only one node at a time.Non-Rolling. Select this option if you want to update the version on all the nodes in a cluster database at the same time.Figure. Oracle Database Server Cluster PatchingClick to enlargeClick Update.A message appears at the top indicating that the operation to update a database server cluster has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.", "Heading_Keywords": ["patch", "oracl", "databas", "server", "cluster"]}, {"Heading": "Microsoft SQL Server Database Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-sql-server-db-management-c.html", "Document Name": "Era User Guide", "Content": "Era enables you to easily register, provision, clone and administer all your Microsoft SQL Server (Single- instance and AG) databases on multiple Nutanix clusters in a single-click. The following sections provide more information on Era SQL Server database management.SQL Server Always on Availability Groups (AG)Current LimitationsSQL Server Database RegistrationSQL Server Database ProfilesSQL Server Database ProvisioningSQL Server Database CloneRestoring a SQL Server DatabaseYou can restore your SQL Server database from the Database home page or the Time Machine page.Patching a SQL Server Database Server VMPatching a SQL Server Database Server ClusterSQL Server Always on Availability Groups (AG)Always on Availability Groups (AG) is a SQL Server solution for High Availability and Disaster Recovery of your SQL databases. Availability groups are a logical grouping of databases that fail over together. An availability group supports a set of primary databases and one to eight sets of the corresponding secondary databases. Using Era, you can provision multi-node SQL server availability groups for High Availability of your SQL databases. Era provides the ability to provision a new Always On availability group and provision an availability database.For the Time Machine operations, Era depends on the backup node that SQL Server suggests based on the backup preferences set. When you provision an AG database with Era, the Time Machine selects an available database node, and according to the backup preference you set. The following backup preferences are available for you to select - Secondary When Available, Secondary Only, Primary Only, and Any Database Server VM. If the selected node goes down later, the Time Machine switches to the backup node suggested by the SQL Server. Example: An AG database has four nodes A, B, C, and D. Node A is the primary node, and the remaining nodes are secondary. The backup preference set at the AG level is Secondary Only. When you provision this database with Era, the Time Machine selects one of the secondary nodes to operate. Suppose the Time Machine selects node B for its operations. If node B stops working due to some reason, the Time Machine first checks if any of the secondary nodes (nodes C and D) is available. If the secondary nodes C and D are available, the Time Machine selects one of these two nodes to carry out its operations. If all the secondary nodes (B, C, and D) are down and the only available node is A, then the Time Machine cannot select node A to operate since the backup preference is set to Secondary Only. The Time Machine operations stop until a secondary node comes up.See Registering a SQL Server Availability Database for information on registering an AG database. See Provisioning a SQL Server Availability Database for information on provisioning an AG database. See Creating AG Database Clones for information on cloning an AG database. Current LimitationsEra has the following limitations for SQL Server. For SQL Server, simple recovery mode registration does not create the first auto snapshot for time machine.Era supports cloning Failover Cluster Instance (FCI) databases onto existing database servers but does not support the clone with create database server VM option currently. Also, cloning a database into an existing FCI cluster is not supported. Era does not support the provisioning of an FCI cluster. Also, the provisioning of a database into an existing FCI cluster is not supported.Era does not support cloning of AG databases across multiple Nutanix clusters.Era does not support registration of brownfield AG databases across multiple Nutanix clusters.Era can manage only one instance if there are multiple instances installed on the database server VM.SQL Server Database RegistrationYou can register a source (production) database running on a Nutanix cluster with Era. When you register a database with Era, the database server VM (VM that hosts the source database) is also registered with Era. After you have registered a database with Era, a time machine is created for that database. Era allows you to register multiple databases on a single database server VM.The time machine takes periodic database snapshots and log catch-ups (see Era Time Machine Management). The time machine performs the snapshot and log catch-up operations as defined in the SLA that you have selected or created during the registration of the database (see SLA Management).You can register both a single-instance SQL Server database and SQL Server AG database.SQL Server Database and Database Server VM Registration PrerequisitesRegistering a SQL Server Single Node Database Server VMRegistering a SQL Server Cluster Database Server VMRegistering a SQL Server DatabaseRegistering a SQL Server Availability DatabaseSQL Server Database and Database Server VM Registration PrerequisitesEnsure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VMs over WinRM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Before you register a database running on ESXi cluster, you must set disk.EnableUUID to True by using vCenter Server. Shut down the database server VM on which the database is running.Select the database server VM, go to VM > Actions > Edit Settings > VM Options > Advanced > Configuration Parameters > Edit Configuration, and click Add Row.In the Name field, type disk.EnableUUID.In the Value field, type True.Start the database server VM.Era supports database server VM registration for the following versions of the SQL Server: SQL Server 2008 R2 SP1 and higherSQL Server 2012SQL Server 2014SQL Server 2016SQL Server 2017SQL Server 2019OS Configuration (Windows)Ensure that Prism APIs are callable from the VM.Registering a SQL Server Single Node Database Server VMBefore you beginEnsure that you meet the following requirements before you register a SQL Server single node database server VM with Era.For general requirements, see SQL Server Database and Database Server VM Registration PrerequisitesA local user account or a domain user account with administrator privileges on the database server must be provided.Windows account or the SQL login account provided must be a member of sysadmin role.SQL Server instance must be running.Database files must not exist in the Windows OS boot drive.Database must be in an online state.Windows remote management (WinRM) must be enabled.Ensure that the SQL service account has read privileges on the mount points or drives containing the system databases (master, model, msdb, and tempdb) of the SQL Server instance.Install SQL Server SQLPS Powershell module.About this taskPerform the following procedure to register an SQL Server single node database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VMs.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select Single Node Server VM under the SQL Server engine. The Register Database Server VM window appears. Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM you want to register with Era.Windows Administrator Name. Type the username of the administrator account of the Windows server on which the database is running. For example, Administrator.Windows Administrator Password. Type the password of the administrator account of the Windows server on which the database is running.Instance. Era automatically discovers all the instances on the database server VM. You can click the drop-down list to select an instance.Alternatively, you can click the refresh icon to list the instances associated with the IP address.Under Connect to SQL Server Login, select one of the following: Windows Admin UserSQL Server UserIf you have selected Windows Admin User in the previous step, username of the administrator account of the Windows server is auto-filled in User Name.If you have selected SQL Server User in the previous step, do the following: Login. Type the username of the account that is configured to contact SQL Server.Password. Type the password of account that is configured to contact SQL Server.Figure. Single-Node Database Server VM Registration DetailsClick to enlargeClick Register to successfully register the database server.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, network, and windows domain (for SQL Server Database Server VMs) profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Registering a SQL Server Cluster Database Server VMBefore you beginEnsure that you meet the following requirements before you register a SQL Server database server cluster with Era.For general requirements, see SQL Server Database and Database Server VM Registration PrerequisitesA local user account or a domain user account with administrator privileges on the database server must be provided.Windows account or the SQL login account provided must be a member of sysadmin role.SQL Server must be installed on all cluster nodes.SQL Server instance must be running.Database files must not exist in the Windows OS boot drive.Database must be in an online state.Windows remote management (WinRM) must be enabled.Ensure that the SQL service account has read privileges on the mount points or drives containing the system databases (master, model, msdb, and tempdb) of the SQL Server instance.Install SQL Server SQLPS Powershell module.About this taskPerform the following procedure to register an SQL Server database server cluster.Note: SQL Server must be installed on all the nodes of the Windows Cluster. All the nodes of the Windows cluster must be on the same Nutanix Cluster.ProcedureIn the drop-down list of the main menu, select Databases Server VMs.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select Server Cluster under the SQL Server engine. The Register Database Server Cluster window appears. Do the following in the indicated fields.Server Cluster name in era. Type a name for the Windows Server Failover Cluster.Description. Type a description for the Windows cluster.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server cluster you want to register with Era.Windows Administrator Name. Type the username of the administrator account of the Windows server on which the database is running. For example, Administrator.Windows Administrator Password. Type the password of the administrator account of the Windows server on which the database is running.Instance. Era automatically discovers all the instances on the database server cluster. You can click the drop-down list to select an instance.Alternatively, you can click the refresh icon to list the instances associated with the IP address.Under Connect to SQL Server Login, select one of the following: Windows Admin UserSQL Server UserIf you have selected Windows Admin User in the previous step, username of the administrator account of the Windows server is auto-filled in User Name.If you have selected SQL Server User in the previous step, do the following: Login. Type the username of the account that is configured to contact SQL Server.Password. Type the password of account that is configured to contact SQL Server.Note: The username and password provided must have access to all the database server VMs in the server cluster.Figure. Cluster Database Server VM Registration DetailsClick to enlargeClick Register to successfully register the database server.A message appears indicating that the operation to register a database server cluster has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server cluster appears in the list of the registered database server VMs. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Database Server VM Summary. Displays the database server cluster details such as name, description, and status.Profiles. Displays software, compute, and network profiles that were applied when the database server was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Registering a SQL Server DatabaseBefore you beginEnsure that you meet the following requirements before you register a SQL Server database with Era.For general requirements, see SQL Server Database and Database Server VM Registration PrerequisitesA local user account or a domain user account with administrator privileges on the database server must be provided.Windows account or the SQL login account provided must be a member of sysadmin role.SQL Server instance must be running.Database files must not exist in C:\\ Drive.Database must be in an online state.Windows remote management (WinRM) must be enabled.Ensure that the SQL service account has read privileges on the mount points or drives containing the system databases (master, model, msdb, and tempdb) of the SQL Server instance.About this taskPerform the following procedure to register a SQL Server database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select Database under the SQL Server engine. The Register a SQL Server Database window appears. You register a database in the following steps:Database Server VMDatabaseTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.In the Database Server VM step, select one the following.Registered. Select this option if you want to register a database running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the database you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the database you want to register is running and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.Note: You cannot register a SQL Server database on a registered database server VM containing a database group.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address of the database server VM on which the database that you want to register is running.Windows Administrator Name. Type the username of the administrator account of the Windows server on which the database is running. For example, Administrator.Windows Administrator Password. Type the password of the administrator account of the Windows server on which the database is running.Instance. Era automatically discovers all the instances on the database server VM. You can click the drop-down list to select an instance.Alternatively, you can click the refresh icon to list the instances associated with the IP address.Under Connect to SQL Server Login, select one of the following: Windows Admin UserSQL Server UserIf you have selected Windows Admin User in the previous step, username of the administrator account of the Windows server is auto-filled in User Name.If you have selected SQL Server User in the previous step, do the following: Login. Type the username of the account that is configured to contact SQL Server.Password. Type the password of account that is configured to contact SQL Server.Click Next.Figure. SQL Server Database Registration DetailsClick to enlargeIn the Database step, do one the following.If you are registering a database for the first time on an existing database server VM, or if you are registering a database and a database server VM together, do the following in the indicated fields:Unregistered Databases. Select the databases that you want to register from the unregistered databases list. The database list is populated based on the database server VM selected in the previous step.Select any one of the following under Register.One Database with One Time Machine. Select this option if you want to manually select the databases and associate each database with one time machine.Type the Database Name in Era and Description.All Databases as a Group with One Time Machine. Select this option to register all the unregistered databases in the database server VM as a single group and associate it with one time machine. Type the Group Name and Description.Note: Any unregistered AG databases will be registered as a stand-alone database.Point in Time cloning and restore is not supported for the databases registered as a group with one time machine.Click Next.Figure. Register SQL Server Database - First TimeClick to enlargeIf you have already registered a database on an existing database server VM, do the following in the indicated fields:Unregistered Databases. Select a database that you want to register from the unregistered databases list.Registered Databases. Displays the list of databases that are registered with Era.Database Name in Era. This field is automatically populated with the name of the database that you provided while provisioning the database server VM.Description. Type a description of the database.Click Next.Figure. Register SQL Server DatabaseClick to enlargeIn the Time Machine step, do the following in the indicated fields.Full. By default, this option is selected.This option enables Era to copy the transaction logs. You can then clone the database from a point in time.Under Manage Log backups with, select one of the following.Era. Select this option if you want Era to manage the transaction logs and you can then clone the database from a point in time.Another application. If you select this option, you cannot clone the database from a point in time. Clones can be generated only from snapshots.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Note: Log catch up enabled SLAs will not be supported if you selected All Databases as a Group with One Time Machine in the Databases step.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot on the. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Database Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.(Only for group databases) Database Group Summary. Displays a brief summary of the group database that includes group name, description, status, database version and the total size of the database group.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Databases. Displays the list of databases in the database group. Individual database name, status, size and connection information is also displayed.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, status, IP address, OS and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Registering a SQL Server Availability DatabaseBefore you beginEnsure that you meet the following requirements before you register a SQL Server AG database with Era.For general requirements, see SQL Server Database and Database Server VM Registration PrerequisitesA local user account or a domain user account with administrator privileges on the database server must be provided.Windows account or the SQL login account provided must be a member of sysadmin role.SQL Server instance must be running.Database files must not exist in C:\\ Drive.Database must be in an online state.Windows remote management (WinRM) must be enabled.Ensure that the SQL service account has read privileges on the mount points or drives containing the system databases (master, model, msdb, and tempdb) of the SQL Server instance.About this taskPerform the following procedure to register a SQL Server AG database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select Availability Database under the SQL Server engine. The Register a SQL Server Availability Database window appears. You register a AG database in the following steps:Server ClusterAGDatabaseTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Server Cluster step, select one the following.Registered. Select this option if you want to register a AG database running on a Windows server failover cluster that is already registered with Era.Not Registered. Select this option if the Windows server failover cluster on which the AG database you want to register is not registered with Era.If you selected Registered in the previous step, select the Windows server failover cluster on which the AG database you want to register is running and click Next.Note: You cannot register a SQL Server database on a registered database server VM containing a database group.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address of the Windows cluster on which the AG database that you want to register is running.Windows Administrator Name. Type the username of the administrator account of the Windows server on which the database is running. For example, Administrator.Windows Administrator Password. Type the password of the administrator account of the Windows server on which the database is running.Instance. Era automatically discovers all the instances on the cluster server. You can click the drop-down list to select an instance.Alternatively, you can click the refresh icon to list the instances associated with the IP address.Under Connect to SQL Server Login, select one of the following: Windows Admin UserSQL Server UserIf you have selected Windows Admin User in the previous step, username of the administrator account of the Windows server is auto-filled in User Name.If you have selected SQL Server User in the previous step, do the following: Login. Type the username of the account that is configured to contact SQL Server.Password. Type the password of account that is configured to contact SQL Server.Click Next.Figure. Registering SQL Server AG DatabaseClick to enlargeIn the AG step, select one of the following:Not Registered. Select this option if you want to register a new AG. Registered. Select this option if you want to use the AG that you have registered previously.Registered is displayed only if you have selected use registered cluster in the Server Cluster step.If you have selected Not Registered in the previous step, do the following in the indicated fields.AG Name. Select the availability group to register from the list of the availability groups available.Click Next.If you selected Registered in the previous step, select the registered availability group and click Next.In the Database step, do the following in the indicated steps.Unregistered Databases. Select a database that you want to register from the unregistered databases list.Registered Databases. Displays the list of databases that are registered with Era.Database Name in Era. This field is automatically populated with the name of the database that you provided while provisioning the server cluster.Description. Type a description of the database.Click Next.Figure. Registering SQL Server AG DatabaseClick to enlargeIn the Time Machine step, do the following in the indicated fields.Time Machine Name. Type a name of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeDescription. Type a description for the time machine.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the AG database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Cluster Database Summary. Displays details such as cluster name, database version, and size of the database etc. You can click See Description to view details about how to access the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Always on Availability Group . Displays the list of databases along with the respective database server VMs, status, and IP address used for the AG created.Server Cluster. Displays the name of the Windows cluster, port number, IP address, and OS used.You can click the name of the cluster to open the Topology widget that displays the database server VMs, AGs, and the databases associated with AG. Each node displayed under Database Server VM is clickable. You can click the nodes to view the AG and database server VM used by each node.Time Machine. Displays the name, description, age, and size of the time machine.Tags. Displays a list of the tags that are applied to this database server. You can click Update to set the tag values.SQL Server Database ProfilesProfiles enable you to create templates of database software, networking, compute, database parameters, and windows domain which help you to successfully provision databases or database server VMs on Era.Creating a Software ProfileCreating a Software Profile VersionUpdating a Software Profile VersionOptimizing a Software Profile VersionEra allows you to optimize a software profile version for provisioning a SQL Server database. Optimizing a software profile version creates an image of the operating system and database software from the database server VM that contains all the patches configured in the software profile. The overall provisioning time is reduced when a software profile version is optimized.Creating a Compute ProfileCreating a Network ProfileA network profile specifies the VLAN for the new database server VM. Creating a Clustered Network ProfileA network profile specifies the VLAN for the new database server VM. With Era's multi-cluster capability, you can create a clustered network profile specifying the VLANs to be used for each Nutanix cluster while provisioning a Windows cluster across different Nutanix clusters.Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. Creating a Windows Domain ProfileA Windows domain profile is a template that includes the Windows domain information such as domain name (FQDN), domain user and password. This profile also includes information related to SQL service startup account, Era worker service account, and Active Directory such as the Organizational Unit (OU) paths for clusters and database server VMs. Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. Creating a Software ProfileBefore you beginEnsure that you have registered an existing SQL Server database server VM with Era.About this taskA software profile is a template that includes the SQL Server database and operating system. After you have registered an existing SQL Server database server with Era, Era creates a software template from the SQL database server you have previously registered. For more information about supported built-in profiles, see Era Release Notes.A software profile is created from the software installed on the registered databases. Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software, click Create, and select the SQL Server engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.This is the name created by Era for the first version (v1), also called as the Base Profile Version Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a new version of the software profile. For more information, see Creating a Software Profile Version .Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version and patches.Database Server VMs. Displays the database server VMs that are using this version of the profile.Creating a Software Profile VersionAbout this taskSoftware profile versions are created in Era to support patching of SQL Server database server instances. A software profile version can be created by uploading a SQL Server update executable. The SQL Server update can then be used to patch other database server VMs or when provisioning new database server VMs with the updated software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile for which you want to create a new version.Click Create. The Create Software Profile Version window appears. Do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Patch File Location. Do one of the following to provide the patch file for the software profile version.Local Computer. Upload a patch file (.exe).File Share. Type the location of the file share containing the patch file and provide the file share credentials in the User Name and Password fields.Patch Notes. Type a note to provide additional information about the patch file.Figure. Creating a Software Profile VersionClick to enlargeClick Create.Era also extracts additional patch information from the upload patch file and displays it in the patch section. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version and patches.Database Server VMs. Displays the database server VMs that are using this version of the profile.Patch. Displays details about the patch such as, KB articles, help urls, patch build number, and so on.Updating a Software Profile VersionAbout this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile should update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message will be displayed on the homepages of the DB Server VMs and Server Clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Patch Notes. Type a note to provide additional information about the database software.Operating System Notes and Database Software Notes fields are displayed only during the initial version. Patch Notes field is displayed for subsequent versions.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.Optimizing a Software Profile VersionEra allows you to optimize a software profile version for provisioning a SQL Server database. Optimizing a software profile version creates an image of the operating system and database software from the database server VM that contains all the patches configured in the software profile. The overall provisioning time is reduced when a software profile version is optimized.About this taskPerform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Optimize for Provisioning. The Optimize Software Profile Version for Provisioning  window appears displaying the list of database server VMs with the profile.Select the database server VM to use for optimization.Click Optimize.Era optimizes the software profile version for provisioning a SQL Server database. Creating a Compute ProfileAbout this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: Create a compute profile only if you do not want to use the sample profile (DEFAULT_OOB_COMPUTE).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.Creating a Network ProfileA network profile specifies the VLAN for the new database server VM. Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskPerform the following procedure to create a network profile for SQL Server databases.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select Database Server VMs under the SQL Server engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Under Service Mapping, do the following in the indicated field:Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option. You can add one or more VLANs to Era.Note: For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Figure. Network Profile for Database Server VMClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.Creating a Clustered Network ProfileA network profile specifies the VLAN for the new database server VM. With Era's multi-cluster capability, you can create a clustered network profile specifying the VLANs to be used for each Nutanix cluster while provisioning a Windows cluster across different Nutanix clusters.Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskPerform the following procedure to create a Windows cluster network profile for SQL Server.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select Windows Clusters under the SQL Server engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Select all the Nutanix clusters and the VLANs configured in those clusters to be used with the profile.Figure. Network Profile for Windows ClusterClick to enlargeClick Create to successfully create a clustered network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and VLANs associated with the respective profile.Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a new database parameters profile only if you do not want to use the sample database parameter profile.Perform the following procedure to create a database parameters profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, do the following in the indicated fields. Select SQL Server as the database engine.In the Version drop-down list, select the version of the SQL Server you want to provision.Under Apply Parameters to, select one of the following. Instance Level. Select this option if you want to apply the database parameters to a SQL Server instance.Database Level. Select this option if you want to apply the database parameters to a SQL Server database.Click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.All parameters available for a SQL Server database at the level you selected in step 3c (instance or database) are displayed in a table. Click the page navigation arrows to display all the available parameters. You can search for a parameter by typing the name of the parameter in the search text box. The Value column displays the default values of the parameters. You can choose to update the value of the parameters to suit your requirements. If you want to display only those parameters that you have updated, select the Modified Only option.Note: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.Creating a Windows Domain ProfileA Windows domain profile is a template that includes the Windows domain information such as domain name (FQDN), domain user and password. This profile also includes information related to SQL service startup account, Era worker service account, and Active Directory such as the Organizational Unit (OU) paths for clusters and database server VMs. About this taskWindows domain profiles are used for joining a Windows server cluster to a domain. Perform the following procedure to create a Windows domain profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Windows Domain and click Create. The Create Windows Domain Profile window appears. Do the following in the indicated fields.Name. Type a name of the Windows domain profile.Description. Type a description of the profile.Domain to Join (FQDN). Type a name of the domain that you want to join.Specify the fully qualified domain name of the domain. You can provide a name in the following format: example.com.Publish. Select this option to make the profile visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this windows domain profile should update to this new version.Under Organizational Units, do the following:Custom OU Path for Server Clusters. Select this check box to provide the OU path for the server clusters. Select this option only if you want to add the Windows failover cluster name to a different OU path.Custom OU Path for Database Server VMs. Select this check box to provide a OU path for the database server VMs. Select this option only if you want to add the database server VM to a different OU path.Under Domain Account with Permission to Join Computer to the Domain, do the following:Username. Type a name of a user that can join the cluster to a domain.To access the domain server, you must create compute objects and delete compute objects permission in the domain controller.Note: The domain user account must be a member of the Account Operators group.Password. Type the password of the user. Under SQL Service Startup Account, do the following:Specify Startup Account in Profile. Select this check box to enter the SQL service startup account details.The details of the SQL service startup account are auto populated if an account already exists in your SQL database.Username. Type the username of the domain user account to be used to run SQL service.Password. Type the password of the SQL service account. Note: If the Specify Startup Account in Profile check box is selected during profile creation, then you cannot provide another SQL service startup account during the provisioning process. Under Era Worker Service Account, do the following:Username. Type a name of a user of the domain account that will be used to run the ERA worker service and for connections between Era server and database server VM.Password. Type the password of the Era worker service account. Note: The Era worker service account will be added to the local administrator group on your database server VM and to the securities of the SQL instance. The Era worker service account user will have the highest privileges of sysadmin. Click Create to successfully create the Windows domain profile.The new profile appears in the list of Windows domain profiles. Click the name of the profile to view information about username and domain associated with the respective profile.Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.SQL Server Database ProvisioningYou can provision database server VMs and databases on the Nutanix cluster. As part of the database provisioning process, you can either create a database server VM on which you provision the database or select a database server VM that you have already provisioned. You use the built-in database parameter profiles or profiles you created to provision the databases. With Era's multi-cluster capability, both SQL Server databases and AG databases can be provisioned across different Nutanix clusters. Era also supports provisioning of multiple SQL Server databases in the same database server VM. Era supports database provisioning for the following versions of the SQL Server:SQL Server 2012SQL Server 2014SQL Server 2016SQL Server 2017SQL Server 2019Note: Era only supports Copy Data Management (CDM) for database of version SQL Server 2008 R2 SP1 and higher, database provisioning is not supported.Era supports the following versions of the Windows Server:Windows Server 2012 (Standard and datacenter)Requires hotfix KB2842230 and Powershell Executionpolicy changed to RemoteSigned.Windows Server 2012 R2 (Standard and datacenter)Windows Server 2016 (Standard and datacenter)Windows Server 2019 (Standard and datacenter)Database Server VM Provisioning PrerequisitesProvisioning a SQL Server Single Node Database Server VMProvisioning a SQL Server Cluster Database Server VMProvisioning a SQL Server DatabaseProvisioning a SQL Server Availability DatabaseDatabase Server VM Provisioning PrerequisitesComplete the following tasks before you start provisioning a database server VM.Register a source database with Era (see Registering a SQL Server DatabaseCreate a software profile. Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Windows Domain profiles are required when a provisioned database server VM is added to a domain.Provisioning a SQL Server Single Node Database Server VMBefore you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a single node database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select Single Node Server VM under the SQL Server engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, network, and windows domain (for SQL Server Database Server VMs) profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Provisioning a SQL Server Cluster Database Server VMBefore you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskYou can provision only the Server Cluster, so that later you can provision and/or clone databases to that server cluster. You must use profiles while provisioning the server cluster. For information about the supported version of database server VMs, see SQL Server Database Provisioning.Note: You can only use the profiles and profile versions (unpublished) that you own while provisioning a server cluster.Perform the following procedure to provision a SQL Server cluster database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select Server Cluster under the SQL Server engine. . The Provision Cluster Server window appears. You provision a cluster database server in the following steps:SourceServer ClusterDatabase Server VMsIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a cluster server from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected Software Profile, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.All the nodes of the SQL Server cluster will be provisioned on the same Nutanix cluster. Figure. Provisioning DetailsClick to enlargeIn the Server Cluster step, do the following in the indicated fields:Windows Cluster Name. Type a name of the Windows Server Failover Cluster.Description. Type a description of the Windows server cluster.Windows Domain Profile. Select a Windows domain profile from the list of profiles available.Network Profile. Select a network profile from the list of network profiles available.Under Database Server VMs in the Cluster, do the following in the indicated fields:Database Server VMs in the Cluster. Select the number of nodes for creating a cluster.Database Server VM Name Prefix. Type a name prefix for the database server VMs that will be added to the cluster server.Database Server VM's Time Zone. Select a time zone for the database server VMs to use.Compute Profile. Select a compute profile from the list of compute profiles available.Windows License Key. Type the Windows license key.Administrator Password. Type the password of the default local administrator account on the new database server VM.Under SQL Server Instance, do the following in the indicated fields:Server Collation. The server collation acts as the default collation for all system databases that are installed with the instance of SQL Server and also any newly created databases. If you have selected the software profile in the previous step, this field is auto-populated with the appropriate value.Note: The server collation is specified during SQL Server installation. Default server-level collation is SQL_Latin1_General_CP1_CI_AS.Database Parameter Profile - Instance. Select the sample database parameter profile or select a database parameter profile from the list of database parameter profiles that you have created.SQL Server Authentication Mode. Select the authentication mode as either Windows Authentication or Mixed Authentication.If you have selected the Windows Authentication mode during SQL Server installation, the server authentication logon is disabled and a password is assigned by setup. If you change the authentication mode to Mixed Authentication, the server authentication logon remains disabled.SQL Service Startup Account. Type the domain user account to be used to run SQL service.SQL Service Startup Account Password. Type the password for SQL service account.Under Grant Access to the Database Server, in the Domain User Account field, type a domain user account that is added as a member of administrators user group on the database server VM.Click Next.The Database Server VMs step displays the following indicated field.Database Server VM Names. This field is auto-populated with the database server VM names. The database server VM names are generated based on the number of database server VMs and database server VM name prefix mentioned in the Server Cluster step. Depending on your network profile, you can also select the IP addresses for the generated database server VMs.Click Provision.A message indicating that the operation to provision a cluster server has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the cluster server appears in the list of the provisioned database server VMs. Click the name of the cluster server to open the homepage for the selected cluster server. This page displays the following widgets:Server Cluster Summary. Displays the cluster details such as name, description, status, and date of provisioning.Profiles. Displays software, compute, and network profiles that were applied when the database server was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Topology. Displays the database server VMs, AGs, and the databases associated with AG. Each node displayed under Server Cluster is clickable. You can click the nodes to view their respective details.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Provisioning a SQL Server DatabaseBefore you beginEnsure that you have created a software profile before you start provisioning an SQL Server database. For more information, see Creating a Software Profile.About this task Era supports provisioning of multiple SQL Server databases in the same database server VM. With Era's multi-cluster capability, both SQL Server databases and AG databases can be provisioned across different Nutanix clusters. Note: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database.Perform the following procedure to provision a SQL Server database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select Database under the SQL Server engine. The Provision a SQL Server Database window appears. You provision a database in the following steps:Database Server VMDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server step, select one of the following:Create New Server. Select this option if you want to provision a database on a new database server VM.Use Registered Server. Select this option if you want to provision a database on a database server VM that you have previously registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM. The name that you provide in this field is used as the virtual machine name created for the SQL Server database.Description. Type a description of the database server VM.Select the Nutanix cluster on which you want to provision the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a timezone for the database server.Join Domain. Select this check box if you want to join to a specific domain and then select the Windows domain profile from the drop-down list of the Windows domain profiles available.For example, if you have created an administrator group and you want to add another user to that group, then you can select join domain option to join the respective group. Windows License Key. Type the Windows license key.Administrator Password. Type the password of the default local administrator account on the new database server.Under SQL Server Instance, do the following in the indicated fields:Instance Name. The instance name is imported from the software profile that you have selected above.Server Collation. The server collation acts as the default collation for all system databases that are installed with the instance of SQL Server and also any newly created databases. If you selected the software profile in the previous step, this field is auto-populated with the appropriate value.Note: The server collation is specified during SQL Server installation. Default server-level collation is SQL_Latin1_General_CP1_CI_AS.Database Parameter Profile - Instance. Select a database parameter profile from the drop-down list of database parameter profiles available.SQL Service Startup Account. Type the domain user account to be used to run SQL service.SQL Service Startup Account Password. Type the password for SQL service account.SQL Server Authentication Mode. Select the authentication mode as either Windows Authentication or Mixed Authentication. If you have selected the Windows Authentication mode during SQL Server installation, the server authentication logon is disabled and a password is assigned by setup. If you change authentication mode to Mixed Authentication, the server authentication logon remains disabled.Domain User Account. Type a domain user account that will be added as a member of administrators user group on the database server VM.Click Next.Figure. Provisioning SQL Server DatabaseClick to enlargeIf you have selected Use Registered Server in the previous step, select the database server VM on which you want to provision the database, and click Next.Note: You cannot provision a new SQL Server database on a registered database server VM containing a database group.In the Database step, do the following in the indicated steps.Database Name. Type a name of the database.Description. Type a description of the database.Size (GiB). Type the size of the node in GB.Database Parameter Profile - Database. Select the database parameter profile from the drop-down list of profiles available.Database Collation. The database collation is specified during SQL Server installation. Default database-level collation is SQL_Latin1_General_CP1_CI_AS.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the database is created on the database server VM.Post-Create Command. Type a complete OS command that you want to run after the database is created on the database server VM.Pre-create and post-create command scripts should be on the source database before the software profile is created. Any failure in execution of these scripts fails the entire operation and causes the operation to roll back.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list.An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management. Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshots in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Database Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, status, IP address, OS and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Provisioning a SQL Server Availability DatabaseBefore you beginEnsure the following before you provision a AG database:Create a software profile for the SQL Server versions supported (see Creating a Software Profile).Create a network profile. If an already created network profile exists, use the existing profile (see Creating a Network Profile). Network profile must have a VLAN with IP addresses managed by Era. You must use static IPs for cluster IP and listener. To configure a n-node AG cluster, use n+2 IP addresses.Ensure that you have created a clustered network profile if you want to provision a AG database on multiple Nutanix clusters. (See Creating a Clustered Network Profile)An Active Directory controller is required for AG provisioning. To join provisioned VMs to a domain, Era needs an Active Directory user who has permissions to join to domain and create and remove computer objects. If you want to provision a SQL Server multi-cluster AG database, ensure that you have free IP addresses in the IP pool for the following requirements.One IP address is reserved for each database server node.One listener IP address is reserved per subnet.One cluster IP address is reserved per subnet.About this taskAs part of provisioning, Era creates a new database server VM, Windows failover cluster, availability group, database, and adds the database to the availability group.Era uses initial primary availability node for copy data management and time machine functionality. Time machine halts when initial primary node goes down. Era supports provisioning of multiple SQL Server databases in the same database server VM. With Era's multi-cluster capability, both SQL Server databases and AG databases can be provisioned across different Nutanix clusters. Perform the following procedure to provision a SQL Server AG database.Note: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, and click Provision, and select Availability Database under the SQL Server engine. The Provision a SQL Server Availability Database window appears. You provision a database in the following steps:Windows ClusterDatabase Server VMAGDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Windows Cluster step, select one of the following.Create New Cluster. Select this option if you want to provision a database on a new Windows server failover cluster.Use Registered Cluster. Select this option if you want to provision a database on a Windows server failover cluster that you have previously registered with Era.If you selected Create New Server in the previous step, do the following in the indicated fields.Windows Cluster Name. Type a name for the Windows cluster.Description. Type a description for the Windows cluster.Select the Nutanix clusters on which the Windows cluster will be hosted.Network Profile. Select a network profile from the list of network profiles that you have created. Note: The network profiles appears in the list only if you have created the profile on the selected Nutanix clusters. See Creating a Clustered Network Profile for information on creating a clustered network profile.Windows Domain Profile. Select the Windows domain profile from the list of the Windows domain profiles that you have created. Click Next.Figure. Provisioning SQL Server AGClick to enlargeIf you selected Use Registered Cluster in the previous step, select the existing Windows Server Failover Cluster on which you want to provision the database and click Next.Note: You cannot provision a new SQL Server database on a registered database server VM containing a database group.(Only for new cluster) In the Database Server VM step, do the following in the indicated fields.Under Attributes of All Database Server VMs, do the following in the indicated fields:Software Profile. Select the SQL Server software profile from the list of the software profiles that you have created.To update the selected profile version, click Update Version to view all the versions available with the selected profile. Select the version from the list and click UpdateNote: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select the default compute profile or select a compute profile from the list of compute profiles that you have created.Windows License Key. Type the Windows license key.Administrator Password. Type the password of the default local administrator account on the new database server VM.Under Attributes of Individual Database Server VMs, do the following in the indicated fields:Click Add to add a database server VM. You can select the cluster on which the database server VM must be added.Note: Two database server VMs are added by default.For more information about the number of allowed configurations as per SQL edition, see RDBMS High Availability in Microsoft Documentation.Click Remove to remove a database server VM.Database server VM names are auto-populated based on the Windows Cluster Name. You can type or edit the name prefix for the database server VM.Under SQL Server Instance, do the following in the indicated fields:Server Collation. The server collation acts as the default collation for all system databases that are installed with the instance of SQL Server and also any newly created databases. If you have selected the software profile in the previous step, this field is auto-populated with the appropriate value.Note: The server collation is specified during SQL Server installation. Default server-level collation is SQL_Latin1_General_CP1_CI_AS.Database Parameter Profile - Instance. Select the sample database parameter profile or select a database parameter profile from the list of database parameter profiles that you have created.SQL Server Authentication Mode. Select the authentication mode as either Windows Authentication or Mixed Authentication.If you have selected the Windows Authentication mode during SQL Server installation, the server authentication logon is disabled and a password is assigned by setup. If you change authentication mode to Mixed Authentication, the server authentication logon remains disabled.SQL Service Startup Account. Type the domain user account to be used to run SQL service.SQL Service Startup Account Password. Type the password for SQL Service account.Under Grant Access to the Database Server, in the Domain User Account field, type a domain user account that is added as a member of administrators user group on the database server VM.Click Next.(Only for registered cluster) Details such as, information of all the database server VMs in the selected registered cluster, software profile, compute profile, SQL Server instance and so on are displayed in the Database Server VM step.In the AG step, select one of the following:Create New AG. Select this option if you want to create a new AG. Use Existing AG. Select this option if you want to use the AG that you have created previously.Use Existing AG is displayed only if you have selected use registered cluster in the Server Cluster step.If you have selected Create New AG in the previous step, do the following in the indicated fields.Always on Availability Group Name. Type a name for the always on availability group that you want to create.Network Profile. Select the sample network profile or select a network profile from the list of network profiles that you have created.Backup Preferences. Select where you would prefer the automated backups to be performed for the AG database. You can select one of the following:Secondary When Available. Select this preference if you want the backups of the availability group to be performed on a secondary database server VM.Backups will be performed on the primary database server VM if there is no secondary database server VM.Secondary Only. Select this preference if you want all the backups of the availability group to be performed only on a secondary database server VM.Primary Only. Select this preference if you want all the backups of the availability group to be performed only on the current primary database server VM.Any Database Server. Select this preference if you want the backups of the availability group to be performed on any of the available database server VMs.Note: Backup preference of the availability group can be changed using SQL Server Management Studio (SSMS) after the AG database is provisioned.Under Select database servers for the new database and set their attributes, select the database server VM and set the attributes for each database in the cluster. You can set the following attributes.Primary. Select this check box if you want to set the selected node as primary.Note: one node must be selected as primary.Auto Failover. Select this check box to enable automatic failover on the selected node. If you enable this option, automatic failover happens to the node that you have selected if the primary node fails.Availability Mode. Select the availability mode as either Synchronous commit or Asynchronous commit. If you selected Synchronous commit, data is committed to both primary and secondary nodes at the same time. For asynchronous commit, data is committed to primary first and then after some time-interval, data is committed to the secondary nodes.Note: For more information about the availability modes, see Microsoft Documentation.Readable Secondary. Select either Yes, No or Read-Intent Only. For more information, see Microsoft Documentation.If you have selected Use Existing AG in the previous step, do the following in the indicated fields.Under Always on Availability Groups on the Cluster, select the availability group from the list of the availability groups available.You can hover over the values in the database server VMs and databases in AG column to view the database server VMs and databases associated with each AG.Click Next.Figure. Provision AG DatabaseClick to enlargeIn the Database step, do the following in the indicated fields.Database Name. Type a name for the database.Description. Type a description for the database.Size (GiB). Type the size of the node in GB.Database Parameter Profile - Database. Select the database parameter profile from the list of profiles that you have created.Database Collation. The database collation is specified during SQL Server installation. Default database-level collation is SQL_Latin1_General_CP1_CI_AS.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the database is created on the database server VM.Post-Create Command. Type a complete OS command that you want to run after the database is created on the database server VM.Pre-create and post-create command scripts should be on the source database before the software profile is created. Any failure in execution of these scripts fails the entire operation and causes the operation to rollback.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name for the time machine.Description. Type a description for the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeSelect a Nutanix cluster on which you want the snapshots to be available.Note: The list of Nutanix clusters displayed is based on the Backup Preferences selected in the AG step. You can only select a single Nutanix cluster for Point-in-Time Recovery (PITR) SLAs.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshots in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.Era displays a message indicating that the operation to provision the AG database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.Era displays the database cluster that you have provisioned in the list. Click the name of the database cluster to open the Databases homepage. This page displays the following widgets:Cluster Database Summary. Displays details such as cluster name, database version, and size of the database etc. You can click See Description to view details about how to access the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Always on Availability Group . Displays the list of databases along with the respective database server VMs, status, and IP address used for the AG created.Server Cluster. Displays the name of the Windows cluster, port number, IP address, and OS used.You can click the name of the cluster to open the Topology widget that displays the database server VMs, AGs, and the databases associated with AG. Each node displayed under Database Server VM is clickable. You can click the nodes to view the AG and database server VM used by each node.Time Machine. Displays the name, description, age, and size of the time machine.Tags. Displays a list of the tags that are applied to this database server. You can click Update to set the tag values.SQL Server Database CloneYou can create clones either to a point in time (by using transaction logs) or by using snapshots. If you want to use snapshots to clone the source database, you select an available snapshot and the source database is cloned to a state when the snapshot is taken. If you want to clone the source database at a point in time, you select the clone time and the source database is cloned to a state then. Creating Single Node Database ClonesCreating AG Database ClonesCreating Database Group ClonesEra allows you to create database group clones by using snapshots. If you want to use snapshots to clone the group database, you select an available snapshot and the group database is cloned to a state when the snapshot is taken. Creating Single Node Database ClonesBefore you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone an SQL Server database.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the SQL Server source database you want to clone, click the Actions drop-down list and then select Create Database Clone > Database. The Create SQL Server Database Clone from Time Machine window appears. You clone the database in the following steps:Time/SnapshotDatabase Server VMDatabaseIn the Time/Snapshot step, select the clone time to which you want to clone the database. Do the following to select the time.Select the Nutanix cluster on which you want to clone the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Do one of the following:Point in time. Select this option if you want to clone the source database to a point in time. If you select this option, the database is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source database by using the available snapshots.Click Next.Figure. SQL Server Database CloneClick to enlargeIn the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the database on the newly created target database server VM.Use Authorized Server. Select this option to clone the database to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name for the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Windows License Key. Type the Windows license key for the target database server VM.Administrator Password. Type the password of the administrator account of the Windows server.Join Domain. Select this check box if you want to join to a specific domain and then select the Windows domain profile from the drop-down list of the Windows Domain Profile available.For example, if you have created an administrator group and you want to add another user to that group, then you can select join domain option to join the respective group. Domain User Account. Type a domain user account that will be added as a member of administrators user group on the database server.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the Database step, do the following in the indicated fields.Clone Name. Type a name for the cloned database on Era.Description. Type a description for the cloned database.Database Name on VM. Type a name for the cloned database on the VM.Instance Name. Type the name for the SQL Server instance on which the cloned database will be installed.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Use Mount Point. You can use a mount point location to clone and mount all the disks from the source database. Select this option and type the path of the mount point directory in Mount Point Path.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Note: All pre-clone and post-clone command scripts to be executed on the destination database server should be present in the database snapshot from which the specific database server is created. The snapshot can be Era automated snapshot or the closest snapshot to the Point In Time (PIT) restore selected. The scripts may be placed in any location in the source database server. The pre-clone and post-clone commands should comprise the complete path of the script, ready to be run from anywhere within the database server. Any failure in the execution of these scripts fails the entire operation and causes the operation to rollback.Figure. SQL Server Database CloneClick to enlargeClick Clone to successfully clone the source database.A message appears indicating that the operation to clone the database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone database appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.Creating AG Database ClonesBefore you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone the SQL Server database.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the SQL Server source database you want to clone, click the Actions drop-down list and then select Create Database Clone >  AG Database. The Create SQL Server AG Database Clone from Time Machine window appears. You clone the database in the following steps:Time/SnapshotServer ClusterAGDatabaseIn the Time/Snapshot step, select the clone time to which you want to clone the database. Do the following to select the time.Select the Nutanix cluster on which you want to clone the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Do one of the following:Point in time. Select this option if you want to clone the source database to a point in time. If you select this option, the database is cloned by using the transactional logs.Snapshot. Select this option if you want to clone the source database by using the available snapshots.Click Next.Figure. SQL Server AG Database CloneClick to enlargeIn the Server Cluster step, select one of the following.Create New Cluster. Select this option to create a target database server cluster and clone the AG database on the newly created target database server cluster.Use Registered Cluster. Select this option to clone the AG database to a database server cluster that you have already registered with Era.If you have selected Create New Cluster in the previous step, do the following in the indicated fields.Windows Cluster Name. Type a name of the database server cluster.Description. Type a description of the Windows cluster.Windows Domain Profile. Select a Windows domain profile from the list of profiles available.Network Profile. Select a network profile from the list of network profiles available.Under Database Server VMs in the Cluster, do the following in the indicated fields:Database Server VMs in the Cluster. Select the number of nodes for creating a cluster.Database Server VM Name Prefix. Type a name prefix for the database server VMs that will be added to the cluster server.Compute Profile. Select a compute profile from the list of compute profiles available.Windows License Key. Type the Windows license key for the target database server VM.Administrator Password. Type the password of an administrator account of the Windows server.Under SQL Server Instance, do the following in the indicated fields:Server Collation. The server collation acts as the default collation for all system databases that are installed with the instance of SQL Server and also any newly created databases. If you have selected the software profile in the previous step, this field is auto-populated with the appropriate value.Note: The server collation is specified during SQL Server installation. Default server-level collation is SQL_Latin1_General_CP1_CI_AS.Database Parameter Profile - Instance. Select the sample database parameter profile or select a database parameter profile from the list of database parameter profiles that you have created.SQL Server Authentication Mode. Select the authentication mode as either Windows Authentication or Mixed Authentication.If you have selected the Windows Authentication mode during SQL Server installation, the server authentication logon is disabled and a password is assigned by setup. If you change the authentication mode to Mixed Authentication, the server authentication logon remains disabled.SQL Service Startup Account. Type the domain user account to be used to run SQL service.SQL Service Startup Account Password. Type the password for SQL service account.Under Grant Access to the Database Server, in Domain User Account field, type a domain user account that is added as a member of administrators user group on the database server VM.Click Next.If you have selected Use Registered Cluster in the previous step, select a target database server cluster from the list of available database server clusters that are registered with Era and click Next.In the AG step, select one of the following:Create New AG. Select this option if you want to create a new AG. Use Existing AG. Select this option if you want to use the AG that you have created previously.If you have selected Create New AG in the previous step, do the following in the indicated fields.Always on Availability Group Name. Type a name for the always on availability group that you want to create.Under Select database servers for the new database and set their attributes, select the database server and set the attributes for each database in the cluster. You can set the following attributes.Primary. Select this check box if you want to set the selected node as primary.Note: One node must be selected as primary.Auto Failover. Select this check box to enable automatic failover on the selected node. If you enable this option, automatic failover happens to the node that you have selected if the primary node fails.Availability Mode. Select the availability mode as either Synchronous commit or Asynchronous commit. If you selected synchronous commit, data is committed to both primary and secondary nodes at the same time. For asynchronous commit, data is committed to primary first and then after some time-interval, data is committed to the secondary nodes.Note: For more information about the availability modes, see Microsoft Documentation.Readable Secondary. Select either Yes, No or Read-Intent Only. For more information, see Microsoft Documentation.If you have selected Use Existing AG in the previous step, do the following in the indicated fields.Under Always on Availability Groups on the Cluster, select the availability group from the list of the availability groups available.You can hover over the values in the database servers and databases in AG column to view the database servers and databases associated with each AG.Note: AG cloning across different clusters is not supported, hence only those availability groups which are provisioned on a single cluster will be listed in the drop-down list.Click Next.In the Database step, do the following in the indicated fields.Clone Name. Type a name of the cloned database on Era.Description. Type a description of the cloned database.Database Name on VM. Type a name of the cloned database on the VM.Instance Name. Type the name of the SQL Server instance on which the cloned database will be installed.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Use Mount Point. You can use a mount point location to clone and mount all the disks from the source database. Select this option and type the path of the mount point directory in Mount Point Path.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Note: All pre-clone and post-clone command scripts to be executed on the destination database server should be present in the database snapshot from which the specific database server is created. The snapshot can be Era automated snapshot or the closest snapshot to the Point In Time (PIT) restore selected. The scripts may be placed in any location in the source database server. The pre-clone and post-clone commands should comprise the complete path of the script, ready to be run from anywhere within the database server. Any failure in the execution of these scripts fails the entire operation and causes the operation to rollback.Click Clone to successfully clone the source database.A message appears indicating that the operation to clone the database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone database appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.Creating Database Group ClonesEra allows you to create database group clones by using snapshots. If you want to use snapshots to clone the group database, you select an available snapshot and the group database is cloned to a state when the snapshot is taken. Before you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone the SQL Server database group.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the SQL Server database group you want to clone, click the Actions drop-down list and then select Create Clone of Database Group . The Create a Clone of SQL Server Database Group from Time Machine window appears. You clone the database group in the following steps:Time/SnapshotDatabase Server VMDatabaseIn the Time/Snapshot step, select the clone time to which you want to clone the database. Do the following to select the time.Select the Nutanix cluster on which you want to clone the database group.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Select a available snapshot from the Snapshot drop-down list.Click Next.Figure. Database Group Cloning DetailsClick to enlargeIn the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the database on the newly created target database server VM.Use Authorized Server. Select this option to clone the database to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name for the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Windows License Key. Type the Windows license key for the target database server VM.Administrator Password. Type the password of the administrator account of the Windows server.Join Domain. Select this check box if you want to join to a specific domain and then select the Windows domain profile from the drop-down list of the Windows Domain Profile available.For example, if you have created an administrator group and you want to add another user to that group, then you can select join domain option to join the respective group. Domain User Account. Type a domain user account that will be added as a member of administrators user group on the database server.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the Database step, do the following in the indicated fields.Database Group Clone Name. Type a name of the cloned database group on Era.Description. Type a description of the cloned database group.Databases to include in the clone. Select the database to be included in the clone.(Optional) Add Prefix to Database Names. Type a prefix for the selected databases.(Optional) Add Suffix to Database Names. Type a suffix for the selected databases.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Use Mount Point. You can use a mount point location to clone and mount all the disks from the source database. Select this option and type the path of the mount point directory in Mount Point Path.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Note: All pre-clone and post-clone command scripts to be executed on the destination database server should be present in the database snapshot from which the specific database server is created. The snapshot can be Era automated snapshot or the closest snapshot to the Point In Time (PIT) restore selected. The scripts may be placed in any location in the source database server. The pre-clone and post-clone commands should comprise the complete path of the script, ready to be run from anywhere within the database server. Any failure in the execution of these scripts fails the entire operation and causes the operation to rollback.Figure. Database Group Cloning DetailsClick to enlargeClick Clone to successfully clone the source database.A message appears indicating that the operation to clone the database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone database appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.Restoring a SQL Server DatabaseYou can restore your SQL Server database from the Database home page or the Time Machine page.About this taskPerform the following procedure to restore a SQL Server database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources and click the database you want to restore.You can restore a database by doing any one of the following.Click Restore in the database summary page. The Restore Source Database window appears.Click the time machine name in the Time Machine widget.In the Actions drop-down list, select Restore Source Database.The Restore Source Database window appears.Figure. Database Home PageClick to enlargeYou can restore a database in the following steps:Recovery PointData/LocationIn the Recovery Point step, you can view a timeline of the data available for restore.Tail Logs (database will be placed in restoring state). Select this option to backup all the additional logs in the time machine.If logs are available for the last backup, the Tail Logs option gets selected by default, thus ensuring that you backup all the additional logs in the Time Machine.Note: If the database state is Online and you trigger the tail logs backup, then the database state changes to RESTORING.Click Next.A confirmation box to place the database in restored state is displayed. Type the database name and click Backup and Place in Restoring State to start the backup and recovery operations.Figure. Database Restore - Recovery PageClick to enlargeIn the Data/Location step, do the following.Select Point in Time or  Snapshot.If you select Point in Time, then enter the time to which you want to restore your database. If you select the  Snapshot option, then select the snapshot you want to use for restoring the database from the drop-down list.Select Original Location or New Location (mount point). Enter the path if you want to restore the database at a new location.If you want to investigate an issue in the database, you can restore the database at a new location. Then, you can carry out the investigation on the database at the original location.Note: In the case of the original location, if the files are not associated with the database found on the disk, then the database files get replaced, which is a slower operation. If the disk only contains files associated with this database, the disk gets replaced, which is a faster operation.Figure. Database Restore - Data/Location PageClick to enlargeClick Restore.A message appears at the top of the page stating that the restore operation has started. You can click on the message to view the status.Patching a SQL Server Database Server VMAbout this taskPerform the following procedure to apply updates from the available software profile versions to a provisioned/registered database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List and click the database server VM for which you want to update the software profile version.The Database Server VM Summary page appears.Go to the Software Profile Version widget and click Update. The Update Database Server VM window appears.The Software Profile Version widget displays the current version, recommended version, and the status of the software profile version. Note: The Update option only appears when a new software profile version is available.For registered database server VMs which have not been patched in Era, do the following in the indicated fields:Software Profile. Select a software profile from the drop-down list.Version. Select a software profile version from the drop-down list.Under Start Update, select one of the following:Now. Select this option if you want to start updating the software version now.Later. Select this option and then select the day and time if you want to create a schedule for patching the software profile version.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Figure. SQL Server Patching for Newly Registered Database Server VMClick to enlargeFor registered database server VMs and provisioned database server VMs which have been patched at least once in Era, do the following in the indicated fields:Update to Software Profile Version. Select a software profile version to update from the drop-down list.Under Start Update, select one of the following:Now. Select this option if you want to start updating the software version now.Later. Select this option and then select the day and time if you want to create a schedule for patching the software profile version.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Figure. SQL Server Patching for Existing Database Server VMClick to enlargeProvide the database server VM name as confirmation and click Update.A message appears at the top indicating that the operation to update a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.Patching a SQL Server Database Server ClusterAbout this taskPerform the following procedure to apply updates from the available software profile versions to a provisioned/registered database server cluster (Windows cluster). Patches are applied in a rolling upgrade.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List and click the database server cluster for which you want to update the software profile version.The Server Cluster Summary page appears.Go to the Software Profile Version widget and click Update. The Update Windows Cluster window appears.The Software Profile Version widget displays the current version, recommended version, and the status of the software profile version. Note: The Update option only appears when a new software profile version is available.For registered database server clusters which have not been patched in Era, do the following in the indicated fields:Software Profile. Select a software profile from the drop-down list.Version. Select a software profile version from the drop-down list.Under Start Update, select one of the following:Now. Select this option if you want to start updating the software version now.Later. Select this option and then select the day and time if you want to create a schedule for patching the software profile version.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Figure. SQL Server Patching for Registered Database Server VMClick to enlargeFor registered database server clusters and provisioned database server clusters which have been patched at least once in Era, do the following in the indicated fields:Update to Software Profile Version. Select a software profile version to update from the drop-down list.Under Start Update, select one of the following:Now. Select this option if you want to start updating the software version now.Later. Select this option and then select the day and time if you want to create a schedule for patching the software profile version.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Figure. SQL Server AG Patching for Existing Database Server VMClick to enlargeProvide the Windows cluster name as confirmation and click Update.A message appears at the top indicating that the operation to update a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.", "Heading_Keywords": ["microsoft", "sql", "server", "databas", "manag"]}, {"Heading": "SQL Server Always on Availability Groups (AG)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-always-on-availability-group-sql-server-c.html", "Document Name": "Era User Guide", "Content": "Always on Availability Groups (AG) is a SQL Server solution for High Availability and Disaster Recovery of your SQL databases. Availability groups are a logical grouping of databases that fail over together. An availability group supports a set of primary databases and one to eight sets of the corresponding secondary databases. Using Era, you can provision multi-node SQL server availability groups for High Availability of your SQL databases. Era provides the ability to provision a new Always On availability group and provision an availability database.For the Time Machine operations, Era depends on the backup node that SQL Server suggests based on the backup preferences set. When you provision an AG database with Era, the Time Machine selects an available database node, and according to the backup preference you set. The following backup preferences are available for you to select - Secondary When Available, Secondary Only, Primary Only, and Any Database Server VM. If the selected node goes down later, the Time Machine switches to the backup node suggested by the SQL Server. Example: An AG database has four nodes A, B, C, and D. Node A is the primary node, and the remaining nodes are secondary. The backup preference set at the AG level is Secondary Only. When you provision this database with Era, the Time Machine selects one of the secondary nodes to operate. Suppose the Time Machine selects node B for its operations. If node B stops working due to some reason, the Time Machine first checks if any of the secondary nodes (nodes C and D) is available. If the secondary nodes C and D are available, the Time Machine selects one of these two nodes to carry out its operations. If all the secondary nodes (B, C, and D) are down and the only available node is A, then the Time Machine cannot select node A to operate since the backup preference is set to Secondary Only. The Time Machine operations stop until a secondary node comes up.See Registering a SQL Server Availability Database for information on registering an AG database. See Provisioning a SQL Server Availability Database for information on provisioning an AG database. See Creating AG Database Clones for information on cloning an AG database. ", "Heading_Keywords": ["sql", "server", "alway", "avail", "group", "ag"]}, {"Heading": "Current Limitations", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-limitations-sql-server-c.html", "Document Name": "Era User Guide", "Content": "Era has the following limitations for SQL Server. For SQL Server, simple recovery mode registration does not create the first auto snapshot for time machine.Era supports cloning Failover Cluster Instance (FCI) databases onto existing database servers but does not support the clone with create database server VM option currently. Also, cloning a database into an existing FCI cluster is not supported. Era does not support the provisioning of an FCI cluster. Also, the provisioning of a database into an existing FCI cluster is not supported.Era does not support cloning of AG databases across multiple Nutanix clusters.Era does not support registration of brownfield AG databases across multiple Nutanix clusters.Era can manage only one instance if there are multiple instances installed on the database server VM.", "Heading_Keywords": ["current", "limit"]}, {"Heading": "SQL Server Database Registration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-database-registration-sqlserver-c.html", "Document Name": "Era User Guide", "Content": "You can register a source (production) database running on a Nutanix cluster with Era. When you register a database with Era, the database server VM (VM that hosts the source database) is also registered with Era. After you have registered a database with Era, a time machine is created for that database. Era allows you to register multiple databases on a single database server VM.The time machine takes periodic database snapshots and log catch-ups (see Era Time Machine Management). The time machine performs the snapshot and log catch-up operations as defined in the SLA that you have selected or created during the registration of the database (see SLA Management).You can register both a single-instance SQL Server database and SQL Server AG database.SQL Server Database and Database Server VM Registration PrerequisitesRegistering a SQL Server Single Node Database Server VMRegistering a SQL Server Cluster Database Server VMRegistering a SQL Server DatabaseRegistering a SQL Server Availability DatabaseSQL Server Database and Database Server VM Registration PrerequisitesEnsure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VMs over WinRM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Before you register a database running on ESXi cluster, you must set disk.EnableUUID to True by using vCenter Server. Shut down the database server VM on which the database is running.Select the database server VM, go to VM > Actions > Edit Settings > VM Options > Advanced > Configuration Parameters > Edit Configuration, and click Add Row.In the Name field, type disk.EnableUUID.In the Value field, type True.Start the database server VM.Era supports database server VM registration for the following versions of the SQL Server: SQL Server 2008 R2 SP1 and higherSQL Server 2012SQL Server 2014SQL Server 2016SQL Server 2017SQL Server 2019OS Configuration (Windows)Ensure that Prism APIs are callable from the VM.Registering a SQL Server Single Node Database Server VMBefore you beginEnsure that you meet the following requirements before you register a SQL Server single node database server VM with Era.For general requirements, see SQL Server Database and Database Server VM Registration PrerequisitesA local user account or a domain user account with administrator privileges on the database server must be provided.Windows account or the SQL login account provided must be a member of sysadmin role.SQL Server instance must be running.Database files must not exist in the Windows OS boot drive.Database must be in an online state.Windows remote management (WinRM) must be enabled.Ensure that the SQL service account has read privileges on the mount points or drives containing the system databases (master, model, msdb, and tempdb) of the SQL Server instance.Install SQL Server SQLPS Powershell module.About this taskPerform the following procedure to register an SQL Server single node database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VMs.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select Single Node Server VM under the SQL Server engine. The Register Database Server VM window appears. Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM you want to register with Era.Windows Administrator Name. Type the username of the administrator account of the Windows server on which the database is running. For example, Administrator.Windows Administrator Password. Type the password of the administrator account of the Windows server on which the database is running.Instance. Era automatically discovers all the instances on the database server VM. You can click the drop-down list to select an instance.Alternatively, you can click the refresh icon to list the instances associated with the IP address.Under Connect to SQL Server Login, select one of the following: Windows Admin UserSQL Server UserIf you have selected Windows Admin User in the previous step, username of the administrator account of the Windows server is auto-filled in User Name.If you have selected SQL Server User in the previous step, do the following: Login. Type the username of the account that is configured to contact SQL Server.Password. Type the password of account that is configured to contact SQL Server.Figure. Single-Node Database Server VM Registration DetailsClick to enlargeClick Register to successfully register the database server.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, network, and windows domain (for SQL Server Database Server VMs) profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Registering a SQL Server Cluster Database Server VMBefore you beginEnsure that you meet the following requirements before you register a SQL Server database server cluster with Era.For general requirements, see SQL Server Database and Database Server VM Registration PrerequisitesA local user account or a domain user account with administrator privileges on the database server must be provided.Windows account or the SQL login account provided must be a member of sysadmin role.SQL Server must be installed on all cluster nodes.SQL Server instance must be running.Database files must not exist in the Windows OS boot drive.Database must be in an online state.Windows remote management (WinRM) must be enabled.Ensure that the SQL service account has read privileges on the mount points or drives containing the system databases (master, model, msdb, and tempdb) of the SQL Server instance.Install SQL Server SQLPS Powershell module.About this taskPerform the following procedure to register an SQL Server database server cluster.Note: SQL Server must be installed on all the nodes of the Windows Cluster. All the nodes of the Windows cluster must be on the same Nutanix Cluster.ProcedureIn the drop-down list of the main menu, select Databases Server VMs.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select Server Cluster under the SQL Server engine. The Register Database Server Cluster window appears. Do the following in the indicated fields.Server Cluster name in era. Type a name for the Windows Server Failover Cluster.Description. Type a description for the Windows cluster.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server cluster you want to register with Era.Windows Administrator Name. Type the username of the administrator account of the Windows server on which the database is running. For example, Administrator.Windows Administrator Password. Type the password of the administrator account of the Windows server on which the database is running.Instance. Era automatically discovers all the instances on the database server cluster. You can click the drop-down list to select an instance.Alternatively, you can click the refresh icon to list the instances associated with the IP address.Under Connect to SQL Server Login, select one of the following: Windows Admin UserSQL Server UserIf you have selected Windows Admin User in the previous step, username of the administrator account of the Windows server is auto-filled in User Name.If you have selected SQL Server User in the previous step, do the following: Login. Type the username of the account that is configured to contact SQL Server.Password. Type the password of account that is configured to contact SQL Server.Note: The username and password provided must have access to all the database server VMs in the server cluster.Figure. Cluster Database Server VM Registration DetailsClick to enlargeClick Register to successfully register the database server.A message appears indicating that the operation to register a database server cluster has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server cluster appears in the list of the registered database server VMs. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Database Server VM Summary. Displays the database server cluster details such as name, description, and status.Profiles. Displays software, compute, and network profiles that were applied when the database server was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Registering a SQL Server DatabaseBefore you beginEnsure that you meet the following requirements before you register a SQL Server database with Era.For general requirements, see SQL Server Database and Database Server VM Registration PrerequisitesA local user account or a domain user account with administrator privileges on the database server must be provided.Windows account or the SQL login account provided must be a member of sysadmin role.SQL Server instance must be running.Database files must not exist in C:\\ Drive.Database must be in an online state.Windows remote management (WinRM) must be enabled.Ensure that the SQL service account has read privileges on the mount points or drives containing the system databases (master, model, msdb, and tempdb) of the SQL Server instance.About this taskPerform the following procedure to register a SQL Server database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select Database under the SQL Server engine. The Register a SQL Server Database window appears. You register a database in the following steps:Database Server VMDatabaseTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.In the Database Server VM step, select one the following.Registered. Select this option if you want to register a database running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the database you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the database you want to register is running and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.Note: You cannot register a SQL Server database on a registered database server VM containing a database group.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address of the database server VM on which the database that you want to register is running.Windows Administrator Name. Type the username of the administrator account of the Windows server on which the database is running. For example, Administrator.Windows Administrator Password. Type the password of the administrator account of the Windows server on which the database is running.Instance. Era automatically discovers all the instances on the database server VM. You can click the drop-down list to select an instance.Alternatively, you can click the refresh icon to list the instances associated with the IP address.Under Connect to SQL Server Login, select one of the following: Windows Admin UserSQL Server UserIf you have selected Windows Admin User in the previous step, username of the administrator account of the Windows server is auto-filled in User Name.If you have selected SQL Server User in the previous step, do the following: Login. Type the username of the account that is configured to contact SQL Server.Password. Type the password of account that is configured to contact SQL Server.Click Next.Figure. SQL Server Database Registration DetailsClick to enlargeIn the Database step, do one the following.If you are registering a database for the first time on an existing database server VM, or if you are registering a database and a database server VM together, do the following in the indicated fields:Unregistered Databases. Select the databases that you want to register from the unregistered databases list. The database list is populated based on the database server VM selected in the previous step.Select any one of the following under Register.One Database with One Time Machine. Select this option if you want to manually select the databases and associate each database with one time machine.Type the Database Name in Era and Description.All Databases as a Group with One Time Machine. Select this option to register all the unregistered databases in the database server VM as a single group and associate it with one time machine. Type the Group Name and Description.Note: Any unregistered AG databases will be registered as a stand-alone database.Point in Time cloning and restore is not supported for the databases registered as a group with one time machine.Click Next.Figure. Register SQL Server Database - First TimeClick to enlargeIf you have already registered a database on an existing database server VM, do the following in the indicated fields:Unregistered Databases. Select a database that you want to register from the unregistered databases list.Registered Databases. Displays the list of databases that are registered with Era.Database Name in Era. This field is automatically populated with the name of the database that you provided while provisioning the database server VM.Description. Type a description of the database.Click Next.Figure. Register SQL Server DatabaseClick to enlargeIn the Time Machine step, do the following in the indicated fields.Full. By default, this option is selected.This option enables Era to copy the transaction logs. You can then clone the database from a point in time.Under Manage Log backups with, select one of the following.Era. Select this option if you want Era to manage the transaction logs and you can then clone the database from a point in time.Another application. If you select this option, you cannot clone the database from a point in time. Clones can be generated only from snapshots.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Note: Log catch up enabled SLAs will not be supported if you selected All Databases as a Group with One Time Machine in the Databases step.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot on the. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Database Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.(Only for group databases) Database Group Summary. Displays a brief summary of the group database that includes group name, description, status, database version and the total size of the database group.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Databases. Displays the list of databases in the database group. Individual database name, status, size and connection information is also displayed.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, status, IP address, OS and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Registering a SQL Server Availability DatabaseBefore you beginEnsure that you meet the following requirements before you register a SQL Server AG database with Era.For general requirements, see SQL Server Database and Database Server VM Registration PrerequisitesA local user account or a domain user account with administrator privileges on the database server must be provided.Windows account or the SQL login account provided must be a member of sysadmin role.SQL Server instance must be running.Database files must not exist in C:\\ Drive.Database must be in an online state.Windows remote management (WinRM) must be enabled.Ensure that the SQL service account has read privileges on the mount points or drives containing the system databases (master, model, msdb, and tempdb) of the SQL Server instance.About this taskPerform the following procedure to register a SQL Server AG database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select Availability Database under the SQL Server engine. The Register a SQL Server Availability Database window appears. You register a AG database in the following steps:Server ClusterAGDatabaseTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Server Cluster step, select one the following.Registered. Select this option if you want to register a AG database running on a Windows server failover cluster that is already registered with Era.Not Registered. Select this option if the Windows server failover cluster on which the AG database you want to register is not registered with Era.If you selected Registered in the previous step, select the Windows server failover cluster on which the AG database you want to register is running and click Next.Note: You cannot register a SQL Server database on a registered database server VM containing a database group.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address of the Windows cluster on which the AG database that you want to register is running.Windows Administrator Name. Type the username of the administrator account of the Windows server on which the database is running. For example, Administrator.Windows Administrator Password. Type the password of the administrator account of the Windows server on which the database is running.Instance. Era automatically discovers all the instances on the cluster server. You can click the drop-down list to select an instance.Alternatively, you can click the refresh icon to list the instances associated with the IP address.Under Connect to SQL Server Login, select one of the following: Windows Admin UserSQL Server UserIf you have selected Windows Admin User in the previous step, username of the administrator account of the Windows server is auto-filled in User Name.If you have selected SQL Server User in the previous step, do the following: Login. Type the username of the account that is configured to contact SQL Server.Password. Type the password of account that is configured to contact SQL Server.Click Next.Figure. Registering SQL Server AG DatabaseClick to enlargeIn the AG step, select one of the following:Not Registered. Select this option if you want to register a new AG. Registered. Select this option if you want to use the AG that you have registered previously.Registered is displayed only if you have selected use registered cluster in the Server Cluster step.If you have selected Not Registered in the previous step, do the following in the indicated fields.AG Name. Select the availability group to register from the list of the availability groups available.Click Next.If you selected Registered in the previous step, select the registered availability group and click Next.In the Database step, do the following in the indicated steps.Unregistered Databases. Select a database that you want to register from the unregistered databases list.Registered Databases. Displays the list of databases that are registered with Era.Database Name in Era. This field is automatically populated with the name of the database that you provided while provisioning the server cluster.Description. Type a description of the database.Click Next.Figure. Registering SQL Server AG DatabaseClick to enlargeIn the Time Machine step, do the following in the indicated fields.Time Machine Name. Type a name of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeDescription. Type a description for the time machine.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the AG database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Cluster Database Summary. Displays details such as cluster name, database version, and size of the database etc. You can click See Description to view details about how to access the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Always on Availability Group . Displays the list of databases along with the respective database server VMs, status, and IP address used for the AG created.Server Cluster. Displays the name of the Windows cluster, port number, IP address, and OS used.You can click the name of the cluster to open the Topology widget that displays the database server VMs, AGs, and the databases associated with AG. Each node displayed under Database Server VM is clickable. You can click the nodes to view the AG and database server VM used by each node.Time Machine. Displays the name, description, age, and size of the time machine.Tags. Displays a list of the tags that are applied to this database server. You can click Update to set the tag values.", "Heading_Keywords": ["sql", "server", "databas", "registr"]}, {"Heading": "SQL Server Database and Database Server VM Registration Prerequisites", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-registration-prerequisite-sql-server-r.html", "Document Name": "Era User Guide", "Content": "Ensure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VMs over WinRM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Before you register a database running on ESXi cluster, you must set disk.EnableUUID to True by using vCenter Server. Shut down the database server VM on which the database is running.Select the database server VM, go to VM > Actions > Edit Settings > VM Options > Advanced > Configuration Parameters > Edit Configuration, and click Add Row.In the Name field, type disk.EnableUUID.In the Value field, type True.Start the database server VM.Era supports database server VM registration for the following versions of the SQL Server: SQL Server 2008 R2 SP1 and higherSQL Server 2012SQL Server 2014SQL Server 2016SQL Server 2017SQL Server 2019OS Configuration (Windows)Ensure that Prism APIs are callable from the VM.", "Heading_Keywords": ["sql", "server", "databas", "databas", "server", "vm", "registr", "prerequisit"]}, {"Heading": "Registering a SQL Server Single Node Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-registering-an-sql-server-database-server-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you register a SQL Server single node database server VM with Era.For general requirements, see SQL Server Database and Database Server VM Registration PrerequisitesA local user account or a domain user account with administrator privileges on the database server must be provided.Windows account or the SQL login account provided must be a member of sysadmin role.SQL Server instance must be running.Database files must not exist in the Windows OS boot drive.Database must be in an online state.Windows remote management (WinRM) must be enabled.Ensure that the SQL service account has read privileges on the mount points or drives containing the system databases (master, model, msdb, and tempdb) of the SQL Server instance.Install SQL Server SQLPS Powershell module.About this taskPerform the following procedure to register an SQL Server single node database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VMs.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select Single Node Server VM under the SQL Server engine. The Register Database Server VM window appears. Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM you want to register with Era.Windows Administrator Name. Type the username of the administrator account of the Windows server on which the database is running. For example, Administrator.Windows Administrator Password. Type the password of the administrator account of the Windows server on which the database is running.Instance. Era automatically discovers all the instances on the database server VM. You can click the drop-down list to select an instance.Alternatively, you can click the refresh icon to list the instances associated with the IP address.Under Connect to SQL Server Login, select one of the following: Windows Admin UserSQL Server UserIf you have selected Windows Admin User in the previous step, username of the administrator account of the Windows server is auto-filled in User Name.If you have selected SQL Server User in the previous step, do the following: Login. Type the username of the account that is configured to contact SQL Server.Password. Type the password of account that is configured to contact SQL Server.Figure. Single-Node Database Server VM Registration DetailsClick to enlargeClick Register to successfully register the database server.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, network, and windows domain (for SQL Server Database Server VMs) profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.", "Heading_Keywords": ["regist", "sql", "server", "singl", "node", "databas", "server", "vm"]}, {"Heading": "Registering a SQL Server Cluster Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-register-sql-server-database-server-cluster-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you register a SQL Server database server cluster with Era.For general requirements, see SQL Server Database and Database Server VM Registration PrerequisitesA local user account or a domain user account with administrator privileges on the database server must be provided.Windows account or the SQL login account provided must be a member of sysadmin role.SQL Server must be installed on all cluster nodes.SQL Server instance must be running.Database files must not exist in the Windows OS boot drive.Database must be in an online state.Windows remote management (WinRM) must be enabled.Ensure that the SQL service account has read privileges on the mount points or drives containing the system databases (master, model, msdb, and tempdb) of the SQL Server instance.Install SQL Server SQLPS Powershell module.About this taskPerform the following procedure to register an SQL Server database server cluster.Note: SQL Server must be installed on all the nodes of the Windows Cluster. All the nodes of the Windows cluster must be on the same Nutanix Cluster.ProcedureIn the drop-down list of the main menu, select Databases Server VMs.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select Server Cluster under the SQL Server engine. The Register Database Server Cluster window appears. Do the following in the indicated fields.Server Cluster name in era. Type a name for the Windows Server Failover Cluster.Description. Type a description for the Windows cluster.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server cluster you want to register with Era.Windows Administrator Name. Type the username of the administrator account of the Windows server on which the database is running. For example, Administrator.Windows Administrator Password. Type the password of the administrator account of the Windows server on which the database is running.Instance. Era automatically discovers all the instances on the database server cluster. You can click the drop-down list to select an instance.Alternatively, you can click the refresh icon to list the instances associated with the IP address.Under Connect to SQL Server Login, select one of the following: Windows Admin UserSQL Server UserIf you have selected Windows Admin User in the previous step, username of the administrator account of the Windows server is auto-filled in User Name.If you have selected SQL Server User in the previous step, do the following: Login. Type the username of the account that is configured to contact SQL Server.Password. Type the password of account that is configured to contact SQL Server.Note: The username and password provided must have access to all the database server VMs in the server cluster.Figure. Cluster Database Server VM Registration DetailsClick to enlargeClick Register to successfully register the database server.A message appears indicating that the operation to register a database server cluster has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server cluster appears in the list of the registered database server VMs. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Database Server VM Summary. Displays the database server cluster details such as name, description, and status.Profiles. Displays software, compute, and network profiles that were applied when the database server was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["regist", "sql", "server", "cluster", "databas", "server", "vm"]}, {"Heading": "Registering a SQL Server Database", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-registering-an-sql-server-database-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you register a SQL Server database with Era.For general requirements, see SQL Server Database and Database Server VM Registration PrerequisitesA local user account or a domain user account with administrator privileges on the database server must be provided.Windows account or the SQL login account provided must be a member of sysadmin role.SQL Server instance must be running.Database files must not exist in C:\\ Drive.Database must be in an online state.Windows remote management (WinRM) must be enabled.Ensure that the SQL service account has read privileges on the mount points or drives containing the system databases (master, model, msdb, and tempdb) of the SQL Server instance.About this taskPerform the following procedure to register a SQL Server database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select Database under the SQL Server engine. The Register a SQL Server Database window appears. You register a database in the following steps:Database Server VMDatabaseTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.In the Database Server VM step, select one the following.Registered. Select this option if you want to register a database running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the database you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the database you want to register is running and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.Note: You cannot register a SQL Server database on a registered database server VM containing a database group.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address of the database server VM on which the database that you want to register is running.Windows Administrator Name. Type the username of the administrator account of the Windows server on which the database is running. For example, Administrator.Windows Administrator Password. Type the password of the administrator account of the Windows server on which the database is running.Instance. Era automatically discovers all the instances on the database server VM. You can click the drop-down list to select an instance.Alternatively, you can click the refresh icon to list the instances associated with the IP address.Under Connect to SQL Server Login, select one of the following: Windows Admin UserSQL Server UserIf you have selected Windows Admin User in the previous step, username of the administrator account of the Windows server is auto-filled in User Name.If you have selected SQL Server User in the previous step, do the following: Login. Type the username of the account that is configured to contact SQL Server.Password. Type the password of account that is configured to contact SQL Server.Click Next.Figure. SQL Server Database Registration DetailsClick to enlargeIn the Database step, do one the following.If you are registering a database for the first time on an existing database server VM, or if you are registering a database and a database server VM together, do the following in the indicated fields:Unregistered Databases. Select the databases that you want to register from the unregistered databases list. The database list is populated based on the database server VM selected in the previous step.Select any one of the following under Register.One Database with One Time Machine. Select this option if you want to manually select the databases and associate each database with one time machine.Type the Database Name in Era and Description.All Databases as a Group with One Time Machine. Select this option to register all the unregistered databases in the database server VM as a single group and associate it with one time machine. Type the Group Name and Description.Note: Any unregistered AG databases will be registered as a stand-alone database.Point in Time cloning and restore is not supported for the databases registered as a group with one time machine.Click Next.Figure. Register SQL Server Database - First TimeClick to enlargeIf you have already registered a database on an existing database server VM, do the following in the indicated fields:Unregistered Databases. Select a database that you want to register from the unregistered databases list.Registered Databases. Displays the list of databases that are registered with Era.Database Name in Era. This field is automatically populated with the name of the database that you provided while provisioning the database server VM.Description. Type a description of the database.Click Next.Figure. Register SQL Server DatabaseClick to enlargeIn the Time Machine step, do the following in the indicated fields.Full. By default, this option is selected.This option enables Era to copy the transaction logs. You can then clone the database from a point in time.Under Manage Log backups with, select one of the following.Era. Select this option if you want Era to manage the transaction logs and you can then clone the database from a point in time.Another application. If you select this option, you cannot clone the database from a point in time. Clones can be generated only from snapshots.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Note: Log catch up enabled SLAs will not be supported if you selected All Databases as a Group with One Time Machine in the Databases step.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot on the. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Database Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.(Only for group databases) Database Group Summary. Displays a brief summary of the group database that includes group name, description, status, database version and the total size of the database group.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Databases. Displays the list of databases in the database group. Individual database name, status, size and connection information is also displayed.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, status, IP address, OS and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["regist", "sql", "server", "databas"]}, {"Heading": "Registering a SQL Server Availability Database", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-register-sql-server-aag-database-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you register a SQL Server AG database with Era.For general requirements, see SQL Server Database and Database Server VM Registration PrerequisitesA local user account or a domain user account with administrator privileges on the database server must be provided.Windows account or the SQL login account provided must be a member of sysadmin role.SQL Server instance must be running.Database files must not exist in C:\\ Drive.Database must be in an online state.Windows remote management (WinRM) must be enabled.Ensure that the SQL service account has read privileges on the mount points or drives containing the system databases (master, model, msdb, and tempdb) of the SQL Server instance.About this taskPerform the following procedure to register a SQL Server AG database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select Availability Database under the SQL Server engine. The Register a SQL Server Availability Database window appears. You register a AG database in the following steps:Server ClusterAGDatabaseTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Server Cluster step, select one the following.Registered. Select this option if you want to register a AG database running on a Windows server failover cluster that is already registered with Era.Not Registered. Select this option if the Windows server failover cluster on which the AG database you want to register is not registered with Era.If you selected Registered in the previous step, select the Windows server failover cluster on which the AG database you want to register is running and click Next.Note: You cannot register a SQL Server database on a registered database server VM containing a database group.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address of the Windows cluster on which the AG database that you want to register is running.Windows Administrator Name. Type the username of the administrator account of the Windows server on which the database is running. For example, Administrator.Windows Administrator Password. Type the password of the administrator account of the Windows server on which the database is running.Instance. Era automatically discovers all the instances on the cluster server. You can click the drop-down list to select an instance.Alternatively, you can click the refresh icon to list the instances associated with the IP address.Under Connect to SQL Server Login, select one of the following: Windows Admin UserSQL Server UserIf you have selected Windows Admin User in the previous step, username of the administrator account of the Windows server is auto-filled in User Name.If you have selected SQL Server User in the previous step, do the following: Login. Type the username of the account that is configured to contact SQL Server.Password. Type the password of account that is configured to contact SQL Server.Click Next.Figure. Registering SQL Server AG DatabaseClick to enlargeIn the AG step, select one of the following:Not Registered. Select this option if you want to register a new AG. Registered. Select this option if you want to use the AG that you have registered previously.Registered is displayed only if you have selected use registered cluster in the Server Cluster step.If you have selected Not Registered in the previous step, do the following in the indicated fields.AG Name. Select the availability group to register from the list of the availability groups available.Click Next.If you selected Registered in the previous step, select the registered availability group and click Next.In the Database step, do the following in the indicated steps.Unregistered Databases. Select a database that you want to register from the unregistered databases list.Registered Databases. Displays the list of databases that are registered with Era.Database Name in Era. This field is automatically populated with the name of the database that you provided while provisioning the server cluster.Description. Type a description of the database.Click Next.Figure. Registering SQL Server AG DatabaseClick to enlargeIn the Time Machine step, do the following in the indicated fields.Time Machine Name. Type a name of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeDescription. Type a description for the time machine.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the AG database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Cluster Database Summary. Displays details such as cluster name, database version, and size of the database etc. You can click See Description to view details about how to access the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Always on Availability Group . Displays the list of databases along with the respective database server VMs, status, and IP address used for the AG created.Server Cluster. Displays the name of the Windows cluster, port number, IP address, and OS used.You can click the name of the cluster to open the Topology widget that displays the database server VMs, AGs, and the databases associated with AG. Each node displayed under Database Server VM is clickable. You can click the nodes to view the AG and database server VM used by each node.Time Machine. Displays the name, description, age, and size of the time machine.Tags. Displays a list of the tags that are applied to this database server. You can click Update to set the tag values.", "Heading_Keywords": ["regist", "sql", "server", "avail", "databas"]}, {"Heading": "SQL Server Database Profiles", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-profiles-sql-server-c.html", "Document Name": "Era User Guide", "Content": "Profiles enable you to create templates of database software, networking, compute, database parameters, and windows domain which help you to successfully provision databases or database server VMs on Era.Creating a Software ProfileCreating a Software Profile VersionUpdating a Software Profile VersionOptimizing a Software Profile VersionEra allows you to optimize a software profile version for provisioning a SQL Server database. Optimizing a software profile version creates an image of the operating system and database software from the database server VM that contains all the patches configured in the software profile. The overall provisioning time is reduced when a software profile version is optimized.Creating a Compute ProfileCreating a Network ProfileA network profile specifies the VLAN for the new database server VM. Creating a Clustered Network ProfileA network profile specifies the VLAN for the new database server VM. With Era's multi-cluster capability, you can create a clustered network profile specifying the VLANs to be used for each Nutanix cluster while provisioning a Windows cluster across different Nutanix clusters.Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. Creating a Windows Domain ProfileA Windows domain profile is a template that includes the Windows domain information such as domain name (FQDN), domain user and password. This profile also includes information related to SQL service startup account, Era worker service account, and Active Directory such as the Organizational Unit (OU) paths for clusters and database server VMs. Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. Creating a Software ProfileBefore you beginEnsure that you have registered an existing SQL Server database server VM with Era.About this taskA software profile is a template that includes the SQL Server database and operating system. After you have registered an existing SQL Server database server with Era, Era creates a software template from the SQL database server you have previously registered. For more information about supported built-in profiles, see Era Release Notes.A software profile is created from the software installed on the registered databases. Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software, click Create, and select the SQL Server engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.This is the name created by Era for the first version (v1), also called as the Base Profile Version Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a new version of the software profile. For more information, see Creating a Software Profile Version .Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version and patches.Database Server VMs. Displays the database server VMs that are using this version of the profile.Creating a Software Profile VersionAbout this taskSoftware profile versions are created in Era to support patching of SQL Server database server instances. A software profile version can be created by uploading a SQL Server update executable. The SQL Server update can then be used to patch other database server VMs or when provisioning new database server VMs with the updated software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile for which you want to create a new version.Click Create. The Create Software Profile Version window appears. Do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Patch File Location. Do one of the following to provide the patch file for the software profile version.Local Computer. Upload a patch file (.exe).File Share. Type the location of the file share containing the patch file and provide the file share credentials in the User Name and Password fields.Patch Notes. Type a note to provide additional information about the patch file.Figure. Creating a Software Profile VersionClick to enlargeClick Create.Era also extracts additional patch information from the upload patch file and displays it in the patch section. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version and patches.Database Server VMs. Displays the database server VMs that are using this version of the profile.Patch. Displays details about the patch such as, KB articles, help urls, patch build number, and so on.Updating a Software Profile VersionAbout this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile should update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message will be displayed on the homepages of the DB Server VMs and Server Clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Patch Notes. Type a note to provide additional information about the database software.Operating System Notes and Database Software Notes fields are displayed only during the initial version. Patch Notes field is displayed for subsequent versions.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.Optimizing a Software Profile VersionEra allows you to optimize a software profile version for provisioning a SQL Server database. Optimizing a software profile version creates an image of the operating system and database software from the database server VM that contains all the patches configured in the software profile. The overall provisioning time is reduced when a software profile version is optimized.About this taskPerform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Optimize for Provisioning. The Optimize Software Profile Version for Provisioning  window appears displaying the list of database server VMs with the profile.Select the database server VM to use for optimization.Click Optimize.Era optimizes the software profile version for provisioning a SQL Server database. Creating a Compute ProfileAbout this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: Create a compute profile only if you do not want to use the sample profile (DEFAULT_OOB_COMPUTE).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.Creating a Network ProfileA network profile specifies the VLAN for the new database server VM. Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskPerform the following procedure to create a network profile for SQL Server databases.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select Database Server VMs under the SQL Server engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Under Service Mapping, do the following in the indicated field:Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option. You can add one or more VLANs to Era.Note: For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Figure. Network Profile for Database Server VMClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.Creating a Clustered Network ProfileA network profile specifies the VLAN for the new database server VM. With Era's multi-cluster capability, you can create a clustered network profile specifying the VLANs to be used for each Nutanix cluster while provisioning a Windows cluster across different Nutanix clusters.Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskPerform the following procedure to create a Windows cluster network profile for SQL Server.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select Windows Clusters under the SQL Server engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Select all the Nutanix clusters and the VLANs configured in those clusters to be used with the profile.Figure. Network Profile for Windows ClusterClick to enlargeClick Create to successfully create a clustered network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and VLANs associated with the respective profile.Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a new database parameters profile only if you do not want to use the sample database parameter profile.Perform the following procedure to create a database parameters profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, do the following in the indicated fields. Select SQL Server as the database engine.In the Version drop-down list, select the version of the SQL Server you want to provision.Under Apply Parameters to, select one of the following. Instance Level. Select this option if you want to apply the database parameters to a SQL Server instance.Database Level. Select this option if you want to apply the database parameters to a SQL Server database.Click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.All parameters available for a SQL Server database at the level you selected in step 3c (instance or database) are displayed in a table. Click the page navigation arrows to display all the available parameters. You can search for a parameter by typing the name of the parameter in the search text box. The Value column displays the default values of the parameters. You can choose to update the value of the parameters to suit your requirements. If you want to display only those parameters that you have updated, select the Modified Only option.Note: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.Creating a Windows Domain ProfileA Windows domain profile is a template that includes the Windows domain information such as domain name (FQDN), domain user and password. This profile also includes information related to SQL service startup account, Era worker service account, and Active Directory such as the Organizational Unit (OU) paths for clusters and database server VMs. About this taskWindows domain profiles are used for joining a Windows server cluster to a domain. Perform the following procedure to create a Windows domain profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Windows Domain and click Create. The Create Windows Domain Profile window appears. Do the following in the indicated fields.Name. Type a name of the Windows domain profile.Description. Type a description of the profile.Domain to Join (FQDN). Type a name of the domain that you want to join.Specify the fully qualified domain name of the domain. You can provide a name in the following format: example.com.Publish. Select this option to make the profile visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this windows domain profile should update to this new version.Under Organizational Units, do the following:Custom OU Path for Server Clusters. Select this check box to provide the OU path for the server clusters. Select this option only if you want to add the Windows failover cluster name to a different OU path.Custom OU Path for Database Server VMs. Select this check box to provide a OU path for the database server VMs. Select this option only if you want to add the database server VM to a different OU path.Under Domain Account with Permission to Join Computer to the Domain, do the following:Username. Type a name of a user that can join the cluster to a domain.To access the domain server, you must create compute objects and delete compute objects permission in the domain controller.Note: The domain user account must be a member of the Account Operators group.Password. Type the password of the user. Under SQL Service Startup Account, do the following:Specify Startup Account in Profile. Select this check box to enter the SQL service startup account details.The details of the SQL service startup account are auto populated if an account already exists in your SQL database.Username. Type the username of the domain user account to be used to run SQL service.Password. Type the password of the SQL service account. Note: If the Specify Startup Account in Profile check box is selected during profile creation, then you cannot provide another SQL service startup account during the provisioning process. Under Era Worker Service Account, do the following:Username. Type a name of a user of the domain account that will be used to run the ERA worker service and for connections between Era server and database server VM.Password. Type the password of the Era worker service account. Note: The Era worker service account will be added to the local administrator group on your database server VM and to the securities of the SQL instance. The Era worker service account user will have the highest privileges of sysadmin. Click Create to successfully create the Windows domain profile.The new profile appears in the list of Windows domain profiles. Click the name of the profile to view information about username and domain associated with the respective profile.Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.", "Heading_Keywords": ["sql", "server", "databas", "profil"]}, {"Heading": "Creating a Software Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-a-software-profile-sql-server-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have registered an existing SQL Server database server VM with Era.About this taskA software profile is a template that includes the SQL Server database and operating system. After you have registered an existing SQL Server database server with Era, Era creates a software template from the SQL database server you have previously registered. For more information about supported built-in profiles, see Era Release Notes.A software profile is created from the software installed on the registered databases. Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software, click Create, and select the SQL Server engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.This is the name created by Era for the first version (v1), also called as the Base Profile Version Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a new version of the software profile. For more information, see Creating a Software Profile Version .Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version and patches.Database Server VMs. Displays the database server VMs that are using this version of the profile.", "Heading_Keywords": ["creat", "softwar", "profil"]}, {"Heading": "Creating a Software Profile Version", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-create-software-profile-version-sql-server-t.html", "Document Name": "Era User Guide", "Content": "About this taskSoftware profile versions are created in Era to support patching of SQL Server database server instances. A software profile version can be created by uploading a SQL Server update executable. The SQL Server update can then be used to patch other database server VMs or when provisioning new database server VMs with the updated software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile for which you want to create a new version.Click Create. The Create Software Profile Version window appears. Do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Patch File Location. Do one of the following to provide the patch file for the software profile version.Local Computer. Upload a patch file (.exe).File Share. Type the location of the file share containing the patch file and provide the file share credentials in the User Name and Password fields.Patch Notes. Type a note to provide additional information about the patch file.Figure. Creating a Software Profile VersionClick to enlargeClick Create.Era also extracts additional patch information from the upload patch file and displays it in the patch section. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version and patches.Database Server VMs. Displays the database server VMs that are using this version of the profile.Patch. Displays details about the patch such as, KB articles, help urls, patch build number, and so on.", "Heading_Keywords": ["creat", "softwar", "profil", "version"]}, {"Heading": "Updating a Software Profile Version", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-update-software-profile-version-sql-server-t.html", "Document Name": "Era User Guide", "Content": "About this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile should update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message will be displayed on the homepages of the DB Server VMs and Server Clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Patch Notes. Type a note to provide additional information about the database software.Operating System Notes and Database Software Notes fields are displayed only during the initial version. Patch Notes field is displayed for subsequent versions.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.", "Heading_Keywords": ["updat", "softwar", "profil", "version"]}, {"Heading": "Optimizing a Software Profile Version", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-optimize-software-profile-version-sql-server-t.html", "Document Name": "Era User Guide", "Content": "Era allows you to optimize a software profile version for provisioning a SQL Server database. Optimizing a software profile version creates an image of the operating system and database software from the database server VM that contains all the patches configured in the software profile. The overall provisioning time is reduced when a software profile version is optimized.About this taskPerform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Optimize for Provisioning. The Optimize Software Profile Version for Provisioning  window appears displaying the list of database server VMs with the profile.Select the database server VM to use for optimization.Click Optimize.Era optimizes the software profile version for provisioning a SQL Server database. ", "Heading_Keywords": ["optim", "softwar", "profil", "version"]}, {"Heading": "Creating a Compute Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-a-compute-profile-t.html", "Document Name": "Era User Guide", "Content": "About this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: Create a compute profile only if you do not want to use the sample profile (DEFAULT_OOB_COMPUTE).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.", "Heading_Keywords": ["creat", "comput", "profil"]}, {"Heading": "Creating a Network Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-a-network-profile-sql-server-t.html", "Document Name": "Era User Guide", "Content": "A network profile specifies the VLAN for the new database server VM. Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskPerform the following procedure to create a network profile for SQL Server databases.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select Database Server VMs under the SQL Server engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Under Service Mapping, do the following in the indicated field:Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option. You can add one or more VLANs to Era.Note: For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Figure. Network Profile for Database Server VMClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.", "Heading_Keywords": ["creat", "network", "profil"]}, {"Heading": "Creating a Clustered Network Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-create-cluster-network-profile-mysql-t.html", "Document Name": "Era User Guide", "Content": "A network profile specifies the VLAN for the new database server VM. With Era's multi-cluster capability, you can create a clustered network profile specifying the VLANs to be used for each Nutanix cluster while provisioning a Windows cluster across different Nutanix clusters.Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskPerform the following procedure to create a Windows cluster network profile for SQL Server.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select Windows Clusters under the SQL Server engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Select all the Nutanix clusters and the VLANs configured in those clusters to be used with the profile.Figure. Network Profile for Windows ClusterClick to enlargeClick Create to successfully create a clustered network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and VLANs associated with the respective profile.", "Heading_Keywords": ["creat", "cluster", "network", "profil"]}, {"Heading": "Creating a Database Parameters Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-create-database-parameters-profile-sql-server-t.html", "Document Name": "Era User Guide", "Content": "A database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a new database parameters profile only if you do not want to use the sample database parameter profile.Perform the following procedure to create a database parameters profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, do the following in the indicated fields. Select SQL Server as the database engine.In the Version drop-down list, select the version of the SQL Server you want to provision.Under Apply Parameters to, select one of the following. Instance Level. Select this option if you want to apply the database parameters to a SQL Server instance.Database Level. Select this option if you want to apply the database parameters to a SQL Server database.Click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.All parameters available for a SQL Server database at the level you selected in step 3c (instance or database) are displayed in a table. Click the page navigation arrows to display all the available parameters. You can search for a parameter by typing the name of the parameter in the search text box. The Value column displays the default values of the parameters. You can choose to update the value of the parameters to suit your requirements. If you want to display only those parameters that you have updated, select the Modified Only option.Note: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.", "Heading_Keywords": ["creat", "databas", "paramet", "profil"]}, {"Heading": "Creating a Windows Domain Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-create-windows-domain-profile-sqlserver-t.html", "Document Name": "Era User Guide", "Content": "A Windows domain profile is a template that includes the Windows domain information such as domain name (FQDN), domain user and password. This profile also includes information related to SQL service startup account, Era worker service account, and Active Directory such as the Organizational Unit (OU) paths for clusters and database server VMs. About this taskWindows domain profiles are used for joining a Windows server cluster to a domain. Perform the following procedure to create a Windows domain profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Windows Domain and click Create. The Create Windows Domain Profile window appears. Do the following in the indicated fields.Name. Type a name of the Windows domain profile.Description. Type a description of the profile.Domain to Join (FQDN). Type a name of the domain that you want to join.Specify the fully qualified domain name of the domain. You can provide a name in the following format: example.com.Publish. Select this option to make the profile visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this windows domain profile should update to this new version.Under Organizational Units, do the following:Custom OU Path for Server Clusters. Select this check box to provide the OU path for the server clusters. Select this option only if you want to add the Windows failover cluster name to a different OU path.Custom OU Path for Database Server VMs. Select this check box to provide a OU path for the database server VMs. Select this option only if you want to add the database server VM to a different OU path.Under Domain Account with Permission to Join Computer to the Domain, do the following:Username. Type a name of a user that can join the cluster to a domain.To access the domain server, you must create compute objects and delete compute objects permission in the domain controller.Note: The domain user account must be a member of the Account Operators group.Password. Type the password of the user. Under SQL Service Startup Account, do the following:Specify Startup Account in Profile. Select this check box to enter the SQL service startup account details.The details of the SQL service startup account are auto populated if an account already exists in your SQL database.Username. Type the username of the domain user account to be used to run SQL service.Password. Type the password of the SQL service account. Note: If the Specify Startup Account in Profile check box is selected during profile creation, then you cannot provide another SQL service startup account during the provisioning process. Under Era Worker Service Account, do the following:Username. Type a name of a user of the domain account that will be used to run the ERA worker service and for connections between Era server and database server VM.Password. Type the password of the Era worker service account. Note: The Era worker service account will be added to the local administrator group on your database server VM and to the securities of the SQL instance. The Era worker service account user will have the highest privileges of sysadmin. Click Create to successfully create the Windows domain profile.The new profile appears in the list of Windows domain profiles. Click the name of the profile to view information about username and domain associated with the respective profile.", "Heading_Keywords": ["creat", "window", "domain", "profil"]}, {"Heading": "Updating Profile Availability", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-update-profile-availability-t.html", "Document Name": "Era User Guide", "Content": "After profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.", "Heading_Keywords": ["updat", "profil", "avail"]}, {"Heading": "SQL Server Database Provisioning", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-database-provisioning-sql-server-c.html", "Document Name": "Era User Guide", "Content": "You can provision database server VMs and databases on the Nutanix cluster. As part of the database provisioning process, you can either create a database server VM on which you provision the database or select a database server VM that you have already provisioned. You use the built-in database parameter profiles or profiles you created to provision the databases. With Era's multi-cluster capability, both SQL Server databases and AG databases can be provisioned across different Nutanix clusters. Era also supports provisioning of multiple SQL Server databases in the same database server VM. Era supports database provisioning for the following versions of the SQL Server:SQL Server 2012SQL Server 2014SQL Server 2016SQL Server 2017SQL Server 2019Note: Era only supports Copy Data Management (CDM) for database of version SQL Server 2008 R2 SP1 and higher, database provisioning is not supported.Era supports the following versions of the Windows Server:Windows Server 2012 (Standard and datacenter)Requires hotfix KB2842230 and Powershell Executionpolicy changed to RemoteSigned.Windows Server 2012 R2 (Standard and datacenter)Windows Server 2016 (Standard and datacenter)Windows Server 2019 (Standard and datacenter)Database Server VM Provisioning PrerequisitesProvisioning a SQL Server Single Node Database Server VMProvisioning a SQL Server Cluster Database Server VMProvisioning a SQL Server DatabaseProvisioning a SQL Server Availability DatabaseDatabase Server VM Provisioning PrerequisitesComplete the following tasks before you start provisioning a database server VM.Register a source database with Era (see Registering a SQL Server DatabaseCreate a software profile. Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Windows Domain profiles are required when a provisioned database server VM is added to a domain.Provisioning a SQL Server Single Node Database Server VMBefore you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a single node database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select Single Node Server VM under the SQL Server engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, network, and windows domain (for SQL Server Database Server VMs) profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Provisioning a SQL Server Cluster Database Server VMBefore you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskYou can provision only the Server Cluster, so that later you can provision and/or clone databases to that server cluster. You must use profiles while provisioning the server cluster. For information about the supported version of database server VMs, see SQL Server Database Provisioning.Note: You can only use the profiles and profile versions (unpublished) that you own while provisioning a server cluster.Perform the following procedure to provision a SQL Server cluster database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select Server Cluster under the SQL Server engine. . The Provision Cluster Server window appears. You provision a cluster database server in the following steps:SourceServer ClusterDatabase Server VMsIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a cluster server from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected Software Profile, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.All the nodes of the SQL Server cluster will be provisioned on the same Nutanix cluster. Figure. Provisioning DetailsClick to enlargeIn the Server Cluster step, do the following in the indicated fields:Windows Cluster Name. Type a name of the Windows Server Failover Cluster.Description. Type a description of the Windows server cluster.Windows Domain Profile. Select a Windows domain profile from the list of profiles available.Network Profile. Select a network profile from the list of network profiles available.Under Database Server VMs in the Cluster, do the following in the indicated fields:Database Server VMs in the Cluster. Select the number of nodes for creating a cluster.Database Server VM Name Prefix. Type a name prefix for the database server VMs that will be added to the cluster server.Database Server VM's Time Zone. Select a time zone for the database server VMs to use.Compute Profile. Select a compute profile from the list of compute profiles available.Windows License Key. Type the Windows license key.Administrator Password. Type the password of the default local administrator account on the new database server VM.Under SQL Server Instance, do the following in the indicated fields:Server Collation. The server collation acts as the default collation for all system databases that are installed with the instance of SQL Server and also any newly created databases. If you have selected the software profile in the previous step, this field is auto-populated with the appropriate value.Note: The server collation is specified during SQL Server installation. Default server-level collation is SQL_Latin1_General_CP1_CI_AS.Database Parameter Profile - Instance. Select the sample database parameter profile or select a database parameter profile from the list of database parameter profiles that you have created.SQL Server Authentication Mode. Select the authentication mode as either Windows Authentication or Mixed Authentication.If you have selected the Windows Authentication mode during SQL Server installation, the server authentication logon is disabled and a password is assigned by setup. If you change the authentication mode to Mixed Authentication, the server authentication logon remains disabled.SQL Service Startup Account. Type the domain user account to be used to run SQL service.SQL Service Startup Account Password. Type the password for SQL service account.Under Grant Access to the Database Server, in the Domain User Account field, type a domain user account that is added as a member of administrators user group on the database server VM.Click Next.The Database Server VMs step displays the following indicated field.Database Server VM Names. This field is auto-populated with the database server VM names. The database server VM names are generated based on the number of database server VMs and database server VM name prefix mentioned in the Server Cluster step. Depending on your network profile, you can also select the IP addresses for the generated database server VMs.Click Provision.A message indicating that the operation to provision a cluster server has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the cluster server appears in the list of the provisioned database server VMs. Click the name of the cluster server to open the homepage for the selected cluster server. This page displays the following widgets:Server Cluster Summary. Displays the cluster details such as name, description, status, and date of provisioning.Profiles. Displays software, compute, and network profiles that were applied when the database server was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Topology. Displays the database server VMs, AGs, and the databases associated with AG. Each node displayed under Server Cluster is clickable. You can click the nodes to view their respective details.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Provisioning a SQL Server DatabaseBefore you beginEnsure that you have created a software profile before you start provisioning an SQL Server database. For more information, see Creating a Software Profile.About this task Era supports provisioning of multiple SQL Server databases in the same database server VM. With Era's multi-cluster capability, both SQL Server databases and AG databases can be provisioned across different Nutanix clusters. Note: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database.Perform the following procedure to provision a SQL Server database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select Database under the SQL Server engine. The Provision a SQL Server Database window appears. You provision a database in the following steps:Database Server VMDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server step, select one of the following:Create New Server. Select this option if you want to provision a database on a new database server VM.Use Registered Server. Select this option if you want to provision a database on a database server VM that you have previously registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM. The name that you provide in this field is used as the virtual machine name created for the SQL Server database.Description. Type a description of the database server VM.Select the Nutanix cluster on which you want to provision the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a timezone for the database server.Join Domain. Select this check box if you want to join to a specific domain and then select the Windows domain profile from the drop-down list of the Windows domain profiles available.For example, if you have created an administrator group and you want to add another user to that group, then you can select join domain option to join the respective group. Windows License Key. Type the Windows license key.Administrator Password. Type the password of the default local administrator account on the new database server.Under SQL Server Instance, do the following in the indicated fields:Instance Name. The instance name is imported from the software profile that you have selected above.Server Collation. The server collation acts as the default collation for all system databases that are installed with the instance of SQL Server and also any newly created databases. If you selected the software profile in the previous step, this field is auto-populated with the appropriate value.Note: The server collation is specified during SQL Server installation. Default server-level collation is SQL_Latin1_General_CP1_CI_AS.Database Parameter Profile - Instance. Select a database parameter profile from the drop-down list of database parameter profiles available.SQL Service Startup Account. Type the domain user account to be used to run SQL service.SQL Service Startup Account Password. Type the password for SQL service account.SQL Server Authentication Mode. Select the authentication mode as either Windows Authentication or Mixed Authentication. If you have selected the Windows Authentication mode during SQL Server installation, the server authentication logon is disabled and a password is assigned by setup. If you change authentication mode to Mixed Authentication, the server authentication logon remains disabled.Domain User Account. Type a domain user account that will be added as a member of administrators user group on the database server VM.Click Next.Figure. Provisioning SQL Server DatabaseClick to enlargeIf you have selected Use Registered Server in the previous step, select the database server VM on which you want to provision the database, and click Next.Note: You cannot provision a new SQL Server database on a registered database server VM containing a database group.In the Database step, do the following in the indicated steps.Database Name. Type a name of the database.Description. Type a description of the database.Size (GiB). Type the size of the node in GB.Database Parameter Profile - Database. Select the database parameter profile from the drop-down list of profiles available.Database Collation. The database collation is specified during SQL Server installation. Default database-level collation is SQL_Latin1_General_CP1_CI_AS.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the database is created on the database server VM.Post-Create Command. Type a complete OS command that you want to run after the database is created on the database server VM.Pre-create and post-create command scripts should be on the source database before the software profile is created. Any failure in execution of these scripts fails the entire operation and causes the operation to roll back.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list.An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management. Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshots in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Database Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, status, IP address, OS and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Provisioning a SQL Server Availability DatabaseBefore you beginEnsure the following before you provision a AG database:Create a software profile for the SQL Server versions supported (see Creating a Software Profile).Create a network profile. If an already created network profile exists, use the existing profile (see Creating a Network Profile). Network profile must have a VLAN with IP addresses managed by Era. You must use static IPs for cluster IP and listener. To configure a n-node AG cluster, use n+2 IP addresses.Ensure that you have created a clustered network profile if you want to provision a AG database on multiple Nutanix clusters. (See Creating a Clustered Network Profile)An Active Directory controller is required for AG provisioning. To join provisioned VMs to a domain, Era needs an Active Directory user who has permissions to join to domain and create and remove computer objects. If you want to provision a SQL Server multi-cluster AG database, ensure that you have free IP addresses in the IP pool for the following requirements.One IP address is reserved for each database server node.One listener IP address is reserved per subnet.One cluster IP address is reserved per subnet.About this taskAs part of provisioning, Era creates a new database server VM, Windows failover cluster, availability group, database, and adds the database to the availability group.Era uses initial primary availability node for copy data management and time machine functionality. Time machine halts when initial primary node goes down. Era supports provisioning of multiple SQL Server databases in the same database server VM. With Era's multi-cluster capability, both SQL Server databases and AG databases can be provisioned across different Nutanix clusters. Perform the following procedure to provision a SQL Server AG database.Note: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, and click Provision, and select Availability Database under the SQL Server engine. The Provision a SQL Server Availability Database window appears. You provision a database in the following steps:Windows ClusterDatabase Server VMAGDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Windows Cluster step, select one of the following.Create New Cluster. Select this option if you want to provision a database on a new Windows server failover cluster.Use Registered Cluster. Select this option if you want to provision a database on a Windows server failover cluster that you have previously registered with Era.If you selected Create New Server in the previous step, do the following in the indicated fields.Windows Cluster Name. Type a name for the Windows cluster.Description. Type a description for the Windows cluster.Select the Nutanix clusters on which the Windows cluster will be hosted.Network Profile. Select a network profile from the list of network profiles that you have created. Note: The network profiles appears in the list only if you have created the profile on the selected Nutanix clusters. See Creating a Clustered Network Profile for information on creating a clustered network profile.Windows Domain Profile. Select the Windows domain profile from the list of the Windows domain profiles that you have created. Click Next.Figure. Provisioning SQL Server AGClick to enlargeIf you selected Use Registered Cluster in the previous step, select the existing Windows Server Failover Cluster on which you want to provision the database and click Next.Note: You cannot provision a new SQL Server database on a registered database server VM containing a database group.(Only for new cluster) In the Database Server VM step, do the following in the indicated fields.Under Attributes of All Database Server VMs, do the following in the indicated fields:Software Profile. Select the SQL Server software profile from the list of the software profiles that you have created.To update the selected profile version, click Update Version to view all the versions available with the selected profile. Select the version from the list and click UpdateNote: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select the default compute profile or select a compute profile from the list of compute profiles that you have created.Windows License Key. Type the Windows license key.Administrator Password. Type the password of the default local administrator account on the new database server VM.Under Attributes of Individual Database Server VMs, do the following in the indicated fields:Click Add to add a database server VM. You can select the cluster on which the database server VM must be added.Note: Two database server VMs are added by default.For more information about the number of allowed configurations as per SQL edition, see RDBMS High Availability in Microsoft Documentation.Click Remove to remove a database server VM.Database server VM names are auto-populated based on the Windows Cluster Name. You can type or edit the name prefix for the database server VM.Under SQL Server Instance, do the following in the indicated fields:Server Collation. The server collation acts as the default collation for all system databases that are installed with the instance of SQL Server and also any newly created databases. If you have selected the software profile in the previous step, this field is auto-populated with the appropriate value.Note: The server collation is specified during SQL Server installation. Default server-level collation is SQL_Latin1_General_CP1_CI_AS.Database Parameter Profile - Instance. Select the sample database parameter profile or select a database parameter profile from the list of database parameter profiles that you have created.SQL Server Authentication Mode. Select the authentication mode as either Windows Authentication or Mixed Authentication.If you have selected the Windows Authentication mode during SQL Server installation, the server authentication logon is disabled and a password is assigned by setup. If you change authentication mode to Mixed Authentication, the server authentication logon remains disabled.SQL Service Startup Account. Type the domain user account to be used to run SQL service.SQL Service Startup Account Password. Type the password for SQL Service account.Under Grant Access to the Database Server, in the Domain User Account field, type a domain user account that is added as a member of administrators user group on the database server VM.Click Next.(Only for registered cluster) Details such as, information of all the database server VMs in the selected registered cluster, software profile, compute profile, SQL Server instance and so on are displayed in the Database Server VM step.In the AG step, select one of the following:Create New AG. Select this option if you want to create a new AG. Use Existing AG. Select this option if you want to use the AG that you have created previously.Use Existing AG is displayed only if you have selected use registered cluster in the Server Cluster step.If you have selected Create New AG in the previous step, do the following in the indicated fields.Always on Availability Group Name. Type a name for the always on availability group that you want to create.Network Profile. Select the sample network profile or select a network profile from the list of network profiles that you have created.Backup Preferences. Select where you would prefer the automated backups to be performed for the AG database. You can select one of the following:Secondary When Available. Select this preference if you want the backups of the availability group to be performed on a secondary database server VM.Backups will be performed on the primary database server VM if there is no secondary database server VM.Secondary Only. Select this preference if you want all the backups of the availability group to be performed only on a secondary database server VM.Primary Only. Select this preference if you want all the backups of the availability group to be performed only on the current primary database server VM.Any Database Server. Select this preference if you want the backups of the availability group to be performed on any of the available database server VMs.Note: Backup preference of the availability group can be changed using SQL Server Management Studio (SSMS) after the AG database is provisioned.Under Select database servers for the new database and set their attributes, select the database server VM and set the attributes for each database in the cluster. You can set the following attributes.Primary. Select this check box if you want to set the selected node as primary.Note: one node must be selected as primary.Auto Failover. Select this check box to enable automatic failover on the selected node. If you enable this option, automatic failover happens to the node that you have selected if the primary node fails.Availability Mode. Select the availability mode as either Synchronous commit or Asynchronous commit. If you selected Synchronous commit, data is committed to both primary and secondary nodes at the same time. For asynchronous commit, data is committed to primary first and then after some time-interval, data is committed to the secondary nodes.Note: For more information about the availability modes, see Microsoft Documentation.Readable Secondary. Select either Yes, No or Read-Intent Only. For more information, see Microsoft Documentation.If you have selected Use Existing AG in the previous step, do the following in the indicated fields.Under Always on Availability Groups on the Cluster, select the availability group from the list of the availability groups available.You can hover over the values in the database server VMs and databases in AG column to view the database server VMs and databases associated with each AG.Click Next.Figure. Provision AG DatabaseClick to enlargeIn the Database step, do the following in the indicated fields.Database Name. Type a name for the database.Description. Type a description for the database.Size (GiB). Type the size of the node in GB.Database Parameter Profile - Database. Select the database parameter profile from the list of profiles that you have created.Database Collation. The database collation is specified during SQL Server installation. Default database-level collation is SQL_Latin1_General_CP1_CI_AS.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the database is created on the database server VM.Post-Create Command. Type a complete OS command that you want to run after the database is created on the database server VM.Pre-create and post-create command scripts should be on the source database before the software profile is created. Any failure in execution of these scripts fails the entire operation and causes the operation to rollback.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name for the time machine.Description. Type a description for the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeSelect a Nutanix cluster on which you want the snapshots to be available.Note: The list of Nutanix clusters displayed is based on the Backup Preferences selected in the AG step. You can only select a single Nutanix cluster for Point-in-Time Recovery (PITR) SLAs.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshots in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.Era displays a message indicating that the operation to provision the AG database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.Era displays the database cluster that you have provisioned in the list. Click the name of the database cluster to open the Databases homepage. This page displays the following widgets:Cluster Database Summary. Displays details such as cluster name, database version, and size of the database etc. You can click See Description to view details about how to access the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Always on Availability Group . Displays the list of databases along with the respective database server VMs, status, and IP address used for the AG created.Server Cluster. Displays the name of the Windows cluster, port number, IP address, and OS used.You can click the name of the cluster to open the Topology widget that displays the database server VMs, AGs, and the databases associated with AG. Each node displayed under Database Server VM is clickable. You can click the nodes to view the AG and database server VM used by each node.Time Machine. Displays the name, description, age, and size of the time machine.Tags. Displays a list of the tags that are applied to this database server. You can click Update to set the tag values.", "Heading_Keywords": ["sql", "server", "databas", "provis"]}, {"Heading": "Database Server VM Provisioning Prerequisites", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-provision-prerequisite-sql-server-r.html", "Document Name": "Era User Guide", "Content": "Complete the following tasks before you start provisioning a database server VM.Register a source database with Era (see Registering a SQL Server DatabaseCreate a software profile. Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Windows Domain profiles are required when a provisioned database server VM is added to a domain.", "Heading_Keywords": ["databas", "server", "vm", "provis", "prerequisit"]}, {"Heading": "Provisioning a SQL Server Single Node Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-provisioning-database-server-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a single node database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select Single Node Server VM under the SQL Server engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, network, and windows domain (for SQL Server Database Server VMs) profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.", "Heading_Keywords": ["provis", "sql", "server", "singl", "node", "databas", "server", "vm"]}, {"Heading": "Provisioning a SQL Server Cluster Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-provision-database-server-sql-server-cluster.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskYou can provision only the Server Cluster, so that later you can provision and/or clone databases to that server cluster. You must use profiles while provisioning the server cluster. For information about the supported version of database server VMs, see SQL Server Database Provisioning.Note: You can only use the profiles and profile versions (unpublished) that you own while provisioning a server cluster.Perform the following procedure to provision a SQL Server cluster database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select Server Cluster under the SQL Server engine. . The Provision Cluster Server window appears. You provision a cluster database server in the following steps:SourceServer ClusterDatabase Server VMsIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a cluster server from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected Software Profile, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.All the nodes of the SQL Server cluster will be provisioned on the same Nutanix cluster. Figure. Provisioning DetailsClick to enlargeIn the Server Cluster step, do the following in the indicated fields:Windows Cluster Name. Type a name of the Windows Server Failover Cluster.Description. Type a description of the Windows server cluster.Windows Domain Profile. Select a Windows domain profile from the list of profiles available.Network Profile. Select a network profile from the list of network profiles available.Under Database Server VMs in the Cluster, do the following in the indicated fields:Database Server VMs in the Cluster. Select the number of nodes for creating a cluster.Database Server VM Name Prefix. Type a name prefix for the database server VMs that will be added to the cluster server.Database Server VM's Time Zone. Select a time zone for the database server VMs to use.Compute Profile. Select a compute profile from the list of compute profiles available.Windows License Key. Type the Windows license key.Administrator Password. Type the password of the default local administrator account on the new database server VM.Under SQL Server Instance, do the following in the indicated fields:Server Collation. The server collation acts as the default collation for all system databases that are installed with the instance of SQL Server and also any newly created databases. If you have selected the software profile in the previous step, this field is auto-populated with the appropriate value.Note: The server collation is specified during SQL Server installation. Default server-level collation is SQL_Latin1_General_CP1_CI_AS.Database Parameter Profile - Instance. Select the sample database parameter profile or select a database parameter profile from the list of database parameter profiles that you have created.SQL Server Authentication Mode. Select the authentication mode as either Windows Authentication or Mixed Authentication.If you have selected the Windows Authentication mode during SQL Server installation, the server authentication logon is disabled and a password is assigned by setup. If you change the authentication mode to Mixed Authentication, the server authentication logon remains disabled.SQL Service Startup Account. Type the domain user account to be used to run SQL service.SQL Service Startup Account Password. Type the password for SQL service account.Under Grant Access to the Database Server, in the Domain User Account field, type a domain user account that is added as a member of administrators user group on the database server VM.Click Next.The Database Server VMs step displays the following indicated field.Database Server VM Names. This field is auto-populated with the database server VM names. The database server VM names are generated based on the number of database server VMs and database server VM name prefix mentioned in the Server Cluster step. Depending on your network profile, you can also select the IP addresses for the generated database server VMs.Click Provision.A message indicating that the operation to provision a cluster server has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the cluster server appears in the list of the provisioned database server VMs. Click the name of the cluster server to open the homepage for the selected cluster server. This page displays the following widgets:Server Cluster Summary. Displays the cluster details such as name, description, status, and date of provisioning.Profiles. Displays software, compute, and network profiles that were applied when the database server was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Topology. Displays the database server VMs, AGs, and the databases associated with AG. Each node displayed under Server Cluster is clickable. You can click the nodes to view their respective details.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["provis", "sql", "server", "cluster", "databas", "server", "vm"]}, {"Heading": "Provisioning a SQL Server Database", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-provisioning-a-sql-server-database-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have created a software profile before you start provisioning an SQL Server database. For more information, see Creating a Software Profile.About this task Era supports provisioning of multiple SQL Server databases in the same database server VM. With Era's multi-cluster capability, both SQL Server databases and AG databases can be provisioned across different Nutanix clusters. Note: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database.Perform the following procedure to provision a SQL Server database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select Database under the SQL Server engine. The Provision a SQL Server Database window appears. You provision a database in the following steps:Database Server VMDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server step, select one of the following:Create New Server. Select this option if you want to provision a database on a new database server VM.Use Registered Server. Select this option if you want to provision a database on a database server VM that you have previously registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM. The name that you provide in this field is used as the virtual machine name created for the SQL Server database.Description. Type a description of the database server VM.Select the Nutanix cluster on which you want to provision the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a timezone for the database server.Join Domain. Select this check box if you want to join to a specific domain and then select the Windows domain profile from the drop-down list of the Windows domain profiles available.For example, if you have created an administrator group and you want to add another user to that group, then you can select join domain option to join the respective group. Windows License Key. Type the Windows license key.Administrator Password. Type the password of the default local administrator account on the new database server.Under SQL Server Instance, do the following in the indicated fields:Instance Name. The instance name is imported from the software profile that you have selected above.Server Collation. The server collation acts as the default collation for all system databases that are installed with the instance of SQL Server and also any newly created databases. If you selected the software profile in the previous step, this field is auto-populated with the appropriate value.Note: The server collation is specified during SQL Server installation. Default server-level collation is SQL_Latin1_General_CP1_CI_AS.Database Parameter Profile - Instance. Select a database parameter profile from the drop-down list of database parameter profiles available.SQL Service Startup Account. Type the domain user account to be used to run SQL service.SQL Service Startup Account Password. Type the password for SQL service account.SQL Server Authentication Mode. Select the authentication mode as either Windows Authentication or Mixed Authentication. If you have selected the Windows Authentication mode during SQL Server installation, the server authentication logon is disabled and a password is assigned by setup. If you change authentication mode to Mixed Authentication, the server authentication logon remains disabled.Domain User Account. Type a domain user account that will be added as a member of administrators user group on the database server VM.Click Next.Figure. Provisioning SQL Server DatabaseClick to enlargeIf you have selected Use Registered Server in the previous step, select the database server VM on which you want to provision the database, and click Next.Note: You cannot provision a new SQL Server database on a registered database server VM containing a database group.In the Database step, do the following in the indicated steps.Database Name. Type a name of the database.Description. Type a description of the database.Size (GiB). Type the size of the node in GB.Database Parameter Profile - Database. Select the database parameter profile from the drop-down list of profiles available.Database Collation. The database collation is specified during SQL Server installation. Default database-level collation is SQL_Latin1_General_CP1_CI_AS.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the database is created on the database server VM.Post-Create Command. Type a complete OS command that you want to run after the database is created on the database server VM.Pre-create and post-create command scripts should be on the source database before the software profile is created. Any failure in execution of these scripts fails the entire operation and causes the operation to roll back.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list.An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management. Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshots in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Database Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, status, IP address, OS and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["provis", "sql", "server", "databas"]}, {"Heading": "Provisioning a SQL Server Availability Database", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-provision-sql-server-cluster-database-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure the following before you provision a AG database:Create a software profile for the SQL Server versions supported (see Creating a Software Profile).Create a network profile. If an already created network profile exists, use the existing profile (see Creating a Network Profile). Network profile must have a VLAN with IP addresses managed by Era. You must use static IPs for cluster IP and listener. To configure a n-node AG cluster, use n+2 IP addresses.Ensure that you have created a clustered network profile if you want to provision a AG database on multiple Nutanix clusters. (See Creating a Clustered Network Profile)An Active Directory controller is required for AG provisioning. To join provisioned VMs to a domain, Era needs an Active Directory user who has permissions to join to domain and create and remove computer objects. If you want to provision a SQL Server multi-cluster AG database, ensure that you have free IP addresses in the IP pool for the following requirements.One IP address is reserved for each database server node.One listener IP address is reserved per subnet.One cluster IP address is reserved per subnet.About this taskAs part of provisioning, Era creates a new database server VM, Windows failover cluster, availability group, database, and adds the database to the availability group.Era uses initial primary availability node for copy data management and time machine functionality. Time machine halts when initial primary node goes down. Era supports provisioning of multiple SQL Server databases in the same database server VM. With Era's multi-cluster capability, both SQL Server databases and AG databases can be provisioned across different Nutanix clusters. Perform the following procedure to provision a SQL Server AG database.Note: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, and click Provision, and select Availability Database under the SQL Server engine. The Provision a SQL Server Availability Database window appears. You provision a database in the following steps:Windows ClusterDatabase Server VMAGDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Windows Cluster step, select one of the following.Create New Cluster. Select this option if you want to provision a database on a new Windows server failover cluster.Use Registered Cluster. Select this option if you want to provision a database on a Windows server failover cluster that you have previously registered with Era.If you selected Create New Server in the previous step, do the following in the indicated fields.Windows Cluster Name. Type a name for the Windows cluster.Description. Type a description for the Windows cluster.Select the Nutanix clusters on which the Windows cluster will be hosted.Network Profile. Select a network profile from the list of network profiles that you have created. Note: The network profiles appears in the list only if you have created the profile on the selected Nutanix clusters. See Creating a Clustered Network Profile for information on creating a clustered network profile.Windows Domain Profile. Select the Windows domain profile from the list of the Windows domain profiles that you have created. Click Next.Figure. Provisioning SQL Server AGClick to enlargeIf you selected Use Registered Cluster in the previous step, select the existing Windows Server Failover Cluster on which you want to provision the database and click Next.Note: You cannot provision a new SQL Server database on a registered database server VM containing a database group.(Only for new cluster) In the Database Server VM step, do the following in the indicated fields.Under Attributes of All Database Server VMs, do the following in the indicated fields:Software Profile. Select the SQL Server software profile from the list of the software profiles that you have created.To update the selected profile version, click Update Version to view all the versions available with the selected profile. Select the version from the list and click UpdateNote: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select the default compute profile or select a compute profile from the list of compute profiles that you have created.Windows License Key. Type the Windows license key.Administrator Password. Type the password of the default local administrator account on the new database server VM.Under Attributes of Individual Database Server VMs, do the following in the indicated fields:Click Add to add a database server VM. You can select the cluster on which the database server VM must be added.Note: Two database server VMs are added by default.For more information about the number of allowed configurations as per SQL edition, see RDBMS High Availability in Microsoft Documentation.Click Remove to remove a database server VM.Database server VM names are auto-populated based on the Windows Cluster Name. You can type or edit the name prefix for the database server VM.Under SQL Server Instance, do the following in the indicated fields:Server Collation. The server collation acts as the default collation for all system databases that are installed with the instance of SQL Server and also any newly created databases. If you have selected the software profile in the previous step, this field is auto-populated with the appropriate value.Note: The server collation is specified during SQL Server installation. Default server-level collation is SQL_Latin1_General_CP1_CI_AS.Database Parameter Profile - Instance. Select the sample database parameter profile or select a database parameter profile from the list of database parameter profiles that you have created.SQL Server Authentication Mode. Select the authentication mode as either Windows Authentication or Mixed Authentication.If you have selected the Windows Authentication mode during SQL Server installation, the server authentication logon is disabled and a password is assigned by setup. If you change authentication mode to Mixed Authentication, the server authentication logon remains disabled.SQL Service Startup Account. Type the domain user account to be used to run SQL service.SQL Service Startup Account Password. Type the password for SQL Service account.Under Grant Access to the Database Server, in the Domain User Account field, type a domain user account that is added as a member of administrators user group on the database server VM.Click Next.(Only for registered cluster) Details such as, information of all the database server VMs in the selected registered cluster, software profile, compute profile, SQL Server instance and so on are displayed in the Database Server VM step.In the AG step, select one of the following:Create New AG. Select this option if you want to create a new AG. Use Existing AG. Select this option if you want to use the AG that you have created previously.Use Existing AG is displayed only if you have selected use registered cluster in the Server Cluster step.If you have selected Create New AG in the previous step, do the following in the indicated fields.Always on Availability Group Name. Type a name for the always on availability group that you want to create.Network Profile. Select the sample network profile or select a network profile from the list of network profiles that you have created.Backup Preferences. Select where you would prefer the automated backups to be performed for the AG database. You can select one of the following:Secondary When Available. Select this preference if you want the backups of the availability group to be performed on a secondary database server VM.Backups will be performed on the primary database server VM if there is no secondary database server VM.Secondary Only. Select this preference if you want all the backups of the availability group to be performed only on a secondary database server VM.Primary Only. Select this preference if you want all the backups of the availability group to be performed only on the current primary database server VM.Any Database Server. Select this preference if you want the backups of the availability group to be performed on any of the available database server VMs.Note: Backup preference of the availability group can be changed using SQL Server Management Studio (SSMS) after the AG database is provisioned.Under Select database servers for the new database and set their attributes, select the database server VM and set the attributes for each database in the cluster. You can set the following attributes.Primary. Select this check box if you want to set the selected node as primary.Note: one node must be selected as primary.Auto Failover. Select this check box to enable automatic failover on the selected node. If you enable this option, automatic failover happens to the node that you have selected if the primary node fails.Availability Mode. Select the availability mode as either Synchronous commit or Asynchronous commit. If you selected Synchronous commit, data is committed to both primary and secondary nodes at the same time. For asynchronous commit, data is committed to primary first and then after some time-interval, data is committed to the secondary nodes.Note: For more information about the availability modes, see Microsoft Documentation.Readable Secondary. Select either Yes, No or Read-Intent Only. For more information, see Microsoft Documentation.If you have selected Use Existing AG in the previous step, do the following in the indicated fields.Under Always on Availability Groups on the Cluster, select the availability group from the list of the availability groups available.You can hover over the values in the database server VMs and databases in AG column to view the database server VMs and databases associated with each AG.Click Next.Figure. Provision AG DatabaseClick to enlargeIn the Database step, do the following in the indicated fields.Database Name. Type a name for the database.Description. Type a description for the database.Size (GiB). Type the size of the node in GB.Database Parameter Profile - Database. Select the database parameter profile from the list of profiles that you have created.Database Collation. The database collation is specified during SQL Server installation. Default database-level collation is SQL_Latin1_General_CP1_CI_AS.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the database is created on the database server VM.Post-Create Command. Type a complete OS command that you want to run after the database is created on the database server VM.Pre-create and post-create command scripts should be on the source database before the software profile is created. Any failure in execution of these scripts fails the entire operation and causes the operation to rollback.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name for the time machine.Description. Type a description for the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeSelect a Nutanix cluster on which you want the snapshots to be available.Note: The list of Nutanix clusters displayed is based on the Backup Preferences selected in the AG step. You can only select a single Nutanix cluster for Point-in-Time Recovery (PITR) SLAs.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshots in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.Era displays a message indicating that the operation to provision the AG database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.Era displays the database cluster that you have provisioned in the list. Click the name of the database cluster to open the Databases homepage. This page displays the following widgets:Cluster Database Summary. Displays details such as cluster name, database version, and size of the database etc. You can click See Description to view details about how to access the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Always on Availability Group . Displays the list of databases along with the respective database server VMs, status, and IP address used for the AG created.Server Cluster. Displays the name of the Windows cluster, port number, IP address, and OS used.You can click the name of the cluster to open the Topology widget that displays the database server VMs, AGs, and the databases associated with AG. Each node displayed under Database Server VM is clickable. You can click the nodes to view the AG and database server VM used by each node.Time Machine. Displays the name, description, age, and size of the time machine.Tags. Displays a list of the tags that are applied to this database server. You can click Update to set the tag values.", "Heading_Keywords": ["provis", "sql", "server", "avail", "databas"]}, {"Heading": "SQL Server Database Clone", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-clone-sql-server-c.html", "Document Name": "Era User Guide", "Content": "You can create clones either to a point in time (by using transaction logs) or by using snapshots. If you want to use snapshots to clone the source database, you select an available snapshot and the source database is cloned to a state when the snapshot is taken. If you want to clone the source database at a point in time, you select the clone time and the source database is cloned to a state then. Creating Single Node Database ClonesCreating AG Database ClonesCreating Database Group ClonesEra allows you to create database group clones by using snapshots. If you want to use snapshots to clone the group database, you select an available snapshot and the group database is cloned to a state when the snapshot is taken. Creating Single Node Database ClonesBefore you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone an SQL Server database.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the SQL Server source database you want to clone, click the Actions drop-down list and then select Create Database Clone > Database. The Create SQL Server Database Clone from Time Machine window appears. You clone the database in the following steps:Time/SnapshotDatabase Server VMDatabaseIn the Time/Snapshot step, select the clone time to which you want to clone the database. Do the following to select the time.Select the Nutanix cluster on which you want to clone the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Do one of the following:Point in time. Select this option if you want to clone the source database to a point in time. If you select this option, the database is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source database by using the available snapshots.Click Next.Figure. SQL Server Database CloneClick to enlargeIn the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the database on the newly created target database server VM.Use Authorized Server. Select this option to clone the database to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name for the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Windows License Key. Type the Windows license key for the target database server VM.Administrator Password. Type the password of the administrator account of the Windows server.Join Domain. Select this check box if you want to join to a specific domain and then select the Windows domain profile from the drop-down list of the Windows Domain Profile available.For example, if you have created an administrator group and you want to add another user to that group, then you can select join domain option to join the respective group. Domain User Account. Type a domain user account that will be added as a member of administrators user group on the database server.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the Database step, do the following in the indicated fields.Clone Name. Type a name for the cloned database on Era.Description. Type a description for the cloned database.Database Name on VM. Type a name for the cloned database on the VM.Instance Name. Type the name for the SQL Server instance on which the cloned database will be installed.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Use Mount Point. You can use a mount point location to clone and mount all the disks from the source database. Select this option and type the path of the mount point directory in Mount Point Path.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Note: All pre-clone and post-clone command scripts to be executed on the destination database server should be present in the database snapshot from which the specific database server is created. The snapshot can be Era automated snapshot or the closest snapshot to the Point In Time (PIT) restore selected. The scripts may be placed in any location in the source database server. The pre-clone and post-clone commands should comprise the complete path of the script, ready to be run from anywhere within the database server. Any failure in the execution of these scripts fails the entire operation and causes the operation to rollback.Figure. SQL Server Database CloneClick to enlargeClick Clone to successfully clone the source database.A message appears indicating that the operation to clone the database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone database appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.Creating AG Database ClonesBefore you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone the SQL Server database.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the SQL Server source database you want to clone, click the Actions drop-down list and then select Create Database Clone >  AG Database. The Create SQL Server AG Database Clone from Time Machine window appears. You clone the database in the following steps:Time/SnapshotServer ClusterAGDatabaseIn the Time/Snapshot step, select the clone time to which you want to clone the database. Do the following to select the time.Select the Nutanix cluster on which you want to clone the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Do one of the following:Point in time. Select this option if you want to clone the source database to a point in time. If you select this option, the database is cloned by using the transactional logs.Snapshot. Select this option if you want to clone the source database by using the available snapshots.Click Next.Figure. SQL Server AG Database CloneClick to enlargeIn the Server Cluster step, select one of the following.Create New Cluster. Select this option to create a target database server cluster and clone the AG database on the newly created target database server cluster.Use Registered Cluster. Select this option to clone the AG database to a database server cluster that you have already registered with Era.If you have selected Create New Cluster in the previous step, do the following in the indicated fields.Windows Cluster Name. Type a name of the database server cluster.Description. Type a description of the Windows cluster.Windows Domain Profile. Select a Windows domain profile from the list of profiles available.Network Profile. Select a network profile from the list of network profiles available.Under Database Server VMs in the Cluster, do the following in the indicated fields:Database Server VMs in the Cluster. Select the number of nodes for creating a cluster.Database Server VM Name Prefix. Type a name prefix for the database server VMs that will be added to the cluster server.Compute Profile. Select a compute profile from the list of compute profiles available.Windows License Key. Type the Windows license key for the target database server VM.Administrator Password. Type the password of an administrator account of the Windows server.Under SQL Server Instance, do the following in the indicated fields:Server Collation. The server collation acts as the default collation for all system databases that are installed with the instance of SQL Server and also any newly created databases. If you have selected the software profile in the previous step, this field is auto-populated with the appropriate value.Note: The server collation is specified during SQL Server installation. Default server-level collation is SQL_Latin1_General_CP1_CI_AS.Database Parameter Profile - Instance. Select the sample database parameter profile or select a database parameter profile from the list of database parameter profiles that you have created.SQL Server Authentication Mode. Select the authentication mode as either Windows Authentication or Mixed Authentication.If you have selected the Windows Authentication mode during SQL Server installation, the server authentication logon is disabled and a password is assigned by setup. If you change the authentication mode to Mixed Authentication, the server authentication logon remains disabled.SQL Service Startup Account. Type the domain user account to be used to run SQL service.SQL Service Startup Account Password. Type the password for SQL service account.Under Grant Access to the Database Server, in Domain User Account field, type a domain user account that is added as a member of administrators user group on the database server VM.Click Next.If you have selected Use Registered Cluster in the previous step, select a target database server cluster from the list of available database server clusters that are registered with Era and click Next.In the AG step, select one of the following:Create New AG. Select this option if you want to create a new AG. Use Existing AG. Select this option if you want to use the AG that you have created previously.If you have selected Create New AG in the previous step, do the following in the indicated fields.Always on Availability Group Name. Type a name for the always on availability group that you want to create.Under Select database servers for the new database and set their attributes, select the database server and set the attributes for each database in the cluster. You can set the following attributes.Primary. Select this check box if you want to set the selected node as primary.Note: One node must be selected as primary.Auto Failover. Select this check box to enable automatic failover on the selected node. If you enable this option, automatic failover happens to the node that you have selected if the primary node fails.Availability Mode. Select the availability mode as either Synchronous commit or Asynchronous commit. If you selected synchronous commit, data is committed to both primary and secondary nodes at the same time. For asynchronous commit, data is committed to primary first and then after some time-interval, data is committed to the secondary nodes.Note: For more information about the availability modes, see Microsoft Documentation.Readable Secondary. Select either Yes, No or Read-Intent Only. For more information, see Microsoft Documentation.If you have selected Use Existing AG in the previous step, do the following in the indicated fields.Under Always on Availability Groups on the Cluster, select the availability group from the list of the availability groups available.You can hover over the values in the database servers and databases in AG column to view the database servers and databases associated with each AG.Note: AG cloning across different clusters is not supported, hence only those availability groups which are provisioned on a single cluster will be listed in the drop-down list.Click Next.In the Database step, do the following in the indicated fields.Clone Name. Type a name of the cloned database on Era.Description. Type a description of the cloned database.Database Name on VM. Type a name of the cloned database on the VM.Instance Name. Type the name of the SQL Server instance on which the cloned database will be installed.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Use Mount Point. You can use a mount point location to clone and mount all the disks from the source database. Select this option and type the path of the mount point directory in Mount Point Path.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Note: All pre-clone and post-clone command scripts to be executed on the destination database server should be present in the database snapshot from which the specific database server is created. The snapshot can be Era automated snapshot or the closest snapshot to the Point In Time (PIT) restore selected. The scripts may be placed in any location in the source database server. The pre-clone and post-clone commands should comprise the complete path of the script, ready to be run from anywhere within the database server. Any failure in the execution of these scripts fails the entire operation and causes the operation to rollback.Click Clone to successfully clone the source database.A message appears indicating that the operation to clone the database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone database appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.Creating Database Group ClonesEra allows you to create database group clones by using snapshots. If you want to use snapshots to clone the group database, you select an available snapshot and the group database is cloned to a state when the snapshot is taken. Before you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone the SQL Server database group.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the SQL Server database group you want to clone, click the Actions drop-down list and then select Create Clone of Database Group . The Create a Clone of SQL Server Database Group from Time Machine window appears. You clone the database group in the following steps:Time/SnapshotDatabase Server VMDatabaseIn the Time/Snapshot step, select the clone time to which you want to clone the database. Do the following to select the time.Select the Nutanix cluster on which you want to clone the database group.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Select a available snapshot from the Snapshot drop-down list.Click Next.Figure. Database Group Cloning DetailsClick to enlargeIn the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the database on the newly created target database server VM.Use Authorized Server. Select this option to clone the database to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name for the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Windows License Key. Type the Windows license key for the target database server VM.Administrator Password. Type the password of the administrator account of the Windows server.Join Domain. Select this check box if you want to join to a specific domain and then select the Windows domain profile from the drop-down list of the Windows Domain Profile available.For example, if you have created an administrator group and you want to add another user to that group, then you can select join domain option to join the respective group. Domain User Account. Type a domain user account that will be added as a member of administrators user group on the database server.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the Database step, do the following in the indicated fields.Database Group Clone Name. Type a name of the cloned database group on Era.Description. Type a description of the cloned database group.Databases to include in the clone. Select the database to be included in the clone.(Optional) Add Prefix to Database Names. Type a prefix for the selected databases.(Optional) Add Suffix to Database Names. Type a suffix for the selected databases.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Use Mount Point. You can use a mount point location to clone and mount all the disks from the source database. Select this option and type the path of the mount point directory in Mount Point Path.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Note: All pre-clone and post-clone command scripts to be executed on the destination database server should be present in the database snapshot from which the specific database server is created. The snapshot can be Era automated snapshot or the closest snapshot to the Point In Time (PIT) restore selected. The scripts may be placed in any location in the source database server. The pre-clone and post-clone commands should comprise the complete path of the script, ready to be run from anywhere within the database server. Any failure in the execution of these scripts fails the entire operation and causes the operation to rollback.Figure. Database Group Cloning DetailsClick to enlargeClick Clone to successfully clone the source database.A message appears indicating that the operation to clone the database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone database appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["sql", "server", "databas", "clone"]}, {"Heading": "Creating Single Node Database Clones", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-database-clones-sql-server-t.html", "Document Name": "Era User Guide", "Content": "Before you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone an SQL Server database.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the SQL Server source database you want to clone, click the Actions drop-down list and then select Create Database Clone > Database. The Create SQL Server Database Clone from Time Machine window appears. You clone the database in the following steps:Time/SnapshotDatabase Server VMDatabaseIn the Time/Snapshot step, select the clone time to which you want to clone the database. Do the following to select the time.Select the Nutanix cluster on which you want to clone the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Do one of the following:Point in time. Select this option if you want to clone the source database to a point in time. If you select this option, the database is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source database by using the available snapshots.Click Next.Figure. SQL Server Database CloneClick to enlargeIn the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the database on the newly created target database server VM.Use Authorized Server. Select this option to clone the database to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name for the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Windows License Key. Type the Windows license key for the target database server VM.Administrator Password. Type the password of the administrator account of the Windows server.Join Domain. Select this check box if you want to join to a specific domain and then select the Windows domain profile from the drop-down list of the Windows Domain Profile available.For example, if you have created an administrator group and you want to add another user to that group, then you can select join domain option to join the respective group. Domain User Account. Type a domain user account that will be added as a member of administrators user group on the database server.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the Database step, do the following in the indicated fields.Clone Name. Type a name for the cloned database on Era.Description. Type a description for the cloned database.Database Name on VM. Type a name for the cloned database on the VM.Instance Name. Type the name for the SQL Server instance on which the cloned database will be installed.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Use Mount Point. You can use a mount point location to clone and mount all the disks from the source database. Select this option and type the path of the mount point directory in Mount Point Path.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Note: All pre-clone and post-clone command scripts to be executed on the destination database server should be present in the database snapshot from which the specific database server is created. The snapshot can be Era automated snapshot or the closest snapshot to the Point In Time (PIT) restore selected. The scripts may be placed in any location in the source database server. The pre-clone and post-clone commands should comprise the complete path of the script, ready to be run from anywhere within the database server. Any failure in the execution of these scripts fails the entire operation and causes the operation to rollback.Figure. SQL Server Database CloneClick to enlargeClick Clone to successfully clone the source database.A message appears indicating that the operation to clone the database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone database appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["creat", "singl", "node", "databas", "clone"]}, {"Heading": "Creating AG Database Clones", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-create-database-clone-sqlserver-group-database-t.html", "Document Name": "Era User Guide", "Content": "Before you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone the SQL Server database.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the SQL Server source database you want to clone, click the Actions drop-down list and then select Create Database Clone >  AG Database. The Create SQL Server AG Database Clone from Time Machine window appears. You clone the database in the following steps:Time/SnapshotServer ClusterAGDatabaseIn the Time/Snapshot step, select the clone time to which you want to clone the database. Do the following to select the time.Select the Nutanix cluster on which you want to clone the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Do one of the following:Point in time. Select this option if you want to clone the source database to a point in time. If you select this option, the database is cloned by using the transactional logs.Snapshot. Select this option if you want to clone the source database by using the available snapshots.Click Next.Figure. SQL Server AG Database CloneClick to enlargeIn the Server Cluster step, select one of the following.Create New Cluster. Select this option to create a target database server cluster and clone the AG database on the newly created target database server cluster.Use Registered Cluster. Select this option to clone the AG database to a database server cluster that you have already registered with Era.If you have selected Create New Cluster in the previous step, do the following in the indicated fields.Windows Cluster Name. Type a name of the database server cluster.Description. Type a description of the Windows cluster.Windows Domain Profile. Select a Windows domain profile from the list of profiles available.Network Profile. Select a network profile from the list of network profiles available.Under Database Server VMs in the Cluster, do the following in the indicated fields:Database Server VMs in the Cluster. Select the number of nodes for creating a cluster.Database Server VM Name Prefix. Type a name prefix for the database server VMs that will be added to the cluster server.Compute Profile. Select a compute profile from the list of compute profiles available.Windows License Key. Type the Windows license key for the target database server VM.Administrator Password. Type the password of an administrator account of the Windows server.Under SQL Server Instance, do the following in the indicated fields:Server Collation. The server collation acts as the default collation for all system databases that are installed with the instance of SQL Server and also any newly created databases. If you have selected the software profile in the previous step, this field is auto-populated with the appropriate value.Note: The server collation is specified during SQL Server installation. Default server-level collation is SQL_Latin1_General_CP1_CI_AS.Database Parameter Profile - Instance. Select the sample database parameter profile or select a database parameter profile from the list of database parameter profiles that you have created.SQL Server Authentication Mode. Select the authentication mode as either Windows Authentication or Mixed Authentication.If you have selected the Windows Authentication mode during SQL Server installation, the server authentication logon is disabled and a password is assigned by setup. If you change the authentication mode to Mixed Authentication, the server authentication logon remains disabled.SQL Service Startup Account. Type the domain user account to be used to run SQL service.SQL Service Startup Account Password. Type the password for SQL service account.Under Grant Access to the Database Server, in Domain User Account field, type a domain user account that is added as a member of administrators user group on the database server VM.Click Next.If you have selected Use Registered Cluster in the previous step, select a target database server cluster from the list of available database server clusters that are registered with Era and click Next.In the AG step, select one of the following:Create New AG. Select this option if you want to create a new AG. Use Existing AG. Select this option if you want to use the AG that you have created previously.If you have selected Create New AG in the previous step, do the following in the indicated fields.Always on Availability Group Name. Type a name for the always on availability group that you want to create.Under Select database servers for the new database and set their attributes, select the database server and set the attributes for each database in the cluster. You can set the following attributes.Primary. Select this check box if you want to set the selected node as primary.Note: One node must be selected as primary.Auto Failover. Select this check box to enable automatic failover on the selected node. If you enable this option, automatic failover happens to the node that you have selected if the primary node fails.Availability Mode. Select the availability mode as either Synchronous commit or Asynchronous commit. If you selected synchronous commit, data is committed to both primary and secondary nodes at the same time. For asynchronous commit, data is committed to primary first and then after some time-interval, data is committed to the secondary nodes.Note: For more information about the availability modes, see Microsoft Documentation.Readable Secondary. Select either Yes, No or Read-Intent Only. For more information, see Microsoft Documentation.If you have selected Use Existing AG in the previous step, do the following in the indicated fields.Under Always on Availability Groups on the Cluster, select the availability group from the list of the availability groups available.You can hover over the values in the database servers and databases in AG column to view the database servers and databases associated with each AG.Note: AG cloning across different clusters is not supported, hence only those availability groups which are provisioned on a single cluster will be listed in the drop-down list.Click Next.In the Database step, do the following in the indicated fields.Clone Name. Type a name of the cloned database on Era.Description. Type a description of the cloned database.Database Name on VM. Type a name of the cloned database on the VM.Instance Name. Type the name of the SQL Server instance on which the cloned database will be installed.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Use Mount Point. You can use a mount point location to clone and mount all the disks from the source database. Select this option and type the path of the mount point directory in Mount Point Path.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Note: All pre-clone and post-clone command scripts to be executed on the destination database server should be present in the database snapshot from which the specific database server is created. The snapshot can be Era automated snapshot or the closest snapshot to the Point In Time (PIT) restore selected. The scripts may be placed in any location in the source database server. The pre-clone and post-clone commands should comprise the complete path of the script, ready to be run from anywhere within the database server. Any failure in the execution of these scripts fails the entire operation and causes the operation to rollback.Click Clone to successfully clone the source database.A message appears indicating that the operation to clone the database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone database appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["creat", "ag", "databas", "clone"]}, {"Heading": "Creating Database Group Clones", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-create-database-clone-sqlserver-cluster-database-t.html", "Document Name": "Era User Guide", "Content": "Era allows you to create database group clones by using snapshots. If you want to use snapshots to clone the group database, you select an available snapshot and the group database is cloned to a state when the snapshot is taken. Before you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone the SQL Server database group.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the SQL Server database group you want to clone, click the Actions drop-down list and then select Create Clone of Database Group . The Create a Clone of SQL Server Database Group from Time Machine window appears. You clone the database group in the following steps:Time/SnapshotDatabase Server VMDatabaseIn the Time/Snapshot step, select the clone time to which you want to clone the database. Do the following to select the time.Select the Nutanix cluster on which you want to clone the database group.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Select a available snapshot from the Snapshot drop-down list.Click Next.Figure. Database Group Cloning DetailsClick to enlargeIn the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the database on the newly created target database server VM.Use Authorized Server. Select this option to clone the database to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name for the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Windows License Key. Type the Windows license key for the target database server VM.Administrator Password. Type the password of the administrator account of the Windows server.Join Domain. Select this check box if you want to join to a specific domain and then select the Windows domain profile from the drop-down list of the Windows Domain Profile available.For example, if you have created an administrator group and you want to add another user to that group, then you can select join domain option to join the respective group. Domain User Account. Type a domain user account that will be added as a member of administrators user group on the database server.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the Database step, do the following in the indicated fields.Database Group Clone Name. Type a name of the cloned database group on Era.Description. Type a description of the cloned database group.Databases to include in the clone. Select the database to be included in the clone.(Optional) Add Prefix to Database Names. Type a prefix for the selected databases.(Optional) Add Suffix to Database Names. Type a suffix for the selected databases.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Use Mount Point. You can use a mount point location to clone and mount all the disks from the source database. Select this option and type the path of the mount point directory in Mount Point Path.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Note: All pre-clone and post-clone command scripts to be executed on the destination database server should be present in the database snapshot from which the specific database server is created. The snapshot can be Era automated snapshot or the closest snapshot to the Point In Time (PIT) restore selected. The scripts may be placed in any location in the source database server. The pre-clone and post-clone commands should comprise the complete path of the script, ready to be run from anywhere within the database server. Any failure in the execution of these scripts fails the entire operation and causes the operation to rollback.Figure. Database Group Cloning DetailsClick to enlargeClick Clone to successfully clone the source database.A message appears indicating that the operation to clone the database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone database appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["creat", "databas", "group", "clone"]}, {"Heading": "Restoring a SQL Server Database", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-restoring-a-sql-server-database-t.html", "Document Name": "Era User Guide", "Content": "You can restore your SQL Server database from the Database home page or the Time Machine page.About this taskPerform the following procedure to restore a SQL Server database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources and click the database you want to restore.You can restore a database by doing any one of the following.Click Restore in the database summary page. The Restore Source Database window appears.Click the time machine name in the Time Machine widget.In the Actions drop-down list, select Restore Source Database.The Restore Source Database window appears.Figure. Database Home PageClick to enlargeYou can restore a database in the following steps:Recovery PointData/LocationIn the Recovery Point step, you can view a timeline of the data available for restore.Tail Logs (database will be placed in restoring state). Select this option to backup all the additional logs in the time machine.If logs are available for the last backup, the Tail Logs option gets selected by default, thus ensuring that you backup all the additional logs in the Time Machine.Note: If the database state is Online and you trigger the tail logs backup, then the database state changes to RESTORING.Click Next.A confirmation box to place the database in restored state is displayed. Type the database name and click Backup and Place in Restoring State to start the backup and recovery operations.Figure. Database Restore - Recovery PageClick to enlargeIn the Data/Location step, do the following.Select Point in Time or  Snapshot.If you select Point in Time, then enter the time to which you want to restore your database. If you select the  Snapshot option, then select the snapshot you want to use for restoring the database from the drop-down list.Select Original Location or New Location (mount point). Enter the path if you want to restore the database at a new location.If you want to investigate an issue in the database, you can restore the database at a new location. Then, you can carry out the investigation on the database at the original location.Note: In the case of the original location, if the files are not associated with the database found on the disk, then the database files get replaced, which is a slower operation. If the disk only contains files associated with this database, the disk gets replaced, which is a faster operation.Figure. Database Restore - Data/Location PageClick to enlargeClick Restore.A message appears at the top of the page stating that the restore operation has started. You can click on the message to view the status.", "Heading_Keywords": ["restor", "sql", "server", "databas"]}, {"Heading": "Patching a SQL Server Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-patching-database-sql-server-t.html", "Document Name": "Era User Guide", "Content": "About this taskPerform the following procedure to apply updates from the available software profile versions to a provisioned/registered database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List and click the database server VM for which you want to update the software profile version.The Database Server VM Summary page appears.Go to the Software Profile Version widget and click Update. The Update Database Server VM window appears.The Software Profile Version widget displays the current version, recommended version, and the status of the software profile version. Note: The Update option only appears when a new software profile version is available.For registered database server VMs which have not been patched in Era, do the following in the indicated fields:Software Profile. Select a software profile from the drop-down list.Version. Select a software profile version from the drop-down list.Under Start Update, select one of the following:Now. Select this option if you want to start updating the software version now.Later. Select this option and then select the day and time if you want to create a schedule for patching the software profile version.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Figure. SQL Server Patching for Newly Registered Database Server VMClick to enlargeFor registered database server VMs and provisioned database server VMs which have been patched at least once in Era, do the following in the indicated fields:Update to Software Profile Version. Select a software profile version to update from the drop-down list.Under Start Update, select one of the following:Now. Select this option if you want to start updating the software version now.Later. Select this option and then select the day and time if you want to create a schedule for patching the software profile version.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Figure. SQL Server Patching for Existing Database Server VMClick to enlargeProvide the database server VM name as confirmation and click Update.A message appears at the top indicating that the operation to update a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.", "Heading_Keywords": ["patch", "sql", "server", "databas", "server", "vm"]}, {"Heading": "Patching a SQL Server Database Server Cluster", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-patching-AG-database-sql-server-t.html", "Document Name": "Era User Guide", "Content": "About this taskPerform the following procedure to apply updates from the available software profile versions to a provisioned/registered database server cluster (Windows cluster). Patches are applied in a rolling upgrade.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List and click the database server cluster for which you want to update the software profile version.The Server Cluster Summary page appears.Go to the Software Profile Version widget and click Update. The Update Windows Cluster window appears.The Software Profile Version widget displays the current version, recommended version, and the status of the software profile version. Note: The Update option only appears when a new software profile version is available.For registered database server clusters which have not been patched in Era, do the following in the indicated fields:Software Profile. Select a software profile from the drop-down list.Version. Select a software profile version from the drop-down list.Under Start Update, select one of the following:Now. Select this option if you want to start updating the software version now.Later. Select this option and then select the day and time if you want to create a schedule for patching the software profile version.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Figure. SQL Server Patching for Registered Database Server VMClick to enlargeFor registered database server clusters and provisioned database server clusters which have been patched at least once in Era, do the following in the indicated fields:Update to Software Profile Version. Select a software profile version to update from the drop-down list.Under Start Update, select one of the following:Now. Select this option if you want to start updating the software version now.Later. Select this option and then select the day and time if you want to create a schedule for patching the software profile version.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Figure. SQL Server AG Patching for Existing Database Server VMClick to enlargeProvide the Windows cluster name as confirmation and click Update.A message appears at the top indicating that the operation to update a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.", "Heading_Keywords": ["patch", "sql", "server", "databas", "server", "cluster"]}, {"Heading": "PostgreSQL Database Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-postgresql-db-management-c.html", "Document Name": "Era User Guide", "Content": "Era enables you to register, provision, clone and administer all your PostgreSQL (Single instance and HA) databases in a single-click. Current LimitationsPostgreSQL Database ProfilesPostgreSQL Database ProvisioningPostgreSQL Database RegistrationPostgreSQL Database CloneRestoring a PostgreSQL DatabaseRestoring allows you to restore a source database registered with Era to a snapshot or point-in-time supported by the source database time machine. You can restore a database by using a snapshot ID, Point in Time Recovery (PITR) timestamp, or the latest snapshot.Patching a PostgreSQL Database Server VMPatching a PostgreSQL Database Server ClusterCurrent LimitationsEra has the following limitations for PostgreSQLEra does not support provisioning multiple PostgreSQL instances in the same database server VM. Era does not support provisioning multiple PostgreSQL clones in the same database server VM.Era does not support registration of brownfield Highly Available instances.PostgreSQL Database ProfilesProfiles enable you to create templates of database software, networking, compute, and database parameters which help you to successfully provision databases or database server VMs on Era.Creating a Software ProfileCreating a Software Profile VersionUpdating a Software Profile VersionCreating a Compute ProfileCreating a Network ProfileA network profile specifies the VLAN for the new database server. Creating a HA Instance Network ProfileA network profile specifies the VLAN for the new database server VM. With Era's multi-cluster capability, you can create a network profile specifying the VLANs to be used for each Nutanix cluster while provisioning a HA instance across different Nutanix clusters. Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. Creating a Software ProfileBefore you beginEnsure that you have registered an existing PostgreSQL database server VM with Era. Era uses a registered database server VM to create a software profile.About this taskA software profile is a template that includes the PostgreSQL instance and operating system. After you have registered an existing PostgreSQL database server VM with Era, Era creates a software template from the PostgreSQL database server VM you have previously registered. For more information about supported built-in profiles, see Era Release Notes.Note: Create a software profile only if you do not want to use or update the built-in sample profile (POSTGRES_10.4_OOB).A software profile is created from the software installed on the registered instances. Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software, click Create, and select either Instance or HA Instance under the PostgreSQL engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: The database server VM used for creating the software profile for HA instance must have patroni, haproxy, etcd, and keepalived software installed. You can contact Era support to create a custom profile if you do not want to use the out-of-the-box profile.Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a new version of the software profile. For more information, see Creating a Software Profile Version .Creating a Software Profile VersionAbout this taskSoftware profile version is required when you update a database server VM to a new update version available. You can create a software profile version to provision and update other database server VMs using this software profile. Perform the following procedure to create a version of the software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Click Create. The Create Software Profile Version window appears. You create a software profile in the following steps:SoftwareNotesIn the Software step, do the following in the indicated fields, do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Figure. Creating a Software Profile VersionClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile version.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Create.Era creates a version of the software profile for provisioning and updating other database server VMs using this software profile and displays in the list. Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version, patches, and bug fixes. Click the + icon to view the bug fixes for the respective PSU.Database Server VMs. Displays the database server VMs that are using this version of the profile.Availability. Displays the profile availability across clusters.Updating a Software Profile VersionAbout this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile should update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message will be displayed on the homepages of the DB Server VMs and Server Clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.Creating a Compute ProfileAbout this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: Create a compute profile only if you do not want to use the sample profile (DEFAULT_OOB_COMPUTE).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.Creating a Network ProfileA network profile specifies the VLAN for the new database server. Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskCreate a network profile as a sample network profile is not available in Era. You can create a sample network profile either by using the Welcome to Era wizard, or by performing the following procedure.Perform the following procedure to create a network profile for PostgreSQL.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select either Instance or HA Instance under the PostgreSQL engine. The Create Network Profile window appears. If you selected PostgreSQL Instance, do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option.You can add one or more VLANs to Era. For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Figure. PostgreSQL Single Instance Network ProfileClick to enlargeIf you selected PostgreSQL HA Instance, do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Under Show Nutanix Clusters where the VLAN's IP Address Pool is, select one of the following.Managed in Era. Select this option to display the VLANs managed by Era in the cluster.Managed Outside Era. Select this option to display the VLANs managed outside Era in the cluster.Select the Nutanix cluster and VLAN to be used in the profile.Figure. PostgreSQL HA Network ProfileClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.Creating a HA Instance Network ProfileA network profile specifies the VLAN for the new database server VM. With Era's multi-cluster capability, you can create a network profile specifying the VLANs to be used for each Nutanix cluster while provisioning a HA instance across different Nutanix clusters. Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskPerform the following procedure to create a network profile for PostgreSQL.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select HA Instance under the PostgreSQL engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Under Show Nutanix Clusters where the VLAN's IP Address Pool is, select one of the following.Managed in Era. Select this option to display the VLANs managed by Era in the Nutanix clusters.Managed Outside Era. Select this option to display the VLANs managed outside Era in the Nutanix clusters.Select all the Nutanix clusters and the VLANs configured in those clusters to be used with the profile.Figure. PostgreSQL HA Network ProfileClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and VLANs associated with the respective profile.Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a database parameters profile only if you do not want to use the sample database parameter profile.Perform the following procedure to create a database parameters profile for PostgreSQL.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, select PostgreSQL as the database engine and click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.The parameters in the profile are populated with the recommended values and are optional to configure. You can update these parameters to suit your requirements. Click the page navigation arrows to display all the available parameters. To search for a parameter, type the name of the parameter in the search text box. The Value column displays the default values of the parameters. You can choose to update the value of the parameters to suit your requirements. If you want to display only those parameters that you have updated, select the Modified Only option.Figure. Database Parameters ProfileClick to enlargeNote: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.PostgreSQL Database ProvisioningYou can provision database server VMs and databases on the Nutanix cluster. As part of the database provisioning process, you can either create a database server VM on which you provision the database or select a database server VM that you have already provisioned.You use the built-in database parameter profiles or profiles you created to provision the databases.You can provision both a PostgreSQL instance and PostgreSQL HA instance. With Era's multi-cluster capability, both PostgreSQL instance and HA instances can be provisioned across different Nutanix clusters.Database Server VM Provisioning PrerequisitesProvisioning a PostgreSQL Database Server VMProvisioning a PostgreSQL InstanceProvisioning a Highly Available PostgreSQL InstanceDatabase Server VM Provisioning PrerequisitesComplete the following tasks before you start provisioning a database server VM.Create a software profile. Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Windows Domain profiles are required when provisioning a Database Server VM for SQL Server, and the Database Server VM will be added to a domain.Generate an SSH key for database provisioning on Linux-based operating systems (see Additional Information: Generating an SSH Key (Windows) ). Provisioning a PostgreSQL Database Server VMBefore you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select the PostgreSQL engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Provisioning a PostgreSQL InstanceBefore you beginEnsure that you have created a software profile if you do not want to use the built-in software profile. For more information, see Creating a Software Profile.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning an instance.Perform the following procedure to provision a PostgreSQL instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select Instance under the PostgreSQL engine. The Provision a PostgreSQL Instance window appears. You provision an instance in the following steps:Database Server VMInstanceTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one of the following.Create New Server. Select this option if you want to provision an instance on a new database server VM.Use Registered Server. Select this option if you want to provision an instance on a database server VM that you have previously registered with Era.If you have selected Create New Server in the previous step, do the following under New Database Server VM.Database Server VM Name. Type a name of the database server VM. The name that you provide in this field is used as the virtual machine name created for the PostgreSQL instance.Description. Type a description of the database server VM.Select the Nutanix cluster on which you want to provision the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use Registered Server in the previous step, select the database server VM on which you want to provision the instance and click Next.Figure. Provisioning DetailsClick to enlargeIn the Instance step, do the following in the indicated fields.PostgreSQL Instance Name. Type a name of the instance.Description. Type a description of the instance.Listener Port. By default, this field is populated with the port number 5432 of a PostgreSQL instance. Size (GiB). Type the size of the node in GB.POSTGRES password. Type the password of the PostgreSQL superuser account.Name of Initial Database. Type the name of the initial database that will be created in the PostgreSQL instance.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management. Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era.For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision an instance has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the instance appears in the list of the provisioned database. Click the name of the instance to open the homepage for the selected instance. This page displays the following widgets:PostgreSQL Instance Summary. Displays a brief summary of the instance that includes name, description, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Database Instances. Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Provisioning a Highly Available PostgreSQL InstanceYou can provision a highly available PostgreSQL instance to avoid service disruption when there is a node failure. When you provision a HA PostgreSQL instance, Era provisions multiple nodes of a PostgreSQL instance. One of the nodes in the cluster acts as the master and other nodes serve as replicas. The master node is used for both read and write operation while the replicas are used only for the read-only requests. When a primary node becomes unavailable, one of the replicas is promoted to the role of master, hence ensuring availability of database for all the write operations.When you provision a Highly Available cluster, Era creates a Time Machine for it. The Time Machine selects the master node of the cluster as the active node for its operations. In the event of a failover or switchover, Era auto-detects such changes, and the Time Machine selects the new master as the active node. As long as a master node is available in the cluster, the Time Machine continues to function seamlessly. If there is an entire cluster breakdown, the Time Machine activities would stop until the cluster is repaired, and a new master node is elected.A three node cluster consists of three PostgreSQL nodes, two HAProxy nodes and a virtual IP address that floats between the two HAProxy servers. Each PostgreSQL node runs a PostgreSQL database, Etcd, and Patroni software. Each HAProxy node has one Keepalived software running that assigns virtual IP address to one of the HAProxy nodes. If one HAProxy node fails, Keepalived binds the virtual IP address to the second HAProxy node. HAProxy nodes then redirect the traffic to either master or replica nodes based on the port (read/write or read-only) selected.Software Required for HA PostgreSQL Instance (Cluster Database) ProvisioningEtcdEtcd is a fault-tolerant, open source, distributed key-value store that is used to store the state of the PostgreSQL cluster. Through Patroni, all the PostgreSQL nodes use etcd as a distributed configuration store to maintain the state of the PostgreSQL cluster. Patroni uses etcd for leader election and storing the PostgreSQL configuration parameters. Era uses etcd version 3.3.11. For more information about etcd, see Etcd Documentation.PatroniPatroni is an open source Python package that manages PostgreSQL configuration. Patroni manages the state of the cluster and handles the failover of the master node to replicas when needed. Era uses Patroni version 1.5.6. For more information, see Patroni Documentation.HAProxyHAProxy is free, open source software that provides a High Availability load balancer and proxy server for TCP and HTTP-based applications that spread requests across multiple servers. HAProxy is used to direct the traffic to the appropriate node. Based on the port number provided by you, HAProxy redirects the traffic either to master or replica node. If read or write port is selected, the traffic goes to the master. Otherwise, traffic is randomly distributed within the replica nodes. Era uses HAProxy version 1.8.20. For more information about HAProxy, see HAProxy Documentation.KeepalivedKeepalived uses virtual IP address to provide the single end point of the cluster. Initially, Keepalived assigns the virtual IP address to HAProxy node 1 and then based on the port selected, HAProxy redirects traffic to either master or asynchronous replica nodes. In the event that HAProxy node 1 fails, Keepalived reassigns the virtual IP address to HAProxy node 2. At a given time, virtual IP address is bound to only one HAProxy node if the node is up and running. Era uses Keepalived version 1.3.5. For more information about Keepalived, see Keepalived Documentation.Provisioning a HA PostgreSQL Instance (Cluster Database)Provisioning a HA PostgreSQL Instance (Cluster Database)Before you beginTo create your own profile on the Operation System of your choice, contact Nutanix support.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning an instance.Perform the following procedure to provision a HA PostgreSQL instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select HA Instance under the PostgreSQL engine. The Provision a PostgreSQL HA Instance window appears. You provision a HA instance in the following steps:Server ClusterDatabase Server VMHAInstanceTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Server Cluster step, do the following in the indicated fields.Server Cluster Name. Type a name for the server cluster.The server cluster is a set of all VMs which make up the PostgreSQL HA instance. It includes the PostgreSQL database VMs and the HAProxy VMs if provisioned.Description. Type a description for the server cluster.Network Profile. Select a network profile from the drop-down list of network profiles available.Select the Nutanix cluster on which the server cluster will be hosted. The number of clusters displayed is based on the network profile selected in the previous step.Figure. Provision HA Instance DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Under Attributes of All Database Server VMs, do the following in the indicated fields:Software Profile. Select POSTGRES_10.4_HA_ENABLED_OOB as the software profile.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Archive Log Destination (File Share). Type a path to a file share which can be used as an archive store for replication.The path must be of the following format: File_Server:directory_to_be_shared. Example: 1.2.3.4:/path/to/folderNote: If you do not provide a Archive Log Destination, Era uses a volume group which is attached to one of the n-node PG VMs as the archive store for replication. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Under Attributes of Individual Database Server VMs, do the following in the indicated fields:Click Add to add a database server VM. You can select the cluster on which the database server VM must be added.Note: Three database server VMs are added by default.Click Remove to remove a database server VM.Database server VM names are auto-populated based on the Server Cluster Name. You can type or edit the name prefix for the database server VM.Click Next.In the HA step, do the following in the indicated fields.Name. Type a name of the Patroni cluster. Patroni uses this name to administer the Nutanix cluster.Create HAProxy Servers. Select this check box if you want HA proxy to direct traffic to the master node. If you have selected the static network profile, Era provisions two HAProxy servers on new VMs. As a result, connections to the database are performed through the proxy with a floating IP address. If you have selected the DHCP-based network profile, Era provisions one HAProxy server on a new VM. As a result, connections to the database are done through the VM IP address.Read/Write Port. Enter a port number for read/write request. By default, Era uses port number 5000.Read Only Port. Enter a port number for read-only request. By default, Era uses port number 5001.Virtual IP Address. You can create a virtual IP address for the cluster if you choose to create the HAProxy servers on the same Nutanix cluster.Under Database Server VM Roles, select the database server VM and set the attributes for each database in the cluster. You can set the following attributes.Primary. Select this check box if you want to set the selected node as primary.Note: One node must be selected as primary.Auto Failover. Select this check box to enable automatic failover on the selected node. If you enable this option, automatic failover happens to the node that you have selected if the primary node fails.Enable Synchronous Replication. Select this option if you want to enable synchronous replication.Note: Era does not support provisioning more than one synchronous replica in a Highly Available instance.If the Enable Synchronous Replication option is selected, synchronous replication is enabled on one of the nodes in the cluster so that the node is always in sync with the master node.Click Next.Figure. Provisioning HA InstanceClick to enlargeIn the Instance step, do the following in the indicated fields.PostgreSQL Instance Name. Type a name of the instance.Description. Type a description of the instance.Listener Port. By default, this field is populated with the port number 5432 of a PostgreSQL instance. Size (GiB). Type the size of the node in GB.Name of Initial Database. Type the name of the initial database that will be created in the PostgreSQL instance.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.POSTGRES password. Type the password of the PostgreSQL superuser account.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeSelect the Nutanix clusters on which you want the snapshots to be available.Note: You can only select a single Nutanix cluster for Point-in-Time Recovery (PITR) SLAs.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision a HA instance has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the HA instance appears in the list of the provisioned database. Click the name of the instance to open the homepage for the selected instance. This page displays the following widgets:PostgreSQL HA Instance Summary. Displays a brief summary of the HA instance that includes name, description, deployment type, status, and version.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Databases. Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.PostgreSQL Instances. Displays the list of database instances created. Details such as name, primary and failover nodes, status, database server VM, IP addresses and time machine status is also displayed.Time Machine for instance. Displays the name, description, age, and size of the time machine.Server Cluster. Displays the name, virtual IP address, and OS details of the PostgreSQL server cluster. Tags. Displays a list of the tags that are applied to this database server. You can click Update to set the tag values.PostgreSQL Database RegistrationYou can register a source (production) database running on a Nutanix cluster with Era. When you register a database with Era, the database server VM (VM that hosts the source database) is also registered with Era. After you have registered a database with Era, a time machine is created for that database.The time machine takes periodic database snapshots and log catch-ups (see Era Time Machine Management). The time machine performs the snapshot and log catch-up operations as defined in the SLA that you have selected or created during the registration of the database (see SLA Management).PostgreSQL Database and Database Server VM Registration PrerequisitesRegistering a PostgreSQL Database Server VMRegistering a PostgreSQL InstancePostgreSQL Database and Database Server VM Registration PrerequisitesEnsure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Software Dependencies (Linux)To successfully register a database server VM with Era, database server VM must satisfy all the required software and configuration dependencies. (For more information about the software packages that must be installed, see Database Server VM Registration Pre-requirement Checks and Running Pre-requirement Script (Linux)).OS Configuration (Linux)SUDO NOPASS access is required.Linux OS root access is required.Install and configure crontab.Configure binary paths as secure_paths in the etc/sudoers file.Ensure that Prism APIs are callable from the VM./tmp folder must have read and write permissions.Disable requiretty setting on the source database to successfully register the database.Ensure that /etc/sudoers file includes the following line under defaults: secure_path = /sbin:/bin:/usr/sbin:/usr/binOS Configuration (Windows)Ensure that Prism APIs are callable from the VM.Registering a PostgreSQL Database Server VMBefore you beginEnsure that you meet the following requirements before you register a PostgreSQL database server VM with Era.For general requirements, see PostgreSQL Database and Database Server VM Registration PrerequisitesRegister only one instance on the host.Run the PostgreSQL processes.Enable the Wal logging.Ensure that you have DBA level access to the databases you want to add.Ensure that Era service has access to TCP 5432 or a custom port.About this taskPerform the following procedure to register an PostgreSQL database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VM.Go to List, click Register, and select the PostgreSQL engine. The Register Database Server VM window appears. Do the following in the indicated fields.Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM.Era Drive User. Type the username of the Era drive user account that has sudo access.PG Home. Type the path to the PostgreSQL home directory in which the PostgreSQL software is installed.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Figure. PostgreSQL Database Server VM RegistrationClick to enlargeClick Register to successfully register the database server VM.A message appears indicating that the operation to register a database server VM has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server VM appears in the list of the registered database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays the name, time zone, status, date of registration, and version of the database server VM.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server VM. You can also click See Description to view the steps to connect to the database server VM using SSH.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the database.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Registering a PostgreSQL InstanceBefore you beginEnsure that you meet the following requirements before you register a PostgreSQL instance with Era.For general requirements, see PostgreSQL Database and Database Server VM Registration PrerequisitesRegister only one instance on the host.Run the PostgreSQL processes.Enable the Wal logging.DBA level access is required for the databases that you want to add.Ensure that Era service has access to TCP 5432 or a custom port.About this taskPerform the following procedure to register a PostgreSQL instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select PostgreSQL. The Register a PostgreSQL Instance window appears. You register an instance in the following steps:Database Server VMInstanceTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.In the Database Server VM step, select one the following.Registered. Select this option if you want to register an instance running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the instance you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the instance you want to register is running, and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Select the Nutanix cluster on which you want to register the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM on which the instance you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.PG Home. Type the path to the PostgreSQL home directory in which the PostgreSQL software is installed.For example, if your pg_ctl binary is located in /usr/pgsql-10/bin folder, then PG Home is /usr/pgsql-10/.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Register PostgreSQL InstanceClick to enlargeIn the Instance step, do the following in the indicated fields.Instance Name in Era. Type a name of the instance that you want to be displayed in Era.Description. Type a description of the instance.Port. This field is populated with the default port number of a PostgreSQL instance.POSTGRES password. Type the password of the postgres superuser.Name of a Database on the Instance. Type the name of a database on the instance you want to register.Era will discover and register all the databases found on the instance at the port provided.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot on the. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register an instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the instance appears in the list of the registered database. Click the name of the instance to open the homepage for the selected instance. This page displays the following widgets:PostgreSQL Instance Summary. Displays a brief summary of the instance that includes name, description, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Database Instances. Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.PostgreSQL Database CloneYou can create clones either to a point in time (by using transaction logs) or by using snapshots. If you want to use snapshots to clone the source database, you select an available snapshot and the source database is cloned to a state when the snapshot is taken. If you want to clone the source database at a point in time, you select the clone time and the source database is cloned to a state then. Creating Database ClonesCreating Database ClonesBefore you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone an PostgreSQL instance.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the PostgreSQL source instance you want to clone, click Actions and select Create a Clone of the PostgreSQL Instance. The Create Clone of PostgreSQL Instance from Time Machine window appears. You clone the instance in the following steps:Time/SnapshotDatabase Server VMInstanceIn the Time/Snapshot step, select the clone time to which you want to clone the instance. Do the following to select the time.Select the Nutanix cluster on which you want to clone the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the instance.Do one of the following:Point in time. Select this option if you want to clone the source instance to a point in time. If you select this option, the instance is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source instance by using the available snapshots.Click Next.Figure. PostgreSQL Clone DetailsClick to enlargeIn the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the instance on the newly created target database server VM.Use an Authorized Server. Select this option to clone the instance to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name for the database server VM.Description. Type a description of the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database servers authorized, click the plus icon to authorize one or more database server VMs.In the Instance step, do the following in the indicated fields.Name. Type a name for the cloned instance.Description. Type a description for the cloned instance.POSTGRES Password. Type the password of the postgres superuser.Database Parameter Profile. Select a database parameters profile from the list of the profiles available.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Clone to successfully clone the source database.A message appears indicating that the operation to clone instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone instance appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.Restoring a PostgreSQL DatabaseRestoring allows you to restore a source database registered with Era to a snapshot or point-in-time supported by the source database time machine. You can restore a database by using a snapshot ID, Point in Time Recovery (PITR) timestamp, or the latest snapshot.Before you beginEnsure the following before you restore a PostgreSQL Database.Register the source database running on that cluster with Nutanix Era.Ensure that the database has a time machine that supports the required snapshot or point in time restore capability.About this taskA database restore operation replaces the current database with data as of the specified snapshot or point-in-time. The time machine for the source database is paused before a restore operation is initiated. After a successful restore, the time machine is automatically resumed that triggers a new snapshot and log catchup operation for the restored database. If the restore operation fails, the database is left in the state that it was before the restore was initiated.Note: Perform this operation with caution as there might be some data loss.Database restore operation is supported only for single instance databases.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources and click the database you want to restore.You can restore a database by doing any one of the following.Click Restore in the database summary page. The Restore Source Database window appears.Click the time machine name in the Time Machine widget.In the Actions drop-down list, select Restore Source Database.The Restore Source Database window appears.You can restore a database in the following steps:Recovery PointData/LocationIn the Recovery Point step, you can view a timeline of the data available for the restore. Write Ahead Logs. Select this check box to backup all the additional logs in the time machine.Note: This option con only be selected for time machines supporting continuous recovery.Shutdown the database after backup. This check box is selected by default. A confirmation box to shutdown the database is displayed when you click Next. Type the database name and click Shutdown to start the backup and recovery operations.Figure. Database Restore DetailsClick to enlargeIn the Data/Location step, do the following.Select any one of the following restore options.Point in Time. Select this option and enter the time to which you want to restore your database. Snapshot. Select this option and choose the snapshot you want to use for restoring the database from the drop-down list.Figure. Database Restore DetailsClick to enlargeClick Restore.A message appears at the top of the page stating that the restore operation has started. You can click on the message to view the status.Patching a PostgreSQL Database Server VMBefore you beginSoftware profile version is required when you update a database server VM to a new update version available. See Creating a Software Profile VersionAbout this taskPerform the following procedure to apply a minor version upgrade of the PostgreSQL software to an Era provisioned instance.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List and click the database server VM for which you want to update the software profile version.The Database Server VM Summary page appears.Go to the Software Profile Version widget and click Update. The Update Database Server VM window appears.The Software Profile Version widget displays the current version, recommended version, and the status of the software profile version.Do the following in the indicated fields:Update to Software Profile Version. Select a software profile version from the drop-down list.Under Start Update, select one of the following:Now. Select this option if you want to start updating the software version now.Later. Select this option and then select the day and time if you want to create a schedule for patching the software profile version.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Figure. PostgreSQL PatchingClick to enlargeProvide the database server VM name as confirmation and click Update.A message appears at the top indicating that the operation to update a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.Patching a PostgreSQL Database Server ClusterBefore you beginSoftware profile version is required when you update a database server cluster to a new update version available. See Creating a Software Profile VersionAbout this taskPerform the following procedure to apply a minor version upgrade of the PostgreSQL software to an Era provisioned HA instance.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List and click the database server cluster for which you want to update the software profile version.The Server Cluster Summary page appears.Go to the Software Profile Version widget and click Update. The Update DB Server VM Cluster window appears.The Software Profile Version widget displays the current version, recommended version, and the status of the software profile version.Do the following in the indicated fields:Update to Software Profile Version. Select a software profile version from the drop-down list.Under Start Update, select one of the following:Now. Select this option if you want to start updating the software version now.Later. Select this option and then select the day and time if you want to create a schedule for patching the software profile version.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Figure. PostgreSQL HA PatchingClick to enlargeProvide the database server cluster name as confirmation and click Update.A message appears at the top indicating that the operation to update a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.", "Heading_Keywords": ["postgresql", "databas", "manag"]}, {"Heading": "Current Limitations", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-limitations-postgresql-c.html", "Document Name": "Era User Guide", "Content": "Era has the following limitations for PostgreSQLEra does not support provisioning multiple PostgreSQL instances in the same database server VM. Era does not support provisioning multiple PostgreSQL clones in the same database server VM.Era does not support registration of brownfield Highly Available instances.", "Heading_Keywords": ["current", "limit"]}, {"Heading": "PostgreSQL Database Profiles", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-profiles-postgresql-c.html", "Document Name": "Era User Guide", "Content": "Profiles enable you to create templates of database software, networking, compute, and database parameters which help you to successfully provision databases or database server VMs on Era.Creating a Software ProfileCreating a Software Profile VersionUpdating a Software Profile VersionCreating a Compute ProfileCreating a Network ProfileA network profile specifies the VLAN for the new database server. Creating a HA Instance Network ProfileA network profile specifies the VLAN for the new database server VM. With Era's multi-cluster capability, you can create a network profile specifying the VLANs to be used for each Nutanix cluster while provisioning a HA instance across different Nutanix clusters. Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. Creating a Software ProfileBefore you beginEnsure that you have registered an existing PostgreSQL database server VM with Era. Era uses a registered database server VM to create a software profile.About this taskA software profile is a template that includes the PostgreSQL instance and operating system. After you have registered an existing PostgreSQL database server VM with Era, Era creates a software template from the PostgreSQL database server VM you have previously registered. For more information about supported built-in profiles, see Era Release Notes.Note: Create a software profile only if you do not want to use or update the built-in sample profile (POSTGRES_10.4_OOB).A software profile is created from the software installed on the registered instances. Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software, click Create, and select either Instance or HA Instance under the PostgreSQL engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: The database server VM used for creating the software profile for HA instance must have patroni, haproxy, etcd, and keepalived software installed. You can contact Era support to create a custom profile if you do not want to use the out-of-the-box profile.Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a new version of the software profile. For more information, see Creating a Software Profile Version .Creating a Software Profile VersionAbout this taskSoftware profile version is required when you update a database server VM to a new update version available. You can create a software profile version to provision and update other database server VMs using this software profile. Perform the following procedure to create a version of the software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Click Create. The Create Software Profile Version window appears. You create a software profile in the following steps:SoftwareNotesIn the Software step, do the following in the indicated fields, do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Figure. Creating a Software Profile VersionClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile version.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Create.Era creates a version of the software profile for provisioning and updating other database server VMs using this software profile and displays in the list. Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version, patches, and bug fixes. Click the + icon to view the bug fixes for the respective PSU.Database Server VMs. Displays the database server VMs that are using this version of the profile.Availability. Displays the profile availability across clusters.Updating a Software Profile VersionAbout this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile should update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message will be displayed on the homepages of the DB Server VMs and Server Clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.Creating a Compute ProfileAbout this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: Create a compute profile only if you do not want to use the sample profile (DEFAULT_OOB_COMPUTE).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.Creating a Network ProfileA network profile specifies the VLAN for the new database server. Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskCreate a network profile as a sample network profile is not available in Era. You can create a sample network profile either by using the Welcome to Era wizard, or by performing the following procedure.Perform the following procedure to create a network profile for PostgreSQL.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select either Instance or HA Instance under the PostgreSQL engine. The Create Network Profile window appears. If you selected PostgreSQL Instance, do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option.You can add one or more VLANs to Era. For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Figure. PostgreSQL Single Instance Network ProfileClick to enlargeIf you selected PostgreSQL HA Instance, do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Under Show Nutanix Clusters where the VLAN's IP Address Pool is, select one of the following.Managed in Era. Select this option to display the VLANs managed by Era in the cluster.Managed Outside Era. Select this option to display the VLANs managed outside Era in the cluster.Select the Nutanix cluster and VLAN to be used in the profile.Figure. PostgreSQL HA Network ProfileClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.Creating a HA Instance Network ProfileA network profile specifies the VLAN for the new database server VM. With Era's multi-cluster capability, you can create a network profile specifying the VLANs to be used for each Nutanix cluster while provisioning a HA instance across different Nutanix clusters. Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskPerform the following procedure to create a network profile for PostgreSQL.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select HA Instance under the PostgreSQL engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Under Show Nutanix Clusters where the VLAN's IP Address Pool is, select one of the following.Managed in Era. Select this option to display the VLANs managed by Era in the Nutanix clusters.Managed Outside Era. Select this option to display the VLANs managed outside Era in the Nutanix clusters.Select all the Nutanix clusters and the VLANs configured in those clusters to be used with the profile.Figure. PostgreSQL HA Network ProfileClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and VLANs associated with the respective profile.Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a database parameters profile only if you do not want to use the sample database parameter profile.Perform the following procedure to create a database parameters profile for PostgreSQL.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, select PostgreSQL as the database engine and click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.The parameters in the profile are populated with the recommended values and are optional to configure. You can update these parameters to suit your requirements. Click the page navigation arrows to display all the available parameters. To search for a parameter, type the name of the parameter in the search text box. The Value column displays the default values of the parameters. You can choose to update the value of the parameters to suit your requirements. If you want to display only those parameters that you have updated, select the Modified Only option.Figure. Database Parameters ProfileClick to enlargeNote: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.", "Heading_Keywords": ["postgresql", "databas", "profil"]}, {"Heading": "Creating a Software Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-a-software-profile-postgresql-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have registered an existing PostgreSQL database server VM with Era. Era uses a registered database server VM to create a software profile.About this taskA software profile is a template that includes the PostgreSQL instance and operating system. After you have registered an existing PostgreSQL database server VM with Era, Era creates a software template from the PostgreSQL database server VM you have previously registered. For more information about supported built-in profiles, see Era Release Notes.Note: Create a software profile only if you do not want to use or update the built-in sample profile (POSTGRES_10.4_OOB).A software profile is created from the software installed on the registered instances. Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software, click Create, and select either Instance or HA Instance under the PostgreSQL engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: The database server VM used for creating the software profile for HA instance must have patroni, haproxy, etcd, and keepalived software installed. You can contact Era support to create a custom profile if you do not want to use the out-of-the-box profile.Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a new version of the software profile. For more information, see Creating a Software Profile Version .", "Heading_Keywords": ["creat", "softwar", "profil"]}, {"Heading": "Creating a Software Profile Version", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-create-software-profile-version-t.html", "Document Name": "Era User Guide", "Content": "About this taskSoftware profile version is required when you update a database server VM to a new update version available. You can create a software profile version to provision and update other database server VMs using this software profile. Perform the following procedure to create a version of the software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Click Create. The Create Software Profile Version window appears. You create a software profile in the following steps:SoftwareNotesIn the Software step, do the following in the indicated fields, do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Figure. Creating a Software Profile VersionClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile version.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Create.Era creates a version of the software profile for provisioning and updating other database server VMs using this software profile and displays in the list. Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version, patches, and bug fixes. Click the + icon to view the bug fixes for the respective PSU.Database Server VMs. Displays the database server VMs that are using this version of the profile.Availability. Displays the profile availability across clusters.", "Heading_Keywords": ["creat", "softwar", "profil", "version"]}, {"Heading": "Updating a Software Profile Version", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-update-software-profile-version-t.html", "Document Name": "Era User Guide", "Content": "About this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile should update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message will be displayed on the homepages of the DB Server VMs and Server Clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.", "Heading_Keywords": ["updat", "softwar", "profil", "version"]}, {"Heading": "Creating a Compute Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-a-compute-profile-t.html", "Document Name": "Era User Guide", "Content": "About this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: Create a compute profile only if you do not want to use the sample profile (DEFAULT_OOB_COMPUTE).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.", "Heading_Keywords": ["creat", "comput", "profil"]}, {"Heading": "Creating a Network Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-a-network-profile-postgresql-t.html", "Document Name": "Era User Guide", "Content": "A network profile specifies the VLAN for the new database server. Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskCreate a network profile as a sample network profile is not available in Era. You can create a sample network profile either by using the Welcome to Era wizard, or by performing the following procedure.Perform the following procedure to create a network profile for PostgreSQL.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select either Instance or HA Instance under the PostgreSQL engine. The Create Network Profile window appears. If you selected PostgreSQL Instance, do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option.You can add one or more VLANs to Era. For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Figure. PostgreSQL Single Instance Network ProfileClick to enlargeIf you selected PostgreSQL HA Instance, do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Under Show Nutanix Clusters where the VLAN's IP Address Pool is, select one of the following.Managed in Era. Select this option to display the VLANs managed by Era in the cluster.Managed Outside Era. Select this option to display the VLANs managed outside Era in the cluster.Select the Nutanix cluster and VLAN to be used in the profile.Figure. PostgreSQL HA Network ProfileClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.", "Heading_Keywords": ["creat", "network", "profil"]}, {"Heading": "Creating a HA Instance Network Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-ha-network-profile-postgresql-t.html", "Document Name": "Era User Guide", "Content": "A network profile specifies the VLAN for the new database server VM. With Era's multi-cluster capability, you can create a network profile specifying the VLANs to be used for each Nutanix cluster while provisioning a HA instance across different Nutanix clusters. Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskPerform the following procedure to create a network profile for PostgreSQL.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select HA Instance under the PostgreSQL engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Under Show Nutanix Clusters where the VLAN's IP Address Pool is, select one of the following.Managed in Era. Select this option to display the VLANs managed by Era in the Nutanix clusters.Managed Outside Era. Select this option to display the VLANs managed outside Era in the Nutanix clusters.Select all the Nutanix clusters and the VLANs configured in those clusters to be used with the profile.Figure. PostgreSQL HA Network ProfileClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and VLANs associated with the respective profile.", "Heading_Keywords": ["creat", "ha", "instanc", "network", "profil"]}, {"Heading": "Creating a Database Parameters Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-create-database-parameters-profile-postgresql-t.html", "Document Name": "Era User Guide", "Content": "A database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a database parameters profile only if you do not want to use the sample database parameter profile.Perform the following procedure to create a database parameters profile for PostgreSQL.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, select PostgreSQL as the database engine and click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.The parameters in the profile are populated with the recommended values and are optional to configure. You can update these parameters to suit your requirements. Click the page navigation arrows to display all the available parameters. To search for a parameter, type the name of the parameter in the search text box. The Value column displays the default values of the parameters. You can choose to update the value of the parameters to suit your requirements. If you want to display only those parameters that you have updated, select the Modified Only option.Figure. Database Parameters ProfileClick to enlargeNote: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.", "Heading_Keywords": ["creat", "databas", "paramet", "profil"]}, {"Heading": "Updating Profile Availability", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-update-profile-availability-t.html", "Document Name": "Era User Guide", "Content": "After profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.", "Heading_Keywords": ["updat", "profil", "avail"]}, {"Heading": "PostgreSQL Database Provisioning", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-database-provisioning-postgresql-c.html", "Document Name": "Era User Guide", "Content": "You can provision database server VMs and databases on the Nutanix cluster. As part of the database provisioning process, you can either create a database server VM on which you provision the database or select a database server VM that you have already provisioned.You use the built-in database parameter profiles or profiles you created to provision the databases.You can provision both a PostgreSQL instance and PostgreSQL HA instance. With Era's multi-cluster capability, both PostgreSQL instance and HA instances can be provisioned across different Nutanix clusters.Database Server VM Provisioning PrerequisitesProvisioning a PostgreSQL Database Server VMProvisioning a PostgreSQL InstanceProvisioning a Highly Available PostgreSQL InstanceDatabase Server VM Provisioning PrerequisitesComplete the following tasks before you start provisioning a database server VM.Create a software profile. Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Windows Domain profiles are required when provisioning a Database Server VM for SQL Server, and the Database Server VM will be added to a domain.Generate an SSH key for database provisioning on Linux-based operating systems (see Additional Information: Generating an SSH Key (Windows) ). Provisioning a PostgreSQL Database Server VMBefore you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select the PostgreSQL engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Provisioning a PostgreSQL InstanceBefore you beginEnsure that you have created a software profile if you do not want to use the built-in software profile. For more information, see Creating a Software Profile.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning an instance.Perform the following procedure to provision a PostgreSQL instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select Instance under the PostgreSQL engine. The Provision a PostgreSQL Instance window appears. You provision an instance in the following steps:Database Server VMInstanceTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one of the following.Create New Server. Select this option if you want to provision an instance on a new database server VM.Use Registered Server. Select this option if you want to provision an instance on a database server VM that you have previously registered with Era.If you have selected Create New Server in the previous step, do the following under New Database Server VM.Database Server VM Name. Type a name of the database server VM. The name that you provide in this field is used as the virtual machine name created for the PostgreSQL instance.Description. Type a description of the database server VM.Select the Nutanix cluster on which you want to provision the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use Registered Server in the previous step, select the database server VM on which you want to provision the instance and click Next.Figure. Provisioning DetailsClick to enlargeIn the Instance step, do the following in the indicated fields.PostgreSQL Instance Name. Type a name of the instance.Description. Type a description of the instance.Listener Port. By default, this field is populated with the port number 5432 of a PostgreSQL instance. Size (GiB). Type the size of the node in GB.POSTGRES password. Type the password of the PostgreSQL superuser account.Name of Initial Database. Type the name of the initial database that will be created in the PostgreSQL instance.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management. Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era.For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision an instance has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the instance appears in the list of the provisioned database. Click the name of the instance to open the homepage for the selected instance. This page displays the following widgets:PostgreSQL Instance Summary. Displays a brief summary of the instance that includes name, description, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Database Instances. Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Provisioning a Highly Available PostgreSQL InstanceYou can provision a highly available PostgreSQL instance to avoid service disruption when there is a node failure. When you provision a HA PostgreSQL instance, Era provisions multiple nodes of a PostgreSQL instance. One of the nodes in the cluster acts as the master and other nodes serve as replicas. The master node is used for both read and write operation while the replicas are used only for the read-only requests. When a primary node becomes unavailable, one of the replicas is promoted to the role of master, hence ensuring availability of database for all the write operations.When you provision a Highly Available cluster, Era creates a Time Machine for it. The Time Machine selects the master node of the cluster as the active node for its operations. In the event of a failover or switchover, Era auto-detects such changes, and the Time Machine selects the new master as the active node. As long as a master node is available in the cluster, the Time Machine continues to function seamlessly. If there is an entire cluster breakdown, the Time Machine activities would stop until the cluster is repaired, and a new master node is elected.A three node cluster consists of three PostgreSQL nodes, two HAProxy nodes and a virtual IP address that floats between the two HAProxy servers. Each PostgreSQL node runs a PostgreSQL database, Etcd, and Patroni software. Each HAProxy node has one Keepalived software running that assigns virtual IP address to one of the HAProxy nodes. If one HAProxy node fails, Keepalived binds the virtual IP address to the second HAProxy node. HAProxy nodes then redirect the traffic to either master or replica nodes based on the port (read/write or read-only) selected.Software Required for HA PostgreSQL Instance (Cluster Database) ProvisioningEtcdEtcd is a fault-tolerant, open source, distributed key-value store that is used to store the state of the PostgreSQL cluster. Through Patroni, all the PostgreSQL nodes use etcd as a distributed configuration store to maintain the state of the PostgreSQL cluster. Patroni uses etcd for leader election and storing the PostgreSQL configuration parameters. Era uses etcd version 3.3.11. For more information about etcd, see Etcd Documentation.PatroniPatroni is an open source Python package that manages PostgreSQL configuration. Patroni manages the state of the cluster and handles the failover of the master node to replicas when needed. Era uses Patroni version 1.5.6. For more information, see Patroni Documentation.HAProxyHAProxy is free, open source software that provides a High Availability load balancer and proxy server for TCP and HTTP-based applications that spread requests across multiple servers. HAProxy is used to direct the traffic to the appropriate node. Based on the port number provided by you, HAProxy redirects the traffic either to master or replica node. If read or write port is selected, the traffic goes to the master. Otherwise, traffic is randomly distributed within the replica nodes. Era uses HAProxy version 1.8.20. For more information about HAProxy, see HAProxy Documentation.KeepalivedKeepalived uses virtual IP address to provide the single end point of the cluster. Initially, Keepalived assigns the virtual IP address to HAProxy node 1 and then based on the port selected, HAProxy redirects traffic to either master or asynchronous replica nodes. In the event that HAProxy node 1 fails, Keepalived reassigns the virtual IP address to HAProxy node 2. At a given time, virtual IP address is bound to only one HAProxy node if the node is up and running. Era uses Keepalived version 1.3.5. For more information about Keepalived, see Keepalived Documentation.Provisioning a HA PostgreSQL Instance (Cluster Database)Provisioning a HA PostgreSQL Instance (Cluster Database)Before you beginTo create your own profile on the Operation System of your choice, contact Nutanix support.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning an instance.Perform the following procedure to provision a HA PostgreSQL instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select HA Instance under the PostgreSQL engine. The Provision a PostgreSQL HA Instance window appears. You provision a HA instance in the following steps:Server ClusterDatabase Server VMHAInstanceTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Server Cluster step, do the following in the indicated fields.Server Cluster Name. Type a name for the server cluster.The server cluster is a set of all VMs which make up the PostgreSQL HA instance. It includes the PostgreSQL database VMs and the HAProxy VMs if provisioned.Description. Type a description for the server cluster.Network Profile. Select a network profile from the drop-down list of network profiles available.Select the Nutanix cluster on which the server cluster will be hosted. The number of clusters displayed is based on the network profile selected in the previous step.Figure. Provision HA Instance DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Under Attributes of All Database Server VMs, do the following in the indicated fields:Software Profile. Select POSTGRES_10.4_HA_ENABLED_OOB as the software profile.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Archive Log Destination (File Share). Type a path to a file share which can be used as an archive store for replication.The path must be of the following format: File_Server:directory_to_be_shared. Example: 1.2.3.4:/path/to/folderNote: If you do not provide a Archive Log Destination, Era uses a volume group which is attached to one of the n-node PG VMs as the archive store for replication. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Under Attributes of Individual Database Server VMs, do the following in the indicated fields:Click Add to add a database server VM. You can select the cluster on which the database server VM must be added.Note: Three database server VMs are added by default.Click Remove to remove a database server VM.Database server VM names are auto-populated based on the Server Cluster Name. You can type or edit the name prefix for the database server VM.Click Next.In the HA step, do the following in the indicated fields.Name. Type a name of the Patroni cluster. Patroni uses this name to administer the Nutanix cluster.Create HAProxy Servers. Select this check box if you want HA proxy to direct traffic to the master node. If you have selected the static network profile, Era provisions two HAProxy servers on new VMs. As a result, connections to the database are performed through the proxy with a floating IP address. If you have selected the DHCP-based network profile, Era provisions one HAProxy server on a new VM. As a result, connections to the database are done through the VM IP address.Read/Write Port. Enter a port number for read/write request. By default, Era uses port number 5000.Read Only Port. Enter a port number for read-only request. By default, Era uses port number 5001.Virtual IP Address. You can create a virtual IP address for the cluster if you choose to create the HAProxy servers on the same Nutanix cluster.Under Database Server VM Roles, select the database server VM and set the attributes for each database in the cluster. You can set the following attributes.Primary. Select this check box if you want to set the selected node as primary.Note: One node must be selected as primary.Auto Failover. Select this check box to enable automatic failover on the selected node. If you enable this option, automatic failover happens to the node that you have selected if the primary node fails.Enable Synchronous Replication. Select this option if you want to enable synchronous replication.Note: Era does not support provisioning more than one synchronous replica in a Highly Available instance.If the Enable Synchronous Replication option is selected, synchronous replication is enabled on one of the nodes in the cluster so that the node is always in sync with the master node.Click Next.Figure. Provisioning HA InstanceClick to enlargeIn the Instance step, do the following in the indicated fields.PostgreSQL Instance Name. Type a name of the instance.Description. Type a description of the instance.Listener Port. By default, this field is populated with the port number 5432 of a PostgreSQL instance. Size (GiB). Type the size of the node in GB.Name of Initial Database. Type the name of the initial database that will be created in the PostgreSQL instance.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.POSTGRES password. Type the password of the PostgreSQL superuser account.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeSelect the Nutanix clusters on which you want the snapshots to be available.Note: You can only select a single Nutanix cluster for Point-in-Time Recovery (PITR) SLAs.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision a HA instance has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the HA instance appears in the list of the provisioned database. Click the name of the instance to open the homepage for the selected instance. This page displays the following widgets:PostgreSQL HA Instance Summary. Displays a brief summary of the HA instance that includes name, description, deployment type, status, and version.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Databases. Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.PostgreSQL Instances. Displays the list of database instances created. Details such as name, primary and failover nodes, status, database server VM, IP addresses and time machine status is also displayed.Time Machine for instance. Displays the name, description, age, and size of the time machine.Server Cluster. Displays the name, virtual IP address, and OS details of the PostgreSQL server cluster. Tags. Displays a list of the tags that are applied to this database server. You can click Update to set the tag values.", "Heading_Keywords": ["postgresql", "databas", "provis"]}, {"Heading": "Database Server VM Provisioning Prerequisites", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-provision-prerequisite-postgresql-r.html", "Document Name": "Era User Guide", "Content": "Complete the following tasks before you start provisioning a database server VM.Create a software profile. Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Windows Domain profiles are required when provisioning a Database Server VM for SQL Server, and the Database Server VM will be added to a domain.Generate an SSH key for database provisioning on Linux-based operating systems (see Additional Information: Generating an SSH Key (Windows) ). ", "Heading_Keywords": ["databas", "server", "vm", "provis", "prerequisit"]}, {"Heading": "Provisioning a PostgreSQL Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-provisioning-database-server-vm-postgresql-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select the PostgreSQL engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.", "Heading_Keywords": ["provis", "postgresql", "databas", "server", "vm"]}, {"Heading": "Provisioning a PostgreSQL Instance", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-provisioning-a-postgresql-database-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have created a software profile if you do not want to use the built-in software profile. For more information, see Creating a Software Profile.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning an instance.Perform the following procedure to provision a PostgreSQL instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select Instance under the PostgreSQL engine. The Provision a PostgreSQL Instance window appears. You provision an instance in the following steps:Database Server VMInstanceTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one of the following.Create New Server. Select this option if you want to provision an instance on a new database server VM.Use Registered Server. Select this option if you want to provision an instance on a database server VM that you have previously registered with Era.If you have selected Create New Server in the previous step, do the following under New Database Server VM.Database Server VM Name. Type a name of the database server VM. The name that you provide in this field is used as the virtual machine name created for the PostgreSQL instance.Description. Type a description of the database server VM.Select the Nutanix cluster on which you want to provision the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use Registered Server in the previous step, select the database server VM on which you want to provision the instance and click Next.Figure. Provisioning DetailsClick to enlargeIn the Instance step, do the following in the indicated fields.PostgreSQL Instance Name. Type a name of the instance.Description. Type a description of the instance.Listener Port. By default, this field is populated with the port number 5432 of a PostgreSQL instance. Size (GiB). Type the size of the node in GB.POSTGRES password. Type the password of the PostgreSQL superuser account.Name of Initial Database. Type the name of the initial database that will be created in the PostgreSQL instance.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management. Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era.For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision an instance has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the instance appears in the list of the provisioned database. Click the name of the instance to open the homepage for the selected instance. This page displays the following widgets:PostgreSQL Instance Summary. Displays a brief summary of the instance that includes name, description, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Database Instances. Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["provis", "postgresql", "instanc"]}, {"Heading": "Provisioning a Highly Available PostgreSQL Instance", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-high-availability-postgres-cluster-c.html", "Document Name": "Era User Guide", "Content": "You can provision a highly available PostgreSQL instance to avoid service disruption when there is a node failure. When you provision a HA PostgreSQL instance, Era provisions multiple nodes of a PostgreSQL instance. One of the nodes in the cluster acts as the master and other nodes serve as replicas. The master node is used for both read and write operation while the replicas are used only for the read-only requests. When a primary node becomes unavailable, one of the replicas is promoted to the role of master, hence ensuring availability of database for all the write operations.When you provision a Highly Available cluster, Era creates a Time Machine for it. The Time Machine selects the master node of the cluster as the active node for its operations. In the event of a failover or switchover, Era auto-detects such changes, and the Time Machine selects the new master as the active node. As long as a master node is available in the cluster, the Time Machine continues to function seamlessly. If there is an entire cluster breakdown, the Time Machine activities would stop until the cluster is repaired, and a new master node is elected.A three node cluster consists of three PostgreSQL nodes, two HAProxy nodes and a virtual IP address that floats between the two HAProxy servers. Each PostgreSQL node runs a PostgreSQL database, Etcd, and Patroni software. Each HAProxy node has one Keepalived software running that assigns virtual IP address to one of the HAProxy nodes. If one HAProxy node fails, Keepalived binds the virtual IP address to the second HAProxy node. HAProxy nodes then redirect the traffic to either master or replica nodes based on the port (read/write or read-only) selected.Software Required for HA PostgreSQL Instance (Cluster Database) ProvisioningEtcdEtcd is a fault-tolerant, open source, distributed key-value store that is used to store the state of the PostgreSQL cluster. Through Patroni, all the PostgreSQL nodes use etcd as a distributed configuration store to maintain the state of the PostgreSQL cluster. Patroni uses etcd for leader election and storing the PostgreSQL configuration parameters. Era uses etcd version 3.3.11. For more information about etcd, see Etcd Documentation.PatroniPatroni is an open source Python package that manages PostgreSQL configuration. Patroni manages the state of the cluster and handles the failover of the master node to replicas when needed. Era uses Patroni version 1.5.6. For more information, see Patroni Documentation.HAProxyHAProxy is free, open source software that provides a High Availability load balancer and proxy server for TCP and HTTP-based applications that spread requests across multiple servers. HAProxy is used to direct the traffic to the appropriate node. Based on the port number provided by you, HAProxy redirects the traffic either to master or replica node. If read or write port is selected, the traffic goes to the master. Otherwise, traffic is randomly distributed within the replica nodes. Era uses HAProxy version 1.8.20. For more information about HAProxy, see HAProxy Documentation.KeepalivedKeepalived uses virtual IP address to provide the single end point of the cluster. Initially, Keepalived assigns the virtual IP address to HAProxy node 1 and then based on the port selected, HAProxy redirects traffic to either master or asynchronous replica nodes. In the event that HAProxy node 1 fails, Keepalived reassigns the virtual IP address to HAProxy node 2. At a given time, virtual IP address is bound to only one HAProxy node if the node is up and running. Era uses Keepalived version 1.3.5. For more information about Keepalived, see Keepalived Documentation.Provisioning a HA PostgreSQL Instance (Cluster Database)Provisioning a HA PostgreSQL Instance (Cluster Database)Before you beginTo create your own profile on the Operation System of your choice, contact Nutanix support.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning an instance.Perform the following procedure to provision a HA PostgreSQL instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select HA Instance under the PostgreSQL engine. The Provision a PostgreSQL HA Instance window appears. You provision a HA instance in the following steps:Server ClusterDatabase Server VMHAInstanceTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Server Cluster step, do the following in the indicated fields.Server Cluster Name. Type a name for the server cluster.The server cluster is a set of all VMs which make up the PostgreSQL HA instance. It includes the PostgreSQL database VMs and the HAProxy VMs if provisioned.Description. Type a description for the server cluster.Network Profile. Select a network profile from the drop-down list of network profiles available.Select the Nutanix cluster on which the server cluster will be hosted. The number of clusters displayed is based on the network profile selected in the previous step.Figure. Provision HA Instance DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Under Attributes of All Database Server VMs, do the following in the indicated fields:Software Profile. Select POSTGRES_10.4_HA_ENABLED_OOB as the software profile.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Archive Log Destination (File Share). Type a path to a file share which can be used as an archive store for replication.The path must be of the following format: File_Server:directory_to_be_shared. Example: 1.2.3.4:/path/to/folderNote: If you do not provide a Archive Log Destination, Era uses a volume group which is attached to one of the n-node PG VMs as the archive store for replication. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Under Attributes of Individual Database Server VMs, do the following in the indicated fields:Click Add to add a database server VM. You can select the cluster on which the database server VM must be added.Note: Three database server VMs are added by default.Click Remove to remove a database server VM.Database server VM names are auto-populated based on the Server Cluster Name. You can type or edit the name prefix for the database server VM.Click Next.In the HA step, do the following in the indicated fields.Name. Type a name of the Patroni cluster. Patroni uses this name to administer the Nutanix cluster.Create HAProxy Servers. Select this check box if you want HA proxy to direct traffic to the master node. If you have selected the static network profile, Era provisions two HAProxy servers on new VMs. As a result, connections to the database are performed through the proxy with a floating IP address. If you have selected the DHCP-based network profile, Era provisions one HAProxy server on a new VM. As a result, connections to the database are done through the VM IP address.Read/Write Port. Enter a port number for read/write request. By default, Era uses port number 5000.Read Only Port. Enter a port number for read-only request. By default, Era uses port number 5001.Virtual IP Address. You can create a virtual IP address for the cluster if you choose to create the HAProxy servers on the same Nutanix cluster.Under Database Server VM Roles, select the database server VM and set the attributes for each database in the cluster. You can set the following attributes.Primary. Select this check box if you want to set the selected node as primary.Note: One node must be selected as primary.Auto Failover. Select this check box to enable automatic failover on the selected node. If you enable this option, automatic failover happens to the node that you have selected if the primary node fails.Enable Synchronous Replication. Select this option if you want to enable synchronous replication.Note: Era does not support provisioning more than one synchronous replica in a Highly Available instance.If the Enable Synchronous Replication option is selected, synchronous replication is enabled on one of the nodes in the cluster so that the node is always in sync with the master node.Click Next.Figure. Provisioning HA InstanceClick to enlargeIn the Instance step, do the following in the indicated fields.PostgreSQL Instance Name. Type a name of the instance.Description. Type a description of the instance.Listener Port. By default, this field is populated with the port number 5432 of a PostgreSQL instance. Size (GiB). Type the size of the node in GB.Name of Initial Database. Type the name of the initial database that will be created in the PostgreSQL instance.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.POSTGRES password. Type the password of the PostgreSQL superuser account.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeSelect the Nutanix clusters on which you want the snapshots to be available.Note: You can only select a single Nutanix cluster for Point-in-Time Recovery (PITR) SLAs.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision a HA instance has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the HA instance appears in the list of the provisioned database. Click the name of the instance to open the homepage for the selected instance. This page displays the following widgets:PostgreSQL HA Instance Summary. Displays a brief summary of the HA instance that includes name, description, deployment type, status, and version.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Databases. Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.PostgreSQL Instances. Displays the list of database instances created. Details such as name, primary and failover nodes, status, database server VM, IP addresses and time machine status is also displayed.Time Machine for instance. Displays the name, description, age, and size of the time machine.Server Cluster. Displays the name, virtual IP address, and OS details of the PostgreSQL server cluster. Tags. Displays a list of the tags that are applied to this database server. You can click Update to set the tag values.", "Heading_Keywords": ["provis", "highli", "avail", "postgresql", "instanc"]}, {"Heading": "PostgreSQL Database Registration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-database-registration-postgresql-c.html", "Document Name": "Era User Guide", "Content": "You can register a source (production) database running on a Nutanix cluster with Era. When you register a database with Era, the database server VM (VM that hosts the source database) is also registered with Era. After you have registered a database with Era, a time machine is created for that database.The time machine takes periodic database snapshots and log catch-ups (see Era Time Machine Management). The time machine performs the snapshot and log catch-up operations as defined in the SLA that you have selected or created during the registration of the database (see SLA Management).PostgreSQL Database and Database Server VM Registration PrerequisitesRegistering a PostgreSQL Database Server VMRegistering a PostgreSQL InstancePostgreSQL Database and Database Server VM Registration PrerequisitesEnsure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Software Dependencies (Linux)To successfully register a database server VM with Era, database server VM must satisfy all the required software and configuration dependencies. (For more information about the software packages that must be installed, see Database Server VM Registration Pre-requirement Checks and Running Pre-requirement Script (Linux)).OS Configuration (Linux)SUDO NOPASS access is required.Linux OS root access is required.Install and configure crontab.Configure binary paths as secure_paths in the etc/sudoers file.Ensure that Prism APIs are callable from the VM./tmp folder must have read and write permissions.Disable requiretty setting on the source database to successfully register the database.Ensure that /etc/sudoers file includes the following line under defaults: secure_path = /sbin:/bin:/usr/sbin:/usr/binOS Configuration (Windows)Ensure that Prism APIs are callable from the VM.Registering a PostgreSQL Database Server VMBefore you beginEnsure that you meet the following requirements before you register a PostgreSQL database server VM with Era.For general requirements, see PostgreSQL Database and Database Server VM Registration PrerequisitesRegister only one instance on the host.Run the PostgreSQL processes.Enable the Wal logging.Ensure that you have DBA level access to the databases you want to add.Ensure that Era service has access to TCP 5432 or a custom port.About this taskPerform the following procedure to register an PostgreSQL database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VM.Go to List, click Register, and select the PostgreSQL engine. The Register Database Server VM window appears. Do the following in the indicated fields.Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM.Era Drive User. Type the username of the Era drive user account that has sudo access.PG Home. Type the path to the PostgreSQL home directory in which the PostgreSQL software is installed.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Figure. PostgreSQL Database Server VM RegistrationClick to enlargeClick Register to successfully register the database server VM.A message appears indicating that the operation to register a database server VM has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server VM appears in the list of the registered database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays the name, time zone, status, date of registration, and version of the database server VM.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server VM. You can also click See Description to view the steps to connect to the database server VM using SSH.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the database.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Registering a PostgreSQL InstanceBefore you beginEnsure that you meet the following requirements before you register a PostgreSQL instance with Era.For general requirements, see PostgreSQL Database and Database Server VM Registration PrerequisitesRegister only one instance on the host.Run the PostgreSQL processes.Enable the Wal logging.DBA level access is required for the databases that you want to add.Ensure that Era service has access to TCP 5432 or a custom port.About this taskPerform the following procedure to register a PostgreSQL instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select PostgreSQL. The Register a PostgreSQL Instance window appears. You register an instance in the following steps:Database Server VMInstanceTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.In the Database Server VM step, select one the following.Registered. Select this option if you want to register an instance running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the instance you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the instance you want to register is running, and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Select the Nutanix cluster on which you want to register the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM on which the instance you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.PG Home. Type the path to the PostgreSQL home directory in which the PostgreSQL software is installed.For example, if your pg_ctl binary is located in /usr/pgsql-10/bin folder, then PG Home is /usr/pgsql-10/.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Register PostgreSQL InstanceClick to enlargeIn the Instance step, do the following in the indicated fields.Instance Name in Era. Type a name of the instance that you want to be displayed in Era.Description. Type a description of the instance.Port. This field is populated with the default port number of a PostgreSQL instance.POSTGRES password. Type the password of the postgres superuser.Name of a Database on the Instance. Type the name of a database on the instance you want to register.Era will discover and register all the databases found on the instance at the port provided.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot on the. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register an instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the instance appears in the list of the registered database. Click the name of the instance to open the homepage for the selected instance. This page displays the following widgets:PostgreSQL Instance Summary. Displays a brief summary of the instance that includes name, description, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Database Instances. Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["postgresql", "databas", "registr"]}, {"Heading": "PostgreSQL Database and Database Server VM Registration Prerequisites", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-registration-prerequisite-postgresql-r.html", "Document Name": "Era User Guide", "Content": "Ensure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Software Dependencies (Linux)To successfully register a database server VM with Era, database server VM must satisfy all the required software and configuration dependencies. (For more information about the software packages that must be installed, see Database Server VM Registration Pre-requirement Checks and Running Pre-requirement Script (Linux)).OS Configuration (Linux)SUDO NOPASS access is required.Linux OS root access is required.Install and configure crontab.Configure binary paths as secure_paths in the etc/sudoers file.Ensure that Prism APIs are callable from the VM./tmp folder must have read and write permissions.Disable requiretty setting on the source database to successfully register the database.Ensure that /etc/sudoers file includes the following line under defaults: secure_path = /sbin:/bin:/usr/sbin:/usr/binOS Configuration (Windows)Ensure that Prism APIs are callable from the VM.", "Heading_Keywords": ["postgresql", "databas", "databas", "server", "vm", "registr", "prerequisit"]}, {"Heading": "Registering a PostgreSQL Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-registering-an-postgresql-database-server-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you register a PostgreSQL database server VM with Era.For general requirements, see PostgreSQL Database and Database Server VM Registration PrerequisitesRegister only one instance on the host.Run the PostgreSQL processes.Enable the Wal logging.Ensure that you have DBA level access to the databases you want to add.Ensure that Era service has access to TCP 5432 or a custom port.About this taskPerform the following procedure to register an PostgreSQL database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VM.Go to List, click Register, and select the PostgreSQL engine. The Register Database Server VM window appears. Do the following in the indicated fields.Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM.Era Drive User. Type the username of the Era drive user account that has sudo access.PG Home. Type the path to the PostgreSQL home directory in which the PostgreSQL software is installed.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Figure. PostgreSQL Database Server VM RegistrationClick to enlargeClick Register to successfully register the database server VM.A message appears indicating that the operation to register a database server VM has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server VM appears in the list of the registered database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays the name, time zone, status, date of registration, and version of the database server VM.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server VM. You can also click See Description to view the steps to connect to the database server VM using SSH.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the database.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.", "Heading_Keywords": ["regist", "postgresql", "databas", "server", "vm"]}, {"Heading": "Registering a PostgreSQL Instance", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-registering-an-postgresql-database-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you register a PostgreSQL instance with Era.For general requirements, see PostgreSQL Database and Database Server VM Registration PrerequisitesRegister only one instance on the host.Run the PostgreSQL processes.Enable the Wal logging.DBA level access is required for the databases that you want to add.Ensure that Era service has access to TCP 5432 or a custom port.About this taskPerform the following procedure to register a PostgreSQL instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select PostgreSQL. The Register a PostgreSQL Instance window appears. You register an instance in the following steps:Database Server VMInstanceTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.In the Database Server VM step, select one the following.Registered. Select this option if you want to register an instance running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the instance you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the instance you want to register is running, and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Select the Nutanix cluster on which you want to register the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM on which the instance you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.PG Home. Type the path to the PostgreSQL home directory in which the PostgreSQL software is installed.For example, if your pg_ctl binary is located in /usr/pgsql-10/bin folder, then PG Home is /usr/pgsql-10/.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Register PostgreSQL InstanceClick to enlargeIn the Instance step, do the following in the indicated fields.Instance Name in Era. Type a name of the instance that you want to be displayed in Era.Description. Type a description of the instance.Port. This field is populated with the default port number of a PostgreSQL instance.POSTGRES password. Type the password of the postgres superuser.Name of a Database on the Instance. Type the name of a database on the instance you want to register.Era will discover and register all the databases found on the instance at the port provided.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot on the. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register an instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the instance appears in the list of the registered database. Click the name of the instance to open the homepage for the selected instance. This page displays the following widgets:PostgreSQL Instance Summary. Displays a brief summary of the instance that includes name, description, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Database Instances. Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["regist", "postgresql", "instanc"]}, {"Heading": "PostgreSQL Database Clone", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-clone-postgresql-c.html", "Document Name": "Era User Guide", "Content": "You can create clones either to a point in time (by using transaction logs) or by using snapshots. If you want to use snapshots to clone the source database, you select an available snapshot and the source database is cloned to a state when the snapshot is taken. If you want to clone the source database at a point in time, you select the clone time and the source database is cloned to a state then. Creating Database ClonesCreating Database ClonesBefore you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone an PostgreSQL instance.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the PostgreSQL source instance you want to clone, click Actions and select Create a Clone of the PostgreSQL Instance. The Create Clone of PostgreSQL Instance from Time Machine window appears. You clone the instance in the following steps:Time/SnapshotDatabase Server VMInstanceIn the Time/Snapshot step, select the clone time to which you want to clone the instance. Do the following to select the time.Select the Nutanix cluster on which you want to clone the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the instance.Do one of the following:Point in time. Select this option if you want to clone the source instance to a point in time. If you select this option, the instance is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source instance by using the available snapshots.Click Next.Figure. PostgreSQL Clone DetailsClick to enlargeIn the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the instance on the newly created target database server VM.Use an Authorized Server. Select this option to clone the instance to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name for the database server VM.Description. Type a description of the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database servers authorized, click the plus icon to authorize one or more database server VMs.In the Instance step, do the following in the indicated fields.Name. Type a name for the cloned instance.Description. Type a description for the cloned instance.POSTGRES Password. Type the password of the postgres superuser.Database Parameter Profile. Select a database parameters profile from the list of the profiles available.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Clone to successfully clone the source database.A message appears indicating that the operation to clone instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone instance appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["postgresql", "databas", "clone"]}, {"Heading": "Creating Database Clones", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-database-clones-posgresql-t.html", "Document Name": "Era User Guide", "Content": "Before you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone an PostgreSQL instance.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the PostgreSQL source instance you want to clone, click Actions and select Create a Clone of the PostgreSQL Instance. The Create Clone of PostgreSQL Instance from Time Machine window appears. You clone the instance in the following steps:Time/SnapshotDatabase Server VMInstanceIn the Time/Snapshot step, select the clone time to which you want to clone the instance. Do the following to select the time.Select the Nutanix cluster on which you want to clone the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the instance.Do one of the following:Point in time. Select this option if you want to clone the source instance to a point in time. If you select this option, the instance is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source instance by using the available snapshots.Click Next.Figure. PostgreSQL Clone DetailsClick to enlargeIn the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the instance on the newly created target database server VM.Use an Authorized Server. Select this option to clone the instance to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name for the database server VM.Description. Type a description of the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database servers authorized, click the plus icon to authorize one or more database server VMs.In the Instance step, do the following in the indicated fields.Name. Type a name for the cloned instance.Description. Type a description for the cloned instance.POSTGRES Password. Type the password of the postgres superuser.Database Parameter Profile. Select a database parameters profile from the list of the profiles available.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Clone to successfully clone the source database.A message appears indicating that the operation to clone instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone instance appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["creat", "databas", "clone"]}, {"Heading": "Restoring a PostgreSQL Database", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-restore-database-postgresql-t.html", "Document Name": "Era User Guide", "Content": "Restoring allows you to restore a source database registered with Era to a snapshot or point-in-time supported by the source database time machine. You can restore a database by using a snapshot ID, Point in Time Recovery (PITR) timestamp, or the latest snapshot.Before you beginEnsure the following before you restore a PostgreSQL Database.Register the source database running on that cluster with Nutanix Era.Ensure that the database has a time machine that supports the required snapshot or point in time restore capability.About this taskA database restore operation replaces the current database with data as of the specified snapshot or point-in-time. The time machine for the source database is paused before a restore operation is initiated. After a successful restore, the time machine is automatically resumed that triggers a new snapshot and log catchup operation for the restored database. If the restore operation fails, the database is left in the state that it was before the restore was initiated.Note: Perform this operation with caution as there might be some data loss.Database restore operation is supported only for single instance databases.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources and click the database you want to restore.You can restore a database by doing any one of the following.Click Restore in the database summary page. The Restore Source Database window appears.Click the time machine name in the Time Machine widget.In the Actions drop-down list, select Restore Source Database.The Restore Source Database window appears.You can restore a database in the following steps:Recovery PointData/LocationIn the Recovery Point step, you can view a timeline of the data available for the restore. Write Ahead Logs. Select this check box to backup all the additional logs in the time machine.Note: This option con only be selected for time machines supporting continuous recovery.Shutdown the database after backup. This check box is selected by default. A confirmation box to shutdown the database is displayed when you click Next. Type the database name and click Shutdown to start the backup and recovery operations.Figure. Database Restore DetailsClick to enlargeIn the Data/Location step, do the following.Select any one of the following restore options.Point in Time. Select this option and enter the time to which you want to restore your database. Snapshot. Select this option and choose the snapshot you want to use for restoring the database from the drop-down list.Figure. Database Restore DetailsClick to enlargeClick Restore.A message appears at the top of the page stating that the restore operation has started. You can click on the message to view the status.", "Heading_Keywords": ["restor", "postgresql", "databas"]}, {"Heading": "Patching a PostgreSQL Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-patching-database-postgresql-t.html", "Document Name": "Era User Guide", "Content": "Before you beginSoftware profile version is required when you update a database server VM to a new update version available. See Creating a Software Profile VersionAbout this taskPerform the following procedure to apply a minor version upgrade of the PostgreSQL software to an Era provisioned instance.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List and click the database server VM for which you want to update the software profile version.The Database Server VM Summary page appears.Go to the Software Profile Version widget and click Update. The Update Database Server VM window appears.The Software Profile Version widget displays the current version, recommended version, and the status of the software profile version.Do the following in the indicated fields:Update to Software Profile Version. Select a software profile version from the drop-down list.Under Start Update, select one of the following:Now. Select this option if you want to start updating the software version now.Later. Select this option and then select the day and time if you want to create a schedule for patching the software profile version.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Figure. PostgreSQL PatchingClick to enlargeProvide the database server VM name as confirmation and click Update.A message appears at the top indicating that the operation to update a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.", "Heading_Keywords": ["patch", "postgresql", "databas", "server", "vm"]}, {"Heading": "Patching a PostgreSQL Database Server Cluster", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-patching-ha-database-postgresql-t.html", "Document Name": "Era User Guide", "Content": "Before you beginSoftware profile version is required when you update a database server cluster to a new update version available. See Creating a Software Profile VersionAbout this taskPerform the following procedure to apply a minor version upgrade of the PostgreSQL software to an Era provisioned HA instance.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List and click the database server cluster for which you want to update the software profile version.The Server Cluster Summary page appears.Go to the Software Profile Version widget and click Update. The Update DB Server VM Cluster window appears.The Software Profile Version widget displays the current version, recommended version, and the status of the software profile version.Do the following in the indicated fields:Update to Software Profile Version. Select a software profile version from the drop-down list.Under Start Update, select one of the following:Now. Select this option if you want to start updating the software version now.Later. Select this option and then select the day and time if you want to create a schedule for patching the software profile version.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the single-instance database is created.Post-Create Command. Type a complete OS command that you want to run after the single-instance database is created.Figure. PostgreSQL HA PatchingClick to enlargeProvide the database server cluster name as confirmation and click Update.A message appears at the top indicating that the operation to update a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.", "Heading_Keywords": ["patch", "postgresql", "databas", "server", "cluster"]}, {"Heading": "MySQL Database Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-mysql-db-management-c.html", "Document Name": "Era User Guide", "Content": "MySQL Database ManagementCurrent LimitationsMySQL Database ProfilesMySQL Database ProvisioningMySQL Database RegistrationMySQL Database ClonePatching a PostgreSQL Database Server ClusterCurrent LimitationsCurrent LimitationsMySQL Database ProfilesMySQL Database ProvisioningMySQL Database RegistrationMySQL Database CloneCurrent LimitationsEra has the following limitations for MySQLEra does not support provisioning multiple MySQL instances in the same database server VM. Era does not support provisioning multiple MySQL clones in the same database server VM.MySQL Database ProfilesProfiles enable you to create templates of database software, networking, compute, and database parameters which help you to successfully provision databases or database server VMs on Era.Creating a Software ProfileCreating a Software Profile VersionUpdating a Software Profile VersionCreating a Compute ProfileCreating a Network ProfileA network profile specifies the VLAN for the new database server VM. Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. Creating a Software ProfileBefore you beginEnsure that you have registered an existing MySQL database server VM with Era. Era uses a registered database server VM to create a software profile.About this taskA software profile is a template that includes the MySQL database and operating system. After you have registered an existing MySQL database server VM with Era, Era creates a software template from the MySQL database server VM you have previously registered. For more information about supported built-in profiles, see Era Release Notes.Note: Create a new software profile only if you do not want to use or update the built-in sample profile (MYSQL_8.0_OOB).A software profile is created from the software installed on the registered databases. Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software and click Create, and select the MySQL engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a new version of the software profile. For more information, see Creating a Software Profile Version .Creating a Software Profile VersionAbout this taskSoftware profile version is required when you update a database server VM to a new update version available. You can create a software profile version to provision and update other database server VMs using this software profile. Perform the following procedure to create a version of the software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Click Create. The Create Software Profile Version window appears. You create a software profile in the following steps:SoftwareNotesIn the Software step, do the following in the indicated fields, do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Figure. Creating a Software Profile VersionClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile version.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Create.Era creates a version of the software profile for provisioning and updating other database server VMs using this software profile and displays in the list. Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version, patches, and bug fixes. Click the + icon to view the bug fixes for the respective PSU.Database Server VMs. Displays the database server VMs that are using this version of the profile.Availability. Displays the profile availability across clusters.Updating a Software Profile VersionAbout this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile should update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message will be displayed on the homepages of the DB Server VMs and Server Clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.Creating a Compute ProfileAbout this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: Create a compute profile only if you do not want to use the sample profile (DEFAULT_OOB_COMPUTE).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.Creating a Network ProfileA network profile specifies the VLAN for the new database server VM. Before you beginEnsure the following before you create a network profile.Ensure that you have created VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskCreate a network profile as a sample network profile is not available in Era. You can create a sample network profile either by using the Welcome to Era wizard, or by performing the following procedure.Perform the following procedure to create a network profile for MySQL.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select the MySQL engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option . You can add one or more VLANs to Era.Note: For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Click Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a new database parameters profile only if you do not want to use or update the built-in sample database parameter profile.Perform the following procedure to create a database parameters profile for MySQL.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, select MySQL as the database engine and click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.The parameters in the profile are populated with the default values and are optional to configure. You can update these parameters to suit your requirements.Figure. Database Parameters ProfileClick to enlargeNote: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.MySQL Database ProvisioningYou can provision database server VMs and databases on the Nutanix cluster. As part of the database provisioning process, you can either create a database server VM on which you provision the database or select a database server VM that you have already provisioned.You use the built-in database parameter profiles or profiles you created to provision the databases.Database Server VM Provisioning PrerequisitesProvisioning a MySQL Database Server VMProvisioning a MySQL InstanceDatabase Server VM Provisioning PrerequisitesComplete the following tasks before you start provisioning a database server VMRegister a source database with Era (see Registering a MySQL InstanceCreate a software profile. Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Windows Domain profiles are required when provisioning a Database Server VM for SQL Server, and the Database Server VM will be added to a domain.Generate an SSH key for database provisioning on Linux-based operating systems (see Additional Information: Generating an SSH Key (Windows) ). Provisioning a MySQL Database Server VMBefore you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select the MySQL engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Provisioning a MySQL InstanceBefore you beginEnsure that you have created a software profile if you do not want to use the built-in software profile. For more information, see Creating a Software Profile.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning an instance.Perform the following procedure to provision a MySQL instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select MySQL. The Provision a MySQL Instance window appears. You provision an instance in the following steps:Database ServerDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one of the following.Create New Server. Select this option if you want to provision an instance on a new database server VM.Use Registered Server. Select this option if you want to provision an instance on a database server VM that you have previously registered with Era.If you selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description of the database server VM.Select the Nutanix cluster on which you want to provision the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a time zone for the database server VM.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you selected Use Registered Server in the previous step, select the database server VM on which you want to provision the instance, and click Next.Figure. Provision MySQL DatabaseClick to enlargeIn the Instance step, do the following in the indicated fields.MySQL Instance Name. Type a name of the instance.Description. Type a description for the instance.Listener Port. 3306 is the default port number of a MySQL instance that is populated in this field by default. You can choose to set another port number. Size (GiB). Type the size of the node in GB.ROOT password. Type the password of the MySQL user account. Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Name of Initial Database. Type the name of the initial database that will be created in the MariaDB instance.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.Note: If you have used the built-in software profile MYSQL_8.0_OOB, the database provisioned by Era uses InnoDB as the default storage engine.A message indicating that the operation to provision an instance has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the instance appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:MySQL Instance Summary. Displays a brief summary of the instance that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Database . Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, ip address, OS, and SSH connection details of the database server VM.Tags. Displays a list of the tags that are applied to this database server. You can click Update to set the tag values.MySQL Database RegistrationYou can register a source (production) database running on a Nutanix cluster with Era. When you register a database with Era, the database server VM (VM that hosts the source database) is also registered with Era. After you have registered a database with Era, a time machine is created for that database.The time machine takes periodic database snapshots and log catch-ups (see Era Time Machine Management). The time machine performs the snapshot and log catch-up operations as defined in the SLA that you have selected or created during the registration of the database (see SLA Management).MySQL Database and Database Server VM Registration PrerequisitesRegistering a MySQL Database Server VMRegistering a MySQL InstanceMySQL Database and Database Server VM Registration PrerequisitesEnsure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Software Dependencies (Linux)To successfully register a database server VM with Era, database server VM must satisfy all the required software and configuration dependencies. (For more information about the software packages that must be installed, see Database Server VM Registration Pre-requirement Checks and Running Pre-requirement Script (Linux)).OS Configuration (Linux)SUDO NOPASS access is required.Linux OS root access is required.Install and configure crontab.Configure binary paths as secure_paths in the etc/sudoers file.Ensure that Prism APIs are callable from the VM./tmp folder must have read and write permissions.Disable requiretty setting on the source database to successfully register the database.Ensure that /etc/sudoers file includes the following line under defaults: secure_path = /sbin:/bin:/usr/sbin:/usr/binOS Configuration (Windows)Ensure that Prism APIs are callable from the VM.Registering a MySQL Database Server VMBefore you beginEnsure that you meet the following requirements before you register a MySQL database server VM with Era.For general requirements, see MySQL Database and Database Server VM Registration PrerequisitesKeep OS and database software on separate disks.Register only one instance on the host.Run mysqld daemon.Enable binary logging.Ensure that you have DBA level access to the databases you want to add.About this taskPerform the following procedure to register a MySQL database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VM.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select MySQL. The Register Database Server VM window appears. Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM you want to register with Era.Listener Port. The default port of a MySQL database is 3306, which is populated in this field. You can choose to set another port number.Era Drive User. Type the username of the Era drive user account that has sudo access.Base Dir. Type the path of the directory where the MySQL software is installed.Provide Credentials Through. Select Password or Upload Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Figure. Register MySQL Database Server VMClick to enlargeClick Register to successfully register the database server VM.A message appears indicating that the operation to register a database server VM has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server VM appears in the list of the registered database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays the name, time zone, status, date of registration, and version of the database server VM.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server VM. You can also click See Description to view the steps to connect to the database server VM using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the database.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Registering a MySQL InstanceBefore you beginEnsure that you meet the following requirements before you register a MySQL instance with Era.For general requirements, see MySQL Database and Database Server VM Registration PrerequisitesKeep OS and database software on separate disks.Register only one instance on the host.Run mysqld daemon.Enable binary logging.Ensure that you have DBA level access to the databases you want to add.About this taskPerform the following procedure to register a MySQL instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select MySQL. The Register a MySQL Instance window appears. You register an instance in the following steps:Database Server VMInstanceTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.In the Database Server VM step, select one the following.Registered. Select this option if you want to register an instance running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the instance you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the instance you want to register is running, and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM on which the instance you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.Base Dir. Type the path of the directory where the MySQL software is installed.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in the Password field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Register MySQL InstanceClick to enlargeIn the Instance step, do the following in the indicated fields.Instance Name in Era. Type a name of the instance that you want to be displayed in Era.Description. Type a description of the instance.Port. This field is populated with the default server port number used to listen for TCP/IP connections. Type a port number of a MySQL server.ROOT password. Type the password of the MySQL root user account.Name of a Database on the Instance. Type the name of a database on the instance you want to register.Era will discover and register all the databases found on the instance at the port provided.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot on the. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register an instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the instance appears in the list of the registered database. Click the name of the instance to open the homepage for the selected instance. This page displays the following widgets:MySQL Instance Summary. Displays a brief summary of the instance that includes name, description, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Databases. Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.MySQL Database CloneYou can create clones either to a point in time (by using log backups) or by using snapshots. If you want to use snapshots to clone the source database, you select an available snapshot and the source database is cloned to a state when the snapshot is taken. If you want to clone the source database at a point in time, you select the clone time and the source database is cloned to a state then. Creating Database ClonesCreating Database ClonesBefore you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone a MySQL instance.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the MySQL source instance you want to clone, click Actions and select Create a Clone of MySQL Instance. The Create Clone of MySQL Instance from Time Machine window appears. You clone the instance in the following steps:Time/SnapshotDatabase Server VMDatabaseIn the Time/Snapshot step, select the clone time to which you want to clone the instance. Do the following to select the time.Select the Nutanix cluster on which you want to clone the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. Do one of the following:Point in time. Select this option if you want to clone the source instance to a point in time. If you select this option, the instance is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source instance by using the available snapshots.Click Next.Figure. MySQL Instance CloneClick to enlargeIn the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the instance on the newly created target database server VM.Use Authorized Server. Select this option to clone the instance to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server Name VM. Type a name of the database server VM.Description. Type a description of the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a time zone for the database server VM.Provide SSH Public Key Through. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the Instance step, do the following in the indicated fields.Name. Type a name of the cloned instance.Description. Type a description of the cloned instance.New ROOT Password. Type the password of the MySQL user account.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Clone to successfully clone the source database.A message appears indicating that the operation to clone instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone instance appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["mysql", "databas", "manag"]}, {"Heading": "Current Limitations", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-limitations-mysql-c.html", "Document Name": "Era User Guide", "Content": "Era has the following limitations for MySQLEra does not support provisioning multiple MySQL instances in the same database server VM. Era does not support provisioning multiple MySQL clones in the same database server VM.", "Heading_Keywords": ["current", "limit"]}, {"Heading": "MySQL Database Profiles", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-profiles-mysql-c.html", "Document Name": "Era User Guide", "Content": "Profiles enable you to create templates of database software, networking, compute, and database parameters which help you to successfully provision databases or database server VMs on Era.Creating a Software ProfileCreating a Software Profile VersionUpdating a Software Profile VersionCreating a Compute ProfileCreating a Network ProfileA network profile specifies the VLAN for the new database server VM. Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. Creating a Software ProfileBefore you beginEnsure that you have registered an existing MySQL database server VM with Era. Era uses a registered database server VM to create a software profile.About this taskA software profile is a template that includes the MySQL database and operating system. After you have registered an existing MySQL database server VM with Era, Era creates a software template from the MySQL database server VM you have previously registered. For more information about supported built-in profiles, see Era Release Notes.Note: Create a new software profile only if you do not want to use or update the built-in sample profile (MYSQL_8.0_OOB).A software profile is created from the software installed on the registered databases. Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software and click Create, and select the MySQL engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a new version of the software profile. For more information, see Creating a Software Profile Version .Creating a Software Profile VersionAbout this taskSoftware profile version is required when you update a database server VM to a new update version available. You can create a software profile version to provision and update other database server VMs using this software profile. Perform the following procedure to create a version of the software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Click Create. The Create Software Profile Version window appears. You create a software profile in the following steps:SoftwareNotesIn the Software step, do the following in the indicated fields, do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Figure. Creating a Software Profile VersionClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile version.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Create.Era creates a version of the software profile for provisioning and updating other database server VMs using this software profile and displays in the list. Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version, patches, and bug fixes. Click the + icon to view the bug fixes for the respective PSU.Database Server VMs. Displays the database server VMs that are using this version of the profile.Availability. Displays the profile availability across clusters.Updating a Software Profile VersionAbout this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile should update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message will be displayed on the homepages of the DB Server VMs and Server Clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.Creating a Compute ProfileAbout this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: Create a compute profile only if you do not want to use the sample profile (DEFAULT_OOB_COMPUTE).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.Creating a Network ProfileA network profile specifies the VLAN for the new database server VM. Before you beginEnsure the following before you create a network profile.Ensure that you have created VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskCreate a network profile as a sample network profile is not available in Era. You can create a sample network profile either by using the Welcome to Era wizard, or by performing the following procedure.Perform the following procedure to create a network profile for MySQL.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select the MySQL engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option . You can add one or more VLANs to Era.Note: For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Click Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a new database parameters profile only if you do not want to use or update the built-in sample database parameter profile.Perform the following procedure to create a database parameters profile for MySQL.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, select MySQL as the database engine and click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.The parameters in the profile are populated with the default values and are optional to configure. You can update these parameters to suit your requirements.Figure. Database Parameters ProfileClick to enlargeNote: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.", "Heading_Keywords": ["mysql", "databas", "profil"]}, {"Heading": "Creating a Software Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-create-software-profile-mysql-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have registered an existing MySQL database server VM with Era. Era uses a registered database server VM to create a software profile.About this taskA software profile is a template that includes the MySQL database and operating system. After you have registered an existing MySQL database server VM with Era, Era creates a software template from the MySQL database server VM you have previously registered. For more information about supported built-in profiles, see Era Release Notes.Note: Create a new software profile only if you do not want to use or update the built-in sample profile (MYSQL_8.0_OOB).A software profile is created from the software installed on the registered databases. Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software and click Create, and select the MySQL engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a new version of the software profile. For more information, see Creating a Software Profile Version .", "Heading_Keywords": ["creat", "softwar", "profil"]}, {"Heading": "Creating a Software Profile Version", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-create-software-profile-version-t.html", "Document Name": "Era User Guide", "Content": "About this taskSoftware profile version is required when you update a database server VM to a new update version available. You can create a software profile version to provision and update other database server VMs using this software profile. Perform the following procedure to create a version of the software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Click Create. The Create Software Profile Version window appears. You create a software profile in the following steps:SoftwareNotesIn the Software step, do the following in the indicated fields, do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Figure. Creating a Software Profile VersionClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile version.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Create.Era creates a version of the software profile for provisioning and updating other database server VMs using this software profile and displays in the list. Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version, patches, and bug fixes. Click the + icon to view the bug fixes for the respective PSU.Database Server VMs. Displays the database server VMs that are using this version of the profile.Availability. Displays the profile availability across clusters.", "Heading_Keywords": ["creat", "softwar", "profil", "version"]}, {"Heading": "Updating a Software Profile Version", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-update-software-profile-version-t.html", "Document Name": "Era User Guide", "Content": "About this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile should update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message will be displayed on the homepages of the DB Server VMs and Server Clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.", "Heading_Keywords": ["updat", "softwar", "profil", "version"]}, {"Heading": "Creating a Compute Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-a-compute-profile-t.html", "Document Name": "Era User Guide", "Content": "About this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: Create a compute profile only if you do not want to use the sample profile (DEFAULT_OOB_COMPUTE).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.", "Heading_Keywords": ["creat", "comput", "profil"]}, {"Heading": "Creating a Network Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-create-network-profile-mysql-t.html", "Document Name": "Era User Guide", "Content": "A network profile specifies the VLAN for the new database server VM. Before you beginEnsure the following before you create a network profile.Ensure that you have created VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskCreate a network profile as a sample network profile is not available in Era. You can create a sample network profile either by using the Welcome to Era wizard, or by performing the following procedure.Perform the following procedure to create a network profile for MySQL.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select the MySQL engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option . You can add one or more VLANs to Era.Note: For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Click Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.", "Heading_Keywords": ["creat", "network", "profil"]}, {"Heading": "Creating a Database Parameters Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-create-database-parameters-profile-mysql-t.html", "Document Name": "Era User Guide", "Content": "A database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a new database parameters profile only if you do not want to use or update the built-in sample database parameter profile.Perform the following procedure to create a database parameters profile for MySQL.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, select MySQL as the database engine and click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.The parameters in the profile are populated with the default values and are optional to configure. You can update these parameters to suit your requirements.Figure. Database Parameters ProfileClick to enlargeNote: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.", "Heading_Keywords": ["creat", "databas", "paramet", "profil"]}, {"Heading": "Updating Profile Availability", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-update-profile-availability-t.html", "Document Name": "Era User Guide", "Content": "After profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.", "Heading_Keywords": ["updat", "profil", "avail"]}, {"Heading": "MySQL Database Provisioning", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-database-provisioning-mysql-c.html", "Document Name": "Era User Guide", "Content": "You can provision database server VMs and databases on the Nutanix cluster. As part of the database provisioning process, you can either create a database server VM on which you provision the database or select a database server VM that you have already provisioned.You use the built-in database parameter profiles or profiles you created to provision the databases.Database Server VM Provisioning PrerequisitesProvisioning a MySQL Database Server VMProvisioning a MySQL InstanceDatabase Server VM Provisioning PrerequisitesComplete the following tasks before you start provisioning a database server VMRegister a source database with Era (see Registering a MySQL InstanceCreate a software profile. Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Windows Domain profiles are required when provisioning a Database Server VM for SQL Server, and the Database Server VM will be added to a domain.Generate an SSH key for database provisioning on Linux-based operating systems (see Additional Information: Generating an SSH Key (Windows) ). Provisioning a MySQL Database Server VMBefore you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select the MySQL engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Provisioning a MySQL InstanceBefore you beginEnsure that you have created a software profile if you do not want to use the built-in software profile. For more information, see Creating a Software Profile.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning an instance.Perform the following procedure to provision a MySQL instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select MySQL. The Provision a MySQL Instance window appears. You provision an instance in the following steps:Database ServerDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one of the following.Create New Server. Select this option if you want to provision an instance on a new database server VM.Use Registered Server. Select this option if you want to provision an instance on a database server VM that you have previously registered with Era.If you selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description of the database server VM.Select the Nutanix cluster on which you want to provision the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a time zone for the database server VM.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you selected Use Registered Server in the previous step, select the database server VM on which you want to provision the instance, and click Next.Figure. Provision MySQL DatabaseClick to enlargeIn the Instance step, do the following in the indicated fields.MySQL Instance Name. Type a name of the instance.Description. Type a description for the instance.Listener Port. 3306 is the default port number of a MySQL instance that is populated in this field by default. You can choose to set another port number. Size (GiB). Type the size of the node in GB.ROOT password. Type the password of the MySQL user account. Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Name of Initial Database. Type the name of the initial database that will be created in the MariaDB instance.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.Note: If you have used the built-in software profile MYSQL_8.0_OOB, the database provisioned by Era uses InnoDB as the default storage engine.A message indicating that the operation to provision an instance has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the instance appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:MySQL Instance Summary. Displays a brief summary of the instance that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Database . Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, ip address, OS, and SSH connection details of the database server VM.Tags. Displays a list of the tags that are applied to this database server. You can click Update to set the tag values.", "Heading_Keywords": ["mysql", "databas", "provis"]}, {"Heading": "Database Server VM Provisioning Prerequisites", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-provision-prerequisite-mysql-r.html", "Document Name": "Era User Guide", "Content": "Complete the following tasks before you start provisioning a database server VMRegister a source database with Era (see Registering a MySQL InstanceCreate a software profile. Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Windows Domain profiles are required when provisioning a Database Server VM for SQL Server, and the Database Server VM will be added to a domain.Generate an SSH key for database provisioning on Linux-based operating systems (see Additional Information: Generating an SSH Key (Windows) ). ", "Heading_Keywords": ["databas", "server", "vm", "provis", "prerequisit"]}, {"Heading": "Provisioning a MySQL Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-provisioning-database-server-vm-mysql-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select the MySQL engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.", "Heading_Keywords": ["provis", "mysql", "databas", "server", "vm"]}, {"Heading": "Provisioning a MySQL Instance", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-provision-mysql-database-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have created a software profile if you do not want to use the built-in software profile. For more information, see Creating a Software Profile.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning an instance.Perform the following procedure to provision a MySQL instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select MySQL. The Provision a MySQL Instance window appears. You provision an instance in the following steps:Database ServerDatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one of the following.Create New Server. Select this option if you want to provision an instance on a new database server VM.Use Registered Server. Select this option if you want to provision an instance on a database server VM that you have previously registered with Era.If you selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description of the database server VM.Select the Nutanix cluster on which you want to provision the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a time zone for the database server VM.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you selected Use Registered Server in the previous step, select the database server VM on which you want to provision the instance, and click Next.Figure. Provision MySQL DatabaseClick to enlargeIn the Instance step, do the following in the indicated fields.MySQL Instance Name. Type a name of the instance.Description. Type a description for the instance.Listener Port. 3306 is the default port number of a MySQL instance that is populated in this field by default. You can choose to set another port number. Size (GiB). Type the size of the node in GB.ROOT password. Type the password of the MySQL user account. Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Name of Initial Database. Type the name of the initial database that will be created in the MariaDB instance.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.Note: If you have used the built-in software profile MYSQL_8.0_OOB, the database provisioned by Era uses InnoDB as the default storage engine.A message indicating that the operation to provision an instance has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the instance appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:MySQL Instance Summary. Displays a brief summary of the instance that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Database . Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, ip address, OS, and SSH connection details of the database server VM.Tags. Displays a list of the tags that are applied to this database server. You can click Update to set the tag values.", "Heading_Keywords": ["provis", "mysql", "instanc"]}, {"Heading": "MySQL Database Registration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-database-registration-mysql-c.html", "Document Name": "Era User Guide", "Content": "You can register a source (production) database running on a Nutanix cluster with Era. When you register a database with Era, the database server VM (VM that hosts the source database) is also registered with Era. After you have registered a database with Era, a time machine is created for that database.The time machine takes periodic database snapshots and log catch-ups (see Era Time Machine Management). The time machine performs the snapshot and log catch-up operations as defined in the SLA that you have selected or created during the registration of the database (see SLA Management).MySQL Database and Database Server VM Registration PrerequisitesRegistering a MySQL Database Server VMRegistering a MySQL InstanceMySQL Database and Database Server VM Registration PrerequisitesEnsure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Software Dependencies (Linux)To successfully register a database server VM with Era, database server VM must satisfy all the required software and configuration dependencies. (For more information about the software packages that must be installed, see Database Server VM Registration Pre-requirement Checks and Running Pre-requirement Script (Linux)).OS Configuration (Linux)SUDO NOPASS access is required.Linux OS root access is required.Install and configure crontab.Configure binary paths as secure_paths in the etc/sudoers file.Ensure that Prism APIs are callable from the VM./tmp folder must have read and write permissions.Disable requiretty setting on the source database to successfully register the database.Ensure that /etc/sudoers file includes the following line under defaults: secure_path = /sbin:/bin:/usr/sbin:/usr/binOS Configuration (Windows)Ensure that Prism APIs are callable from the VM.Registering a MySQL Database Server VMBefore you beginEnsure that you meet the following requirements before you register a MySQL database server VM with Era.For general requirements, see MySQL Database and Database Server VM Registration PrerequisitesKeep OS and database software on separate disks.Register only one instance on the host.Run mysqld daemon.Enable binary logging.Ensure that you have DBA level access to the databases you want to add.About this taskPerform the following procedure to register a MySQL database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VM.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select MySQL. The Register Database Server VM window appears. Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM you want to register with Era.Listener Port. The default port of a MySQL database is 3306, which is populated in this field. You can choose to set another port number.Era Drive User. Type the username of the Era drive user account that has sudo access.Base Dir. Type the path of the directory where the MySQL software is installed.Provide Credentials Through. Select Password or Upload Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Figure. Register MySQL Database Server VMClick to enlargeClick Register to successfully register the database server VM.A message appears indicating that the operation to register a database server VM has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server VM appears in the list of the registered database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays the name, time zone, status, date of registration, and version of the database server VM.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server VM. You can also click See Description to view the steps to connect to the database server VM using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the database.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Registering a MySQL InstanceBefore you beginEnsure that you meet the following requirements before you register a MySQL instance with Era.For general requirements, see MySQL Database and Database Server VM Registration PrerequisitesKeep OS and database software on separate disks.Register only one instance on the host.Run mysqld daemon.Enable binary logging.Ensure that you have DBA level access to the databases you want to add.About this taskPerform the following procedure to register a MySQL instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select MySQL. The Register a MySQL Instance window appears. You register an instance in the following steps:Database Server VMInstanceTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.In the Database Server VM step, select one the following.Registered. Select this option if you want to register an instance running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the instance you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the instance you want to register is running, and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM on which the instance you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.Base Dir. Type the path of the directory where the MySQL software is installed.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in the Password field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Register MySQL InstanceClick to enlargeIn the Instance step, do the following in the indicated fields.Instance Name in Era. Type a name of the instance that you want to be displayed in Era.Description. Type a description of the instance.Port. This field is populated with the default server port number used to listen for TCP/IP connections. Type a port number of a MySQL server.ROOT password. Type the password of the MySQL root user account.Name of a Database on the Instance. Type the name of a database on the instance you want to register.Era will discover and register all the databases found on the instance at the port provided.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot on the. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register an instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the instance appears in the list of the registered database. Click the name of the instance to open the homepage for the selected instance. This page displays the following widgets:MySQL Instance Summary. Displays a brief summary of the instance that includes name, description, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Databases. Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["mysql", "databas", "registr"]}, {"Heading": "MySQL Database and Database Server VM Registration Prerequisites", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-registration-prerequisite-mysql-r.html", "Document Name": "Era User Guide", "Content": "Ensure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Software Dependencies (Linux)To successfully register a database server VM with Era, database server VM must satisfy all the required software and configuration dependencies. (For more information about the software packages that must be installed, see Database Server VM Registration Pre-requirement Checks and Running Pre-requirement Script (Linux)).OS Configuration (Linux)SUDO NOPASS access is required.Linux OS root access is required.Install and configure crontab.Configure binary paths as secure_paths in the etc/sudoers file.Ensure that Prism APIs are callable from the VM./tmp folder must have read and write permissions.Disable requiretty setting on the source database to successfully register the database.Ensure that /etc/sudoers file includes the following line under defaults: secure_path = /sbin:/bin:/usr/sbin:/usr/binOS Configuration (Windows)Ensure that Prism APIs are callable from the VM.", "Heading_Keywords": ["mysql", "databas", "databas", "server", "vm", "registr", "prerequisit"]}, {"Heading": "Registering a MySQL Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-register-mysql-database-server-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you register a MySQL database server VM with Era.For general requirements, see MySQL Database and Database Server VM Registration PrerequisitesKeep OS and database software on separate disks.Register only one instance on the host.Run mysqld daemon.Enable binary logging.Ensure that you have DBA level access to the databases you want to add.About this taskPerform the following procedure to register a MySQL database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VM.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select MySQL. The Register Database Server VM window appears. Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM you want to register with Era.Listener Port. The default port of a MySQL database is 3306, which is populated in this field. You can choose to set another port number.Era Drive User. Type the username of the Era drive user account that has sudo access.Base Dir. Type the path of the directory where the MySQL software is installed.Provide Credentials Through. Select Password or Upload Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Figure. Register MySQL Database Server VMClick to enlargeClick Register to successfully register the database server VM.A message appears indicating that the operation to register a database server VM has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server VM appears in the list of the registered database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays the name, time zone, status, date of registration, and version of the database server VM.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server VM. You can also click See Description to view the steps to connect to the database server VM using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the database.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.", "Heading_Keywords": ["regist", "mysql", "databas", "server", "vm"]}, {"Heading": "Registering a MySQL Instance", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-register-mysql-database-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you register a MySQL instance with Era.For general requirements, see MySQL Database and Database Server VM Registration PrerequisitesKeep OS and database software on separate disks.Register only one instance on the host.Run mysqld daemon.Enable binary logging.Ensure that you have DBA level access to the databases you want to add.About this taskPerform the following procedure to register a MySQL instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select MySQL. The Register a MySQL Instance window appears. You register an instance in the following steps:Database Server VMInstanceTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.In the Database Server VM step, select one the following.Registered. Select this option if you want to register an instance running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the instance you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the instance you want to register is running, and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM on which the instance you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.Base Dir. Type the path of the directory where the MySQL software is installed.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in the Password field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Register MySQL InstanceClick to enlargeIn the Instance step, do the following in the indicated fields.Instance Name in Era. Type a name of the instance that you want to be displayed in Era.Description. Type a description of the instance.Port. This field is populated with the default server port number used to listen for TCP/IP connections. Type a port number of a MySQL server.ROOT password. Type the password of the MySQL root user account.Name of a Database on the Instance. Type the name of a database on the instance you want to register.Era will discover and register all the databases found on the instance at the port provided.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot on the. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register an instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the instance appears in the list of the registered database. Click the name of the instance to open the homepage for the selected instance. This page displays the following widgets:MySQL Instance Summary. Displays a brief summary of the instance that includes name, description, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Databases. Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["regist", "mysql", "instanc"]}, {"Heading": "MySQL Database Clone", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-clone-mysql-c.html", "Document Name": "Era User Guide", "Content": "You can create clones either to a point in time (by using log backups) or by using snapshots. If you want to use snapshots to clone the source database, you select an available snapshot and the source database is cloned to a state when the snapshot is taken. If you want to clone the source database at a point in time, you select the clone time and the source database is cloned to a state then. Creating Database ClonesCreating Database ClonesBefore you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone a MySQL instance.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the MySQL source instance you want to clone, click Actions and select Create a Clone of MySQL Instance. The Create Clone of MySQL Instance from Time Machine window appears. You clone the instance in the following steps:Time/SnapshotDatabase Server VMDatabaseIn the Time/Snapshot step, select the clone time to which you want to clone the instance. Do the following to select the time.Select the Nutanix cluster on which you want to clone the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. Do one of the following:Point in time. Select this option if you want to clone the source instance to a point in time. If you select this option, the instance is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source instance by using the available snapshots.Click Next.Figure. MySQL Instance CloneClick to enlargeIn the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the instance on the newly created target database server VM.Use Authorized Server. Select this option to clone the instance to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server Name VM. Type a name of the database server VM.Description. Type a description of the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a time zone for the database server VM.Provide SSH Public Key Through. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the Instance step, do the following in the indicated fields.Name. Type a name of the cloned instance.Description. Type a description of the cloned instance.New ROOT Password. Type the password of the MySQL user account.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Clone to successfully clone the source database.A message appears indicating that the operation to clone instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone instance appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["mysql", "databas", "clone"]}, {"Heading": "Creating Database Clones", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-create-database-clones-mysql-t.html", "Document Name": "Era User Guide", "Content": "Before you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone a MySQL instance.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the MySQL source instance you want to clone, click Actions and select Create a Clone of MySQL Instance. The Create Clone of MySQL Instance from Time Machine window appears. You clone the instance in the following steps:Time/SnapshotDatabase Server VMDatabaseIn the Time/Snapshot step, select the clone time to which you want to clone the instance. Do the following to select the time.Select the Nutanix cluster on which you want to clone the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. Do one of the following:Point in time. Select this option if you want to clone the source instance to a point in time. If you select this option, the instance is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source instance by using the available snapshots.Click Next.Figure. MySQL Instance CloneClick to enlargeIn the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the instance on the newly created target database server VM.Use Authorized Server. Select this option to clone the instance to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server Name VM. Type a name of the database server VM.Description. Type a description of the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a time zone for the database server VM.Provide SSH Public Key Through. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the Instance step, do the following in the indicated fields.Name. Type a name of the cloned instance.Description. Type a description of the cloned instance.New ROOT Password. Type the password of the MySQL user account.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Clone to successfully clone the source database.A message appears indicating that the operation to clone instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone instance appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["creat", "databas", "clone"]}, {"Heading": "MariaDB Database Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-mariadb-db-management-c.html", "Document Name": "Era User Guide", "Content": "MariaDB Database ManagementCurrent LimitationsMariaDB Database ProfilesMariaDB Database ProvisioningMariaDB Database RegistrationMariaDB Database CloneCreating Database ClonesCurrent LimitationsCurrent LimitationsMariaDB Database ProfilesMariaDB Database ProvisioningMariaDB Database RegistrationMariaDB Database CloneCurrent LimitationsEra has the following limitations for MariaDB. Era does not support provisioning multiple MariaDB instances in the same database server VM. Era does not support provisioning multiple MariaDB clones in the same database server VM.MariaDB Database ProfilesProfiles enable you to create templates of database software, networking, compute, and database parameters which help you to successfully provision databases or database server VMs on Era.Creating a Software ProfileCreating a Software Profile VersionUpdating a Software Profile VersionCreating a Compute ProfileCreating a Network ProfileA network profile specifies the VLAN for the new database server VM. Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. Creating a Software ProfileBefore you beginEnsure that you have registered an existing MariaDB database server VM with Era. Era uses a registered database server VM to create a software profile.About this taskA software profile is a template that includes the MariaDB instance and operating system. After you have registered an existing MariaDB database server VM with Era, Era creates a software template from the MariaDB database server VM you have previously registered. For more information about supported built-in profiles, see Era Release Notes.Note: Create a new software profile only if you do not want to use or update the built-in sample profile (MARIADB_10.3_OOB).A software profile is created from the software installed on the registered databases. Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software and click Create, and select the MariaDB engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a new version of the software profile. For more information, see Creating a Software Profile Version .Creating a Software Profile VersionAbout this taskSoftware profile version is required when you update a database server VM to a new update version available. You can create a software profile version to provision and update other database server VMs using this software profile. Perform the following procedure to create a version of the software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Click Create. The Create Software Profile Version window appears. You create a software profile in the following steps:SoftwareNotesIn the Software step, do the following in the indicated fields, do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Figure. Creating a Software Profile VersionClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile version.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Create.Era creates a version of the software profile for provisioning and updating other database server VMs using this software profile and displays in the list. Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version, patches, and bug fixes. Click the + icon to view the bug fixes for the respective PSU.Database Server VMs. Displays the database server VMs that are using this version of the profile.Availability. Displays the profile availability across clusters.Updating a Software Profile VersionAbout this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile should update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message will be displayed on the homepages of the DB Server VMs and Server Clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.Creating a Compute ProfileAbout this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: Create a compute profile only if you do not want to use the sample profile (DEFAULT_OOB_COMPUTE).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.Creating a Network ProfileA network profile specifies the VLAN for the new database server VM. Before you beginEnsure the following before you create a network profile.Ensure that you have created VLAN on the Nutanix cluster for your database environment.Add the VLAN to Era. For more information, see Adding a VLAN to Era.About this taskCreate a network profile as a sample network profile is not available in Era. You can create a sample network profile either by using the Welcome to Era wizard, or by performing the following procedure.Perform the following procedure to create a network profile for MariaDB.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select the MariaDB engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option . You can add one or more VLANs to Era.Note: For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Click Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a new database parameters profile only if you do not want to use the sample database parameter profile.Perform the following procedure to create a database parameters profile for MariaDB.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, select MariaDB as the database engine and click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.The parameters in the profile are populated with the default values and are optional to configure. You can update these parameters to suit your requirements.Figure. Database Parameters ProfileClick to enlargeNote: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.MariaDB Database ProvisioningYou can provision database server VMs and databases on the Nutanix cluster. As part of the database provisioning process, you can either create a database server VM on which you provision the database or select a database server VM that you have already provisioned.You use the built-in database parameter profiles or profiles you created to provision the databases.Database Server VM Provisioning PrerequisitesProvisioning a MariaDB Database Server VMProvisioning a MariaDB InstanceDatabase Server VM Provisioning PrerequisitesComplete the following tasks before you start provisioning a database server VM.Register a source database with Era (see Registering a MariaDB InstanceCreate a software profile. Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Windows Domain profiles are required when provisioning a Database Server VM for SQL Server, and the Database Server VM will be added to a domain.Generate an SSH key for database provisioning on Linux-based operating systems (see Additional Information: Generating an SSH Key (Windows) ). Provisioning a MariaDB Database Server VMBefore you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select the MariaDB engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Provisioning a MariaDB InstanceBefore you beginEnsure that you have created a software profile if you do not want to use the built-in software profile. For more information, see Creating a Software Profile.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning an instance.Perform the following procedure to provision a MariaDB instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select MariaDB. The Provision a MariaDB Instance window appears. You provision an instance in the following steps:Database Server VMInstanceTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one of the following.Create New Server. Select this option if you want to provision an instance on a new database server VM.Use Registered Server. Select this option if you want to provision an instance on a database server VM that you have previously registered with Era.If you selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description of the database server VM.Select the Nutanix cluster on which you want to provision the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update. Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a time zone for the database server VM.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you selected Use Registered Server in the previous step, select the database server VM on which you want to provision the instance, and click Next.Figure. Provision MariaDB DatabaseClick to enlargeIn the Instance step, do the following in the indicated fields.MariaDB Instance Name. Type a name of the instance.Description. Type a description for the instance.Listener Port. 3306 is the default port number of a MariaDB instance that is populated in this field by default. You can choose to set another port number. Size (GiB). Type the size of the node in GB.ROOT password. Type the password of the MariaDB user account. Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Name of Initial Database. Type the name of the initial database that will be created in the MariaDB instance.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.Note: If you have used the built-in software profile MARIADB_10.3_OOB, the instance provisioned by Era uses InnoDB as the default storage engine.A message indicating that the operation to provision a database has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the instance appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:MariaDB Instance Summary. Displays a brief summary of the instance that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Database . Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, ip address, OS, and SSH connection details of the database server VM.Tags. Displays a list of the tags that are applied to this database server. You can click Update to set the tag values.MariaDB Database RegistrationYou can register a source (production) database running on a Nutanix cluster with Era. When you register a database with Era, the database server VM (VM that hosts the source database) is also registered with Era. After you have registered a database with Era, a time machine is created for that database.The time machine takes periodic database snapshots and log catch-ups (see Era Time Machine Management). The time machine performs the snapshot and log catch-up operations as defined in the SLA that you have selected or created during the registration of the database (see SLA Management).MariaDB Database and Database Server VM Registration PrerequisitesRegistering a MariaDB Database Server VMRegistering a MariaDB InstanceMariaDB Database and Database Server VM Registration PrerequisitesEnsure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Software Dependencies (Linux)To successfully register a database server VM with Era, database server VM must satisfy all the required software and configuration dependencies. (For more information about the software packages that must be installed, see Database Server VM Registration Pre-requirement Checks and Running Pre-requirement Script (Linux)).OS Configuration (Linux)SUDO NOPASS access is required.Linux OS root access is required.Install and configure crontab.Configure binary paths as secure_paths in the etc/sudoers file.Ensure that Prism APIs are callable from the VM./tmp folder must have read and write permissions.Disable requiretty setting on the source database to successfully register the database.Ensure that /etc/sudoers file includes the following line under defaults: secure_path = /sbin:/bin:/usr/sbin:/usr/binOS Configuration (Windows)Ensure that Prism APIs are callable from the VM.Registering a MariaDB Database Server VMBefore you beginEnsure that you meet the following requirements before you register an MariaDB database server VM with Era.For general requirements, see MariaDB Database and Database Server VM Registration PrerequisitesKeep OS and database software on separate disks.Register only one instance on the host.Run mysqld daemon.Enable binary logging.DBA level access is required for the databases that you want to add.About this taskPerform the following procedure to register a MariaDB database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VM.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select MariaDB. The Register Database Server VM window appears. Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM you want to register with Era.Listener Port. The default port of a MariaDB database is 3306, which is populated in this field. You can choose to set another port number.Era Drive User. Type the username of the Era drive user account that has sudo access.Base Dir. Type the path of the directory where the MariaDB software is installed.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Figure. Register MariaDB Database Server VMClick to enlargeClick Register to successfully register the database server VM.A message appears indicating that the operation to register a database server VM has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server VM appears in the list of the registered database server VM. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays the name, time zone, status, date of registration, and version of the database server VM.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server VM. You can also click See Description to view the steps to connect to the database server VM using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the database.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Registering a MariaDB InstanceBefore you beginEnsure that you meet the following requirements before you register an MariaDB instance with Era.For general requirements, see MariaDB Database and Database Server VM Registration PrerequisitesKeep OS and database software on separate disks.Register only one instance on the host.Run mysqld daemon.Enable binary logging.DBA level access is required for the databases that you want to add.About this taskPerform the following procedure to register a MariaDB instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select MariaDB. The Register a MariaDB Instance window appears. You register an instance in the following steps:Database Server VMInstanceTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.In the Database Server VM step, select one the following.Registered. Select this option if you want to register an instance running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the instance you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the instance you want to register is running, and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM on which the instance you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.Base Dir. Type the path of the directory where the MariaDB software is installed.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Register MariaDB InstanceClick to enlargeIn the Instance step, do the following in the indicated fields.Instance Name in Era. Type a name of the instance that you want to be displayed in Era.Description. Type a description of the instance.Port. This field is populated with the default server port number used to listen for TCP/IP connections. Type a port number of a MariaDB server.ROOT password. Type the password of the MariaDB root user account.Name of a Database on the Instance. Type the name of a database on the instance you want to register.Era will discover and register all the databases found on the instance at the port provided.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot on the. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register an instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the instance appears in the list of the registered database. Click the name of the instance to open the homepage for the selected instance. This page displays the following widgets:MariaDB Instance Summary. Displays a brief summary of the instance that includes name, description, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Databases. Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.MariaDB Database CloneYou can create clones either to a point in time (by using log backups) or by using snapshots. If you want to use snapshots to clone the source database, you select an available snapshot and the source database is cloned to a state when the snapshot is taken. If you want to clone the source database at a point in time, you select the clone time and the source database is cloned to a state then. Creating Database ClonesCreating Database ClonesBefore you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone a MariaDB instance.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the MariaDB source instance you want to clone, click Actions and select Create a Clone of the MariaDB Instance. The Create Clone of MariaDB Instance from Time Machine window appears. You clone the instance in the following steps:Time/SnapshotDatabase Server VMInstanceIn the Time/Snapshot step, select the clone time to which you want to clone the instance. Do the following to select the time.Select the Nutanix cluster on which you want to clone the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. Do one of the following:Point in time. Select this option if you want to clone the source instance to a point in time. If you select this option, the instance is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source instance by using the available snapshots.Click Next.Figure. MariaDB Instance CloneClick to enlargeIn the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the instance on the newly created target database server VM.Use Authorized Server. Select this option to clone the instance to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server Name VM. Type a name of the database server VM.Description. Type a description of the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a time zone for the database server VM.Provide SSH Public Key Through. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the Instance step, do the following in the indicated fields.Name. Type a name of the cloned instance.Description. Type a description of the cloned instance.New ROOT Password. Type the password of the MariaDB user account.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Clone to successfully clone the source database.A message appears indicating that the operation to clone instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone instance appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["mariadb", "databas", "manag"]}, {"Heading": "Current Limitations", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-limitations-mariadb-c.html", "Document Name": "Era User Guide", "Content": "Era has the following limitations for MariaDB. Era does not support provisioning multiple MariaDB instances in the same database server VM. Era does not support provisioning multiple MariaDB clones in the same database server VM.", "Heading_Keywords": ["current", "limit"]}, {"Heading": "MariaDB Database Profiles", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-profiles-mariadb-c.html", "Document Name": "Era User Guide", "Content": "Profiles enable you to create templates of database software, networking, compute, and database parameters which help you to successfully provision databases or database server VMs on Era.Creating a Software ProfileCreating a Software Profile VersionUpdating a Software Profile VersionCreating a Compute ProfileCreating a Network ProfileA network profile specifies the VLAN for the new database server VM. Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. Creating a Software ProfileBefore you beginEnsure that you have registered an existing MariaDB database server VM with Era. Era uses a registered database server VM to create a software profile.About this taskA software profile is a template that includes the MariaDB instance and operating system. After you have registered an existing MariaDB database server VM with Era, Era creates a software template from the MariaDB database server VM you have previously registered. For more information about supported built-in profiles, see Era Release Notes.Note: Create a new software profile only if you do not want to use or update the built-in sample profile (MARIADB_10.3_OOB).A software profile is created from the software installed on the registered databases. Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software and click Create, and select the MariaDB engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a new version of the software profile. For more information, see Creating a Software Profile Version .Creating a Software Profile VersionAbout this taskSoftware profile version is required when you update a database server VM to a new update version available. You can create a software profile version to provision and update other database server VMs using this software profile. Perform the following procedure to create a version of the software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Click Create. The Create Software Profile Version window appears. You create a software profile in the following steps:SoftwareNotesIn the Software step, do the following in the indicated fields, do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Figure. Creating a Software Profile VersionClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile version.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Create.Era creates a version of the software profile for provisioning and updating other database server VMs using this software profile and displays in the list. Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version, patches, and bug fixes. Click the + icon to view the bug fixes for the respective PSU.Database Server VMs. Displays the database server VMs that are using this version of the profile.Availability. Displays the profile availability across clusters.Updating a Software Profile VersionAbout this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile should update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message will be displayed on the homepages of the DB Server VMs and Server Clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.Creating a Compute ProfileAbout this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: Create a compute profile only if you do not want to use the sample profile (DEFAULT_OOB_COMPUTE).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.Creating a Network ProfileA network profile specifies the VLAN for the new database server VM. Before you beginEnsure the following before you create a network profile.Ensure that you have created VLAN on the Nutanix cluster for your database environment.Add the VLAN to Era. For more information, see Adding a VLAN to Era.About this taskCreate a network profile as a sample network profile is not available in Era. You can create a sample network profile either by using the Welcome to Era wizard, or by performing the following procedure.Perform the following procedure to create a network profile for MariaDB.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select the MariaDB engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option . You can add one or more VLANs to Era.Note: For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Click Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a new database parameters profile only if you do not want to use the sample database parameter profile.Perform the following procedure to create a database parameters profile for MariaDB.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, select MariaDB as the database engine and click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.The parameters in the profile are populated with the default values and are optional to configure. You can update these parameters to suit your requirements.Figure. Database Parameters ProfileClick to enlargeNote: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.", "Heading_Keywords": ["mariadb", "databas", "profil"]}, {"Heading": "Creating a Software Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-a-software-profile-mariadb-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have registered an existing MariaDB database server VM with Era. Era uses a registered database server VM to create a software profile.About this taskA software profile is a template that includes the MariaDB instance and operating system. After you have registered an existing MariaDB database server VM with Era, Era creates a software template from the MariaDB database server VM you have previously registered. For more information about supported built-in profiles, see Era Release Notes.Note: Create a new software profile only if you do not want to use or update the built-in sample profile (MARIADB_10.3_OOB).A software profile is created from the software installed on the registered databases. Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software and click Create, and select the MariaDB engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a new version of the software profile. For more information, see Creating a Software Profile Version .", "Heading_Keywords": ["creat", "softwar", "profil"]}, {"Heading": "Creating a Software Profile Version", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-create-software-profile-version-t.html", "Document Name": "Era User Guide", "Content": "About this taskSoftware profile version is required when you update a database server VM to a new update version available. You can create a software profile version to provision and update other database server VMs using this software profile. Perform the following procedure to create a version of the software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Click Create. The Create Software Profile Version window appears. You create a software profile in the following steps:SoftwareNotesIn the Software step, do the following in the indicated fields, do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Figure. Creating a Software Profile VersionClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile version.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Create.Era creates a version of the software profile for provisioning and updating other database server VMs using this software profile and displays in the list. Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version, patches, and bug fixes. Click the + icon to view the bug fixes for the respective PSU.Database Server VMs. Displays the database server VMs that are using this version of the profile.Availability. Displays the profile availability across clusters.", "Heading_Keywords": ["creat", "softwar", "profil", "version"]}, {"Heading": "Updating a Software Profile Version", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-update-software-profile-version-t.html", "Document Name": "Era User Guide", "Content": "About this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile should update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message will be displayed on the homepages of the DB Server VMs and Server Clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.", "Heading_Keywords": ["updat", "softwar", "profil", "version"]}, {"Heading": "Creating a Compute Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-a-compute-profile-t.html", "Document Name": "Era User Guide", "Content": "About this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: Create a compute profile only if you do not want to use the sample profile (DEFAULT_OOB_COMPUTE).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.", "Heading_Keywords": ["creat", "comput", "profil"]}, {"Heading": "Creating a Network Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-a-network-profile-mariadb-t.html", "Document Name": "Era User Guide", "Content": "A network profile specifies the VLAN for the new database server VM. Before you beginEnsure the following before you create a network profile.Ensure that you have created VLAN on the Nutanix cluster for your database environment.Add the VLAN to Era. For more information, see Adding a VLAN to Era.About this taskCreate a network profile as a sample network profile is not available in Era. You can create a sample network profile either by using the Welcome to Era wizard, or by performing the following procedure.Perform the following procedure to create a network profile for MariaDB.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select the MariaDB engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option . You can add one or more VLANs to Era.Note: For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Click Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.", "Heading_Keywords": ["creat", "network", "profil"]}, {"Heading": "Creating a Database Parameters Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-create-database-parameters-profile-mariadb-t.html", "Document Name": "Era User Guide", "Content": "A database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a new database parameters profile only if you do not want to use the sample database parameter profile.Perform the following procedure to create a database parameters profile for MariaDB.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, select MariaDB as the database engine and click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.The parameters in the profile are populated with the default values and are optional to configure. You can update these parameters to suit your requirements.Figure. Database Parameters ProfileClick to enlargeNote: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.", "Heading_Keywords": ["creat", "databas", "paramet", "profil"]}, {"Heading": "Updating Profile Availability", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-update-profile-availability-t.html", "Document Name": "Era User Guide", "Content": "After profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.", "Heading_Keywords": ["updat", "profil", "avail"]}, {"Heading": "MariaDB Database Provisioning", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-database-provisioning-mariadb-c.html", "Document Name": "Era User Guide", "Content": "You can provision database server VMs and databases on the Nutanix cluster. As part of the database provisioning process, you can either create a database server VM on which you provision the database or select a database server VM that you have already provisioned.You use the built-in database parameter profiles or profiles you created to provision the databases.Database Server VM Provisioning PrerequisitesProvisioning a MariaDB Database Server VMProvisioning a MariaDB InstanceDatabase Server VM Provisioning PrerequisitesComplete the following tasks before you start provisioning a database server VM.Register a source database with Era (see Registering a MariaDB InstanceCreate a software profile. Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Windows Domain profiles are required when provisioning a Database Server VM for SQL Server, and the Database Server VM will be added to a domain.Generate an SSH key for database provisioning on Linux-based operating systems (see Additional Information: Generating an SSH Key (Windows) ). Provisioning a MariaDB Database Server VMBefore you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select the MariaDB engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Provisioning a MariaDB InstanceBefore you beginEnsure that you have created a software profile if you do not want to use the built-in software profile. For more information, see Creating a Software Profile.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning an instance.Perform the following procedure to provision a MariaDB instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select MariaDB. The Provision a MariaDB Instance window appears. You provision an instance in the following steps:Database Server VMInstanceTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one of the following.Create New Server. Select this option if you want to provision an instance on a new database server VM.Use Registered Server. Select this option if you want to provision an instance on a database server VM that you have previously registered with Era.If you selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description of the database server VM.Select the Nutanix cluster on which you want to provision the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update. Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a time zone for the database server VM.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you selected Use Registered Server in the previous step, select the database server VM on which you want to provision the instance, and click Next.Figure. Provision MariaDB DatabaseClick to enlargeIn the Instance step, do the following in the indicated fields.MariaDB Instance Name. Type a name of the instance.Description. Type a description for the instance.Listener Port. 3306 is the default port number of a MariaDB instance that is populated in this field by default. You can choose to set another port number. Size (GiB). Type the size of the node in GB.ROOT password. Type the password of the MariaDB user account. Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Name of Initial Database. Type the name of the initial database that will be created in the MariaDB instance.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.Note: If you have used the built-in software profile MARIADB_10.3_OOB, the instance provisioned by Era uses InnoDB as the default storage engine.A message indicating that the operation to provision a database has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the instance appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:MariaDB Instance Summary. Displays a brief summary of the instance that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Database . Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, ip address, OS, and SSH connection details of the database server VM.Tags. Displays a list of the tags that are applied to this database server. You can click Update to set the tag values.", "Heading_Keywords": ["mariadb", "databas", "provis"]}, {"Heading": "Database Server VM Provisioning Prerequisites", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-provision-prerequisite-mariadb-r.html", "Document Name": "Era User Guide", "Content": "Complete the following tasks before you start provisioning a database server VM.Register a source database with Era (see Registering a MariaDB InstanceCreate a software profile. Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Windows Domain profiles are required when provisioning a Database Server VM for SQL Server, and the Database Server VM will be added to a domain.Generate an SSH key for database provisioning on Linux-based operating systems (see Additional Information: Generating an SSH Key (Windows) ). ", "Heading_Keywords": ["databas", "server", "vm", "provis", "prerequisit"]}, {"Heading": "Provisioning a MariaDB Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-provisioning-database-server-vm-mariadb-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have completed the tasks listed in Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select the MariaDB engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.", "Heading_Keywords": ["provis", "mariadb", "databas", "server", "vm"]}, {"Heading": "Provisioning a MariaDB Instance", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-provisioning-a-mariadb-database-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have created a software profile if you do not want to use the built-in software profile. For more information, see Creating a Software Profile.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning an instance.Perform the following procedure to provision a MariaDB instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select MariaDB. The Provision a MariaDB Instance window appears. You provision an instance in the following steps:Database Server VMInstanceTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one of the following.Create New Server. Select this option if you want to provision an instance on a new database server VM.Use Registered Server. Select this option if you want to provision an instance on a database server VM that you have previously registered with Era.If you selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description of the database server VM.Select the Nutanix cluster on which you want to provision the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update. Note: The software profiles appears in this list only if you have created or replicated the profile on the selected Nutanix cluster. See Updating Profile Availability for more information.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a time zone for the database server VM.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you selected Use Registered Server in the previous step, select the database server VM on which you want to provision the instance, and click Next.Figure. Provision MariaDB DatabaseClick to enlargeIn the Instance step, do the following in the indicated fields.MariaDB Instance Name. Type a name of the instance.Description. Type a description for the instance.Listener Port. 3306 is the default port number of a MariaDB instance that is populated in this field by default. You can choose to set another port number. Size (GiB). Type the size of the node in GB.ROOT password. Type the password of the MariaDB user account. Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Name of Initial Database. Type the name of the initial database that will be created in the MariaDB instance.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.Note: If you have used the built-in software profile MARIADB_10.3_OOB, the instance provisioned by Era uses InnoDB as the default storage engine.A message indicating that the operation to provision a database has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the instance appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:MariaDB Instance Summary. Displays a brief summary of the instance that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Database . Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, ip address, OS, and SSH connection details of the database server VM.Tags. Displays a list of the tags that are applied to this database server. You can click Update to set the tag values.", "Heading_Keywords": ["provis", "mariadb", "instanc"]}, {"Heading": "MariaDB Database Registration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-database-registration-mariadb-c.html", "Document Name": "Era User Guide", "Content": "You can register a source (production) database running on a Nutanix cluster with Era. When you register a database with Era, the database server VM (VM that hosts the source database) is also registered with Era. After you have registered a database with Era, a time machine is created for that database.The time machine takes periodic database snapshots and log catch-ups (see Era Time Machine Management). The time machine performs the snapshot and log catch-up operations as defined in the SLA that you have selected or created during the registration of the database (see SLA Management).MariaDB Database and Database Server VM Registration PrerequisitesRegistering a MariaDB Database Server VMRegistering a MariaDB InstanceMariaDB Database and Database Server VM Registration PrerequisitesEnsure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Software Dependencies (Linux)To successfully register a database server VM with Era, database server VM must satisfy all the required software and configuration dependencies. (For more information about the software packages that must be installed, see Database Server VM Registration Pre-requirement Checks and Running Pre-requirement Script (Linux)).OS Configuration (Linux)SUDO NOPASS access is required.Linux OS root access is required.Install and configure crontab.Configure binary paths as secure_paths in the etc/sudoers file.Ensure that Prism APIs are callable from the VM./tmp folder must have read and write permissions.Disable requiretty setting on the source database to successfully register the database.Ensure that /etc/sudoers file includes the following line under defaults: secure_path = /sbin:/bin:/usr/sbin:/usr/binOS Configuration (Windows)Ensure that Prism APIs are callable from the VM.Registering a MariaDB Database Server VMBefore you beginEnsure that you meet the following requirements before you register an MariaDB database server VM with Era.For general requirements, see MariaDB Database and Database Server VM Registration PrerequisitesKeep OS and database software on separate disks.Register only one instance on the host.Run mysqld daemon.Enable binary logging.DBA level access is required for the databases that you want to add.About this taskPerform the following procedure to register a MariaDB database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VM.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select MariaDB. The Register Database Server VM window appears. Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM you want to register with Era.Listener Port. The default port of a MariaDB database is 3306, which is populated in this field. You can choose to set another port number.Era Drive User. Type the username of the Era drive user account that has sudo access.Base Dir. Type the path of the directory where the MariaDB software is installed.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Figure. Register MariaDB Database Server VMClick to enlargeClick Register to successfully register the database server VM.A message appears indicating that the operation to register a database server VM has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server VM appears in the list of the registered database server VM. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays the name, time zone, status, date of registration, and version of the database server VM.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server VM. You can also click See Description to view the steps to connect to the database server VM using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the database.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Registering a MariaDB InstanceBefore you beginEnsure that you meet the following requirements before you register an MariaDB instance with Era.For general requirements, see MariaDB Database and Database Server VM Registration PrerequisitesKeep OS and database software on separate disks.Register only one instance on the host.Run mysqld daemon.Enable binary logging.DBA level access is required for the databases that you want to add.About this taskPerform the following procedure to register a MariaDB instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select MariaDB. The Register a MariaDB Instance window appears. You register an instance in the following steps:Database Server VMInstanceTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.In the Database Server VM step, select one the following.Registered. Select this option if you want to register an instance running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the instance you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the instance you want to register is running, and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM on which the instance you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.Base Dir. Type the path of the directory where the MariaDB software is installed.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Register MariaDB InstanceClick to enlargeIn the Instance step, do the following in the indicated fields.Instance Name in Era. Type a name of the instance that you want to be displayed in Era.Description. Type a description of the instance.Port. This field is populated with the default server port number used to listen for TCP/IP connections. Type a port number of a MariaDB server.ROOT password. Type the password of the MariaDB root user account.Name of a Database on the Instance. Type the name of a database on the instance you want to register.Era will discover and register all the databases found on the instance at the port provided.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot on the. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register an instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the instance appears in the list of the registered database. Click the name of the instance to open the homepage for the selected instance. This page displays the following widgets:MariaDB Instance Summary. Displays a brief summary of the instance that includes name, description, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Databases. Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["mariadb", "databas", "registr"]}, {"Heading": "MariaDB Database and Database Server VM Registration Prerequisites", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-registration-prerequisite-mariadb-r.html", "Document Name": "Era User Guide", "Content": "Ensure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Software Dependencies (Linux)To successfully register a database server VM with Era, database server VM must satisfy all the required software and configuration dependencies. (For more information about the software packages that must be installed, see Database Server VM Registration Pre-requirement Checks and Running Pre-requirement Script (Linux)).OS Configuration (Linux)SUDO NOPASS access is required.Linux OS root access is required.Install and configure crontab.Configure binary paths as secure_paths in the etc/sudoers file.Ensure that Prism APIs are callable from the VM./tmp folder must have read and write permissions.Disable requiretty setting on the source database to successfully register the database.Ensure that /etc/sudoers file includes the following line under defaults: secure_path = /sbin:/bin:/usr/sbin:/usr/binOS Configuration (Windows)Ensure that Prism APIs are callable from the VM.", "Heading_Keywords": ["mariadb", "databas", "databas", "server", "vm", "registr", "prerequisit"]}, {"Heading": "Registering a MariaDB Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-registering-a-mariadb-database-server-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you register an MariaDB database server VM with Era.For general requirements, see MariaDB Database and Database Server VM Registration PrerequisitesKeep OS and database software on separate disks.Register only one instance on the host.Run mysqld daemon.Enable binary logging.DBA level access is required for the databases that you want to add.About this taskPerform the following procedure to register a MariaDB database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VM.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select MariaDB. The Register Database Server VM window appears. Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM you want to register with Era.Listener Port. The default port of a MariaDB database is 3306, which is populated in this field. You can choose to set another port number.Era Drive User. Type the username of the Era drive user account that has sudo access.Base Dir. Type the path of the directory where the MariaDB software is installed.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Figure. Register MariaDB Database Server VMClick to enlargeClick Register to successfully register the database server VM.A message appears indicating that the operation to register a database server VM has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server VM appears in the list of the registered database server VM. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays the name, time zone, status, date of registration, and version of the database server VM.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server VM. You can also click See Description to view the steps to connect to the database server VM using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the database.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.", "Heading_Keywords": ["regist", "mariadb", "databas", "server", "vm"]}, {"Heading": "Registering a MariaDB Instance", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-registering-a-mariadb-database-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you register an MariaDB instance with Era.For general requirements, see MariaDB Database and Database Server VM Registration PrerequisitesKeep OS and database software on separate disks.Register only one instance on the host.Run mysqld daemon.Enable binary logging.DBA level access is required for the databases that you want to add.About this taskPerform the following procedure to register a MariaDB instance.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select MariaDB. The Register a MariaDB Instance window appears. You register an instance in the following steps:Database Server VMInstanceTime MachineTagsNote: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.In the Database Server VM step, select one the following.Registered. Select this option if you want to register an instance running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the instance you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the instance you want to register is running, and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM on which the instance you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.Base Dir. Type the path of the directory where the MariaDB software is installed.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Register MariaDB InstanceClick to enlargeIn the Instance step, do the following in the indicated fields.Instance Name in Era. Type a name of the instance that you want to be displayed in Era.Description. Type a description of the instance.Port. This field is populated with the default server port number used to listen for TCP/IP connections. Type a port number of a MariaDB server.ROOT password. Type the password of the MariaDB root user account.Name of a Database on the Instance. Type the name of a database on the instance you want to register.Era will discover and register all the databases found on the instance at the port provided.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot on the. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register an instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the instance appears in the list of the registered database. Click the name of the instance to open the homepage for the selected instance. This page displays the following widgets:MariaDB Instance Summary. Displays a brief summary of the instance that includes name, description, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Databases. Displays the list of databases in the instance. Click See Description to view details on accessing the respective database.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["regist", "mariadb", "instanc"]}, {"Heading": "MariaDB Database Clone", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-clone-mariadb-c.html", "Document Name": "Era User Guide", "Content": "You can create clones either to a point in time (by using log backups) or by using snapshots. If you want to use snapshots to clone the source database, you select an available snapshot and the source database is cloned to a state when the snapshot is taken. If you want to clone the source database at a point in time, you select the clone time and the source database is cloned to a state then. Creating Database ClonesCreating Database ClonesBefore you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone a MariaDB instance.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the MariaDB source instance you want to clone, click Actions and select Create a Clone of the MariaDB Instance. The Create Clone of MariaDB Instance from Time Machine window appears. You clone the instance in the following steps:Time/SnapshotDatabase Server VMInstanceIn the Time/Snapshot step, select the clone time to which you want to clone the instance. Do the following to select the time.Select the Nutanix cluster on which you want to clone the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. Do one of the following:Point in time. Select this option if you want to clone the source instance to a point in time. If you select this option, the instance is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source instance by using the available snapshots.Click Next.Figure. MariaDB Instance CloneClick to enlargeIn the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the instance on the newly created target database server VM.Use Authorized Server. Select this option to clone the instance to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server Name VM. Type a name of the database server VM.Description. Type a description of the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a time zone for the database server VM.Provide SSH Public Key Through. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the Instance step, do the following in the indicated fields.Name. Type a name of the cloned instance.Description. Type a description of the cloned instance.New ROOT Password. Type the password of the MariaDB user account.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Clone to successfully clone the source database.A message appears indicating that the operation to clone instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone instance appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["mariadb", "databas", "clone"]}, {"Heading": "Creating Database Clones", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-database-clones-mariadb-t.html", "Document Name": "Era User Guide", "Content": "Before you beginIf you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone a MariaDB instance.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the MariaDB source instance you want to clone, click Actions and select Create a Clone of the MariaDB Instance. The Create Clone of MariaDB Instance from Time Machine window appears. You clone the instance in the following steps:Time/SnapshotDatabase Server VMInstanceIn the Time/Snapshot step, select the clone time to which you want to clone the instance. Do the following to select the time.Select the Nutanix cluster on which you want to clone the instance.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. Do one of the following:Point in time. Select this option if you want to clone the source instance to a point in time. If you select this option, the instance is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source instance by using the available snapshots.Click Next.Figure. MariaDB Instance CloneClick to enlargeIn the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the instance on the newly created target database server VM.Use Authorized Server. Select this option to clone the instance to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server Name VM. Type a name of the database server VM.Description. Type a description of the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a time zone for the database server VM.Provide SSH Public Key Through. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the Instance step, do the following in the indicated fields.Name. Type a name of the cloned instance.Description. Type a description of the cloned instance.New ROOT Password. Type the password of the MariaDB user account.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Click Clone to successfully clone the source database.A message appears indicating that the operation to clone instance has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone instance appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["creat", "databas", "clone"]}, {"Heading": "SAP HANA Database Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-sap-hana-db-management-c.html", "Document Name": "Era User Guide", "Content": "SAP HANA (high-performance Analytic appliance) is an in-memory, column-oriented, relational database management system from SAP SE, which is used to analyze large data sets in real time that reside entirely in memory. SAP HANA as a database server stores and retrieves data as requested by the applications. In addition, it performs advanced analytics and includes extract, transform, and load (ETL) capabilities.AOS LTS versions (for example, 5.10.x and 5.15.x) are the recommended versions for SAP HANA.Current LimitationsSAP HANA Database RegistrationSAP HANA Database ProfilesSAP HANA Database ProvisioningSAP HANA Database CloneCurrent LimitationsEra has the following limitations for SAP HANA. Era does not support SAP HANA for ESXi.The operating system supported by Era for SAP HANA is SUSE Linux. Era supports multi-tenant databases only for SAP HANA version 2.0 SPS4. Era supports single-tenant databases for SAP HANA version 2.0 SPS3.Era only supports single container mode databases for SAP HANA version 1.0.Do the following to upgrade an SAP HANA database:Before upgrade: Unregister the database from Era.After upgrade: Re-register the database with Era.For information about the supported operating system, database server and Nutanix software versions, see Era Software Compatibility and Feature Support topic in Nutanix Era Release Notes.SAP HANA Database RegistrationYou can register a source (production) database running on a Nutanix cluster with Era. When you register a database with Era, the database server VM (VM that hosts the source database) is also registered with Era. After you have registered a database with Era, a time machine is created for that database.The time machine takes periodic database snapshots and log catch-ups (see Era Time Machine Management). The time machine performs the snapshot and log catch-up operations as defined in the SLA that you have selected or created during the registration of the database (see SLA Management).SAP HANA Database and Database Server VM Registration PrerequisitesRegistering an SAP HANA Database Server VMRegistering an SAP HANA System DatabaseSAP HANA Database and Database Server VM Registration PrerequisitesEnsure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Software Dependencies (Linux)To successfully register a database server VM with Era, database server VM must satisfy all the required software and configuration dependencies. (For more information about the software packages that must be installed, see Database Server VM Registration Pre-requirement Checks and Running Pre-requirement Script (Linux)).OS Configuration (Linux)SUDO NOPASS access is required.SUSE Linux OS root access is required.Use the following command to create a user for SUSE Linux: yast users add username=usernameThe same user can be added to the /etc/sudoers file.Install and configure crontab.Configure binary paths as secure_paths in the /etc/sudoers file.Ensure that Prism APIs are callable from the VM./tmp folder must have read and write permissions.Disable requiretty setting on the source database to successfully register the database.Ensure that /etc/sudoers file includes the following line under defaults: secure_path = /sbin:/bin:/usr/sbin:/usr/binRegistering an SAP HANA Database Server VMBefore you beginEnsure that you meet the following requirements before you register an SAP HANA database server VM with Era.For general requirements, see SAP HANA Database and Database Server VM Registration PrerequisitesEnsure to have SUSE Linux OS root access or an account with sudo access.OS or database software disks must be distinct from the data disks.Only one database instance can be registered on the host.Ensure that the software binaries are extracted with the SIGNATURE.SMF file and the path has sudo user access.The software profile is created from the extracted SAP HANA binaries and the OS disk of the registered database server VM. The extraction of binaries must be done using SAPCAR: sapcar -xvf SAP_HANA_media -manifest SIGNATURE.SMF. In case of a major version, the software home must point to a directory similar to: /sap_software/HANA_DATABASE/DATA_UNITS/HDB_SERVER_LINUX_X86_64Ensure that the extracted software binaries path and the path specified in software home do not share the same location as /hana/shared, /hana/data, or /hana/log.Do not use sidadm user as the sudo user when registering the database server VM.About this taskPerform the following procedure to register a SAP HANA database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VMs.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select SAP HANA. The Register Database Server VM window appears. Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM you want to register.Database Version. Select a major database version from the drop-down list.Era Drive User. Type the username of the Era drive user account that has sudo access.Path to SAP HANA Binaries. Type the path to the SAP HANA binaries in which the SAP HANA database software is extracted.Note: The SIGNATURE.SMF file must be in the same directory as the binaries.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Figure. Registration DetailsClick to enlargeClick Register to successfully register the database server VM.A message appears indicating that the operation to register a database server VM has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server VM appears in the list of the registered database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays the name, time zone, status, date of registration, and version of the database server VM.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server VM. You can also click See Description to view the steps to connect to the database server VM using SSH.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the database.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Registering an SAP HANA System DatabaseBefore you beginEnsure that you meet the following requirements before you register a SAP HANA system database with Era.For general requirements, see SAP HANA Database and Database Server VM Registration PrerequisitesEnsure to have SUSE Linux OS root access or an account with sudo access.OS or database software disks must be distinct from the data disks.Only one database instance can be registered on the host.Database must be online with all the services up and running. To ensure that all the services are available, you can login as the sidadm user and run the following command: sapcontrol -nr instance_number -function GetProcessListIn case of multi-tenant databases (SAP HANA version 2.0 SPS4), all tenants must be online.The following SAP HANA paths must be used to configure the database: Use /hana/data/ for data.Use /hana/log/ for logs.Use /hana/shared/ for shared data.Ensure that the database and database server VM time is in sync.About this taskPerform the following procedure to register a SAP HANA system database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select the SAP HANA engine. The Register a SAP HANA System Database window appears. You register a database in the following steps:Database Server VMSystem DatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one the following.Registered. Select this option if you want to register a database running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the database you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the database you want to register is running and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the name or IP address of the database server VM on which the database that you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.Path to SAP HANA Binaries. Type the path to the SAP HANA binaries in which the SAP HANA database software is extracted.Note: The SIGNATURE.SMF file must be in the same directory as the binaries.Provide Credentials Through. Select either Password or Private Key from the drop-down list.If you selected Password in the previous step, in the Password field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Registration DetailsClick to enlargeIn the System Database step, do the following in the indicated steps.System Database Name on VM. Type a name of the database.Description. Type a description of the database.System Database Name on Era. Type an SID for the database.Version. Select a SAP HANA version from the drop-down list.SQL Port. Displays the port to connect to SAP HANA database.For HANA 1.0, the port is displayed in the following format: 3instance_number15. For HANA 2.0, the port is displayed in the following format: 3instance_number13.For example, 31015 (where the instance_number is 10).Instance Number. Type an instance number from 00 to 96 for the database.Note: Instance numbers 97, 98, and 99 are reserved by SAP.System Password. Type a password for the System user account.In the Time Machine step, do the following in the indicated fields.Time Machine Name. Type a name of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeDescription. Type a description for the time machine.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.SAP HANA Database ProfilesProfiles enable you to create templates of database software, networking, compute, and database parameters which help you to successfully provision databases or database server VMs on Era.Creating a Software ProfileCreating a Software Profile VersionUpdating a Software Profile VersionCreating a Compute ProfileCreating a Network ProfileA network profile specifies the VLAN for the new database server VM. Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. Creating a Software ProfileBefore you beginEnsure that you have registered an existing SAP HANA database server VM with Era. About this taskA software profile is a template that includes the SAP HANA database and operating system. After you have registered an existing SAP HANA database server VM with Era, Era creates a software template from the SAP HANA database server VM you have previously registered. For more information about supported built-in profiles, see Era Release Notes.The software profile is created from the extracted SAP HANA binaries and the OS disk of the registered database server VM. The extraction of binaries must be done using SAPCAR: sapcar -xvf SAP_HANA_media -manifest SIGNATURE.SMF. In case of a major version, the software home must point to a directory similar to: /sap_software/HANA_DATABASE/DATA_UNITS/HDB_SERVER_LINUX_X86_64Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software and click Create, and select the SAP HANA engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a new version of the software profile. For more information, see Creating a Software Profile Version .Creating a Software Profile VersionAbout this taskSoftware profile version is required when you update a database server VM to a new update version available. The created software profile version can only be used to provision new database server VMs, existing instances will not be updated.Perform the following procedure to create a version of the software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Click Create. The Create Software Profile Version window appears. You create a software profile in the following steps:SoftwareNotesIn the Software step, do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile version.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Creating a Software Profile VersionClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile version.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Create.Era creates a version of the software profile for provisioning and updating other database server VMs using this software profile and displays in the list. Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Note: The created software profile version can only be used to provision new databases, existing instances will not be updated.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version, patches, and bug fixes. Click the + icon to view the bug fixes for the respective PSU.Database Server VMs. Displays the database server VMs that are using this version of the profile.Updating a Software Profile VersionAbout this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version. Note that this is optional, thus Era will not trigger alerts for any available updates.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile should update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message will be displayed on the homepages of the DB Server VMs and Server Clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.Creating a Compute ProfileAbout this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: For a SAP HANA production system database, Nutanix recommends to have 128(Gib) memory and vCPU >= 8 (Number of vCPUs * Number of cores per vCPU must be >= 8).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.Creating a Network ProfileA network profile specifies the VLAN for the new database server VM. Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskCreate a network profile as a sample network profile is not available in Era. You can create a sample network profile either by using the Welcome to Era wizard, or by performing the following procedure.Perform the following procedure to create a network profile for SAP HANA.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select the SAP HANA engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile version.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Under Service Mapping, do the following in the indicated field:Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option. You can add one or more VLANs to Era.Note: For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Figure. Network Profile DetailsClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a database parameters profile only if you do not want to use the sample database parameter profile.Perform the following procedure to create a database parameters profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, select SAP HANA as the database engine and click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.The parameters in the profile are populated with the default values and are optional to configure. You can update these parameters to suit your requirements. Click the page navigation arrows to display all the available parameters. To search for a parameter, type the name of the parameter in the search box. The Value column displays the default values of the parameters. You can choose to update the value of the parameters to suit your requirements. If you want to display only those parameters that you have updated, select the Modified Only option.Note: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.SAP HANA Database ProvisioningYou can provision database server VMs and databases on the Nutanix cluster. As part of the database provisioning process, you can either create a database server VM on which you provision the database or select a database server VM that you have already provisioned.You use the built-in database parameter profiles or profiles you created to provision the databases.SAP HANA Database and Database Server VM Provisioning PrerequisitesProvisioning a SAP HANA Database Server VMProvisioning an SAP HANA DatabaseSAP HANA Database and Database Server VM Provisioning PrerequisitesComplete the following tasks before you start provisioning a database server VM.SAP HANA Database Server VMRegister a source database with Era (see Registering an SAP HANA Database Server VM).Create a software profile.Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Generate an SSH key for database provisioning on Linux-based operating systems (see Additional Information: Generating an SSH Key (Windows) ). SAP HANA Database Only XFS filesystems are used for provisioning a SAP HANA database as per the SAP HANA best practices on AHV.For a SAP HANA production system database, Nutanix recommends to have 128(Gib) memory and vCPU >= 8 (Number of vCPUs * Number of cores per vCPU must be >= 8).Standard SAP restrictions that specify the usage of database SID names and instance numbers are applicable.Ensure that the virtual hostname and SID are unique.Provisioning a SAP HANA Database Server VMBefore you beginEnsure that you have completed the tasks listed in SAP HANA Database and Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select the SAP HANA engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Provisioning an SAP HANA DatabaseBefore you beginEnsure that you have created a software profile before you start provisioning a SAP HANA database. For more information, see Creating a Software Profile. See SAP HANA Database and Database Server VM Provisioning Prerequisites for provisioning requirements.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database.Perform the following procedure to provision a SAP HANA database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select the SAP HANA engine. The Provision a SAP HANA System Database window appears. You provision a database in the following steps:Database Server VMSystem DatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one of the following.Create New Server. Select this option if you want to provision a system database on a new database server VM.Use Registered Server. Select this option if you want to provision a system database on a database server VM that you have previously registered with Era.If you have selected Create New Server in the previous step, do the following under New Database Server VM.Database Server VM Name. Type a name of the database server VM. The name that you provide in this field is used as the virtual machine name created for the SAP HANA database.Description. Type a description of the database server VM.Nutanix Cluster. Select the Nutanix cluster on which you want to provision the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a timezone for the database server VM.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.Figure. Provisioning DetailsClick to enlargeIf you have selected Use Registered Server in the previous step, select the database server VM on which you want to provision the instance and click Next.In the Database step, do the following in the indicated steps.System Database Name (SID). Type an SID of the database.Description. Type a description of the database.Instance Number. Type an instance number from 00 to 96 for the database.Note: Instance numbers 97, 98, and 99 are reserved by SAP.SYSTEM and adm Password. Type a password for the SYSTEM and adm user accounts.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.System Type. Select a system type from the drop-down list of available system types.Virtual Host Name. Type a virtual host name for the database.HANA Data Size(GB). Type the size of the node in GB.HANA Log Size(GB). Type the log size in GB.HANA Shared/Install Path Size(GB). Type the shared or install path size of the database in GB.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the database is created.Post-Create Command. Type a complete OS command that you want to run after the database is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management. Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.SAP HANA Database CloneYou can create clones either to a point in time (by using log backups) or by using snapshots. If you want to use snapshots to clone the source database, you select an available snapshot and the source database is cloned to a state when the snapshot is taken. If you want to clone the source database at a point in time, you select the clone time and the source database is cloned to a state then. Creating Database ClonesCreating Database ClonesBefore you beginEnsure that you meet the following requirements before you start the cloning operation.  A database with the same SID should not be already running on the target database server VM.Standard SAP restrictions for usage of database SID names and instance numbers are applicable. Ensure that the virtual hostname and SID are unique. If the SID field is left blank, it will take the same SID as source.For a SAP HANA production system database, Nutanix recommends to have 128(Gib) memory and vCPU >= 8 (Number of vCPUs * Number of cores per vCPU must be >= 8).Ensure that the software binary version used to create the clone is same as that of the source database. Source databases must be upgraded to the newer software binary version before using a snapshot for cloning.For multi-tenant clones, Era can only update the password for SYSTEMDB. The tenant passwords have to be updated manually post clone completion.If you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone a SAP HANA database.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the SAP HANA source database you want to clone, click the Actions drop-down list and then select Create a Clone of System Database. The Create SAP HANA System Database Clone from Time Machine window appears. You clone the database in the following steps:Time/SnapshotDatabase Server VMSystem DatabaseIn the Time/Snapshot step, select the cluster and clone time to which you want to clone the database. Do the following to select the time.Nutanix Cluster. Select a Nutanix cluster to clone the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Do one of the following:Point in time. Select this option if you want to clone the source database to a point in time. If you select this option, the database is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source database by using the available snapshots.Figure. Cloning Details Click to enlargeClick Next.In the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the database on the newly created target database server VM.Use Authorized Server. Select this option to clone the database to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name for the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the System Database step, do the following in the indicated fields.System Database Clone Name in Era. Type a name for the cloned database on Era.Description. Type a description for the cloned database.System Database Name on VM. Type a name for the cloned database on the VM.Instance Number. Type an instance number from 00 to 96 for the clone database.Note: Instance numbers 97, 98, and 99 are reserved.SYSTEM and adm Password. Type a password for the SYSTEM and adm user accounts.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.System Type. Select a system type from the drop-down list of available system types.Virtual Host Name. Type a virtual host name for the clone database.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Tenant Databases to be included in the clone. Displays the list of tenant databases that will be included in the clone.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Note: All pre-clone and post-clone command scripts to be executed on the destination database server should be present in the database snapshot from which the specific database server is created. The snapshot can be Era automated snapshot or the closest snapshot to the Point In Time (PIT) restore selected. The scripts may be placed in any location in the source database server. The pre-clone and post-clone commands should comprise the complete path of the script, ready to be run from anywhere within the database server. Any failure in the execution of these scripts fails the entire operation and causes the operation to rollback.Figure. Cloning Details (cont.)Click to enlargeClick Clone to successfully clone the source database.A message appears indicating that the operation to clone the database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone database appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["sap", "hana", "databas", "manag"]}, {"Heading": "Current Limitations", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-limitations-sap-hana-c.html", "Document Name": "Era User Guide", "Content": "Era has the following limitations for SAP HANA. Era does not support SAP HANA for ESXi.The operating system supported by Era for SAP HANA is SUSE Linux. Era supports multi-tenant databases only for SAP HANA version 2.0 SPS4. Era supports single-tenant databases for SAP HANA version 2.0 SPS3.Era only supports single container mode databases for SAP HANA version 1.0.Do the following to upgrade an SAP HANA database:Before upgrade: Unregister the database from Era.After upgrade: Re-register the database with Era.For information about the supported operating system, database server and Nutanix software versions, see Era Software Compatibility and Feature Support topic in Nutanix Era Release Notes.", "Heading_Keywords": ["current", "limit"]}, {"Heading": "SAP HANA Database Registration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-database-registration-sap-hana-c.html", "Document Name": "Era User Guide", "Content": "You can register a source (production) database running on a Nutanix cluster with Era. When you register a database with Era, the database server VM (VM that hosts the source database) is also registered with Era. After you have registered a database with Era, a time machine is created for that database.The time machine takes periodic database snapshots and log catch-ups (see Era Time Machine Management). The time machine performs the snapshot and log catch-up operations as defined in the SLA that you have selected or created during the registration of the database (see SLA Management).SAP HANA Database and Database Server VM Registration PrerequisitesRegistering an SAP HANA Database Server VMRegistering an SAP HANA System DatabaseSAP HANA Database and Database Server VM Registration PrerequisitesEnsure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Software Dependencies (Linux)To successfully register a database server VM with Era, database server VM must satisfy all the required software and configuration dependencies. (For more information about the software packages that must be installed, see Database Server VM Registration Pre-requirement Checks and Running Pre-requirement Script (Linux)).OS Configuration (Linux)SUDO NOPASS access is required.SUSE Linux OS root access is required.Use the following command to create a user for SUSE Linux: yast users add username=usernameThe same user can be added to the /etc/sudoers file.Install and configure crontab.Configure binary paths as secure_paths in the /etc/sudoers file.Ensure that Prism APIs are callable from the VM./tmp folder must have read and write permissions.Disable requiretty setting on the source database to successfully register the database.Ensure that /etc/sudoers file includes the following line under defaults: secure_path = /sbin:/bin:/usr/sbin:/usr/binRegistering an SAP HANA Database Server VMBefore you beginEnsure that you meet the following requirements before you register an SAP HANA database server VM with Era.For general requirements, see SAP HANA Database and Database Server VM Registration PrerequisitesEnsure to have SUSE Linux OS root access or an account with sudo access.OS or database software disks must be distinct from the data disks.Only one database instance can be registered on the host.Ensure that the software binaries are extracted with the SIGNATURE.SMF file and the path has sudo user access.The software profile is created from the extracted SAP HANA binaries and the OS disk of the registered database server VM. The extraction of binaries must be done using SAPCAR: sapcar -xvf SAP_HANA_media -manifest SIGNATURE.SMF. In case of a major version, the software home must point to a directory similar to: /sap_software/HANA_DATABASE/DATA_UNITS/HDB_SERVER_LINUX_X86_64Ensure that the extracted software binaries path and the path specified in software home do not share the same location as /hana/shared, /hana/data, or /hana/log.Do not use sidadm user as the sudo user when registering the database server VM.About this taskPerform the following procedure to register a SAP HANA database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VMs.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select SAP HANA. The Register Database Server VM window appears. Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM you want to register.Database Version. Select a major database version from the drop-down list.Era Drive User. Type the username of the Era drive user account that has sudo access.Path to SAP HANA Binaries. Type the path to the SAP HANA binaries in which the SAP HANA database software is extracted.Note: The SIGNATURE.SMF file must be in the same directory as the binaries.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Figure. Registration DetailsClick to enlargeClick Register to successfully register the database server VM.A message appears indicating that the operation to register a database server VM has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server VM appears in the list of the registered database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays the name, time zone, status, date of registration, and version of the database server VM.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server VM. You can also click See Description to view the steps to connect to the database server VM using SSH.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the database.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Registering an SAP HANA System DatabaseBefore you beginEnsure that you meet the following requirements before you register a SAP HANA system database with Era.For general requirements, see SAP HANA Database and Database Server VM Registration PrerequisitesEnsure to have SUSE Linux OS root access or an account with sudo access.OS or database software disks must be distinct from the data disks.Only one database instance can be registered on the host.Database must be online with all the services up and running. To ensure that all the services are available, you can login as the sidadm user and run the following command: sapcontrol -nr instance_number -function GetProcessListIn case of multi-tenant databases (SAP HANA version 2.0 SPS4), all tenants must be online.The following SAP HANA paths must be used to configure the database: Use /hana/data/ for data.Use /hana/log/ for logs.Use /hana/shared/ for shared data.Ensure that the database and database server VM time is in sync.About this taskPerform the following procedure to register a SAP HANA system database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select the SAP HANA engine. The Register a SAP HANA System Database window appears. You register a database in the following steps:Database Server VMSystem DatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one the following.Registered. Select this option if you want to register a database running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the database you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the database you want to register is running and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the name or IP address of the database server VM on which the database that you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.Path to SAP HANA Binaries. Type the path to the SAP HANA binaries in which the SAP HANA database software is extracted.Note: The SIGNATURE.SMF file must be in the same directory as the binaries.Provide Credentials Through. Select either Password or Private Key from the drop-down list.If you selected Password in the previous step, in the Password field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Registration DetailsClick to enlargeIn the System Database step, do the following in the indicated steps.System Database Name on VM. Type a name of the database.Description. Type a description of the database.System Database Name on Era. Type an SID for the database.Version. Select a SAP HANA version from the drop-down list.SQL Port. Displays the port to connect to SAP HANA database.For HANA 1.0, the port is displayed in the following format: 3instance_number15. For HANA 2.0, the port is displayed in the following format: 3instance_number13.For example, 31015 (where the instance_number is 10).Instance Number. Type an instance number from 00 to 96 for the database.Note: Instance numbers 97, 98, and 99 are reserved by SAP.System Password. Type a password for the System user account.In the Time Machine step, do the following in the indicated fields.Time Machine Name. Type a name of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeDescription. Type a description for the time machine.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["sap", "hana", "databas", "registr"]}, {"Heading": "SAP HANA Database and Database Server VM Registration Prerequisites", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-registration-prerequisite-sap-hana-r.html", "Document Name": "Era User Guide", "Content": "Ensure that you meet the following requirements before you start registering a database or a database server VM.GeneralDatabase server VMs must have connectivity to Prism Element through the TCP port 9440.Era server must have connectivity to the database server VM.Era supports registering databases on virtual machines that are a part of an existing Nutanix Protection Domain (PD). But it requires all the entities associated or attached to the virtual machine (VM) to be protected. For example, if there is a volume group (VG) attached to the database server VM, then the existing PD must protect both the VG and VM and not only the VG.Software Dependencies (Linux)To successfully register a database server VM with Era, database server VM must satisfy all the required software and configuration dependencies. (For more information about the software packages that must be installed, see Database Server VM Registration Pre-requirement Checks and Running Pre-requirement Script (Linux)).OS Configuration (Linux)SUDO NOPASS access is required.SUSE Linux OS root access is required.Use the following command to create a user for SUSE Linux: yast users add username=usernameThe same user can be added to the /etc/sudoers file.Install and configure crontab.Configure binary paths as secure_paths in the /etc/sudoers file.Ensure that Prism APIs are callable from the VM./tmp folder must have read and write permissions.Disable requiretty setting on the source database to successfully register the database.Ensure that /etc/sudoers file includes the following line under defaults: secure_path = /sbin:/bin:/usr/sbin:/usr/bin", "Heading_Keywords": ["sap", "hana", "databas", "databas", "server", "vm", "registr", "prerequisit"]}, {"Heading": "Registering an SAP HANA Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-registering-an-sap-hana-database-server-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you register an SAP HANA database server VM with Era.For general requirements, see SAP HANA Database and Database Server VM Registration PrerequisitesEnsure to have SUSE Linux OS root access or an account with sudo access.OS or database software disks must be distinct from the data disks.Only one database instance can be registered on the host.Ensure that the software binaries are extracted with the SIGNATURE.SMF file and the path has sudo user access.The software profile is created from the extracted SAP HANA binaries and the OS disk of the registered database server VM. The extraction of binaries must be done using SAPCAR: sapcar -xvf SAP_HANA_media -manifest SIGNATURE.SMF. In case of a major version, the software home must point to a directory similar to: /sap_software/HANA_DATABASE/DATA_UNITS/HDB_SERVER_LINUX_X86_64Ensure that the extracted software binaries path and the path specified in software home do not share the same location as /hana/shared, /hana/data, or /hana/log.Do not use sidadm user as the sudo user when registering the database server VM.About this taskPerform the following procedure to register a SAP HANA database server VM.ProcedureIn the drop-down list of the main menu, select Databases Server VMs.Go to List.This page displays a list of database server VMs available in Era.To register a new database server VM, click Register, and select SAP HANA. The Register Database Server VM window appears. Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database server VM.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the IP address or name of the database server VM you want to register.Database Version. Select a major database version from the drop-down list.Era Drive User. Type the username of the Era drive user account that has sudo access.Path to SAP HANA Binaries. Type the path to the SAP HANA binaries in which the SAP HANA database software is extracted.Note: The SIGNATURE.SMF file must be in the same directory as the binaries.Provide Credentials Through. Select Password or Private Key from the drop-down list.If you selected Password in the previous step, in thePassword field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Figure. Registration DetailsClick to enlargeClick Register to successfully register the database server VM.A message appears indicating that the operation to register a database server VM has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database server VM appears in the list of the registered database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays the name, time zone, status, date of registration, and version of the database server VM.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server VM. You can also click See Description to view the steps to connect to the database server VM using SSH.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the database.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.", "Heading_Keywords": ["regist", "sap", "hana", "databas", "server", "vm"]}, {"Heading": "Registering an SAP HANA System Database", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-registering-an-sap-hana-database-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you register a SAP HANA system database with Era.For general requirements, see SAP HANA Database and Database Server VM Registration PrerequisitesEnsure to have SUSE Linux OS root access or an account with sudo access.OS or database software disks must be distinct from the data disks.Only one database instance can be registered on the host.Database must be online with all the services up and running. To ensure that all the services are available, you can login as the sidadm user and run the following command: sapcontrol -nr instance_number -function GetProcessListIn case of multi-tenant databases (SAP HANA version 2.0 SPS4), all tenants must be online.The following SAP HANA paths must be used to configure the database: Use /hana/data/ for data.Use /hana/log/ for logs.Use /hana/shared/ for shared data.Ensure that the database and database server VM time is in sync.About this taskPerform the following procedure to register a SAP HANA system database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Register, and select the SAP HANA engine. The Register a SAP HANA System Database window appears. You register a database in the following steps:Database Server VMSystem DatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one the following.Registered. Select this option if you want to register a database running on a database server VM that is already registered with Era.Not Registered. Select this option if the database server VM on which the database you want to register is not registered with Era.If you selected Registered in the previous step, select the database server VM on which the database you want to register is running and click Next.If you have associated a tag with a database server VM, click the search bar and select the tag. This step displays the database server VMs that are associated with the selected tag.If you selected Not Registered in the previous step, do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to register the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.IP Address or Name of VM. Type the name or IP address of the database server VM on which the database that you want to register is running.Era Drive User. Type the username of the Era drive user account that has sudo access.Path to SAP HANA Binaries. Type the path to the SAP HANA binaries in which the SAP HANA database software is extracted.Note: The SIGNATURE.SMF file must be in the same directory as the binaries.Provide Credentials Through. Select either Password or Private Key from the drop-down list.If you selected Password in the previous step, in the Password field, type the password of the Era drive user account.If you selected Private Key in the previous step, select one of the following:File. Upload a file that includes the private key.Text. Type or copy and paste the private key.Click Next.Figure. Registration DetailsClick to enlargeIn the System Database step, do the following in the indicated steps.System Database Name on VM. Type a name of the database.Description. Type a description of the database.System Database Name on Era. Type an SID for the database.Version. Select a SAP HANA version from the drop-down list.SQL Port. Displays the port to connect to SAP HANA database.For HANA 1.0, the port is displayed in the following format: 3instance_number15. For HANA 2.0, the port is displayed in the following format: 3instance_number13.For example, 31015 (where the instance_number is 10).Instance Number. Type an instance number from 00 to 96 for the database.Note: Instance numbers 97, 98, and 99 are reserved by SAP.System Password. Type a password for the System user account.In the Time Machine step, do the following in the indicated fields.Time Machine Name. Type a name of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management.Era has the following built-in SLAs.Figure. SLAsClick to enlargeDescription. Type a description for the time machine.Under Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Initial Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Era to take per day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Register to start the registration operation.A message appears indicating that the operation to register a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the registration operation is completed, the database appears in the list of the registered database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["regist", "sap", "hana", "system", "databas"]}, {"Heading": "SAP HANA Database Profiles", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-profiles-sap-hana-c.html", "Document Name": "Era User Guide", "Content": "Profiles enable you to create templates of database software, networking, compute, and database parameters which help you to successfully provision databases or database server VMs on Era.Creating a Software ProfileCreating a Software Profile VersionUpdating a Software Profile VersionCreating a Compute ProfileCreating a Network ProfileA network profile specifies the VLAN for the new database server VM. Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. Creating a Software ProfileBefore you beginEnsure that you have registered an existing SAP HANA database server VM with Era. About this taskA software profile is a template that includes the SAP HANA database and operating system. After you have registered an existing SAP HANA database server VM with Era, Era creates a software template from the SAP HANA database server VM you have previously registered. For more information about supported built-in profiles, see Era Release Notes.The software profile is created from the extracted SAP HANA binaries and the OS disk of the registered database server VM. The extraction of binaries must be done using SAPCAR: sapcar -xvf SAP_HANA_media -manifest SIGNATURE.SMF. In case of a major version, the software home must point to a directory similar to: /sap_software/HANA_DATABASE/DATA_UNITS/HDB_SERVER_LINUX_X86_64Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software and click Create, and select the SAP HANA engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a new version of the software profile. For more information, see Creating a Software Profile Version .Creating a Software Profile VersionAbout this taskSoftware profile version is required when you update a database server VM to a new update version available. The created software profile version can only be used to provision new database server VMs, existing instances will not be updated.Perform the following procedure to create a version of the software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Click Create. The Create Software Profile Version window appears. You create a software profile in the following steps:SoftwareNotesIn the Software step, do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile version.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Creating a Software Profile VersionClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile version.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Create.Era creates a version of the software profile for provisioning and updating other database server VMs using this software profile and displays in the list. Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Note: The created software profile version can only be used to provision new databases, existing instances will not be updated.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version, patches, and bug fixes. Click the + icon to view the bug fixes for the respective PSU.Database Server VMs. Displays the database server VMs that are using this version of the profile.Updating a Software Profile VersionAbout this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version. Note that this is optional, thus Era will not trigger alerts for any available updates.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile should update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message will be displayed on the homepages of the DB Server VMs and Server Clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.Creating a Compute ProfileAbout this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: For a SAP HANA production system database, Nutanix recommends to have 128(Gib) memory and vCPU >= 8 (Number of vCPUs * Number of cores per vCPU must be >= 8).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.Creating a Network ProfileA network profile specifies the VLAN for the new database server VM. Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskCreate a network profile as a sample network profile is not available in Era. You can create a sample network profile either by using the Welcome to Era wizard, or by performing the following procedure.Perform the following procedure to create a network profile for SAP HANA.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select the SAP HANA engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile version.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Under Service Mapping, do the following in the indicated field:Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option. You can add one or more VLANs to Era.Note: For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Figure. Network Profile DetailsClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.Creating a Database Parameters ProfileA database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a database parameters profile only if you do not want to use the sample database parameter profile.Perform the following procedure to create a database parameters profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, select SAP HANA as the database engine and click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.The parameters in the profile are populated with the default values and are optional to configure. You can update these parameters to suit your requirements. Click the page navigation arrows to display all the available parameters. To search for a parameter, type the name of the parameter in the search box. The Value column displays the default values of the parameters. You can choose to update the value of the parameters to suit your requirements. If you want to display only those parameters that you have updated, select the Modified Only option.Note: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.Updating Profile AvailabilityAfter profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.", "Heading_Keywords": ["sap", "hana", "databas", "profil"]}, {"Heading": "Creating a Software Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-a-software-profile-sap-hana-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have registered an existing SAP HANA database server VM with Era. About this taskA software profile is a template that includes the SAP HANA database and operating system. After you have registered an existing SAP HANA database server VM with Era, Era creates a software template from the SAP HANA database server VM you have previously registered. For more information about supported built-in profiles, see Era Release Notes.The software profile is created from the extracted SAP HANA binaries and the OS disk of the registered database server VM. The extraction of binaries must be done using SAPCAR: sapcar -xvf SAP_HANA_media -manifest SIGNATURE.SMF. In case of a major version, the software home must point to a directory similar to: /sap_software/HANA_DATABASE/DATA_UNITS/HDB_SERVER_LINUX_X86_64Perform the following procedure to create a software profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Software and click Create, and select the SAP HANA engine. The Create Software Profile window appears. You create a software profile in the following steps:SoftwareNotesAvailabilityNote: Availability is displayed only when you have enabled multi-cluster in Era. See Enabling Era Multi-Cluster for more information.In the Software step, do the following in the indicated fields.Profile Name. Type a name of the software profile.Profile Description. Type a description of the software profile.Software Profile Version Name. The software profile version name is auto-populated based on the Profile Name.Software Profile Version Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Software Profile DetailsClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.In the Availability step, select the Nutanix clusters where this profile will be available.Click Create to successfully create a software profile.The new profile appears in the list of software profiles and a message appears at the top indicating that the operation to create a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Click the name of the profile to view the version information and create a new version of the software profile. For more information, see Creating a Software Profile Version .", "Heading_Keywords": ["creat", "softwar", "profil"]}, {"Heading": "Creating a Software Profile Version", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-create-software-profile-version-sap-hana-t.html", "Document Name": "Era User Guide", "Content": "About this taskSoftware profile version is required when you update a database server VM to a new update version available. The created software profile version can only be used to provision new database server VMs, existing instances will not be updated.Perform the following procedure to create a version of the software profile.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Click Create. The Create Software Profile Version window appears. You create a software profile in the following steps:SoftwareNotesIn the Software step, do the following in the indicated fields.Name. Type a name for the software profile version.Description. Type a description of the software profile version.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile version.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a database server VM from the list of available database server VMs that you previously registered with Era.Click Next.Figure. Creating a Software Profile VersionClick to enlargeIn the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about the software profile version.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Create.Era creates a version of the software profile for provisioning and updating other database server VMs using this software profile and displays in the list. Era extracts more details about the software profile version from the database server VM and displays in a separate widget below the profile version list. Era categorizes the details in the following manner.Note: The created software profile version can only be used to provision new databases, existing instances will not be updated.Operating System. Displays information about the operating system such as vendor name, version, OS packages, and notes. Database Software. Displays information about the database version, patches, and bug fixes. Click the + icon to view the bug fixes for the respective PSU.Database Server VMs. Displays the database server VMs that are using this version of the profile.", "Heading_Keywords": ["creat", "softwar", "profil", "version"]}, {"Heading": "Updating a Software Profile Version", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-update-software-profile-version-sap-hana-t.html", "Document Name": "Era User Guide", "Content": "About this taskAfter profile creation is successful, you must publish the profile to make the profile version visible for updates. Perform the following procedure to update a software profile version. Note that this is optional, thus Era will not trigger alerts for any available updates.ProcedureIn the drop-down list of the main menu, select Profiles.Go to Software and open the software profile used by the database server VM.Select the profile version and click Update. The Update Software Profile Version  window appears. You update a software profile version in the following steps:GeneralNotesIn the General step, do the following in the indicated fields.Name. Type a name of the software profile version.Description. Type a description of the software profile version.Status. Select one of the following:Unpublished. Select this option if you want to hide the profile version.Published. Select this option to make the profile version visible for updates. If you have selected this option, Era provides a recommendation on the database server VM homepage that all database server VMs using an earlier version of this software profile should update to this new version.Deprecated. Select this option if you want to prevent this version from being used in provisioning. A message will be displayed on the homepages of the DB Server VMs and Server Clusters using this version of the software profiles that they must update to a newer version of the profile.Click Next.In the Notes step, do the following in the indicated fields.Note: Notes are optional. You can enter notes if you want to provide more information about this version of the software profile.Operating System Notes. Type a note to provide additional information about the operating system.Database Software Notes. Type a note to provide additional information about the database software.Click Update.Era updates the version of the software profile and displays the details in a separate widget below the profile version list.", "Heading_Keywords": ["updat", "softwar", "profil", "version"]}, {"Heading": "Creating a Compute Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-a-compute-profile-sap-hana-t.html", "Document Name": "Era User Guide", "Content": "About this taskA compute profile specifies the size of the database server VM. The compute profile includes details such as vCPUs, cores per vCPU, and memory.Note: For a SAP HANA production system database, Nutanix recommends to have 128(Gib) memory and vCPU >= 8 (Number of vCPUs * Number of cores per vCPU must be >= 8).Perform the following procedure to create a compute profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Compute and click Create.The Create Compute Profile window appears.Do the following in the indicated fields.Name. Type a name of the compute profile.Description. Type a description of the compute profile.vCPUs. Type the number of vCPUs for the database server VM.Cores Per vCPU. Type the number of cores per vCPU for the database server VM.Memory (GiB). Type the memory for the database server VM.Click Create to successfully create the compute profile.The new profile appears in the list of compute profile, click the name of the profile to view the number of vCPUs, cores per CPU, and memory that is allocated with this profile.", "Heading_Keywords": ["creat", "comput", "profil"]}, {"Heading": "Creating a Network Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-a-network-profile-sap-hana-t.html", "Document Name": "Era User Guide", "Content": "A network profile specifies the VLAN for the new database server VM. Before you beginEnsure the following before you create a network profile.Create VLANs on the Nutanix cluster for your database environment.Add the VLANs to Era. For more information, see Adding a VLAN to Era.About this taskCreate a network profile as a sample network profile is not available in Era. You can create a sample network profile either by using the Welcome to Era wizard, or by performing the following procedure.Perform the following procedure to create a network profile for SAP HANA.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Network, click Create, and select the SAP HANA engine. The Create Network Profile window appears. Do the following in the indicated fields.Name. Type a name of the network profile.Description. Type a description of the network profile.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile version.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Under Service Mapping, do the following in the indicated field:Public Service VLAN. Select the VLAN to provide the IP address used to connect the database from the public network.Optionally, if the VLAN you want to select does not appear in the Public Service VLAN drop-down list, click the Click here option. You can add one or more VLANs to Era.Note: For more information about how to add a VLAN to Era, see Adding a VLAN to Era.Figure. Network Profile DetailsClick to enlargeClick Create to successfully create a network profile.The new profile appears in the list of network profiles, click the name of the profile to view engine, deployment type, and public service VLAN associated with the respective profile.", "Heading_Keywords": ["creat", "network", "profil"]}, {"Heading": "Creating a Database Parameters Profile", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-create-database-parameters-profile-sap-hana-t.html", "Document Name": "Era User Guide", "Content": "A database parameters profile is a template of custom database parameters that you want to apply to your database. About this taskNote: Create a database parameters profile only if you do not want to use the sample database parameter profile.Perform the following procedure to create a database parameters profile.ProcedureFrom the drop-down list of the main menu, select Profiles.Go to Database Parameters and click Create. The Create Database Parameter Profile window appears. You create a database parameters profile in the following steps:EngineParametersIn the Engine step, select SAP HANA as the database engine and click Next.In the Parameters step, do the following in the indicated fields.Name. Type a name of the database parameters profile.Description. Type a description of the database parameters profile.The parameters in the profile are populated with the default values and are optional to configure. You can update these parameters to suit your requirements. Click the page navigation arrows to display all the available parameters. To search for a parameter, type the name of the parameter in the search box. The Value column displays the default values of the parameters. You can choose to update the value of the parameters to suit your requirements. If you want to display only those parameters that you have updated, select the Modified Only option.Note: In the Description column, you can view the detailed information for each parameter.Click Create to successfully create the database parameters profile.The new profile appears in the list of database parameters profiles, click the name of the profile to view information about the parameters associated with the respective profile.", "Heading_Keywords": ["creat", "databas", "paramet", "profil"]}, {"Heading": "Updating Profile Availability", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-update-profile-availability-t.html", "Document Name": "Era User Guide", "Content": "After profile creation is successful, you can update the availability of the profile across the available clusters. About this taskPerform the following procedure to update profile availability.ProcedureIn the drop-down list of the main menu, select Profiles.Select one of the following profiles.Software Profile.Compute Profile.Network Profile.Database Parameters Profile.Windows Domain Profile.If you selected Software Profile, do the following:Select the software profile and click Update. The Update Profile window appears.Update the profile name, description, and profile availability for the listed Nutanix clusters.Click Update.Era updates the software profile and also replicates the profile to the selected clusters. A message appears at the top indicating that the operation to update a software profile has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.If you selected Compute Profile, do the following:Select the compute profile and click Update. The Update Compute Profile window appears.Update the profile name, description, vCPUs, cores per CPU, and memory details.Publish. Select this check box to publish the profile.Click Update.If you selected Network Profile, do the following:Select the network profile and click Update. The Update Network Profile window appears.Update the profile name, description, and service VLANs details.Publish. Select this check box to publish the profile.Click Update.If you selected Database Parameter Profile, do the following:Select the database parameter profile and click Update. The Update Database Parameter Profile window appears.Update the profile name, description, and database parameter details.Publish. Select this check box to publish the profile.Click Update.If you selected Windows Domain Profile, do the following:Select the Windows domain profile and click Update. The Update Windows Domain Profile window appears.Update the profile name, description, organizational unit details, and domain account credentials.Publish. Select this check box to publish the profile.Click Update.", "Heading_Keywords": ["updat", "profil", "avail"]}, {"Heading": "SAP HANA Database Provisioning", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-database-provisioning-sap-hana-c.html", "Document Name": "Era User Guide", "Content": "You can provision database server VMs and databases on the Nutanix cluster. As part of the database provisioning process, you can either create a database server VM on which you provision the database or select a database server VM that you have already provisioned.You use the built-in database parameter profiles or profiles you created to provision the databases.SAP HANA Database and Database Server VM Provisioning PrerequisitesProvisioning a SAP HANA Database Server VMProvisioning an SAP HANA DatabaseSAP HANA Database and Database Server VM Provisioning PrerequisitesComplete the following tasks before you start provisioning a database server VM.SAP HANA Database Server VMRegister a source database with Era (see Registering an SAP HANA Database Server VM).Create a software profile.Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Generate an SSH key for database provisioning on Linux-based operating systems (see Additional Information: Generating an SSH Key (Windows) ). SAP HANA Database Only XFS filesystems are used for provisioning a SAP HANA database as per the SAP HANA best practices on AHV.For a SAP HANA production system database, Nutanix recommends to have 128(Gib) memory and vCPU >= 8 (Number of vCPUs * Number of cores per vCPU must be >= 8).Standard SAP restrictions that specify the usage of database SID names and instance numbers are applicable.Ensure that the virtual hostname and SID are unique.Provisioning a SAP HANA Database Server VMBefore you beginEnsure that you have completed the tasks listed in SAP HANA Database and Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select the SAP HANA engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.Provisioning an SAP HANA DatabaseBefore you beginEnsure that you have created a software profile before you start provisioning a SAP HANA database. For more information, see Creating a Software Profile. See SAP HANA Database and Database Server VM Provisioning Prerequisites for provisioning requirements.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database.Perform the following procedure to provision a SAP HANA database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select the SAP HANA engine. The Provision a SAP HANA System Database window appears. You provision a database in the following steps:Database Server VMSystem DatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one of the following.Create New Server. Select this option if you want to provision a system database on a new database server VM.Use Registered Server. Select this option if you want to provision a system database on a database server VM that you have previously registered with Era.If you have selected Create New Server in the previous step, do the following under New Database Server VM.Database Server VM Name. Type a name of the database server VM. The name that you provide in this field is used as the virtual machine name created for the SAP HANA database.Description. Type a description of the database server VM.Nutanix Cluster. Select the Nutanix cluster on which you want to provision the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a timezone for the database server VM.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.Figure. Provisioning DetailsClick to enlargeIf you have selected Use Registered Server in the previous step, select the database server VM on which you want to provision the instance and click Next.In the Database step, do the following in the indicated steps.System Database Name (SID). Type an SID of the database.Description. Type a description of the database.Instance Number. Type an instance number from 00 to 96 for the database.Note: Instance numbers 97, 98, and 99 are reserved by SAP.SYSTEM and adm Password. Type a password for the SYSTEM and adm user accounts.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.System Type. Select a system type from the drop-down list of available system types.Virtual Host Name. Type a virtual host name for the database.HANA Data Size(GB). Type the size of the node in GB.HANA Log Size(GB). Type the log size in GB.HANA Shared/Install Path Size(GB). Type the shared or install path size of the database in GB.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the database is created.Post-Create Command. Type a complete OS command that you want to run after the database is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management. Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["sap", "hana", "databas", "provis"]}, {"Heading": "SAP HANA Database and Database Server VM Provisioning Prerequisites", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-provision-prerequisite-sap-hana-r.html", "Document Name": "Era User Guide", "Content": "Complete the following tasks before you start provisioning a database server VM.SAP HANA Database Server VMRegister a source database with Era (see Registering an SAP HANA Database Server VM).Create a software profile.Create a network profile. If a network profile exists, you can use the existing profile. Otherwise, create a network profile.Create a compute profile. A sample compute profile is available. If you do not want to use the sample profile, you can create a compute profile.Generate an SSH key for database provisioning on Linux-based operating systems (see Additional Information: Generating an SSH Key (Windows) ). SAP HANA Database Only XFS filesystems are used for provisioning a SAP HANA database as per the SAP HANA best practices on AHV.For a SAP HANA production system database, Nutanix recommends to have 128(Gib) memory and vCPU >= 8 (Number of vCPUs * Number of cores per vCPU must be >= 8).Standard SAP restrictions that specify the usage of database SID names and instance numbers are applicable.Ensure that the virtual hostname and SID are unique.", "Heading_Keywords": ["sap", "hana", "databas", "databas", "server", "vm", "provis", "prerequisit"]}, {"Heading": "Provisioning a SAP HANA Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-provisioning-database-server-vm-sap-hana-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have completed the tasks listed in SAP HANA Database and Database Server VM Provisioning Prerequisites.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database server VM.Perform the following procedure to provision a database server VM.ProcedureIn the drop-down list of the main menu, select Database Server VMs.Go to List.This page displays a list of database server VMs that are provisioned in Era.Click Provision, and select the SAP HANA engine. The Provision Database Server VM window appears. You provision a database server VM in the following steps:SourceDatabase Server VMIn the Source step, select one of the following.Software Profile. Select this option if you want to provision a database server VM from an existing software profile. Select a software profile from the list.Time Machine. Select this option if you want to provision a database server VM by using the database and operating system software stored in a time machine. Select a time machine from the list.If you have selected the Software Profile option, you can update the software profile version by clicking Update Version to view all the versions available for the selected profile. Select the required version from the list and click Update.Select the Nutanix cluster on which you want to provision the database server VM and click Next.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Figure. Provisioning DetailsClick to enlargeIn the Database Server VM step, do the following in the indicated fields.Database Server VM Name. Type a name of the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of the compute profiles available.Network Profile. Select a network profile from the list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Value. Type or copy and paste the public key.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database server VM has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database server VM appears in the list of the provisioned database server VMs. Click the name of the database server VM to open the homepage for the selected database server VM. This page displays the following widgets:Database Server VM Summary. Displays a summary of the selected database server VM such as name, description, status, date of registration, listener port, and version.Profiles. Displays software, compute, and network profiles that were applied when the database server VM was created. You can click the hyperlinks to view further details of the profile.Node. Displays the IP address, operating system type, and status of the database server VM. You can click Open to open the homepage in Prism for the respective database server. You can also click See Description to view the steps to connect to the database server using SSH.Databases. Displays a list of the databases that are registered with the respective database server VM. You can view the name, associated time machine, status, type, and size of the databases.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.Resource Capacity and Usage. Displays CPU, memory, and storage usage for the database server VM.", "Heading_Keywords": ["provis", "sap", "hana", "databas", "server", "vm"]}, {"Heading": "Provisioning an SAP HANA Database", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-provisioning-an-sap-hana-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have created a software profile before you start provisioning a SAP HANA database. For more information, see Creating a Software Profile. See SAP HANA Database and Database Server VM Provisioning Prerequisites for provisioning requirements.About this taskNote: You can only use the profiles and profile versions (unpublished) that you own while provisioning a database.Perform the following procedure to provision a SAP HANA database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, click Provision, and select the SAP HANA engine. The Provision a SAP HANA System Database window appears. You provision a database in the following steps:Database Server VMSystem DatabaseTime MachineTagsNote: Tags window is displayed when either a database server, database, or time machine is associated with a tag. See Era Tags Management for more information.In the Database Server VM step, select one of the following.Create New Server. Select this option if you want to provision a system database on a new database server VM.Use Registered Server. Select this option if you want to provision a system database on a database server VM that you have previously registered with Era.If you have selected Create New Server in the previous step, do the following under New Database Server VM.Database Server VM Name. Type a name of the database server VM. The name that you provide in this field is used as the virtual machine name created for the SAP HANA database.Description. Type a description of the database server VM.Nutanix Cluster. Select the Nutanix cluster on which you want to provision the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Software Profile. Select a software profile from the drop-down list of the software profiles available.If you want to update the version of the profile selected, click Update Version to view all the versions available with the respective profile. Select the required version from the list and click Update.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. Database Server VM's Time Zone. Select a timezone for the database server VM.SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.Figure. Provisioning DetailsClick to enlargeIf you have selected Use Registered Server in the previous step, select the database server VM on which you want to provision the instance and click Next.In the Database step, do the following in the indicated steps.System Database Name (SID). Type an SID of the database.Description. Type a description of the database.Instance Number. Type an instance number from 00 to 96 for the database.Note: Instance numbers 97, 98, and 99 are reserved by SAP.SYSTEM and adm Password. Type a password for the SYSTEM and adm user accounts.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.System Type. Select a system type from the drop-down list of available system types.Virtual Host Name. Type a virtual host name for the database.HANA Data Size(GB). Type the size of the node in GB.HANA Log Size(GB). Type the log size in GB.HANA Shared/Install Path Size(GB). Type the shared or install path size of the database in GB.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the database is created.Post-Create Command. Type a complete OS command that you want to run after the database is created.Click Next.In the Time Machine step, do the following in the indicated fields.Name. Type a name of the time machine.Description. Type a description of the time machine.SLA. Select an SLA from the drop-down list. An SLA is a snapshot retention policy that indicates how long snapshots are retained in Era. For more information, see SLA Management. Figure. SLAsClick to enlargeUnder Schedule, specify a schedule to take and retain the snapshots. Do the following in the indicated fields.Daily Snapshot at. The snapshot taken at this time of every day is retained as a daily snapshot in Era.Snapshots Per Day. Type the number of snapshots you want Nutanix to every day.Log Catch Up Every. Select the frequency of log catchups in minutes. The log catchup operation copies transaction logs to Era from your source database.Weekly Snapshot on. The snapshot taken on this day of every week is retained as a weekly snapshot in Era.Monthly Snapshot on the. The snapshot taken on this day of every month is retained as a monthly snapshot in Era.Quarterly Snapshot in. The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. For example, if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots.Click Next to proceed to the Tags step.In the Tags step, click each tag and type a tag value. You can hover the info icon to view the details of each tag.Note: Tags window is displayed when either a database server VM, database, or time machine is associated with a tag.Click Provision to start the provisioning operation.A message indicating that the operation to provision a database has started is displayed. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the provisioning operation is completed, the database appears in the list of the provisioned database. Click the name of the database to open the homepage for the selected database. This page displays the following widgets:Summary. Displays a brief summary of the database that includes name, description, deployment type, status, and the version of the database.Profiles. Displays software, compute, and network profiles that were applied when the database was created. You can click the hyperlinks to view further details of the profile.Time Machine. Displays the name, description, age, and size of the time machine.Database Server VM. Displays the name, time zone, status, date of registration, and version of the database server VM.Tags. Displays a list of the tags that are applied to this database server VM. You can click Update to set the tag values.", "Heading_Keywords": ["provis", "sap", "hana", "databas"]}, {"Heading": "SAP HANA Database Clone", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-db-clone-sap-hana-c.html", "Document Name": "Era User Guide", "Content": "You can create clones either to a point in time (by using log backups) or by using snapshots. If you want to use snapshots to clone the source database, you select an available snapshot and the source database is cloned to a state when the snapshot is taken. If you want to clone the source database at a point in time, you select the clone time and the source database is cloned to a state then. Creating Database ClonesCreating Database ClonesBefore you beginEnsure that you meet the following requirements before you start the cloning operation.  A database with the same SID should not be already running on the target database server VM.Standard SAP restrictions for usage of database SID names and instance numbers are applicable. Ensure that the virtual hostname and SID are unique. If the SID field is left blank, it will take the same SID as source.For a SAP HANA production system database, Nutanix recommends to have 128(Gib) memory and vCPU >= 8 (Number of vCPUs * Number of cores per vCPU must be >= 8).Ensure that the software binary version used to create the clone is same as that of the source database. Source databases must be upgraded to the newer software binary version before using a snapshot for cloning.For multi-tenant clones, Era can only update the password for SYSTEMDB. The tenant passwords have to be updated manually post clone completion.If you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone a SAP HANA database.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the SAP HANA source database you want to clone, click the Actions drop-down list and then select Create a Clone of System Database. The Create SAP HANA System Database Clone from Time Machine window appears. You clone the database in the following steps:Time/SnapshotDatabase Server VMSystem DatabaseIn the Time/Snapshot step, select the cluster and clone time to which you want to clone the database. Do the following to select the time.Nutanix Cluster. Select a Nutanix cluster to clone the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Do one of the following:Point in time. Select this option if you want to clone the source database to a point in time. If you select this option, the database is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source database by using the available snapshots.Figure. Cloning Details Click to enlargeClick Next.In the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the database on the newly created target database server VM.Use Authorized Server. Select this option to clone the database to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name for the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the System Database step, do the following in the indicated fields.System Database Clone Name in Era. Type a name for the cloned database on Era.Description. Type a description for the cloned database.System Database Name on VM. Type a name for the cloned database on the VM.Instance Number. Type an instance number from 00 to 96 for the clone database.Note: Instance numbers 97, 98, and 99 are reserved.SYSTEM and adm Password. Type a password for the SYSTEM and adm user accounts.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.System Type. Select a system type from the drop-down list of available system types.Virtual Host Name. Type a virtual host name for the clone database.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Tenant Databases to be included in the clone. Displays the list of tenant databases that will be included in the clone.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Note: All pre-clone and post-clone command scripts to be executed on the destination database server should be present in the database snapshot from which the specific database server is created. The snapshot can be Era automated snapshot or the closest snapshot to the Point In Time (PIT) restore selected. The scripts may be placed in any location in the source database server. The pre-clone and post-clone commands should comprise the complete path of the script, ready to be run from anywhere within the database server. Any failure in the execution of these scripts fails the entire operation and causes the operation to rollback.Figure. Cloning Details (cont.)Click to enlargeClick Clone to successfully clone the source database.A message appears indicating that the operation to clone the database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone database appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["sap", "hana", "databas", "clone"]}, {"Heading": "Creating Database Clones", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-database-clones-sap-hana-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you meet the following requirements before you start the cloning operation.  A database with the same SID should not be already running on the target database server VM.Standard SAP restrictions for usage of database SID names and instance numbers are applicable. Ensure that the virtual hostname and SID are unique. If the SID field is left blank, it will take the same SID as source.For a SAP HANA production system database, Nutanix recommends to have 128(Gib) memory and vCPU >= 8 (Number of vCPUs * Number of cores per vCPU must be >= 8).Ensure that the software binary version used to create the clone is same as that of the source database. Source databases must be upgraded to the newer software binary version before using a snapshot for cloning.For multi-tenant clones, Era can only update the password for SYSTEMDB. The tenant passwords have to be updated manually post clone completion.If you want to create database clones on a non-source Nutanix cluster, ensure that you have configured the time machine data access policies to that Nutanix cluster on which you want to perform the clone operation. See Data Access Management for more details.About this taskPerform the following procedure to clone a SAP HANA database.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the SAP HANA source database you want to clone, click the Actions drop-down list and then select Create a Clone of System Database. The Create SAP HANA System Database Clone from Time Machine window appears. You clone the database in the following steps:Time/SnapshotDatabase Server VMSystem DatabaseIn the Time/Snapshot step, select the cluster and clone time to which you want to clone the database. Do the following to select the time.Nutanix Cluster. Select a Nutanix cluster to clone the database.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the Nutanix clusters that have a time machine data access (DAM) policy configured, are listed in the drop-down list. See Adding Time Machine Data Access to a Nutanix Cluster for more information. On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Do one of the following:Point in time. Select this option if you want to clone the source database to a point in time. If you select this option, the database is cloned by using the transaction logs.Snapshot. Select this option if you want to clone the source database by using the available snapshots.Figure. Cloning Details Click to enlargeClick Next.In the Database Server VM step, select one of the following.Create New Server. Select this option to create a new target database server VM and clone the database on the newly created target database server VM.Use Authorized Server. Select this option to clone the database to a database server VM that you have already registered with Era.If you have selected Create New Server in the previous step, do the following in the indicated fields.Database Server VM Name. Type a name for the database server VM.Description. Type a description for the database server VM.Compute Profile. Select a compute profile from the drop-down list of compute profiles available.Network Profile. Select a network profile from the drop-down list of network profiles available. SSH Public Key for Node Access. Do one of the following to use SSH public keys to access the database server VM:File. Upload a file that includes the public key.Text. Type or copy and paste the public key.Click Next.If you have selected Use an Authorized Server in the previous step, select a target database server VM from the list of available database server VMs that are registered with Era and click Next.If there are no database server VMs authorized, click the plus icon to authorize one or more database server VMs.In the System Database step, do the following in the indicated fields.System Database Clone Name in Era. Type a name for the cloned database on Era.Description. Type a description for the cloned database.System Database Name on VM. Type a name for the cloned database on the VM.Instance Number. Type an instance number from 00 to 96 for the clone database.Note: Instance numbers 97, 98, and 99 are reserved.SYSTEM and adm Password. Type a password for the SYSTEM and adm user accounts.Database Parameter Profile. Select a database parameters profile from the drop-down list of database parameters profiles available.System Type. Select a system type from the drop-down list of available system types.Virtual Host Name. Type a virtual host name for the clone database.Schedule Data Refresh. You can schedule data refresh to refresh the clone automatically. Select this option and define the frequency and time slots to refresh the clone.Removal Schedule. If you have already defined a clone data refresh schedule, select this option and enter the number of days in which this schedule should be removed.Tenant Databases to be included in the clone. Displays the list of tenant databases that will be included in the clone.Click Pre-Post Commands and do the following in the indicated fields:Pre-Create Command. Type a complete OS command that you want to run before the instance is created.Post-Create Command. Type a complete OS command that you want to run after the instance is created.Note: All pre-clone and post-clone command scripts to be executed on the destination database server should be present in the database snapshot from which the specific database server is created. The snapshot can be Era automated snapshot or the closest snapshot to the Point In Time (PIT) restore selected. The scripts may be placed in any location in the source database server. The pre-clone and post-clone commands should comprise the complete path of the script, ready to be run from anywhere within the database server. Any failure in the execution of these scripts fails the entire operation and causes the operation to rollback.Figure. Cloning Details (cont.)Click to enlargeClick Clone to successfully clone the source database.A message appears indicating that the operation to clone the database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.After the operation is completed, the clone database appears in the list of the cloned databases. Go to Databases > Clones to view the clone that is created. Click the name of the clone database to view more details for the selected clone.", "Heading_Keywords": ["creat", "databas", "clone"]}, {"Heading": "Database Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-database-management-c.html", "Document Name": "Era User Guide", "Content": "Database ManagementRemoving a DatabaseRemoving database operation deletes the database and the time machine that is associated with the database. You can perform this operation only for Era provisioned databases.Removing a Database Server VM or Database Server ClusterUpdating the IP Address of a Registered Database Server VMCreating Database ClonesRemoving a DatabaseRemoving a DatabaseRemoving database operation deletes the database and the time machine that is associated with the database. You can perform this operation only for Era provisioned databases.Removing a Database Server VM or Database Server ClusterUpdating the IP Address of a Registered Database Server VMRemoving a DatabaseRemoving database operation deletes the database and the time machine that is associated with the database. You can perform this operation only for Era provisioned databases.About this taskPerform the following procedure to remove a database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, select the database that you want to remove, and click Remove. The Remove Database window appears.Do the following in the indicated fields:Unregister the database from Era. By default, this option is selected. Note: Era deregisters the database when you perform remove operation.Delete source database from the VM. Select this check box if you want to delete the source database from the VM.Delete the database's Time Machine (snapshots/logs) from the Era. Select this check box to delete the time machine that is associated with the database that you want to delete.Under Confirm this request to remove the database, <name of the database>, by providing the name of the database, type the name of the database that you want to removeClick Remove.Era displays a message indicating that the operation to remove a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.Note: When the database remove operation is started, Era checks if the data drives associated with the database being deleted are shared with other application or clones. If drives are not shared with other applications or clones on that host, Era deletes the data drives.Removing a Database Server VM or Database Server ClusterAbout this taskPerform the following procedure to remove a database server VM or a database server cluster.ProcedureIn the drop-down list of the main menu, select Databases Server VMs.Go to List, select the database server VM or database server cluster that you want to remove, and click Remove. (For database server VM) The Remove Database Server VM window appears.(For database server cluster) The Remove Server Cluster window appears.Do the following in the indicated fields:(For database server VM) Unregister the database server VM from Era. By default, this option is selected. (For database server cluster) Unregister server cluster from Era. By default, this option is selected. Note: Era deregisters the database server VM or database server cluster when you perform remove operation.Delete the VM and associated storage. Select this check box if you want to delete the VM and associated storage.Type the name of the database server VM or database server cluster that you want to remove as a confirmation.Click Remove.Era displays a message indicating that the operation to remove a database server VM or a database server cluster has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.Updating the IP Address of a Registered Database Server VMAbout this taskYou can manually update the IP address of a database server VM if the IP address has changed after you register the database server VM in Era.Perform the following procedure to update the IP address of a registered database server VM.ProcedureLaunch Era CLI.$ eraUpdate the database server VM.era > dbserver update id=dbserver_id associate_new_ip ip_address=new_ip_address\nReplace dbserver_id with the id of the database server VM.Replace new_ip_address with the IP address of the database server VM.", "Heading_Keywords": ["databas", "manag"]}, {"Heading": "Removing a Database", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-remove-database-t.html", "Document Name": "Era User Guide", "Content": "Removing database operation deletes the database and the time machine that is associated with the database. You can perform this operation only for Era provisioned databases.About this taskPerform the following procedure to remove a database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Sources, select the database that you want to remove, and click Remove. The Remove Database window appears.Do the following in the indicated fields:Unregister the database from Era. By default, this option is selected. Note: Era deregisters the database when you perform remove operation.Delete source database from the VM. Select this check box if you want to delete the source database from the VM.Delete the database's Time Machine (snapshots/logs) from the Era. Select this check box to delete the time machine that is associated with the database that you want to delete.Under Confirm this request to remove the database, <name of the database>, by providing the name of the database, type the name of the database that you want to removeClick Remove.Era displays a message indicating that the operation to remove a database has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.Note: When the database remove operation is started, Era checks if the data drives associated with the database being deleted are shared with other application or clones. If drives are not shared with other applications or clones on that host, Era deletes the data drives.", "Heading_Keywords": ["remov", "databas"]}, {"Heading": "Removing a Database Server VM or Database Server Cluster", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-remove-database-server-t.html", "Document Name": "Era User Guide", "Content": "About this taskPerform the following procedure to remove a database server VM or a database server cluster.ProcedureIn the drop-down list of the main menu, select Databases Server VMs.Go to List, select the database server VM or database server cluster that you want to remove, and click Remove. (For database server VM) The Remove Database Server VM window appears.(For database server cluster) The Remove Server Cluster window appears.Do the following in the indicated fields:(For database server VM) Unregister the database server VM from Era. By default, this option is selected. (For database server cluster) Unregister server cluster from Era. By default, this option is selected. Note: Era deregisters the database server VM or database server cluster when you perform remove operation.Delete the VM and associated storage. Select this check box if you want to delete the VM and associated storage.Type the name of the database server VM or database server cluster that you want to remove as a confirmation.Click Remove.Era displays a message indicating that the operation to remove a database server VM or a database server cluster has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.", "Heading_Keywords": ["remov", "databas", "server", "vm", "databas", "server", "cluster"]}, {"Heading": "Updating the IP Address of a Registered Database Server VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-update-ip-address-dbserver-t.html", "Document Name": "Era User Guide", "Content": "About this taskYou can manually update the IP address of a database server VM if the IP address has changed after you register the database server VM in Era.Perform the following procedure to update the IP address of a registered database server VM.ProcedureLaunch Era CLI.$ eraUpdate the database server VM.era > dbserver update id=dbserver_id associate_new_ip ip_address=new_ip_address\nReplace dbserver_id with the id of the database server VM.Replace new_ip_address with the IP address of the database server VM.", "Heading_Keywords": ["updat", "ip", "address", "regist", "databas", "server", "vm"]}, {"Heading": "Era Time Machine Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-time-machine-management-c.html", "Document Name": "Era User Guide", "Content": "Era time machines capture and maintain snapshots and transaction logs of your source databases as defined in the Data Access Management policies (DAM policies) and SLA schedules. A time machine is created for every source database that you register with Era. You can choose the time machine availability across registered Nutanix clusters either during the process of database registration or by manually configuring the DAM policy in the Time Machines home page. If a time machine is associated with a tag, Time Machines screen displays a search bar. You can click the search bar and select the tag to view the list of time machines associated with the selected tag.Time Machine FunctionalityClone ManagementData Access ManagementCreating Snapshots (Manual)Replicating Snapshots (Manual)Database Log Backup Management in EraEra allows you to create and refresh zero-byte database clones at any point in time. Era captures the database transaction logs using the Log Catchup operation, which can be configured to run every 15 minutes to 2 hours.Performing a Log Catchup Operation (Manual)Authorizing Database Server VMsDeauthorizing Database Server VMsSLA ManagementTime Machine FunctionalitySnapshotsThe time machine captures and replicates snapshots of the source database across multiple clusters (as defined in the DAM policy) at the time and frequency you specify in the schedule. Snapshots are used to clone the source database to a point-in-time when the snapshots were taken. If you want to take a snapshot of the current state of the source database, you can take a manual snapshot.Log Catchup OperationSnapshots store the state of a database at various points in time (as specified in the schedule). Therefore, if you want to clone a database by using snapshots, your choice of state for the database clone is limited to the points in time at which the snapshots are taken. The database is quiesced for the time the snapshot is being taken. Therefore, you would want to take only a minimum number of snapshots in a day. A log catchup operation copies transaction logs from the source database to Era based on the schedule you specify during the registration of the source database. The frequency of the log catches up operation is higher than the number of snapshots taken in a day. By default, Era performs a log catchup operation every 30 minutes. Therefore, the log catchup operation enables you to clone the source database at a point in time (that is, select a time). Also, the database is not quiesced for the time the log catchup operation is performed. You can also manually perform a log catchup operation to copy the current transactional logs of the source database to Era.ScheduleYou specify the schedule to take snapshots and copy transaction logs when you register the source database. The schedule includes details such as the number of snapshots that must be taken in a day, time the first snapshot must be taken, frequency of performing a log catchup operation (copying transaction logs), and the time the daily, weekly, monthly, and quarterly snapshots must be taken. The time machine takes snapshots and performs the log catchup operation at the time and frequency you specify in the schedule. You specify the schedule at the time of provisioning or registering a database. SLAsSLAs are data retention policies that allow you to specify how long the daily, weekly, monthly, and quarterly snapshots are retained in Era.Time Machine SizeThe size of the time machine refers to the storage space used by a specific time machine. It is calculated as the total space consumed by the snapshots and the associated transaction logs copied to Era.Clone ManagementEra allows you to create and refresh clones to a point-in-time either by using transactional logs or by using snapshots. You can clone and refresh your clones to a point-in-time within minutes, thereby making the clone and refresh operations fast. Era internally leverages the Nutanix time-efficient snapshots to create the clones. These database clones are highly space-efficient, consuming near-zero bytes by having only the further writes constituting to its size. Era thereby lowers the cost of managing multiple copies of your databases significantly. You can update, refresh, or remove a database clone any time after its creation.Era allows you to perform log catchup operation so that you can clone the source database at a point in time (that is, select a time). Also, the database is not quiesced for the time the log catchup operation is performed. You can also manually perform a log catchup operation to copy the current transaction logs of the source database to Era.See Oracle Database Clone, SQL Server Database Clone, PostgreSQL Database Clone, MySQL Database Clone, MariaDB Database Clone, and SAP HANA Database Clone for information on creating database clones.Updating Database CloneRefreshing Database Clones (Manual)Removing a Database Clone (Manual)Remove clone operation deregisters the database clone from Era server and deletes the corresponding production database.Updating Database CloneAbout this taskPerform the following procedure to update a database clone.ProcedureIn the drop-down list of the main menu, select Time Machines and click the time machine of the source database you want to update.The Time Machines home page for the selected time machine is displayed.Select the Nutanix cluster on which you want to update the clone.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.The Nutanix Cluster drop-down will only list the clusters associated with the selected time machine.Click Actions and select Update. The Update Time Machine window appearsUpdate the indicated fields.Click Update to successfully update a database clone.Refreshing Database Clones (Manual)About this taskYou can refresh your cloned databases to the latest state of your source databases. You refresh database clones either to a point in time (by using transaction logs) or by using snapshots. For refresh operations, pre-clone and post-clone scripts should be present on the target database.Perform the following procedure to refresh a cloned database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones, select the cloned database you want to refresh, and click Refresh.Select the time to which you want to refresh the database. Do the following to select the time.On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Do one of the following:Point in time. Select this option if you want to clone the source database to a point in time. If you select this option, the database is cloned by using the transactional logs.Snapshot. Select this option if you want to clone the source database by using the available snapshots.Click Next.Click Refresh to successfully refresh the database.Creating a Clone Refresh ScheduleDeleting a Clone Refresh ScheduleCreating a Clone Refresh ScheduleAbout this taskRefresh schedules update the clone with the most recent data available. You can define a frequency and time at which Era automatically refreshes the database clone. Perform the following procedure to define a clone refresh schedule.Note: Clone refresh schedules can also be defined when you create a clone. For more information, see Oracle Database Clone, SQL Server Database Clone, PostgreSQL Database Clone, MySQL Database Clone, MariaDB Database Clone, and SAP HANA Database Clone.ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones and click the clone for which you want to define a refresh schedule.From the Schedule drop-down list, select Refresh > Create. The Create Refresh Schedule window appears. Do the following in the indicated fields:Refresh Data Every (days). Enter the number of days in which the clone should get refreshed.For example, if you have entered seven in this field, then Era refreshes the clone after every seven days.Refresh Time. Enter the time at which clone refresh operation should start.Click Create.A message appears indicating that the refresh operation has been created. You can click the message and then go to Scheduled on the Operations page to view all the scheduled tasks.To change the frequency and time slot of the schedule, you can select Refresh > Update from the Schedule drop-down list, and then provide the new frequency and time slot.Deleting a Clone Refresh ScheduleAbout this taskYou can cancel the schedule for clone refresh operation if you do not want to perform the clone refresh at the scheduled time. Perform the following procedure to remove a clone refresh schedule.ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones and click the clone for which you want to remove the refresh schedule.From the Schedule drop-down list, select Refresh > Remove. Click Yes to confirm.This step removes the clone refresh schedule from Era. However, you can always create a new schedule if needed. For more information, see Creating a Clone Refresh Schedule.Alternatively, you can go to Operations > Scheduled, select the schedule, and then click Delete to remove the schedule.Removing a Database Clone (Manual)Remove clone operation deregisters the database clone from Era server and deletes the corresponding production database.About this taskPerform the following procedure to remove a database clone from Era.ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones, select the database clone that you want to remove, and click Delete. The Remove Clone window appears.Do the following in the indicated fields:Unregister the database clone from Era. By default, this option is selected.Delete the database clone from VM. Select this check box to remove the source database clone from the VM. Under Confirm this request to remove the clone, <database clone name>, by providing the name of the clone, type the name of the database clone that you want to remove.Click Yes.Era updates the status of the database clone and displays a message indicating that the operation to remove a database clone has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.Note: When clone delete operation is started, Era checks if the data drives associated with the database clone being deleted are shared with other application or clones. If drives are not shared with other applications or clones on that host, Era deletes the data drives.Creating Clone Removal ScheduleDeleting a Clone Removal ScheduleCreating Clone Removal ScheduleAbout this taskYou can define a clone removal schedule at which Era automatically deletes the database clone on the scheduled date. Perform the following procedure to create a database clone removal schedule.Note: Clone removal schedules can also be defined when you create a clone. For more information, see Creating Database Clones and Creating Snapshots (Manual).ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones and click the clone for which you want to define a removal schedule.From the Schedule drop-down list, select Removal > Create. The Create Removal Schedule window appears. Do the following in the indicated fields:Date of Removal. Select a date on which you want Era to perform automatic clone removal operation.Time. Select a time at which you want Era to start clone removal operation.Database Server Time Zone. Select a time zone for the database server.Under Items to remove, select Delete the database clone from the VM if you want Era to delete the respective clone from the VM.By default, Era unregisters the database clone from the VM when this operation is triggered.Under Alerts, select Create an alert before removal if you want to get notified before a database clone is removed and then enter the number of days before which you should get notified.For example, if you enter seven in this field, Era notifies you seven days before a database clone is removed.A message appears indicating that the removal schedule has been created. You can click the message and then go to Scheduled on the Operations page to view all the scheduled tasks.To modify the removal schedule, you can select Removal > Update from the Schedule drop-down list and then update the indicated fields.Deleting a Clone Removal ScheduleAbout this taskYou can cancel the schedule for clone removal operation if you do not want Era to remove the clone at the defined schedule. You can then remove the clone manually (For more information, see Removing a Database Clone (Manual)). Perform the following procedure to remove a clone refresh schedule.ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones and click the clone for which you want to remove the removal schedule.From the Schedule drop-down list, select Removal > Remove. Click Yes to confirm.This step removes the clone removal schedule from Era. However, you can always create a new schedule if needed. For more information, see Creating Clone Removal Schedule.Alternatively, you can go to Operations > Scheduled, select the schedule, and then click Delete to remove the schedule.Data Access ManagementEra's multi-cluster capability allows you to manage time machine data availability across all the registered Nutanix clusters in Era. Using the Data Access Management policies (DAM policies), you can add, update, and remove the time machine data accessibility across the multiple registered clusters in Era.Click the Diagram tab in the Data Access Management page to display a diagram of the registered Nutanix cluster with the source databases, the associated time machines, and the time machine data availability across clusters. Each node displayed under Diagram tab is clickable, you can click the nodes to view their respective details.Figure. Data Access Management: Diagram ViewClick to enlargeAdding Time Machine Data Access to a Nutanix ClusterAdding time machine data access to a Nutanix cluster associate the time machine of the source database with that cluster. This allows you perform all snapshot operations (snapshot creation, replication, deletion and so on)on the associated Nutanix clusters.Updating Time Machine Data Access to a Nutanix ClusterAdding Time Machine Data Access to a Nutanix ClusterAdding time machine data access to a Nutanix cluster associate the time machine of the source database with that cluster. This allows you perform all snapshot operations (snapshot creation, replication, deletion and so on)on the associated Nutanix clusters.Before you beginEnsure that you have enabled multi-cluster in Era and have registered the required Nutantix clusters.About this taskPerform the following procedure to add time machine data access to a Nutanix cluster.ProcedureIn the drop-down list of the main menu, select Time Machines.This page displays a list of time machines available in Era.Click the time machine of the source database for which you want to add data access.The overview page of the time machine is displayed.Go to Data Access Management, select the Table view and click Add.The Add Data Access to Nutanix Cluster window appears.Do the following in the indicated fields. Nutanix Cluster. Select a Nutanix cluster.DAM Policy. Select an SLA from the drop-down list. Note: Point in Time Recovery (PITR) SLAs are not supported.Select the Nutanix clusters on which you want to replicate the snapshot.Figure. Adding Data AccessClick to enlargeClick Add to successfully add data access to the Nutanix cluster. Updating Time Machine Data Access to a Nutanix ClusterBefore you beginEnsure that you have enabled multi-cluster in Era and have registered the required Nutantix clusters.About this taskYou can update the SLA details of the Nutanix cluster's data access.Perform the following procedure to update time machine data access to a Nutanix cluster.ProcedureIn the drop-down list of the main menu, select Time Machines.This page displays a list of time machines available in Era.Click the time machine of the source database for which you want to add data access.The overview page of the time machine is displayed.Go to Data Access Management, select the Table view and select the Nutanix cluster which you want to update.Click Update. The Update Nutanix Cluster's Data Access window appears.Do the following in the indicated fields. Nutanix Cluster. Displays the name of the selected cluster.DAM Policy. Update the SLA from the drop-down list. Note: Point in Time Recovery (PITR) SLAs are not supported.Figure. Updating Data AccessClick to enlargeClick Update to successfully update the data access to the Nutanix cluster. Creating Snapshots (Manual)About this taskIf you want to take a snapshot of the current state of the source database, you can take a manual snapshot.Perform the following procedure to take a manual snapshot.ProcedureIn the drop-down list of the main menu, select Time Machines.This page displays a list of time machines available in Era.Click the time machine of the source database for which you want to create a manual snapshot.The overview page of the time machine is displayed.Go to Snapshots and click Create. The Create Snapshot window appears. Do the following in the indiacted fields. Snapshot Name. Type a name for the snapshot.Removal Schedule. Select this check box if you want to define a snapshot removal schedule and then enter the number of days after which the snapshot should be removed.Select the Nutanix clusters on which you want to replicate the snapshot.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the clusters associated with the selected time machine will be listed.Figure. Creating Manual SnapshotClick to enlargeClick Create to successfully create a snapshot. A message appears indicating that the operation to create snapshot has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation. On the same page, click Stop to stop the snapshot operation.Replicating Snapshots (Manual)About this taskYou can replicate existing snapshots of a time machine to the other Nutanix clusters associated with that time machine. Perform the following procedure to replicate a snapshot.ProcedureIn the drop-down list of the main menu, select Time Machines.This page displays a list of time machines available in Era.Click the time machine of the source database for which you want to replicate a snapshot.The overview page of the time machine is displayed.Go to Snapshots and select a Nutanix cluster.This page displays a list of snapshots available in the selected Nutanix cluster.Select an existing snapshot and click Replicate. The Replicate Snapshot window appears. Do the following in the indiacted fields. Select the Nutanix clusters on which you want to replicate the snapshot.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the clusters associated with the selected time machine will be listed. See Data Access Management for more information.Removal Schedule. Select this check box if you want to define a snapshot removal schedule and then enter the number of days after which the snapshot should be removed.Figure. Replicating SnapshotClick to enlargeClick Replicate to successfully replicate a snapshot. A message appears indicating that the operation to replicate snapshot has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation. On the same page, click Stop to stop the snapshot operation.Database Log Backup Management in EraEra allows you to create and refresh zero-byte database clones at any point in time. Era captures the database transaction logs using the Log Catchup operation, which can be configured to run every 15 minutes to 2 hours.OracleFor Oracle databases, Era switches the current online redo logs and then copies all the archived logs generated since the last log catchup to permanent log storage location (also known as log drive) of Era. Note that Era does not remove any logs from their original location after copying. The management and retention of those logs are according to the policies set by the database administrator. Microsoft SQL ServerEra uses the SQL Server transaction Log Backups for Microsoft SQL Server. Whenever Era takes a log backup of the managed SQL Server database, the database logs get truncated. Era requires exclusive access to the log backups of the managed database. PostgreSQLFor PostgreSQL instances, Era uses the archive command to perform log catchup. In log catchup, Era switches the current WAL segment and then copies all the archived WAL segments generated since the last log catchup to the permanent log storage location (also known as log drive) of Era.MariaDB and MySQLFor MariaDB and MySQL instances, Era copies the binary log files generated since the last Log Catchup from the configured bin_log location to the permanent log storage location (also known as log drive) of Era. Note that binary logging must be enabled for the instance to be registered in Era.SAP HANASAP HANA log segments in the log area are backed up automatically when the log mode is set to Normal (default mode).Log segments are backed up for each SAP HANA service that has persistence. During a log backup, only the payload (actual data) of the log segments is written from the log area to service-specific log backups in the file system or to a third-party backup tool. Era log backups copy the log backups generated by SAP HANA in the file system to the permanent log storage location (log drive) of Era. Era does not delete any log backups generated by the database and their management and retention is as per the database administrator's policies.Table 1. Working with Third-Party Backup SolutionsDatabase EngineRecommendation for working with third-party backup solutionsOracleThird-party backups vendors can continue to backup the archived logs from the database log destination. If the backup product is configured to delete the logs after a backup, Era will still be able to capture them, considering the log catchup begins before the logs get backed up.Microsoft SQL ServerIf the database is managed by another third-party backup vendor, you can choose to grant exclusive log access to Era while registering the database to Era. If you do not grant exclusive log access to Era, the Point-in-Time (PIT) recovery will not be supported, but snapshot-based recovery of the databases will be supported.PostgreSQLSince PostgreSQL supports complex archive commands, third-party backups vendors can continue to use the archiving feature of PostgreSQL to perform the backup of WAL segments.MariaDB and MySQLThird-party backups vendors can continue to backup the binary logs from the binary log location. If the backup product is configured to delete the logs after the backup, Era will still be able to capture them, considering the log catchup begins before the logs get purged.Performing a Log Catchup Operation (Manual)About this taskYou can manually perform a log catchup operation to copy the current transactional logs of the source database to Era. Perform the following procedure to perform a manual log catchup operation.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the source database, click Actions and select Log Catch Up. In the confirmation message that appears, click Yes.Authorizing Database Server VMsAbout this taskIf you want to clone the source database to a database server VM that you have already registered with Era, you must associate the time machine of the source database with the target database server VM. Perform the following procedure to authorize database server VMs.ProcedureIn the drop-down list of the main menu, click Time Machines.Select the time machine of the source database, click Actions and select Authorize Database Server VMs. The Authorize Database Server VMs window appearsSelect the target database server VM, move the database server VM to the Authorized Database Server VMs list, and click Update.Deauthorizing Database Server VMsAbout this taskPerform the following procedure to deauthorize database server VMs.ProcedureIn the drop-down list of the main menu, click Time Machines.Select the time machine of the source database, click Actions, and select Authorize Database Server VMs. The Authorize Database Server VMs window appears.Select the database server VM from the Authorized Database Server VMs list and move it to the Database Server VMs list.Click Update.SLA ManagementSLAs are data retention policies that allow you to specify how long the daily, weekly, monthly, and quarterly snapshots are retained in Era.SLAs include the following details.Daily snapshotsDuration in days for which a daily snapshot must be retained in Era.When you register a source database with Era, you specify a time at which the daily snapshot must be taken. The snapshot taken at this time becomes your daily snapshot. The daily snapshot is the only snapshot that is retained for that day.For example, if you specify that the daily snapshot must be taken at 11:00 AM and in the SLA you specify that daily snapshots must be retained for 30 days, the snapshot that is taken at 11:00 AM everyday is retained as daily snapshot and this snapshot is retained for 30 days.Weekly snapshotsDuration in weeks for which a weekly snapshot must be retained in Era.When you register a source database with Era, you specify a day of the week on which the weekly snapshot must be taken. The snapshot taken on this day of the week becomes your weekly snapshot. The weekly snapshot is the only snapshot that is retained for that week along with the daily snapshot of each day of the week.Note: The daily snapshots are deleted if their duration expires.For example, if you specify that the weekly snapshot must be taken on Monday and in the SLA you specify that weekly snapshots must be retained for 8 weeks, the snapshot that is taken on Monday of every week is retained as a weekly snapshot and this snapshot is retained for 8 weeks.Monthly snapshotsDuration in months for which a monthly snapshot must be retained in Era.When you register a source database with Era, you specify a day of the month on which the monthly snapshot must be taken. The snapshot taken on this day of the month becomes your monthly snapshot. The monthly snapshot is the only snapshot that is retained for that month along with the weekly and daily snapshots of that month.Note: The weekly and daily snapshots are deleted if their duration expires. For example, if you specify that the monthly snapshot must be taken on the 15th of every month and in the SLA you specify that monthly snapshots must be retained for 6 months, the snapshot that is taken on the 15th of every month is retained as a monthly snapshot and this snapshot is retained for 6 months.Quarterly snapshotsDuration in number of quarters for which a quarterly snapshot must be retained in Era.The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. When you register a source database with Era, in the schedule if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots. The quarterly snapshot is the only snapshot that is retained for that quarter along with the monthly, weekly, and daily snapshots of that month.Note: The monthly, weekly, and daily snapshots are deleted if their duration expires.For example, if you specify in the SLA that the quarterly snapshots must be retained for 10 quarters, this quarterly snapshot is retained for 10 quarters.ContinuousDuration in days for which transaction logs are retained in Era.For example, if you set this value to 10 days, transaction logs of the last 10 days are retained from the time the first daily snapshot is taken.Built-in SLAsCreating Custom SLAsBuilt-in SLAsEra has five built-in SLAs. You can use the built-in SLAs as is, or create custom SLAs according to your requirements. You can also modify the configured SLAs for the time machines.The built-in SLAs have the following values.DEFAULT_OOB_GOLD_SLAThe Gold SLA has the following default values:Continuous: 30 daysDaily: 90 daysWeekly: 16 weeksMonthly: 12 monthsQuarterly: 75 quartersDEFAULT_OOB_SILVER_SLAThe Silver SLA has the following default values:Continuous: 14 daysDaily: 60 daysWeekly: 12 weeksMonthly: 12 monthsQuarterly: 0 quartersDEFAULT_OOB_BRONZE_SLAThe Bronze SLA has the following default values:Continuous: 7 daysDaily: 30 daysWeekly: 8 weeksMonthly: 6 monthsQuarterly: 0 quartersDEFAULT_OOB_BRASS_SLAThe Brass SLA has the following default values:Continuous: 0 daysDaily: 7 daysWeekly: 0 weeksMonthly: 0 monthsQuarterly: 0 quartersNONEThe None SLA has the following default values:Continuous: 0 daysDaily: 0 daysWeekly: 0 weeksMonthly: 0 monthsQuarterly: 0 quartersCreating Custom SLAsAbout this taskIf you do not want to use or update the built-in SLAs, you can create a new SLA with the values that suit your requirement.Perform the following to create a new SLA.ProcedureIn the drop-down list of the main menu, select SLAs.Click New SLA.Do the following in the indicated fields.SLA Name. Type a name for the SLA.Description. Type a description for the SLA.Continuous snapshot retention (In Days). Duration in days for which snapshots or transaction logs are retained in Era.Daily snapshot retention (In Days). Duration in days for which a daily snapshot must be retained in Era.Weekly snapshot retention (In Weeks). Duration in weeks for which a weekly snapshot must be retained in Era.Monthly snapshot retention (In Months). Duration in months for which a monthly snapshot must be retained in Era.Quarterly snapshot retention (In Quarters). Duration in number of quarters for which a quarterly snapshot must be retained in Era.Click Done to successfully create a new SLA.", "Heading_Keywords": ["era", "time", "machin", "manag"]}, {"Heading": "Time Machine Functionality", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-time-machine-functionality-c.html", "Document Name": "Era User Guide", "Content": "SnapshotsThe time machine captures and replicates snapshots of the source database across multiple clusters (as defined in the DAM policy) at the time and frequency you specify in the schedule. Snapshots are used to clone the source database to a point-in-time when the snapshots were taken. If you want to take a snapshot of the current state of the source database, you can take a manual snapshot.Log Catchup OperationSnapshots store the state of a database at various points in time (as specified in the schedule). Therefore, if you want to clone a database by using snapshots, your choice of state for the database clone is limited to the points in time at which the snapshots are taken. The database is quiesced for the time the snapshot is being taken. Therefore, you would want to take only a minimum number of snapshots in a day. A log catchup operation copies transaction logs from the source database to Era based on the schedule you specify during the registration of the source database. The frequency of the log catches up operation is higher than the number of snapshots taken in a day. By default, Era performs a log catchup operation every 30 minutes. Therefore, the log catchup operation enables you to clone the source database at a point in time (that is, select a time). Also, the database is not quiesced for the time the log catchup operation is performed. You can also manually perform a log catchup operation to copy the current transactional logs of the source database to Era.ScheduleYou specify the schedule to take snapshots and copy transaction logs when you register the source database. The schedule includes details such as the number of snapshots that must be taken in a day, time the first snapshot must be taken, frequency of performing a log catchup operation (copying transaction logs), and the time the daily, weekly, monthly, and quarterly snapshots must be taken. The time machine takes snapshots and performs the log catchup operation at the time and frequency you specify in the schedule. You specify the schedule at the time of provisioning or registering a database. SLAsSLAs are data retention policies that allow you to specify how long the daily, weekly, monthly, and quarterly snapshots are retained in Era.Time Machine SizeThe size of the time machine refers to the storage space used by a specific time machine. It is calculated as the total space consumed by the snapshots and the associated transaction logs copied to Era.", "Heading_Keywords": ["time", "machin", "function"]}, {"Heading": "Clone Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-clone-database-management-c.html", "Document Name": "Era User Guide", "Content": "Era allows you to create and refresh clones to a point-in-time either by using transactional logs or by using snapshots. You can clone and refresh your clones to a point-in-time within minutes, thereby making the clone and refresh operations fast. Era internally leverages the Nutanix time-efficient snapshots to create the clones. These database clones are highly space-efficient, consuming near-zero bytes by having only the further writes constituting to its size. Era thereby lowers the cost of managing multiple copies of your databases significantly. You can update, refresh, or remove a database clone any time after its creation.Era allows you to perform log catchup operation so that you can clone the source database at a point in time (that is, select a time). Also, the database is not quiesced for the time the log catchup operation is performed. You can also manually perform a log catchup operation to copy the current transaction logs of the source database to Era.See Oracle Database Clone, SQL Server Database Clone, PostgreSQL Database Clone, MySQL Database Clone, MariaDB Database Clone, and SAP HANA Database Clone for information on creating database clones.Updating Database CloneRefreshing Database Clones (Manual)Removing a Database Clone (Manual)Remove clone operation deregisters the database clone from Era server and deletes the corresponding production database.Updating Database CloneAbout this taskPerform the following procedure to update a database clone.ProcedureIn the drop-down list of the main menu, select Time Machines and click the time machine of the source database you want to update.The Time Machines home page for the selected time machine is displayed.Select the Nutanix cluster on which you want to update the clone.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.The Nutanix Cluster drop-down will only list the clusters associated with the selected time machine.Click Actions and select Update. The Update Time Machine window appearsUpdate the indicated fields.Click Update to successfully update a database clone.Refreshing Database Clones (Manual)About this taskYou can refresh your cloned databases to the latest state of your source databases. You refresh database clones either to a point in time (by using transaction logs) or by using snapshots. For refresh operations, pre-clone and post-clone scripts should be present on the target database.Perform the following procedure to refresh a cloned database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones, select the cloned database you want to refresh, and click Refresh.Select the time to which you want to refresh the database. Do the following to select the time.On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Do one of the following:Point in time. Select this option if you want to clone the source database to a point in time. If you select this option, the database is cloned by using the transactional logs.Snapshot. Select this option if you want to clone the source database by using the available snapshots.Click Next.Click Refresh to successfully refresh the database.Creating a Clone Refresh ScheduleDeleting a Clone Refresh ScheduleCreating a Clone Refresh ScheduleAbout this taskRefresh schedules update the clone with the most recent data available. You can define a frequency and time at which Era automatically refreshes the database clone. Perform the following procedure to define a clone refresh schedule.Note: Clone refresh schedules can also be defined when you create a clone. For more information, see Oracle Database Clone, SQL Server Database Clone, PostgreSQL Database Clone, MySQL Database Clone, MariaDB Database Clone, and SAP HANA Database Clone.ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones and click the clone for which you want to define a refresh schedule.From the Schedule drop-down list, select Refresh > Create. The Create Refresh Schedule window appears. Do the following in the indicated fields:Refresh Data Every (days). Enter the number of days in which the clone should get refreshed.For example, if you have entered seven in this field, then Era refreshes the clone after every seven days.Refresh Time. Enter the time at which clone refresh operation should start.Click Create.A message appears indicating that the refresh operation has been created. You can click the message and then go to Scheduled on the Operations page to view all the scheduled tasks.To change the frequency and time slot of the schedule, you can select Refresh > Update from the Schedule drop-down list, and then provide the new frequency and time slot.Deleting a Clone Refresh ScheduleAbout this taskYou can cancel the schedule for clone refresh operation if you do not want to perform the clone refresh at the scheduled time. Perform the following procedure to remove a clone refresh schedule.ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones and click the clone for which you want to remove the refresh schedule.From the Schedule drop-down list, select Refresh > Remove. Click Yes to confirm.This step removes the clone refresh schedule from Era. However, you can always create a new schedule if needed. For more information, see Creating a Clone Refresh Schedule.Alternatively, you can go to Operations > Scheduled, select the schedule, and then click Delete to remove the schedule.Removing a Database Clone (Manual)Remove clone operation deregisters the database clone from Era server and deletes the corresponding production database.About this taskPerform the following procedure to remove a database clone from Era.ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones, select the database clone that you want to remove, and click Delete. The Remove Clone window appears.Do the following in the indicated fields:Unregister the database clone from Era. By default, this option is selected.Delete the database clone from VM. Select this check box to remove the source database clone from the VM. Under Confirm this request to remove the clone, <database clone name>, by providing the name of the clone, type the name of the database clone that you want to remove.Click Yes.Era updates the status of the database clone and displays a message indicating that the operation to remove a database clone has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.Note: When clone delete operation is started, Era checks if the data drives associated with the database clone being deleted are shared with other application or clones. If drives are not shared with other applications or clones on that host, Era deletes the data drives.Creating Clone Removal ScheduleDeleting a Clone Removal ScheduleCreating Clone Removal ScheduleAbout this taskYou can define a clone removal schedule at which Era automatically deletes the database clone on the scheduled date. Perform the following procedure to create a database clone removal schedule.Note: Clone removal schedules can also be defined when you create a clone. For more information, see Creating Database Clones and Creating Snapshots (Manual).ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones and click the clone for which you want to define a removal schedule.From the Schedule drop-down list, select Removal > Create. The Create Removal Schedule window appears. Do the following in the indicated fields:Date of Removal. Select a date on which you want Era to perform automatic clone removal operation.Time. Select a time at which you want Era to start clone removal operation.Database Server Time Zone. Select a time zone for the database server.Under Items to remove, select Delete the database clone from the VM if you want Era to delete the respective clone from the VM.By default, Era unregisters the database clone from the VM when this operation is triggered.Under Alerts, select Create an alert before removal if you want to get notified before a database clone is removed and then enter the number of days before which you should get notified.For example, if you enter seven in this field, Era notifies you seven days before a database clone is removed.A message appears indicating that the removal schedule has been created. You can click the message and then go to Scheduled on the Operations page to view all the scheduled tasks.To modify the removal schedule, you can select Removal > Update from the Schedule drop-down list and then update the indicated fields.Deleting a Clone Removal ScheduleAbout this taskYou can cancel the schedule for clone removal operation if you do not want Era to remove the clone at the defined schedule. You can then remove the clone manually (For more information, see Removing a Database Clone (Manual)). Perform the following procedure to remove a clone refresh schedule.ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones and click the clone for which you want to remove the removal schedule.From the Schedule drop-down list, select Removal > Remove. Click Yes to confirm.This step removes the clone removal schedule from Era. However, you can always create a new schedule if needed. For more information, see Creating Clone Removal Schedule.Alternatively, you can go to Operations > Scheduled, select the schedule, and then click Delete to remove the schedule.", "Heading_Keywords": ["clone", "manag"]}, {"Heading": "Updating Database Clone", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-updating-time-machine-t.html", "Document Name": "Era User Guide", "Content": "About this taskPerform the following procedure to update a database clone.ProcedureIn the drop-down list of the main menu, select Time Machines and click the time machine of the source database you want to update.The Time Machines home page for the selected time machine is displayed.Select the Nutanix cluster on which you want to update the clone.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.The Nutanix Cluster drop-down will only list the clusters associated with the selected time machine.Click Actions and select Update. The Update Time Machine window appearsUpdate the indicated fields.Click Update to successfully update a database clone.", "Heading_Keywords": ["updat", "databas", "clone"]}, {"Heading": "Refreshing Database Clones (Manual)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-refreshing-database-clones-t.html", "Document Name": "Era User Guide", "Content": "About this taskYou can refresh your cloned databases to the latest state of your source databases. You refresh database clones either to a point in time (by using transaction logs) or by using snapshots. For refresh operations, pre-clone and post-clone scripts should be present on the target database.Perform the following procedure to refresh a cloned database.ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones, select the cloned database you want to refresh, and click Refresh.Select the time to which you want to refresh the database. Do the following to select the time.On the Month tab, select a day of the month.Click the Day tab to select the clone time to which you want to clone the database.Do one of the following:Point in time. Select this option if you want to clone the source database to a point in time. If you select this option, the database is cloned by using the transactional logs.Snapshot. Select this option if you want to clone the source database by using the available snapshots.Click Next.Click Refresh to successfully refresh the database.Creating a Clone Refresh ScheduleDeleting a Clone Refresh ScheduleCreating a Clone Refresh ScheduleAbout this taskRefresh schedules update the clone with the most recent data available. You can define a frequency and time at which Era automatically refreshes the database clone. Perform the following procedure to define a clone refresh schedule.Note: Clone refresh schedules can also be defined when you create a clone. For more information, see Oracle Database Clone, SQL Server Database Clone, PostgreSQL Database Clone, MySQL Database Clone, MariaDB Database Clone, and SAP HANA Database Clone.ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones and click the clone for which you want to define a refresh schedule.From the Schedule drop-down list, select Refresh > Create. The Create Refresh Schedule window appears. Do the following in the indicated fields:Refresh Data Every (days). Enter the number of days in which the clone should get refreshed.For example, if you have entered seven in this field, then Era refreshes the clone after every seven days.Refresh Time. Enter the time at which clone refresh operation should start.Click Create.A message appears indicating that the refresh operation has been created. You can click the message and then go to Scheduled on the Operations page to view all the scheduled tasks.To change the frequency and time slot of the schedule, you can select Refresh > Update from the Schedule drop-down list, and then provide the new frequency and time slot.Deleting a Clone Refresh ScheduleAbout this taskYou can cancel the schedule for clone refresh operation if you do not want to perform the clone refresh at the scheduled time. Perform the following procedure to remove a clone refresh schedule.ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones and click the clone for which you want to remove the refresh schedule.From the Schedule drop-down list, select Refresh > Remove. Click Yes to confirm.This step removes the clone refresh schedule from Era. However, you can always create a new schedule if needed. For more information, see Creating a Clone Refresh Schedule.Alternatively, you can go to Operations > Scheduled, select the schedule, and then click Delete to remove the schedule.", "Heading_Keywords": ["refresh", "databas", "clone", "manual"]}, {"Heading": "Removing a Database Clone (Manual)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-remove-database-clone-t.html", "Document Name": "Era User Guide", "Content": "Remove clone operation deregisters the database clone from Era server and deletes the corresponding production database.About this taskPerform the following procedure to remove a database clone from Era.ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones, select the database clone that you want to remove, and click Delete. The Remove Clone window appears.Do the following in the indicated fields:Unregister the database clone from Era. By default, this option is selected.Delete the database clone from VM. Select this check box to remove the source database clone from the VM. Under Confirm this request to remove the clone, <database clone name>, by providing the name of the clone, type the name of the database clone that you want to remove.Click Yes.Era updates the status of the database clone and displays a message indicating that the operation to remove a database clone has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.Note: When clone delete operation is started, Era checks if the data drives associated with the database clone being deleted are shared with other application or clones. If drives are not shared with other applications or clones on that host, Era deletes the data drives.Creating Clone Removal ScheduleDeleting a Clone Removal ScheduleCreating Clone Removal ScheduleAbout this taskYou can define a clone removal schedule at which Era automatically deletes the database clone on the scheduled date. Perform the following procedure to create a database clone removal schedule.Note: Clone removal schedules can also be defined when you create a clone. For more information, see Creating Database Clones and Creating Snapshots (Manual).ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones and click the clone for which you want to define a removal schedule.From the Schedule drop-down list, select Removal > Create. The Create Removal Schedule window appears. Do the following in the indicated fields:Date of Removal. Select a date on which you want Era to perform automatic clone removal operation.Time. Select a time at which you want Era to start clone removal operation.Database Server Time Zone. Select a time zone for the database server.Under Items to remove, select Delete the database clone from the VM if you want Era to delete the respective clone from the VM.By default, Era unregisters the database clone from the VM when this operation is triggered.Under Alerts, select Create an alert before removal if you want to get notified before a database clone is removed and then enter the number of days before which you should get notified.For example, if you enter seven in this field, Era notifies you seven days before a database clone is removed.A message appears indicating that the removal schedule has been created. You can click the message and then go to Scheduled on the Operations page to view all the scheduled tasks.To modify the removal schedule, you can select Removal > Update from the Schedule drop-down list and then update the indicated fields.Deleting a Clone Removal ScheduleAbout this taskYou can cancel the schedule for clone removal operation if you do not want Era to remove the clone at the defined schedule. You can then remove the clone manually (For more information, see Removing a Database Clone (Manual)). Perform the following procedure to remove a clone refresh schedule.ProcedureIn the drop-down list of the main menu, select Databases.Go to Clones and click the clone for which you want to remove the removal schedule.From the Schedule drop-down list, select Removal > Remove. Click Yes to confirm.This step removes the clone removal schedule from Era. However, you can always create a new schedule if needed. For more information, see Creating Clone Removal Schedule.Alternatively, you can go to Operations > Scheduled, select the schedule, and then click Delete to remove the schedule.", "Heading_Keywords": ["remov", "databas", "clone", "manual"]}, {"Heading": "Data Access Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-data-access-management-c.html", "Document Name": "Era User Guide", "Content": "Era's multi-cluster capability allows you to manage time machine data availability across all the registered Nutanix clusters in Era. Using the Data Access Management policies (DAM policies), you can add, update, and remove the time machine data accessibility across the multiple registered clusters in Era.Click the Diagram tab in the Data Access Management page to display a diagram of the registered Nutanix cluster with the source databases, the associated time machines, and the time machine data availability across clusters. Each node displayed under Diagram tab is clickable, you can click the nodes to view their respective details.Figure. Data Access Management: Diagram ViewClick to enlargeAdding Time Machine Data Access to a Nutanix ClusterAdding time machine data access to a Nutanix cluster associate the time machine of the source database with that cluster. This allows you perform all snapshot operations (snapshot creation, replication, deletion and so on)on the associated Nutanix clusters.Updating Time Machine Data Access to a Nutanix ClusterAdding Time Machine Data Access to a Nutanix ClusterAdding time machine data access to a Nutanix cluster associate the time machine of the source database with that cluster. This allows you perform all snapshot operations (snapshot creation, replication, deletion and so on)on the associated Nutanix clusters.Before you beginEnsure that you have enabled multi-cluster in Era and have registered the required Nutantix clusters.About this taskPerform the following procedure to add time machine data access to a Nutanix cluster.ProcedureIn the drop-down list of the main menu, select Time Machines.This page displays a list of time machines available in Era.Click the time machine of the source database for which you want to add data access.The overview page of the time machine is displayed.Go to Data Access Management, select the Table view and click Add.The Add Data Access to Nutanix Cluster window appears.Do the following in the indicated fields. Nutanix Cluster. Select a Nutanix cluster.DAM Policy. Select an SLA from the drop-down list. Note: Point in Time Recovery (PITR) SLAs are not supported.Select the Nutanix clusters on which you want to replicate the snapshot.Figure. Adding Data AccessClick to enlargeClick Add to successfully add data access to the Nutanix cluster. Updating Time Machine Data Access to a Nutanix ClusterBefore you beginEnsure that you have enabled multi-cluster in Era and have registered the required Nutantix clusters.About this taskYou can update the SLA details of the Nutanix cluster's data access.Perform the following procedure to update time machine data access to a Nutanix cluster.ProcedureIn the drop-down list of the main menu, select Time Machines.This page displays a list of time machines available in Era.Click the time machine of the source database for which you want to add data access.The overview page of the time machine is displayed.Go to Data Access Management, select the Table view and select the Nutanix cluster which you want to update.Click Update. The Update Nutanix Cluster's Data Access window appears.Do the following in the indicated fields. Nutanix Cluster. Displays the name of the selected cluster.DAM Policy. Update the SLA from the drop-down list. Note: Point in Time Recovery (PITR) SLAs are not supported.Figure. Updating Data AccessClick to enlargeClick Update to successfully update the data access to the Nutanix cluster. ", "Heading_Keywords": ["data", "access", "manag"]}, {"Heading": "Adding Time Machine Data Access to a Nutanix Cluster", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-adding-time-machine-data-access.html", "Document Name": "Era User Guide", "Content": "Adding time machine data access to a Nutanix cluster associate the time machine of the source database with that cluster. This allows you perform all snapshot operations (snapshot creation, replication, deletion and so on)on the associated Nutanix clusters.Before you beginEnsure that you have enabled multi-cluster in Era and have registered the required Nutantix clusters.About this taskPerform the following procedure to add time machine data access to a Nutanix cluster.ProcedureIn the drop-down list of the main menu, select Time Machines.This page displays a list of time machines available in Era.Click the time machine of the source database for which you want to add data access.The overview page of the time machine is displayed.Go to Data Access Management, select the Table view and click Add.The Add Data Access to Nutanix Cluster window appears.Do the following in the indicated fields. Nutanix Cluster. Select a Nutanix cluster.DAM Policy. Select an SLA from the drop-down list. Note: Point in Time Recovery (PITR) SLAs are not supported.Select the Nutanix clusters on which you want to replicate the snapshot.Figure. Adding Data AccessClick to enlargeClick Add to successfully add data access to the Nutanix cluster. ", "Heading_Keywords": ["ad", "time", "machin", "data", "access", "nutanix", "cluster"]}, {"Heading": "Updating Time Machine Data Access to a Nutanix Cluster", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-update-time-machine-data-access.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have enabled multi-cluster in Era and have registered the required Nutantix clusters.About this taskYou can update the SLA details of the Nutanix cluster's data access.Perform the following procedure to update time machine data access to a Nutanix cluster.ProcedureIn the drop-down list of the main menu, select Time Machines.This page displays a list of time machines available in Era.Click the time machine of the source database for which you want to add data access.The overview page of the time machine is displayed.Go to Data Access Management, select the Table view and select the Nutanix cluster which you want to update.Click Update. The Update Nutanix Cluster's Data Access window appears.Do the following in the indicated fields. Nutanix Cluster. Displays the name of the selected cluster.DAM Policy. Update the SLA from the drop-down list. Note: Point in Time Recovery (PITR) SLAs are not supported.Figure. Updating Data AccessClick to enlargeClick Update to successfully update the data access to the Nutanix cluster. ", "Heading_Keywords": ["updat", "time", "machin", "data", "access", "nutanix", "cluster"]}, {"Heading": "Creating Snapshots (Manual)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-manual-snapshots-t.html", "Document Name": "Era User Guide", "Content": "About this taskIf you want to take a snapshot of the current state of the source database, you can take a manual snapshot.Perform the following procedure to take a manual snapshot.ProcedureIn the drop-down list of the main menu, select Time Machines.This page displays a list of time machines available in Era.Click the time machine of the source database for which you want to create a manual snapshot.The overview page of the time machine is displayed.Go to Snapshots and click Create. The Create Snapshot window appears. Do the following in the indiacted fields. Snapshot Name. Type a name for the snapshot.Removal Schedule. Select this check box if you want to define a snapshot removal schedule and then enter the number of days after which the snapshot should be removed.Select the Nutanix clusters on which you want to replicate the snapshot.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the clusters associated with the selected time machine will be listed.Figure. Creating Manual SnapshotClick to enlargeClick Create to successfully create a snapshot. A message appears indicating that the operation to create snapshot has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation. On the same page, click Stop to stop the snapshot operation.", "Heading_Keywords": ["creat", "snapshot", "manual"]}, {"Heading": "Replicating Snapshots (Manual)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-replicate-manual-snapshots-t.html", "Document Name": "Era User Guide", "Content": "About this taskYou can replicate existing snapshots of a time machine to the other Nutanix clusters associated with that time machine. Perform the following procedure to replicate a snapshot.ProcedureIn the drop-down list of the main menu, select Time Machines.This page displays a list of time machines available in Era.Click the time machine of the source database for which you want to replicate a snapshot.The overview page of the time machine is displayed.Go to Snapshots and select a Nutanix cluster.This page displays a list of snapshots available in the selected Nutanix cluster.Select an existing snapshot and click Replicate. The Replicate Snapshot window appears. Do the following in the indiacted fields. Select the Nutanix clusters on which you want to replicate the snapshot.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Only the clusters associated with the selected time machine will be listed. See Data Access Management for more information.Removal Schedule. Select this check box if you want to define a snapshot removal schedule and then enter the number of days after which the snapshot should be removed.Figure. Replicating SnapshotClick to enlargeClick Replicate to successfully replicate a snapshot. A message appears indicating that the operation to replicate snapshot has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation. On the same page, click Stop to stop the snapshot operation.", "Heading_Keywords": ["replic", "snapshot", "manual"]}, {"Heading": "Database Log Backup Management in Era", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-database-log-backup-management-c.html", "Document Name": "Era User Guide", "Content": "Era allows you to create and refresh zero-byte database clones at any point in time. Era captures the database transaction logs using the Log Catchup operation, which can be configured to run every 15 minutes to 2 hours.OracleFor Oracle databases, Era switches the current online redo logs and then copies all the archived logs generated since the last log catchup to permanent log storage location (also known as log drive) of Era. Note that Era does not remove any logs from their original location after copying. The management and retention of those logs are according to the policies set by the database administrator. Microsoft SQL ServerEra uses the SQL Server transaction Log Backups for Microsoft SQL Server. Whenever Era takes a log backup of the managed SQL Server database, the database logs get truncated. Era requires exclusive access to the log backups of the managed database. PostgreSQLFor PostgreSQL instances, Era uses the archive command to perform log catchup. In log catchup, Era switches the current WAL segment and then copies all the archived WAL segments generated since the last log catchup to the permanent log storage location (also known as log drive) of Era.MariaDB and MySQLFor MariaDB and MySQL instances, Era copies the binary log files generated since the last Log Catchup from the configured bin_log location to the permanent log storage location (also known as log drive) of Era. Note that binary logging must be enabled for the instance to be registered in Era.SAP HANASAP HANA log segments in the log area are backed up automatically when the log mode is set to Normal (default mode).Log segments are backed up for each SAP HANA service that has persistence. During a log backup, only the payload (actual data) of the log segments is written from the log area to service-specific log backups in the file system or to a third-party backup tool. Era log backups copy the log backups generated by SAP HANA in the file system to the permanent log storage location (log drive) of Era. Era does not delete any log backups generated by the database and their management and retention is as per the database administrator's policies.Table 1. Working with Third-Party Backup SolutionsDatabase EngineRecommendation for working with third-party backup solutionsOracleThird-party backups vendors can continue to backup the archived logs from the database log destination. If the backup product is configured to delete the logs after a backup, Era will still be able to capture them, considering the log catchup begins before the logs get backed up.Microsoft SQL ServerIf the database is managed by another third-party backup vendor, you can choose to grant exclusive log access to Era while registering the database to Era. If you do not grant exclusive log access to Era, the Point-in-Time (PIT) recovery will not be supported, but snapshot-based recovery of the databases will be supported.PostgreSQLSince PostgreSQL supports complex archive commands, third-party backups vendors can continue to use the archiving feature of PostgreSQL to perform the backup of WAL segments.MariaDB and MySQLThird-party backups vendors can continue to backup the binary logs from the binary log location. If the backup product is configured to delete the logs after the backup, Era will still be able to capture them, considering the log catchup begins before the logs get purged.", "Heading_Keywords": ["databas", "log", "backup", "manag", "era"]}, {"Heading": "Performing a Log Catchup Operation (Manual)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-performing-log-catchup-manually-t.html", "Document Name": "Era User Guide", "Content": "About this taskYou can manually perform a log catchup operation to copy the current transactional logs of the source database to Era. Perform the following procedure to perform a manual log catchup operation.ProcedureIn the drop-down list of the main menu, select Time Machines.Select the time machine of the source database, click Actions and select Log Catch Up. In the confirmation message that appears, click Yes.", "Heading_Keywords": ["perform", "log", "catchup", "oper", "manual"]}, {"Heading": "Authorizing Database Server VMs", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-authorize-database-servers-t.html", "Document Name": "Era User Guide", "Content": "About this taskIf you want to clone the source database to a database server VM that you have already registered with Era, you must associate the time machine of the source database with the target database server VM. Perform the following procedure to authorize database server VMs.ProcedureIn the drop-down list of the main menu, click Time Machines.Select the time machine of the source database, click Actions and select Authorize Database Server VMs. The Authorize Database Server VMs window appearsSelect the target database server VM, move the database server VM to the Authorized Database Server VMs list, and click Update.", "Heading_Keywords": ["author", "databas", "server", "vm"]}, {"Heading": "Deauthorizing Database Server VMs", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-deauthorize-server-vm-t.html", "Document Name": "Era User Guide", "Content": "About this taskPerform the following procedure to deauthorize database server VMs.ProcedureIn the drop-down list of the main menu, click Time Machines.Select the time machine of the source database, click Actions, and select Authorize Database Server VMs. The Authorize Database Server VMs window appears.Select the database server VM from the Authorized Database Server VMs list and move it to the Database Server VMs list.Click Update.", "Heading_Keywords": ["deauthor", "databas", "server", "vm"]}, {"Heading": "SLA Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-sla-mangement-c.html", "Document Name": "Era User Guide", "Content": "SLAs are data retention policies that allow you to specify how long the daily, weekly, monthly, and quarterly snapshots are retained in Era.SLAs include the following details.Daily snapshotsDuration in days for which a daily snapshot must be retained in Era.When you register a source database with Era, you specify a time at which the daily snapshot must be taken. The snapshot taken at this time becomes your daily snapshot. The daily snapshot is the only snapshot that is retained for that day.For example, if you specify that the daily snapshot must be taken at 11:00 AM and in the SLA you specify that daily snapshots must be retained for 30 days, the snapshot that is taken at 11:00 AM everyday is retained as daily snapshot and this snapshot is retained for 30 days.Weekly snapshotsDuration in weeks for which a weekly snapshot must be retained in Era.When you register a source database with Era, you specify a day of the week on which the weekly snapshot must be taken. The snapshot taken on this day of the week becomes your weekly snapshot. The weekly snapshot is the only snapshot that is retained for that week along with the daily snapshot of each day of the week.Note: The daily snapshots are deleted if their duration expires.For example, if you specify that the weekly snapshot must be taken on Monday and in the SLA you specify that weekly snapshots must be retained for 8 weeks, the snapshot that is taken on Monday of every week is retained as a weekly snapshot and this snapshot is retained for 8 weeks.Monthly snapshotsDuration in months for which a monthly snapshot must be retained in Era.When you register a source database with Era, you specify a day of the month on which the monthly snapshot must be taken. The snapshot taken on this day of the month becomes your monthly snapshot. The monthly snapshot is the only snapshot that is retained for that month along with the weekly and daily snapshots of that month.Note: The weekly and daily snapshots are deleted if their duration expires. For example, if you specify that the monthly snapshot must be taken on the 15th of every month and in the SLA you specify that monthly snapshots must be retained for 6 months, the snapshot that is taken on the 15th of every month is retained as a monthly snapshot and this snapshot is retained for 6 months.Quarterly snapshotsDuration in number of quarters for which a quarterly snapshot must be retained in Era.The snapshot taken on the first day of the first month of the quarter is retained as a quarterly snapshot in Era. When you register a source database with Era, in the schedule if you select Jan, Apr, Jul, Oct from the drop-down list, snapshots taken on January 1, April 1, July 1, and October 1 are retained as quarterly snapshots. The quarterly snapshot is the only snapshot that is retained for that quarter along with the monthly, weekly, and daily snapshots of that month.Note: The monthly, weekly, and daily snapshots are deleted if their duration expires.For example, if you specify in the SLA that the quarterly snapshots must be retained for 10 quarters, this quarterly snapshot is retained for 10 quarters.ContinuousDuration in days for which transaction logs are retained in Era.For example, if you set this value to 10 days, transaction logs of the last 10 days are retained from the time the first daily snapshot is taken.Built-in SLAsCreating Custom SLAsBuilt-in SLAsEra has five built-in SLAs. You can use the built-in SLAs as is, or create custom SLAs according to your requirements. You can also modify the configured SLAs for the time machines.The built-in SLAs have the following values.DEFAULT_OOB_GOLD_SLAThe Gold SLA has the following default values:Continuous: 30 daysDaily: 90 daysWeekly: 16 weeksMonthly: 12 monthsQuarterly: 75 quartersDEFAULT_OOB_SILVER_SLAThe Silver SLA has the following default values:Continuous: 14 daysDaily: 60 daysWeekly: 12 weeksMonthly: 12 monthsQuarterly: 0 quartersDEFAULT_OOB_BRONZE_SLAThe Bronze SLA has the following default values:Continuous: 7 daysDaily: 30 daysWeekly: 8 weeksMonthly: 6 monthsQuarterly: 0 quartersDEFAULT_OOB_BRASS_SLAThe Brass SLA has the following default values:Continuous: 0 daysDaily: 7 daysWeekly: 0 weeksMonthly: 0 monthsQuarterly: 0 quartersNONEThe None SLA has the following default values:Continuous: 0 daysDaily: 0 daysWeekly: 0 weeksMonthly: 0 monthsQuarterly: 0 quartersCreating Custom SLAsAbout this taskIf you do not want to use or update the built-in SLAs, you can create a new SLA with the values that suit your requirement.Perform the following to create a new SLA.ProcedureIn the drop-down list of the main menu, select SLAs.Click New SLA.Do the following in the indicated fields.SLA Name. Type a name for the SLA.Description. Type a description for the SLA.Continuous snapshot retention (In Days). Duration in days for which snapshots or transaction logs are retained in Era.Daily snapshot retention (In Days). Duration in days for which a daily snapshot must be retained in Era.Weekly snapshot retention (In Weeks). Duration in weeks for which a weekly snapshot must be retained in Era.Monthly snapshot retention (In Months). Duration in months for which a monthly snapshot must be retained in Era.Quarterly snapshot retention (In Quarters). Duration in number of quarters for which a quarterly snapshot must be retained in Era.Click Done to successfully create a new SLA.", "Heading_Keywords": ["sla", "manag"]}, {"Heading": "Built-in SLAs", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-built-in-slas-r.html", "Document Name": "Era User Guide", "Content": "Era has five built-in SLAs. You can use the built-in SLAs as is, or create custom SLAs according to your requirements. You can also modify the configured SLAs for the time machines.The built-in SLAs have the following values.DEFAULT_OOB_GOLD_SLAThe Gold SLA has the following default values:Continuous: 30 daysDaily: 90 daysWeekly: 16 weeksMonthly: 12 monthsQuarterly: 75 quartersDEFAULT_OOB_SILVER_SLAThe Silver SLA has the following default values:Continuous: 14 daysDaily: 60 daysWeekly: 12 weeksMonthly: 12 monthsQuarterly: 0 quartersDEFAULT_OOB_BRONZE_SLAThe Bronze SLA has the following default values:Continuous: 7 daysDaily: 30 daysWeekly: 8 weeksMonthly: 6 monthsQuarterly: 0 quartersDEFAULT_OOB_BRASS_SLAThe Brass SLA has the following default values:Continuous: 0 daysDaily: 7 daysWeekly: 0 weeksMonthly: 0 monthsQuarterly: 0 quartersNONEThe None SLA has the following default values:Continuous: 0 daysDaily: 0 daysWeekly: 0 weeksMonthly: 0 monthsQuarterly: 0 quarters", "Heading_Keywords": ["built", "sla"]}, {"Heading": "Creating Custom SLAs", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-creating-custom-slas-t.html", "Document Name": "Era User Guide", "Content": "About this taskIf you do not want to use or update the built-in SLAs, you can create a new SLA with the values that suit your requirement.Perform the following to create a new SLA.ProcedureIn the drop-down list of the main menu, select SLAs.Click New SLA.Do the following in the indicated fields.SLA Name. Type a name for the SLA.Description. Type a description for the SLA.Continuous snapshot retention (In Days). Duration in days for which snapshots or transaction logs are retained in Era.Daily snapshot retention (In Days). Duration in days for which a daily snapshot must be retained in Era.Weekly snapshot retention (In Weeks). Duration in weeks for which a weekly snapshot must be retained in Era.Monthly snapshot retention (In Months). Duration in months for which a monthly snapshot must be retained in Era.Quarterly snapshot retention (In Quarters). Duration in number of quarters for which a quarterly snapshot must be retained in Era.Click Done to successfully create a new SLA.", "Heading_Keywords": ["creat", "custom", "sla"]}, {"Heading": "Alert Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-alert-management-c.html", "Document Name": "Era User Guide", "Content": "Era generates an alert if any operation fails. Every operation such as provisioning a database or creating a clone has an alert policy associated with it. If an operation fails and the policy associated with the operation is enabled, Era generates an alert. All alerts are displayed in the alerts dashboard.You can configure Era to send alert notifications to an email recipient.Alerts DashboardAlert Policies ManagementAlert NotificationsAlerts DashboardThe alerts dashboard displays all the alerts with details such as the severity level, status, and created and last modified dates.Figure. Alerts DashboardClick to enlargeYou can do the following from the alerts dashboard.Resolve AlertsResolve the alerts if the issue is resolved.Acknowledge AlertsAcknowledge the alerts if you are aware of the issue.Alert Policies ManagementEra has an alert policy defined for every operation that you perform. Era generates an alert for an operation only if the alert policy associated with that operation is enabled. All alert policies are enabled by default and the severity level of the alert policies is set to Critical. You can disable an alert policy if you do not want Era to generate an alert for an operation even if that operation fails. You can also change the severity level of the alert policies. Disabling or Enabling Alert PoliciesSetting Alert RetentionDisabling or Enabling Alert PoliciesAbout this taskAll alert policies are enabled by default. You can disable an alert policy if you do not want Era to generate an alert for an operation even if that operation fails. Enable an alert policy if you have previously disabled that policy.Perform the following procedure to disable or enable alert policies.ProcedureFrom the drop-down list of the main menu, select Alerts.Go to Configuration and click Policies.Select the policy and click Set Disabled or Set Enabled.Setting Alert RetentionAbout this taskAfter you have resolved an alert, you can set the duration (in days) for which Era should retain that alert.ProcedureFrom the drop-down list of the main menu, select Alerts.Go to Configuration and click Policies.Click Update next to Alert Retention.Figure. Update Alert RetentionClick to enlargeIn the Alert Retention dialog box, increase or decrease the number of days you want Era to retain alerts after you have resolved the alerts, and click Update.Note: The alert retention setting is a global setting and not a per alert policy setting.Alert NotificationsYou can configure Era to send alert notifications to an email recipient.Sending Alert Notifications to an Email RecipientYou can opt to receive notifications in your email when an operation fails or completes successfully. Era sends these notifications only for entities owned by you.Sending Alert Notifications to an Email RecipientYou can opt to receive notifications in your email when an operation fails or completes successfully. Era sends these notifications only for entities owned by you.About this taskConfigure a SMTP server to send notifications. You can also enable Era APIs to receive the notifications on slack.Perform the following procedure to configure the server and send alert notifications to an email recipient.ProcedureFrom the drop-down list of the main menu, select Administration > Era Service > Overview.This step displays widgets for cluster details, Pulse, and notifications.Go to Notifications widget and click Update. The Update SMTP Server Configuration window appears.Figure. Updating SMTP Server ConfigurationClick to enlargeAddress. Type a domain address.Port. Port is selected by default. Type. Select either SSL, TLS security, or None.Note: You can select None if you want to configure unsecured SMTP servers for mail notifications.Username. Type a username of the account that you want Era to use to access the server.Password. Type a password of the username entered.Sender's Email. Type an email address of the account that you want Era to use for sending notifications.Test Message Recipient. Type an email address of the recipient to whom you want to send notifications. Click Test to send a test email message to a recipient email address.Click Update to update the configuration details.Note: Update button is enabled only if the test email is sent successfully.You can select the operations for which you want to receive email notifications. To select the operations, do the following:At the top-right corner of the screen, select Profile from the user drop-down list.Under Receive email notifications for, select the following;Alerts. Select this option to receive notifications for all the failed operations.Failed Operations. Select this option to receive notifications for all the failed operations. Note: All the failed operations are not alerts.Successful Operations. Select this option to receive notifications for the following successful operations: provision a database, clone a database, and patch a database server.If you want Era to stop sending alert notifications, you can delete SMTP server configuration. To delete the configuration, click Delete and then click Yes.", "Heading_Keywords": ["alert", "manag"]}, {"Heading": "Alerts Dashboard", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-alert-dashboard-t.html", "Document Name": "Era User Guide", "Content": "The alerts dashboard displays all the alerts with details such as the severity level, status, and created and last modified dates.Figure. Alerts DashboardClick to enlargeYou can do the following from the alerts dashboard.Resolve AlertsResolve the alerts if the issue is resolved.Acknowledge AlertsAcknowledge the alerts if you are aware of the issue.", "Heading_Keywords": ["alert", "dashboard"]}, {"Heading": "Alert Policies Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-alert-policies-management-c.html", "Document Name": "Era User Guide", "Content": "Era has an alert policy defined for every operation that you perform. Era generates an alert for an operation only if the alert policy associated with that operation is enabled. All alert policies are enabled by default and the severity level of the alert policies is set to Critical. You can disable an alert policy if you do not want Era to generate an alert for an operation even if that operation fails. You can also change the severity level of the alert policies. Disabling or Enabling Alert PoliciesSetting Alert RetentionDisabling or Enabling Alert PoliciesAbout this taskAll alert policies are enabled by default. You can disable an alert policy if you do not want Era to generate an alert for an operation even if that operation fails. Enable an alert policy if you have previously disabled that policy.Perform the following procedure to disable or enable alert policies.ProcedureFrom the drop-down list of the main menu, select Alerts.Go to Configuration and click Policies.Select the policy and click Set Disabled or Set Enabled.Setting Alert RetentionAbout this taskAfter you have resolved an alert, you can set the duration (in days) for which Era should retain that alert.ProcedureFrom the drop-down list of the main menu, select Alerts.Go to Configuration and click Policies.Click Update next to Alert Retention.Figure. Update Alert RetentionClick to enlargeIn the Alert Retention dialog box, increase or decrease the number of days you want Era to retain alerts after you have resolved the alerts, and click Update.Note: The alert retention setting is a global setting and not a per alert policy setting.", "Heading_Keywords": ["alert", "polici", "manag"]}, {"Heading": "Disabling or Enabling Alert Policies", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-enabling-disabling-alert-polices-t.html", "Document Name": "Era User Guide", "Content": "About this taskAll alert policies are enabled by default. You can disable an alert policy if you do not want Era to generate an alert for an operation even if that operation fails. Enable an alert policy if you have previously disabled that policy.Perform the following procedure to disable or enable alert policies.ProcedureFrom the drop-down list of the main menu, select Alerts.Go to Configuration and click Policies.Select the policy and click Set Disabled or Set Enabled.", "Heading_Keywords": ["disabl", "enabl", "alert", "polici"]}, {"Heading": "Setting Alert Retention", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-setting-alert-retention-t.html", "Document Name": "Era User Guide", "Content": "About this taskAfter you have resolved an alert, you can set the duration (in days) for which Era should retain that alert.ProcedureFrom the drop-down list of the main menu, select Alerts.Go to Configuration and click Policies.Click Update next to Alert Retention.Figure. Update Alert RetentionClick to enlargeIn the Alert Retention dialog box, increase or decrease the number of days you want Era to retain alerts after you have resolved the alerts, and click Update.Note: The alert retention setting is a global setting and not a per alert policy setting.", "Heading_Keywords": ["set", "alert", "retent"]}, {"Heading": "Alert Notifications", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-alert-notifications-c.html", "Document Name": "Era User Guide", "Content": "You can configure Era to send alert notifications to an email recipient.Sending Alert Notifications to an Email RecipientYou can opt to receive notifications in your email when an operation fails or completes successfully. Era sends these notifications only for entities owned by you.Sending Alert Notifications to an Email RecipientYou can opt to receive notifications in your email when an operation fails or completes successfully. Era sends these notifications only for entities owned by you.About this taskConfigure a SMTP server to send notifications. You can also enable Era APIs to receive the notifications on slack.Perform the following procedure to configure the server and send alert notifications to an email recipient.ProcedureFrom the drop-down list of the main menu, select Administration > Era Service > Overview.This step displays widgets for cluster details, Pulse, and notifications.Go to Notifications widget and click Update. The Update SMTP Server Configuration window appears.Figure. Updating SMTP Server ConfigurationClick to enlargeAddress. Type a domain address.Port. Port is selected by default. Type. Select either SSL, TLS security, or None.Note: You can select None if you want to configure unsecured SMTP servers for mail notifications.Username. Type a username of the account that you want Era to use to access the server.Password. Type a password of the username entered.Sender's Email. Type an email address of the account that you want Era to use for sending notifications.Test Message Recipient. Type an email address of the recipient to whom you want to send notifications. Click Test to send a test email message to a recipient email address.Click Update to update the configuration details.Note: Update button is enabled only if the test email is sent successfully.You can select the operations for which you want to receive email notifications. To select the operations, do the following:At the top-right corner of the screen, select Profile from the user drop-down list.Under Receive email notifications for, select the following;Alerts. Select this option to receive notifications for all the failed operations.Failed Operations. Select this option to receive notifications for all the failed operations. Note: All the failed operations are not alerts.Successful Operations. Select this option to receive notifications for the following successful operations: provision a database, clone a database, and patch a database server.If you want Era to stop sending alert notifications, you can delete SMTP server configuration. To delete the configuration, click Delete and then click Yes.", "Heading_Keywords": ["alert", "notif"]}, {"Heading": "Sending Alert Notifications to an Email Recipient", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-send-alert-notifications-t.html", "Document Name": "Era User Guide", "Content": "You can opt to receive notifications in your email when an operation fails or completes successfully. Era sends these notifications only for entities owned by you.About this taskConfigure a SMTP server to send notifications. You can also enable Era APIs to receive the notifications on slack.Perform the following procedure to configure the server and send alert notifications to an email recipient.ProcedureFrom the drop-down list of the main menu, select Administration > Era Service > Overview.This step displays widgets for cluster details, Pulse, and notifications.Go to Notifications widget and click Update. The Update SMTP Server Configuration window appears.Figure. Updating SMTP Server ConfigurationClick to enlargeAddress. Type a domain address.Port. Port is selected by default. Type. Select either SSL, TLS security, or None.Note: You can select None if you want to configure unsecured SMTP servers for mail notifications.Username. Type a username of the account that you want Era to use to access the server.Password. Type a password of the username entered.Sender's Email. Type an email address of the account that you want Era to use for sending notifications.Test Message Recipient. Type an email address of the recipient to whom you want to send notifications. Click Test to send a test email message to a recipient email address.Click Update to update the configuration details.Note: Update button is enabled only if the test email is sent successfully.You can select the operations for which you want to receive email notifications. To select the operations, do the following:At the top-right corner of the screen, select Profile from the user drop-down list.Under Receive email notifications for, select the following;Alerts. Select this option to receive notifications for all the failed operations.Failed Operations. Select this option to receive notifications for all the failed operations. Note: All the failed operations are not alerts.Successful Operations. Select this option to receive notifications for the following successful operations: provision a database, clone a database, and patch a database server.If you want Era to stop sending alert notifications, you can delete SMTP server configuration. To delete the configuration, click Delete and then click Yes.", "Heading_Keywords": ["send", "alert", "notif", "email", "recipi"]}, {"Heading": "Era Administration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-administration-c.html", "Document Name": "Era User Guide", "Content": "Era AdministrationEra Service ManagementYou can view information about the Era service VMs, SMTP server configuration, Pulse, and the Era service name (IP address of the Era instance that is in use), update the existing configurations, and enable high availability (see Enabling High Availability for Era Repository) and multi-cluster (see Enabling Era Multi-Cluster) for the Era repository.Role-based Access ControlUser Profile ManagementEra supports Role-based Access Control (RBAC). Once logged in, you can modify your profile according to your needs.Multi-Cluster ManagementEra Network ManagementEra Tags ManagementEra Upgrade ManagementDownloading the Diagnostics BundleIf you are experiencing issues with Era or entities registered with Era, you can download a diagnostic bundle and then share the diagnostics bundle with Nutanix Support for troubleshooting the issues. The diagnostics bundle helps Nutanix support to further investigate the problem.Sending Alert Notifications to an Email RecipientEra Service ManagementEra Service ManagementYou can view information about the Era service VMs, SMTP server configuration, Pulse, and the Era service name (IP address of the Era instance that is in use), update the existing configurations, and enable high availability (see Enabling High Availability for Era Repository) and multi-cluster (see Enabling Era Multi-Cluster) for the Era repository.Role-based Access ControlUser Profile ManagementEra supports Role-based Access Control (RBAC). Once logged in, you can modify your profile according to your needs.Multi-Cluster ManagementEra Network ManagementEra Tags ManagementEra Upgrade ManagementDownloading the Diagnostics BundleIf you are experiencing issues with Era or entities registered with Era, you can download a diagnostic bundle and then share the diagnostics bundle with Nutanix Support for troubleshooting the issues. The diagnostics bundle helps Nutanix support to further investigate the problem.Era Service ManagementYou can view information about the Era service VMs, SMTP server configuration, Pulse, and the Era service name (IP address of the Era instance that is in use), update the existing configurations, and enable high availability (see Enabling High Availability for Era Repository) and multi-cluster (see Enabling Era Multi-Cluster) for the Era repository.Figure. Era Service PageClick to enlargeThe following table describes the views available.Table 1. Era Service PageViewDescriptionEra Service VMsYou can view the list of Era service VM names, their IP addresses, configured clusters and VM type information.NotificationsYou can view the details of the configured SMTP server. For example, address of the server, username, assigned port number, and so on.You can click the Update button if you want to change the existing configuration. For example, you can change the security type from SSL to TLS for your SMTP server.PulsePulse shares data about your application usage with Nutanix. All data collected is confidential. The information collected is used to help the product team understand how you are using the application and make better decisions about the direction of the product.You can click the Update button to enable or disable the Pulse.Note: Pulse is enabled by default.Era Service NameDisplays the current assigned IP address of the Era Server.High Availability for Era RepositoryHigh Availability for Era Repository Era stores metadata about entities such as databases, clones, time machines, and backups in the Era repository. You can enable High Availability for this repository to ensure that there is no data loss when a node fails. Disaster recovery enables Era to automatically failover to a standby database if a node fails.As part of enabling High Availability, Era creates a cluster database that includes the database servers, and proxy servers. Cluster database helps in securing the system against unexpected failures, planned maintenance, and upgrades. When the primary database goes down, Era automatically fails over to a standby database.Enabling High Availability for Era RepositoryEnabling High Availability for Era RepositoryBefore you beginEnsure that the network profile has at least six free IP addresses.About this taskPerform the following procedure to enable High Availability for the Era repository.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Era Service, click Enable High Availability. The Enable High Availability window appears. When you enable this option, the Era repository becomes a highly available repository to ensure that you do not lose any data when a node in the cluster fails.Do the following in the indicated fields:From the Network Profile (PostgreSQL) drop-down list, select a static network profile for the database servers.Select a profile with an Era-managed VLAN. If you do not have a static network profile, you can create one (For more information, see Creating a Network Profile, Updating a Static VLAN).In the Database Server Name Prefix (optional) field, type a prefix for a database server VM name.This field is optional. If you do not type a prefix, Era automatically selects era_repos_dbserver as a default prefix name.Click Enable High Availability.Figure. Enabling High AvailabilityClick to enlargeA message indicating that an operation to enable disaster recovery for Era repository has started is displayed. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.Note: When the operation is in progress, Era service goes down for a few minutes and all the user sessions are logged out.Role-based Access ControlEra employs role-based access control (RBAC) to govern access to an Era system. RBAC allows system administrators to restrict user access and limit the operations they can perform. For example, a database operator can only be given access that is related to database-related operations. With RBAC, you can add users either in Era or Active Directory and then later you can add those users to a group. The group allows you to assign the same roles to multiple users at the same time. After adding a user, you can assign one or more roles to the user based on the operations they can perform.TerminologyUsersA user represents a person who interacts with Era. Users can view only the operations that they have initiated. Only a super administrator user is allowed to view all the operations that any user has initiated. RolesA role describes the level of access that is associated with the account of user. A role grants privileges to perform the specified actions on the resource. Each privilege is specified explicitly in the role.Table 1. Type of RolesRoleDescriptionSuper administratorProvides the ability to have full control over Era from setting up Era, creating users, upgrading and patching Era, setting disaster recovery and High Availability for Era, alert policy management, telemetry, and managing all entities and metadata in Era.Infrastructure administratorProvides the ability to perform infrastructure-related tasks such as adding a Nutanix cluster to Era in a multi-cluster environment, adding VLAN and IP pool to Era, and creating compute and network profile.Database infrastructure administratorProvides the ability to perform DBA-related tasks such as creating software and database parameter profile.Database administrator (DBA)Provides the ability to perform database, database server, clone, and time machine operation such as provisioning, registering, cloning a database, creating and managing tags.PrivilegesA privilege consists of a specified entity and the actions permitted on the entity. A user assigned a role receives all the privileges of that role. A user can have one or more roles assigned. Privileges limit the actions that users can perform on an entity. For example, only an infrastructure administrator has the ability to add a new VLAN or IP pool.Privileges and PermissionEach role has a list of privileges that a user has access to. Only a super administrator user has full access to all the privileges. If an entity is owned by a user, by default the user can view and modify that entity including operations and alerts. Privileges are granted based on the role a user plays in an organization. For example, the ability to add a new VLAN or IP Pool should be allowed only if the user role is Infrastructure administrator or above. Adding a UserUpdating an Existing UserDeleting a UserAdding, Updating, and Removing a GroupThe group allows you to assign the same roles to multiple users at the same time. For this operation, you must create a group in Active Directory and add users to that group. You can then select the group and assign roles to all the users in that group in Era.Refreshing a GroupRefresh operation synchronizes the users in Era with the users in Active Directory.Viewing Users' RolesOnly a user with the super administrator role is allowed to view other users' information and the operations initiated by other users. Users with other than the super administrator roles can view only the operations that they have started.Creating a RoleUpdating a RoleDeleting a RoleConfiguring Active Directory AccessPrivileges and PermissionEach role has a list of privileges that a user has access to. Only a super administrator user has full access to all the privileges. If an entity is owned by a user, by default the user can view and modify that entity including operations and alerts. Privileges are granted based on the role a user plays in an organization. For example, the ability to add a new VLAN or IP Pool should be allowed only if the user role is Infrastructure administrator or above. Table 1. Privileges and PermissionPrivilegeSuper AdministratorInfrastructure AdministratorDatabase Infrastructure AdministratorDatabase Administrator (DBA)DatabasesYesYesYesYesTime MachinesYesYesYesYesCompute ProfilesYesYesYesNoNetwork ProfilesYesYesYesNoSoftware ProfilesYesYesYesNoDatabase Parameter ProfilesYesYesYesNoClonesYesYesYesYesDatabase ServersYesYesYesYesAccess ControlYesNoNoNoEra ConfigurationYesNoNoNoSLAsYesYesYesYesTagsYesYesYesYesAlertsYesYesYesYesAdding a UserAbout this taskRoles grant users access to the Era entities. Era provides four roles that administrators can use to control access to an Era system. You must have the super administrator role assigned to create a user and assign one or more roles to a user. Only a super administrator user is allowed to view all the operations that any user has initiated. Users can view only the operations that they have initiated. Perform the following procedure to add a user.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Users.To add a user, click + Add and select one of the following:Local User. A local user is authenticated by a password provided by the user in Era. Select this option to add a local user.Remote User. The remote user is authenticated by Active Directory. Select this option if you want to create a user from Active Directory. Note: Remote user option is available when Active Directory is configured with Era.Do the following in the indicated fields:Username. Type a name for the user. If you selected a remote user in the previous step, type a name for the user and then click Verify to verify the user in the Active Directory list.Password. Type a temporary password for the username entered. Ensure that you reset your password after first login.Note: Remote user is authenticated by Active Directory. This field is not populated if you selected remote user in the previous step.Super Admin. Super Administrator has full control over Era and can manage all entities, configure, and upgrade Era. Select this check box if you want to assign the Super Administrator role to a user.Roles. If you have assigned the Super Administrator role to a user, this field automatically gets disabled. If not, click the role field and select the roles that you want to assign to a user. You can assign one or more roles to a user.Email. Type an email address of the user.Click Add to successfully create a user.This step displays a list of the users that you have created. The list includes the name of a user, the role that a user is assigned to, and email address of a user. You can use the filter option to filter the list based on the roles.Updating an Existing UserAbout this taskModifying an existing user allows you to edit the email address, password, and the role that you have previously assigned to a user. You can also grant or remove super administrator privileges to a user. Only a user with the super administrator role is allowed to update existing user details. Perform the following procedure to update an existing user.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Users.Select the user that you want to update and click Update.Update the indicated fields and click Update to successfully update a user.This step updates the user data and the users' access to the operations that a user can perform.Deleting a UserAbout this taskYou can delete a user and transfer the access that user had to either administrator or some other user with the same role. Perform the following procedure to delete a user.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Users.Select the user that you want to delete and click Delete. This step displays a confirmation dialog box.When you delete a user, you can transfer the access that user had to either administrator or some other user with the same role.In Transfer all entities to, select the user to transfer all the access.Click Delete to successfully delete a user.This step deletes the user from Era and transfers the access to a user that you have selected.Adding, Updating, and Removing a GroupThe group allows you to assign the same roles to multiple users at the same time. For this operation, you must create a group in Active Directory and add users to that group. You can then select the group and assign roles to all the users in that group in Era.Before you beginEnsure that you create a group in Active Directory and add users to the group.About this taskPerform the following procedure to add a group and then assign roles to all the users in that group.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Groups.To add an Active Directory group, click + Add. The Add Active Directory Group window appears.In the Group step, under Active Directory Group Name, type an Active Directory group name and click Verify. After the group name is verified, Era displays a list of users that are part of the given group in the Active Directory and the existing users if the user had been already added previously.Click Next to proceed to the next step.In the Roles step, select the roles that you want to assign to the group.The roles that you select are assigned to all the users that are added to that group. If the user was already assigned some roles previously, then the respective user gets assigned with the additional roles. Click Add.After the group is created, the Era displays the group details on the Access Control > Groups page. You can click the number displayed in the Users column to view the details of users that are added in that group.If you want to update the group that you have created previously, select the group name and click Update. You can only update the roles that are assigned to all the users in that group.If you want to remove a group, you can select the group and click Remove. The Remove Group dialog box appears. In Transfer all entities to, select the user to transfer all the access and click Remove. This operation removes the users who do not have any roles assigned outside of that group but retains users that are added to another group or have additional roles assigned in Era.Refreshing a GroupRefresh operation synchronizes the users in Era with the users in Active Directory.About this taskYou can add users either in Era or Active Directory. When you add a user to a group in the Active Directory, then the refresh operation adds the user in Era and assigns the same roles to user that are granted for the entire group. When you remove a user from the group in the Active Directory, then the refresh operation removes the user from the group in Era and all the roles that were assigned to the user as part of that group are revoked. Perform the following procedure to refresh a group.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Groups.Select the group that you want to refresh and click Refresh.This operation refreshes the Era user status of all the users in that group. Viewing Users' RolesOnly a user with the super administrator role is allowed to view other users' information and the operations initiated by other users. Users with other than the super administrator roles can view only the operations that they have started.About this taskEach role is assigned with certain privileges that a user has access to. Only a super administrator user can view the information for all the roles and number of users that are assigned to that role. Perform the following procedure to view the list of roles and privileges that each role has.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Access Control > Roles and then select the role for which you want to view the list of privileges.This step displays the role details that include role name, description, number of users assigned to that role, and list of privileges that role has. You can click the number next to Users to view the list of users that are assigned that role.Creating a RoleAbout this taskEach role is composed of privileges that a user has access to. You can create a role and assign privileges to the role that you are creating. Perform the following procedure to create a role. If you are creating a role with create role privilege, then this role is visible to all the users in Era.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Access Control > Roles and click + Create. The Create Role window appears.Do the following in the indicated fields:Name. Type a name for the role that you want to create.Description. Type a description of the role.Select the privileges that you want to assign to the role that you are creating, click the right arrow button to move the roles to the selected privileges.Note: If you assign create role privilege, then this role is visible to all the users in Era and if you assign create user privilege, then the users that are assigned to this role can create users in Era.Click Create.This step displays the role that you have created on the Roles page. Select the role from the list to view the role details. The role details include role name, description, number of users assigned to that role, and list of privileges that role has. You can click the number next to users to view the list of users that are assigned that role.Updating a RoleAbout this taskModifying an existing role allows you to update the role name, description, or the privileges that are assigned to a role. Perform the following procedure to update a role.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Access Control > Roles. Select a role and click Update. The Update Role window appears.Update the indicated fields and click Update to successfully update a role.This step updates the role name, description, or privileges that were assigned to this role previously.Deleting a RoleAbout this taskIf a role is no longer required, you can delete the role from Era. Deleting a role automatically removes that role from all the users that were using it. Perform the following procedure to delete a role.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Access Control > Roles. Select a role and click Delete. This step displays a confirmation dialog box.Click Yes to successfully delete a role.Configuring Active Directory AccessAbout this taskEra authenticates a remote user through Active Directory. Era must have access to the Active Directory server to authenticate users. Perform the following procedure to configure Active Directory access. Note: Era uses port 389 or 636 to communicate with Active Directory.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Authentication.This page displays the current Active Directory configuration.Click Configure to configure Active Directory access. This Configure Active Directory Access window appears.Do the following in the indicated fields.Configuration Name. Enter a name for the configuration.Domain. Enter the domain name of the configuration.Primary URL. Select the connection type as either ldap or ldaps, enter the IP address, and port number.Secondary URL. Secondary URL is used for redundancy purposes. Select the connection type as either ldap or ldaps, enter the IP address, and port number.Service Account Username. Enter a username for the service account.Service Account Password. Enter a password.Figure. Configuring Active Directory AccessClick to enlargeClick Verify to check if you can connect to an Active Directory server.Click Save to save the details.Note: Save button is enabled only when the verification is successful.This step displays the current Active Directory configuration settings. Click Remove to delete the current configuration. The configuration is not deleted until users are associated with the configuration. Remove the associated users and then delete the configuration. Repeat the previous steps to add a new configuration.User Profile ManagementEra supports Role-based Access Control (RBAC). Once logged in, you can modify your profile according to your needs.Configuring the User Profile SettingsThis section describes the steps to configure the user profile.Configuring the User Profile SettingsThis section describes the steps to configure the user profile.About this taskPerform the following procedure to configure the user profile settings.ProcedureSelect Profile from the User Menu.The User Profile page appears.Figure. User Profile Page - Configure SettingsClick to enlargeIn the Email box, enter a valid email address of a user.In the Time Zone drop-down list, make sure to select the time zone that you want to use.In the Timeout drop-down list, select an appropriate timeout value for the user sessions.Select the Display in High Contrast Mode check box if you want to present the Era GUI on large screens.Select the Enable debug logging check box when logging into the GUI in the browser\u2019s console. You can select this option to perform GUI troubleshooting.Select the Change Password check box if you want to change the current user password. Enter the current and new passwords in the fields that appear.In the Receive email notifications for area, you can select any one or all the following options - Alerts, Failed Operations, Successful Operations. You will receive an email notification when the selected events occur.Note: These options appear after you configure the SMTP server. Ensure that the details of the SMTP server are configured correctly to receive email notifications. For more information on configuring the SMTP server, see Sending Alert Notifications to an Email Recipient.In the Roles and Privileges area, you can view the role and privileges assigned to you.Click Save to apply your settings and close the User Profile page.Multi-Cluster ManagementEra multi-cluster capability allows you to manage databases across multiple Nutanix clusters. You can now enable Era multi-cluster to use a single Era server, centrally located on a Nutanix cluster to manage (database registration, provisioning, cloning, and so on) different databases across multiple Nutanix clusters (both on-prem and cloud). As part of enabling Era multi-cluster, the Era server creates an Era agent that runs on a dedicated VM. All the remote Nutanix clusters added to Era have an instance of the Era agent created to manage, schedule, perform, and execute database operations of that cluster.Enabling Era Multi-ClusterRegistering a Nutanix Cluster with EraUpdating a Nutanix ClusterEnabling Era Multi-ClusterBefore you beginEnsure that the AOS version of your Nutanix cluster is one of the following:AOS version 5.10.11 or higher.AOS version 5.15.1 or higher.AOS version 5.17 or higher.Caution: The Era server VM storage container and the Era managed storage container for databases (registered or provisioned) and profiles must be identical.About this taskPerform the following procedure to enable Era multi-cluster.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Nutanix Clusters, click Enable Multi-Cluster. The Enable Multi-Cluster window appears. Note: You cannot disable Era multi-cluster once enabled.Do the following in the indicated fields:Name Prefix. Type a prefix for the Era agent name.This field is optional. If you do not type a prefix, Era automatically selects EraAgent as a default prefix name.VLAN. Select a VLAN to provision the Era Agent VM from the drop-down list..Select an Era-managed static VLAN. If you do not have a static network, you can create one (For more information, see Era Network Management).Click Enable Multi-Cluster.Figure. Enabling Era Multi-ClusterClick to enlargeA message indicating that an operation to enable Era Multi-Cluster has started is displayed. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.You can see the Era agent details in the Era Service page.Registering a Nutanix Cluster with EraBefore you beginEnsure that you have enabled Era multi-cluster (see Enabling Era Multi-Cluster).Nutanix Guest Tools (NGT) must be installed on the source cluster for cross-hypervisor support (AHV to ESXi).Caution: If the Era server storage container and the database storage container are different on the Era server cluster, then ensure to configure mapping between a remote storage container and the storage container of the Era server.About this taskPerform the following procedure to add a Nutanix cluster to Era.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Nutanix Clusters, click Register Nutanix Cluster. The Register Nutanix Cluster window appears. You register a cluster in the following steps:Nutanix ClusterAgent VMStorage ContainerIn the Nutanix Cluster step, do the following in the indicated fields.Cluster Name. Type a name of the Nutanic cluster you want to register.Description. Type a description of the cluster.IP Address of Prism Element. Type the Prism Element IP address.Prism Element Administrator. Type the username of the Prism Element administrator.Password. Type the Prism Element password.Click Verify.Era verifies the Prism Element and cluster information provided. You can proceed to the next step on successful verification of the provided information.Click Next.Figure. Registering a Nutanix ClusterClick to enlargeIn the Agent VM step, do the following in the indicated fields.Name Prefix. Type a prefix for the Era agent name.This field is optional. If you do not type a prefix, Era automatically selects EraAgent as a default prefix name.VLAN. Select a static VLAN to provision the agent VM from the drop-down list.Era lists the VLANs available in Prism Element. You can create a static VLAN in the Prism Element Web Console if you do not have a static VLAN.IP Address. Type an unused static IP address.Gateway. Type the gateway IP address.Subnet Mask. Type the IP subnet mask.DNS Servers. Displays the list of DNS servers available.NTP Servers. Displays the list of NTP servers available.Click Next. In the Storage Container step, select a storage container which will be used for performing database operations in the cluster.Click Register.The new cluster appears in the list of Nutanix clusters and a message appears at the top indicating that the operation to register a cluster has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Select the name of the cluster to view the cluster status and database information. See Updating a Nutanix Cluster for details on updating the cluster information. .Updating a Nutanix ClusterAbout this taskYou can update the cluster information and the Prism Element credentials of the registered cluster by doing the following.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Nutanix Clusters, select a cluster and click Update. The Update Cluster window appears.Do the following in the indicated fields.Name of Cluster. Type a new cluster name.Description. Type an updated description for the cluster.Virtual IP Address. Type an updated virtual IP address.Storage Container. This field cannot be updated.Update Credentials. Select this check box and update the Prism Administrator Username and Password.Click Update. Figure. Updating Nutanix ClusterClick to enlargeEra Network ManagementEra allows you to manage all VLANs and IP address pools. You can add VLANs to Era, update the VLANs, and add or remove IP address pools from the static VLANs. Adding a VLAN to EraUpdating a Static VLANAdding IP Addresses to a Static VLANDisplaying the Static IP Address AssignmentAdding a VLAN to EraAbout this taskEra uses network profiles to associate VLANs with database server VMs. Therefore, you must first ensure that you have created VLANs on the Nutanix cluster, add the VLANs to Era, and then create network profiles.For Nutanix clusters, Era also provides the flexibility to use AHV managed VLANs for static IP assignments. Using CLI, you can configure Era to manage a set pool of IP addresses within the AHV managed IP address range. Perform the following procedure to add VLANs to Era.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Networks, click Add. The Add VLAN to Era window appears.Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a VLAN. Select a VLAN that you want to add to Era. Note: The VLAN appears in this list only if you have created the VLAN on the selected Nutanix cluster.If the selected VLAN is IPAM (in the case of AHV Hypervisor), it cannot be managed by Era using the Era UI. Also, if you want to use DHCP to assign IP addresses to your database server VMs, then directly proceed to step 5.(Static IP address assignment only) Click the Manage IP Address Pool in Era option if you want to assign static IP addresses to your database server VMs and then do the following.Type the gateway, subnet mask, primary DNS, and secondary DNS IP addresses and DNS domain for the VLAN configuration.Type the IP address range for new database servers in the First Address and Last Address fields.Note: Era considers any VLAN added this way as static VLAN, irrespective of whether the VLAN is DHCP or static.Click Add to successfully add the VLAN to Era.Updating a Static VLANAbout this taskPerform the following procedure to update a static VLAN.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Networks, select the VLAN you want to update and click Update. The Update VLAN window appears.Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a VLAN. Displays the VLAN selected for update.Under VLAN configuration, update the gateway, subnet mask, primary DNS, and secondary DNS IP addresses and DNS domain for the VLAN configuration.Click Update to successfully update the static VLAN.Adding IP Addresses to a Static VLANAbout this taskPerform the following procedure to add an IP address pool to a static VLAN.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Networks, select the VLAN to which you want to add an IP address pool and, in the list of the IP address pools for that VLAN displayed on the right, click Add.Figure. Add IP Address PoolsClick to enlargeIn the Add IP Addresses dialog box, type the IP address range in the First Address and Last Address fields.Click Add to successfully add the IP address pool to the static VLAN.Displaying the Static IP Address AssignmentAbout this taskYou can display the IP address to database server VM mapping of all the IP addresses belonging to an IP address pool.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Networks, select the VLAN whose IP address assignment you want to view and then select the IP address pool whose IP address assignment you want to view.The IP address to database server VM mapping is displayed in a table as shown in the following screenshot.Figure. IP Address Pool AssignmentClick to enlargeEra Tags ManagementEra allows you to assign metadata to entities (clones, time machines, databases, and database servers) by using tags. When you are cloning a database, you can associate tags with the database that you are creating.Each tag is a label consisting of a user-defined name and a value that makes it easier to manage, search for, and filter entities. For example, if you search for a tag value 187a, entities that have 187a as a tag value are listed. Tags enable you to organize and categorize entities by purpose, owner, or other criteria. This organization is useful if you have many entities of the same type. You can quickly identify a specific entity based on the tags that you have assigned to it.Tags help you browse entities based on the tags associated and to add or remove tags from multiple entities at once. You can add, update and delete tags to databases, clones, time machines, and database servers. If an entity is associated with a tag, the respective entity window displays a search bar. You can click the search bar and select the tag to view the list of entities associated with the selected tag.Creating a TagUpdating a TagDeleting a TagCreating a TagAbout this taskPerform the following procedure to add a tag to an entity (clone, time machine, database, and database server VM).ProcedureFrom the drop-down list of the main menu, select Administration.Go to Tags and click Create. The Create Tag window appears.Do the following in the indicated fields.Name. Type a name for the tag.Description. Type a description for the tag.Add Tag to New and Existing. Select an entity for the tag to be associated with. You can select one of the following.Oracle/SQL Server Databases, PostgreSQL/MariaDB/MySQL InstancesTime MachinesClonesDatabase Server VMsRequire a Tag Value. Select this check box if you want to provide a tag value. Select this check box and provide a value for any new entity with this tag.Figure. Creating a TagClick to enlargeClick Create to successfully create a tag.After the tag is created successfully, it appears in the list of created tags.Updating a TagAbout this taskPerform the following procedure to update an existing tag.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Tags. Select the tag and click Update. The Update Tag window appears.Figure. Updating a TagClick to enlargeUpdate the indicated fields.Name. Type an updated name for the tag.Description. Type an updated description for the tag.Add/Update Tag on '<entity name>'. Clear this check box if you want to deprecate the tag of its associated entity.Require a Tag Value. Clear this check box if you want to remove the mandatory tag value. Click Update to successfully update a tag.Deleting a TagBefore you beginDelete the tag values for the entities (database, clone, time machine, database server VM) associated with a tag.About this taskPerform the following procedure to delete a tag.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Tags. Select the tag and click Delete. This step displays a confirmation dialog box.Click Yes to confirm and successfully delete a tag.Era Upgrade ManagementYou can upgrade to a new version of Era to use the latest available features. As part of the upgrade process, the Era server is upgraded first followed by the all the Era cluster agents and database server agents in parallel. The Dashboard displays the current version and an option to upgrade the Era server to a latest version when a new version is available for upgrade.Figure. Upgrade Version DetailsClick to enlargeYou can upgrade Era in the following two ways:One-click Upgrade - If the Era Server is already connected to the internet, the system automatically detects the latest version and you can perform the one-click upgrade operation (see Upgrading Era (One-Click Upgrade).Offline Upgrade (CLI) - If the Era server is not connected to the internet, you can upgrade the server in offline mode by performing the manual CLI upgrade operation (see Upgrading Era (Offline Upgrade). Both methods require some application downtime to ensure that Era lose no data during the upgrade. Upgrading Era (One-Click Upgrade)If the Era Server is already connected to the internet, the system automatically detects the latest version and you can perform the one-click upgrade operation.Upgrading Era (Offline Upgrade)If the Era server is not connected to the internet, you can upgrade the server in offline mode by performing the manual CLI upgrade operation.Upgrading Era (One-Click Upgrade)If the Era Server is already connected to the internet, the system automatically detects the latest version and you can perform the one-click upgrade operation.About this taskPerform the following procedure to upgrade Era to a latest available version by using the one-click upgrade method.ProcedureFrom the drop-down list of the main menu, select Administration > Maintenance.Alternatively, on the Dashboard, click the Upgrade Available option.Do one of the following:Download the latest available version.Upload an upgrade bundle.(Download the latest available version). Select the check box for the version that you want to upgrade to, and click Download.Wait until Era completes the download of the new version from the Nutanix Support Portal.Figure. Downloading a Latest Available VersionClick to enlarge(Upload an upgrade bundle). Do the following:Download the upgrade bundle from the Nutanix Support portal.Under Upload an Upgrade Bundle, click Upload and select the file that you have downloaded.Select the version that you want to upgrade to, and click Upgrade Now.A message appears indicating that the operation to upgrade Era has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation. You cannot perform any actions in the Era until the upgrade is complete.After the upgrade is successful, Era refreshes the page to reflect the latest version.After you upgrade to the Era version 2.0, you will be prompted to update the vCenter credentials if the cluster is running on ESXi hypervisor. The following message is shown at the top of all the pages in Era until you update the vCenter credentials.vCenter credentials are required. Click here to go to Administration page for updating the credentials.For more information, see Era Service Management.Upgrading Era (Offline Upgrade)If the Era server is not connected to the internet, you can upgrade the server in offline mode by performing the manual CLI upgrade operation.About this taskPerform the following procedure to upgrade Era to a latest available version by using the offline upgrade (CLI) method.ProcedureDownload the upgrade bundle from the Nutanix Support portal.Upload the downloaded file to the Era server that you want to upgrade.Launch the Era CLI on the Era server.era > upgrade upload_bundle path=path_to_upgrade_bundleOn the Era user interface, go to Administration > Maintenance. Select the uploaded version and click Upgrade Now.Note: You cannot perform any actions in the Era until the upgrade is complete.Downloading the Diagnostics BundleIf you are experiencing issues with Era or entities registered with Era, you can download a diagnostic bundle and then share the diagnostics bundle with Nutanix Support for troubleshooting the issues. The diagnostics bundle helps Nutanix support to further investigate the problem.About this taskPerform the following procedure to download a diagnostic bundle:ProcedureFrom the drop-down list of the main menu, select Administration > Diagnostics.Select the Era server, an entity, or both for which you want to download the diagnostics bundle.Figure. Downloading a Diagnostic BundleClick to enlargeClick Download.Wait until Era completes the generation of the diagnostics bundle. This step downloads a diagnostic bundle to your local system. You can then share the diagnostics bundle with Nutanix Support.", "Heading_Keywords": ["era", "administr"]}, {"Heading": "Era Service Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-service-c.html", "Document Name": "Era User Guide", "Content": "You can view information about the Era service VMs, SMTP server configuration, Pulse, and the Era service name (IP address of the Era instance that is in use), update the existing configurations, and enable high availability (see Enabling High Availability for Era Repository) and multi-cluster (see Enabling Era Multi-Cluster) for the Era repository.Figure. Era Service PageClick to enlargeThe following table describes the views available.Table 1. Era Service PageViewDescriptionEra Service VMsYou can view the list of Era service VM names, their IP addresses, configured clusters and VM type information.NotificationsYou can view the details of the configured SMTP server. For example, address of the server, username, assigned port number, and so on.You can click the Update button if you want to change the existing configuration. For example, you can change the security type from SSL to TLS for your SMTP server.PulsePulse shares data about your application usage with Nutanix. All data collected is confidential. The information collected is used to help the product team understand how you are using the application and make better decisions about the direction of the product.You can click the Update button to enable or disable the Pulse.Note: Pulse is enabled by default.Era Service NameDisplays the current assigned IP address of the Era Server.High Availability for Era RepositoryHigh Availability for Era Repository Era stores metadata about entities such as databases, clones, time machines, and backups in the Era repository. You can enable High Availability for this repository to ensure that there is no data loss when a node fails. Disaster recovery enables Era to automatically failover to a standby database if a node fails.As part of enabling High Availability, Era creates a cluster database that includes the database servers, and proxy servers. Cluster database helps in securing the system against unexpected failures, planned maintenance, and upgrades. When the primary database goes down, Era automatically fails over to a standby database.Enabling High Availability for Era RepositoryEnabling High Availability for Era RepositoryBefore you beginEnsure that the network profile has at least six free IP addresses.About this taskPerform the following procedure to enable High Availability for the Era repository.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Era Service, click Enable High Availability. The Enable High Availability window appears. When you enable this option, the Era repository becomes a highly available repository to ensure that you do not lose any data when a node in the cluster fails.Do the following in the indicated fields:From the Network Profile (PostgreSQL) drop-down list, select a static network profile for the database servers.Select a profile with an Era-managed VLAN. If you do not have a static network profile, you can create one (For more information, see Creating a Network Profile, Updating a Static VLAN).In the Database Server Name Prefix (optional) field, type a prefix for a database server VM name.This field is optional. If you do not type a prefix, Era automatically selects era_repos_dbserver as a default prefix name.Click Enable High Availability.Figure. Enabling High AvailabilityClick to enlargeA message indicating that an operation to enable disaster recovery for Era repository has started is displayed. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.Note: When the operation is in progress, Era service goes down for a few minutes and all the user sessions are logged out.", "Heading_Keywords": ["era", "servic", "manag"]}, {"Heading": "High Availability for Era Repository", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-disaster-recovery-era-c.html", "Document Name": "Era User Guide", "Content": " Era stores metadata about entities such as databases, clones, time machines, and backups in the Era repository. You can enable High Availability for this repository to ensure that there is no data loss when a node fails. Disaster recovery enables Era to automatically failover to a standby database if a node fails.As part of enabling High Availability, Era creates a cluster database that includes the database servers, and proxy servers. Cluster database helps in securing the system against unexpected failures, planned maintenance, and upgrades. When the primary database goes down, Era automatically fails over to a standby database.Enabling High Availability for Era RepositoryEnabling High Availability for Era RepositoryBefore you beginEnsure that the network profile has at least six free IP addresses.About this taskPerform the following procedure to enable High Availability for the Era repository.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Era Service, click Enable High Availability. The Enable High Availability window appears. When you enable this option, the Era repository becomes a highly available repository to ensure that you do not lose any data when a node in the cluster fails.Do the following in the indicated fields:From the Network Profile (PostgreSQL) drop-down list, select a static network profile for the database servers.Select a profile with an Era-managed VLAN. If you do not have a static network profile, you can create one (For more information, see Creating a Network Profile, Updating a Static VLAN).In the Database Server Name Prefix (optional) field, type a prefix for a database server VM name.This field is optional. If you do not type a prefix, Era automatically selects era_repos_dbserver as a default prefix name.Click Enable High Availability.Figure. Enabling High AvailabilityClick to enlargeA message indicating that an operation to enable disaster recovery for Era repository has started is displayed. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.Note: When the operation is in progress, Era service goes down for a few minutes and all the user sessions are logged out.", "Heading_Keywords": ["high", "avail", "era", "repositori"]}, {"Heading": "Role-based Access Control", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-role-based-access-control-c.html", "Document Name": "Era User Guide", "Content": "Era employs role-based access control (RBAC) to govern access to an Era system. RBAC allows system administrators to restrict user access and limit the operations they can perform. For example, a database operator can only be given access that is related to database-related operations. With RBAC, you can add users either in Era or Active Directory and then later you can add those users to a group. The group allows you to assign the same roles to multiple users at the same time. After adding a user, you can assign one or more roles to the user based on the operations they can perform.TerminologyUsersA user represents a person who interacts with Era. Users can view only the operations that they have initiated. Only a super administrator user is allowed to view all the operations that any user has initiated. RolesA role describes the level of access that is associated with the account of user. A role grants privileges to perform the specified actions on the resource. Each privilege is specified explicitly in the role.Table 1. Type of RolesRoleDescriptionSuper administratorProvides the ability to have full control over Era from setting up Era, creating users, upgrading and patching Era, setting disaster recovery and High Availability for Era, alert policy management, telemetry, and managing all entities and metadata in Era.Infrastructure administratorProvides the ability to perform infrastructure-related tasks such as adding a Nutanix cluster to Era in a multi-cluster environment, adding VLAN and IP pool to Era, and creating compute and network profile.Database infrastructure administratorProvides the ability to perform DBA-related tasks such as creating software and database parameter profile.Database administrator (DBA)Provides the ability to perform database, database server, clone, and time machine operation such as provisioning, registering, cloning a database, creating and managing tags.PrivilegesA privilege consists of a specified entity and the actions permitted on the entity. A user assigned a role receives all the privileges of that role. A user can have one or more roles assigned. Privileges limit the actions that users can perform on an entity. For example, only an infrastructure administrator has the ability to add a new VLAN or IP pool.Privileges and PermissionEach role has a list of privileges that a user has access to. Only a super administrator user has full access to all the privileges. If an entity is owned by a user, by default the user can view and modify that entity including operations and alerts. Privileges are granted based on the role a user plays in an organization. For example, the ability to add a new VLAN or IP Pool should be allowed only if the user role is Infrastructure administrator or above. Adding a UserUpdating an Existing UserDeleting a UserAdding, Updating, and Removing a GroupThe group allows you to assign the same roles to multiple users at the same time. For this operation, you must create a group in Active Directory and add users to that group. You can then select the group and assign roles to all the users in that group in Era.Refreshing a GroupRefresh operation synchronizes the users in Era with the users in Active Directory.Viewing Users' RolesOnly a user with the super administrator role is allowed to view other users' information and the operations initiated by other users. Users with other than the super administrator roles can view only the operations that they have started.Creating a RoleUpdating a RoleDeleting a RoleConfiguring Active Directory AccessPrivileges and PermissionEach role has a list of privileges that a user has access to. Only a super administrator user has full access to all the privileges. If an entity is owned by a user, by default the user can view and modify that entity including operations and alerts. Privileges are granted based on the role a user plays in an organization. For example, the ability to add a new VLAN or IP Pool should be allowed only if the user role is Infrastructure administrator or above. Table 1. Privileges and PermissionPrivilegeSuper AdministratorInfrastructure AdministratorDatabase Infrastructure AdministratorDatabase Administrator (DBA)DatabasesYesYesYesYesTime MachinesYesYesYesYesCompute ProfilesYesYesYesNoNetwork ProfilesYesYesYesNoSoftware ProfilesYesYesYesNoDatabase Parameter ProfilesYesYesYesNoClonesYesYesYesYesDatabase ServersYesYesYesYesAccess ControlYesNoNoNoEra ConfigurationYesNoNoNoSLAsYesYesYesYesTagsYesYesYesYesAlertsYesYesYesYesAdding a UserAbout this taskRoles grant users access to the Era entities. Era provides four roles that administrators can use to control access to an Era system. You must have the super administrator role assigned to create a user and assign one or more roles to a user. Only a super administrator user is allowed to view all the operations that any user has initiated. Users can view only the operations that they have initiated. Perform the following procedure to add a user.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Users.To add a user, click + Add and select one of the following:Local User. A local user is authenticated by a password provided by the user in Era. Select this option to add a local user.Remote User. The remote user is authenticated by Active Directory. Select this option if you want to create a user from Active Directory. Note: Remote user option is available when Active Directory is configured with Era.Do the following in the indicated fields:Username. Type a name for the user. If you selected a remote user in the previous step, type a name for the user and then click Verify to verify the user in the Active Directory list.Password. Type a temporary password for the username entered. Ensure that you reset your password after first login.Note: Remote user is authenticated by Active Directory. This field is not populated if you selected remote user in the previous step.Super Admin. Super Administrator has full control over Era and can manage all entities, configure, and upgrade Era. Select this check box if you want to assign the Super Administrator role to a user.Roles. If you have assigned the Super Administrator role to a user, this field automatically gets disabled. If not, click the role field and select the roles that you want to assign to a user. You can assign one or more roles to a user.Email. Type an email address of the user.Click Add to successfully create a user.This step displays a list of the users that you have created. The list includes the name of a user, the role that a user is assigned to, and email address of a user. You can use the filter option to filter the list based on the roles.Updating an Existing UserAbout this taskModifying an existing user allows you to edit the email address, password, and the role that you have previously assigned to a user. You can also grant or remove super administrator privileges to a user. Only a user with the super administrator role is allowed to update existing user details. Perform the following procedure to update an existing user.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Users.Select the user that you want to update and click Update.Update the indicated fields and click Update to successfully update a user.This step updates the user data and the users' access to the operations that a user can perform.Deleting a UserAbout this taskYou can delete a user and transfer the access that user had to either administrator or some other user with the same role. Perform the following procedure to delete a user.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Users.Select the user that you want to delete and click Delete. This step displays a confirmation dialog box.When you delete a user, you can transfer the access that user had to either administrator or some other user with the same role.In Transfer all entities to, select the user to transfer all the access.Click Delete to successfully delete a user.This step deletes the user from Era and transfers the access to a user that you have selected.Adding, Updating, and Removing a GroupThe group allows you to assign the same roles to multiple users at the same time. For this operation, you must create a group in Active Directory and add users to that group. You can then select the group and assign roles to all the users in that group in Era.Before you beginEnsure that you create a group in Active Directory and add users to the group.About this taskPerform the following procedure to add a group and then assign roles to all the users in that group.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Groups.To add an Active Directory group, click + Add. The Add Active Directory Group window appears.In the Group step, under Active Directory Group Name, type an Active Directory group name and click Verify. After the group name is verified, Era displays a list of users that are part of the given group in the Active Directory and the existing users if the user had been already added previously.Click Next to proceed to the next step.In the Roles step, select the roles that you want to assign to the group.The roles that you select are assigned to all the users that are added to that group. If the user was already assigned some roles previously, then the respective user gets assigned with the additional roles. Click Add.After the group is created, the Era displays the group details on the Access Control > Groups page. You can click the number displayed in the Users column to view the details of users that are added in that group.If you want to update the group that you have created previously, select the group name and click Update. You can only update the roles that are assigned to all the users in that group.If you want to remove a group, you can select the group and click Remove. The Remove Group dialog box appears. In Transfer all entities to, select the user to transfer all the access and click Remove. This operation removes the users who do not have any roles assigned outside of that group but retains users that are added to another group or have additional roles assigned in Era.Refreshing a GroupRefresh operation synchronizes the users in Era with the users in Active Directory.About this taskYou can add users either in Era or Active Directory. When you add a user to a group in the Active Directory, then the refresh operation adds the user in Era and assigns the same roles to user that are granted for the entire group. When you remove a user from the group in the Active Directory, then the refresh operation removes the user from the group in Era and all the roles that were assigned to the user as part of that group are revoked. Perform the following procedure to refresh a group.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Groups.Select the group that you want to refresh and click Refresh.This operation refreshes the Era user status of all the users in that group. Viewing Users' RolesOnly a user with the super administrator role is allowed to view other users' information and the operations initiated by other users. Users with other than the super administrator roles can view only the operations that they have started.About this taskEach role is assigned with certain privileges that a user has access to. Only a super administrator user can view the information for all the roles and number of users that are assigned to that role. Perform the following procedure to view the list of roles and privileges that each role has.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Access Control > Roles and then select the role for which you want to view the list of privileges.This step displays the role details that include role name, description, number of users assigned to that role, and list of privileges that role has. You can click the number next to Users to view the list of users that are assigned that role.Creating a RoleAbout this taskEach role is composed of privileges that a user has access to. You can create a role and assign privileges to the role that you are creating. Perform the following procedure to create a role. If you are creating a role with create role privilege, then this role is visible to all the users in Era.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Access Control > Roles and click + Create. The Create Role window appears.Do the following in the indicated fields:Name. Type a name for the role that you want to create.Description. Type a description of the role.Select the privileges that you want to assign to the role that you are creating, click the right arrow button to move the roles to the selected privileges.Note: If you assign create role privilege, then this role is visible to all the users in Era and if you assign create user privilege, then the users that are assigned to this role can create users in Era.Click Create.This step displays the role that you have created on the Roles page. Select the role from the list to view the role details. The role details include role name, description, number of users assigned to that role, and list of privileges that role has. You can click the number next to users to view the list of users that are assigned that role.Updating a RoleAbout this taskModifying an existing role allows you to update the role name, description, or the privileges that are assigned to a role. Perform the following procedure to update a role.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Access Control > Roles. Select a role and click Update. The Update Role window appears.Update the indicated fields and click Update to successfully update a role.This step updates the role name, description, or privileges that were assigned to this role previously.Deleting a RoleAbout this taskIf a role is no longer required, you can delete the role from Era. Deleting a role automatically removes that role from all the users that were using it. Perform the following procedure to delete a role.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Access Control > Roles. Select a role and click Delete. This step displays a confirmation dialog box.Click Yes to successfully delete a role.Configuring Active Directory AccessAbout this taskEra authenticates a remote user through Active Directory. Era must have access to the Active Directory server to authenticate users. Perform the following procedure to configure Active Directory access. Note: Era uses port 389 or 636 to communicate with Active Directory.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Authentication.This page displays the current Active Directory configuration.Click Configure to configure Active Directory access. This Configure Active Directory Access window appears.Do the following in the indicated fields.Configuration Name. Enter a name for the configuration.Domain. Enter the domain name of the configuration.Primary URL. Select the connection type as either ldap or ldaps, enter the IP address, and port number.Secondary URL. Secondary URL is used for redundancy purposes. Select the connection type as either ldap or ldaps, enter the IP address, and port number.Service Account Username. Enter a username for the service account.Service Account Password. Enter a password.Figure. Configuring Active Directory AccessClick to enlargeClick Verify to check if you can connect to an Active Directory server.Click Save to save the details.Note: Save button is enabled only when the verification is successful.This step displays the current Active Directory configuration settings. Click Remove to delete the current configuration. The configuration is not deleted until users are associated with the configuration. Remove the associated users and then delete the configuration. Repeat the previous steps to add a new configuration.", "Heading_Keywords": ["role", "base", "access", "control"]}, {"Heading": "Privileges and Permission", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-privileges-permission-r.html", "Document Name": "Era User Guide", "Content": "Each role has a list of privileges that a user has access to. Only a super administrator user has full access to all the privileges. If an entity is owned by a user, by default the user can view and modify that entity including operations and alerts. Privileges are granted based on the role a user plays in an organization. For example, the ability to add a new VLAN or IP Pool should be allowed only if the user role is Infrastructure administrator or above. Table 1. Privileges and PermissionPrivilegeSuper AdministratorInfrastructure AdministratorDatabase Infrastructure AdministratorDatabase Administrator (DBA)DatabasesYesYesYesYesTime MachinesYesYesYesYesCompute ProfilesYesYesYesNoNetwork ProfilesYesYesYesNoSoftware ProfilesYesYesYesNoDatabase Parameter ProfilesYesYesYesNoClonesYesYesYesYesDatabase ServersYesYesYesYesAccess ControlYesNoNoNoEra ConfigurationYesNoNoNoSLAsYesYesYesYesTagsYesYesYesYesAlertsYesYesYesYes", "Heading_Keywords": ["privileg", "permiss"]}, {"Heading": "Adding a User", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-create-user-t.html", "Document Name": "Era User Guide", "Content": "About this taskRoles grant users access to the Era entities. Era provides four roles that administrators can use to control access to an Era system. You must have the super administrator role assigned to create a user and assign one or more roles to a user. Only a super administrator user is allowed to view all the operations that any user has initiated. Users can view only the operations that they have initiated. Perform the following procedure to add a user.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Users.To add a user, click + Add and select one of the following:Local User. A local user is authenticated by a password provided by the user in Era. Select this option to add a local user.Remote User. The remote user is authenticated by Active Directory. Select this option if you want to create a user from Active Directory. Note: Remote user option is available when Active Directory is configured with Era.Do the following in the indicated fields:Username. Type a name for the user. If you selected a remote user in the previous step, type a name for the user and then click Verify to verify the user in the Active Directory list.Password. Type a temporary password for the username entered. Ensure that you reset your password after first login.Note: Remote user is authenticated by Active Directory. This field is not populated if you selected remote user in the previous step.Super Admin. Super Administrator has full control over Era and can manage all entities, configure, and upgrade Era. Select this check box if you want to assign the Super Administrator role to a user.Roles. If you have assigned the Super Administrator role to a user, this field automatically gets disabled. If not, click the role field and select the roles that you want to assign to a user. You can assign one or more roles to a user.Email. Type an email address of the user.Click Add to successfully create a user.This step displays a list of the users that you have created. The list includes the name of a user, the role that a user is assigned to, and email address of a user. You can use the filter option to filter the list based on the roles.", "Heading_Keywords": ["ad", "user"]}, {"Heading": "Updating an Existing User", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-update-user-t.html", "Document Name": "Era User Guide", "Content": "About this taskModifying an existing user allows you to edit the email address, password, and the role that you have previously assigned to a user. You can also grant or remove super administrator privileges to a user. Only a user with the super administrator role is allowed to update existing user details. Perform the following procedure to update an existing user.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Users.Select the user that you want to update and click Update.Update the indicated fields and click Update to successfully update a user.This step updates the user data and the users' access to the operations that a user can perform.", "Heading_Keywords": ["updat", "exist", "user"]}, {"Heading": "Deleting a User", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-delete-user-t.html", "Document Name": "Era User Guide", "Content": "About this taskYou can delete a user and transfer the access that user had to either administrator or some other user with the same role. Perform the following procedure to delete a user.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Users.Select the user that you want to delete and click Delete. This step displays a confirmation dialog box.When you delete a user, you can transfer the access that user had to either administrator or some other user with the same role.In Transfer all entities to, select the user to transfer all the access.Click Delete to successfully delete a user.This step deletes the user from Era and transfers the access to a user that you have selected.", "Heading_Keywords": ["delet", "user"]}, {"Heading": "Adding, Updating, and Removing a Group", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-adding-group-rbac-t.html", "Document Name": "Era User Guide", "Content": "The group allows you to assign the same roles to multiple users at the same time. For this operation, you must create a group in Active Directory and add users to that group. You can then select the group and assign roles to all the users in that group in Era.Before you beginEnsure that you create a group in Active Directory and add users to the group.About this taskPerform the following procedure to add a group and then assign roles to all the users in that group.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Groups.To add an Active Directory group, click + Add. The Add Active Directory Group window appears.In the Group step, under Active Directory Group Name, type an Active Directory group name and click Verify. After the group name is verified, Era displays a list of users that are part of the given group in the Active Directory and the existing users if the user had been already added previously.Click Next to proceed to the next step.In the Roles step, select the roles that you want to assign to the group.The roles that you select are assigned to all the users that are added to that group. If the user was already assigned some roles previously, then the respective user gets assigned with the additional roles. Click Add.After the group is created, the Era displays the group details on the Access Control > Groups page. You can click the number displayed in the Users column to view the details of users that are added in that group.If you want to update the group that you have created previously, select the group name and click Update. You can only update the roles that are assigned to all the users in that group.If you want to remove a group, you can select the group and click Remove. The Remove Group dialog box appears. In Transfer all entities to, select the user to transfer all the access and click Remove. This operation removes the users who do not have any roles assigned outside of that group but retains users that are added to another group or have additional roles assigned in Era.", "Heading_Keywords": ["ad", "updat", "remov", "group"]}, {"Heading": "Refreshing a Group", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-refresh-group-t.html", "Document Name": "Era User Guide", "Content": "Refresh operation synchronizes the users in Era with the users in Active Directory.About this taskYou can add users either in Era or Active Directory. When you add a user to a group in the Active Directory, then the refresh operation adds the user in Era and assigns the same roles to user that are granted for the entire group. When you remove a user from the group in the Active Directory, then the refresh operation removes the user from the group in Era and all the roles that were assigned to the user as part of that group are revoked. Perform the following procedure to refresh a group.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Groups.Select the group that you want to refresh and click Refresh.This operation refreshes the Era user status of all the users in that group. ", "Heading_Keywords": ["refresh", "group"]}, {"Heading": "Viewing Users' Roles", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-view-user-role-t.html", "Document Name": "Era User Guide", "Content": "Only a user with the super administrator role is allowed to view other users' information and the operations initiated by other users. Users with other than the super administrator roles can view only the operations that they have started.About this taskEach role is assigned with certain privileges that a user has access to. Only a super administrator user can view the information for all the roles and number of users that are assigned to that role. Perform the following procedure to view the list of roles and privileges that each role has.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Access Control > Roles and then select the role for which you want to view the list of privileges.This step displays the role details that include role name, description, number of users assigned to that role, and list of privileges that role has. You can click the number next to Users to view the list of users that are assigned that role.", "Heading_Keywords": ["view", "user", "role"]}, {"Heading": "Creating a Role", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-create-role-t.html", "Document Name": "Era User Guide", "Content": "About this taskEach role is composed of privileges that a user has access to. You can create a role and assign privileges to the role that you are creating. Perform the following procedure to create a role. If you are creating a role with create role privilege, then this role is visible to all the users in Era.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Access Control > Roles and click + Create. The Create Role window appears.Do the following in the indicated fields:Name. Type a name for the role that you want to create.Description. Type a description of the role.Select the privileges that you want to assign to the role that you are creating, click the right arrow button to move the roles to the selected privileges.Note: If you assign create role privilege, then this role is visible to all the users in Era and if you assign create user privilege, then the users that are assigned to this role can create users in Era.Click Create.This step displays the role that you have created on the Roles page. Select the role from the list to view the role details. The role details include role name, description, number of users assigned to that role, and list of privileges that role has. You can click the number next to users to view the list of users that are assigned that role.", "Heading_Keywords": ["creat", "role"]}, {"Heading": "Updating a Role", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-update-role-t.html", "Document Name": "Era User Guide", "Content": "About this taskModifying an existing role allows you to update the role name, description, or the privileges that are assigned to a role. Perform the following procedure to update a role.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Access Control > Roles. Select a role and click Update. The Update Role window appears.Update the indicated fields and click Update to successfully update a role.This step updates the role name, description, or privileges that were assigned to this role previously.", "Heading_Keywords": ["updat", "role"]}, {"Heading": "Deleting a Role", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-delete-role-t.html", "Document Name": "Era User Guide", "Content": "About this taskIf a role is no longer required, you can delete the role from Era. Deleting a role automatically removes that role from all the users that were using it. Perform the following procedure to delete a role.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Access Control > Roles. Select a role and click Delete. This step displays a confirmation dialog box.Click Yes to successfully delete a role.", "Heading_Keywords": ["delet", "role"]}, {"Heading": "Configuring Active Directory Access", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-configure-active-directory-access-t.html", "Document Name": "Era User Guide", "Content": "About this taskEra authenticates a remote user through Active Directory. Era must have access to the Active Directory server to authenticate users. Perform the following procedure to configure Active Directory access. Note: Era uses port 389 or 636 to communicate with Active Directory.ProcedureFrom the drop-down list of the main menu, select Administration > Access Control > Authentication.This page displays the current Active Directory configuration.Click Configure to configure Active Directory access. This Configure Active Directory Access window appears.Do the following in the indicated fields.Configuration Name. Enter a name for the configuration.Domain. Enter the domain name of the configuration.Primary URL. Select the connection type as either ldap or ldaps, enter the IP address, and port number.Secondary URL. Secondary URL is used for redundancy purposes. Select the connection type as either ldap or ldaps, enter the IP address, and port number.Service Account Username. Enter a username for the service account.Service Account Password. Enter a password.Figure. Configuring Active Directory AccessClick to enlargeClick Verify to check if you can connect to an Active Directory server.Click Save to save the details.Note: Save button is enabled only when the verification is successful.This step displays the current Active Directory configuration settings. Click Remove to delete the current configuration. The configuration is not deleted until users are associated with the configuration. Remove the associated users and then delete the configuration. Repeat the previous steps to add a new configuration.", "Heading_Keywords": ["configur", "activ", "directori", "access"]}, {"Heading": "User Profile Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-user-profile-management-c.html", "Document Name": "Era User Guide", "Content": "Era supports Role-based Access Control (RBAC). Once logged in, you can modify your profile according to your needs.Configuring the User Profile SettingsThis section describes the steps to configure the user profile.Configuring the User Profile SettingsThis section describes the steps to configure the user profile.About this taskPerform the following procedure to configure the user profile settings.ProcedureSelect Profile from the User Menu.The User Profile page appears.Figure. User Profile Page - Configure SettingsClick to enlargeIn the Email box, enter a valid email address of a user.In the Time Zone drop-down list, make sure to select the time zone that you want to use.In the Timeout drop-down list, select an appropriate timeout value for the user sessions.Select the Display in High Contrast Mode check box if you want to present the Era GUI on large screens.Select the Enable debug logging check box when logging into the GUI in the browser\u2019s console. You can select this option to perform GUI troubleshooting.Select the Change Password check box if you want to change the current user password. Enter the current and new passwords in the fields that appear.In the Receive email notifications for area, you can select any one or all the following options - Alerts, Failed Operations, Successful Operations. You will receive an email notification when the selected events occur.Note: These options appear after you configure the SMTP server. Ensure that the details of the SMTP server are configured correctly to receive email notifications. For more information on configuring the SMTP server, see Sending Alert Notifications to an Email Recipient.In the Roles and Privileges area, you can view the role and privileges assigned to you.Click Save to apply your settings and close the User Profile page.", "Heading_Keywords": ["user", "profil", "manag"]}, {"Heading": "Configuring the User Profile Settings", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-user-profile-configure-t.html", "Document Name": "Era User Guide", "Content": "This section describes the steps to configure the user profile.About this taskPerform the following procedure to configure the user profile settings.ProcedureSelect Profile from the User Menu.The User Profile page appears.Figure. User Profile Page - Configure SettingsClick to enlargeIn the Email box, enter a valid email address of a user.In the Time Zone drop-down list, make sure to select the time zone that you want to use.In the Timeout drop-down list, select an appropriate timeout value for the user sessions.Select the Display in High Contrast Mode check box if you want to present the Era GUI on large screens.Select the Enable debug logging check box when logging into the GUI in the browser\u2019s console. You can select this option to perform GUI troubleshooting.Select the Change Password check box if you want to change the current user password. Enter the current and new passwords in the fields that appear.In the Receive email notifications for area, you can select any one or all the following options - Alerts, Failed Operations, Successful Operations. You will receive an email notification when the selected events occur.Note: These options appear after you configure the SMTP server. Ensure that the details of the SMTP server are configured correctly to receive email notifications. For more information on configuring the SMTP server, see Sending Alert Notifications to an Email Recipient.In the Roles and Privileges area, you can view the role and privileges assigned to you.Click Save to apply your settings and close the User Profile page.", "Heading_Keywords": ["configur", "user", "profil", "set"]}, {"Heading": "Multi-Cluster Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-multicluster-management-c.html", "Document Name": "Era User Guide", "Content": "Era multi-cluster capability allows you to manage databases across multiple Nutanix clusters. You can now enable Era multi-cluster to use a single Era server, centrally located on a Nutanix cluster to manage (database registration, provisioning, cloning, and so on) different databases across multiple Nutanix clusters (both on-prem and cloud). As part of enabling Era multi-cluster, the Era server creates an Era agent that runs on a dedicated VM. All the remote Nutanix clusters added to Era have an instance of the Era agent created to manage, schedule, perform, and execute database operations of that cluster.Enabling Era Multi-ClusterRegistering a Nutanix Cluster with EraUpdating a Nutanix ClusterEnabling Era Multi-ClusterBefore you beginEnsure that the AOS version of your Nutanix cluster is one of the following:AOS version 5.10.11 or higher.AOS version 5.15.1 or higher.AOS version 5.17 or higher.Caution: The Era server VM storage container and the Era managed storage container for databases (registered or provisioned) and profiles must be identical.About this taskPerform the following procedure to enable Era multi-cluster.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Nutanix Clusters, click Enable Multi-Cluster. The Enable Multi-Cluster window appears. Note: You cannot disable Era multi-cluster once enabled.Do the following in the indicated fields:Name Prefix. Type a prefix for the Era agent name.This field is optional. If you do not type a prefix, Era automatically selects EraAgent as a default prefix name.VLAN. Select a VLAN to provision the Era Agent VM from the drop-down list..Select an Era-managed static VLAN. If you do not have a static network, you can create one (For more information, see Era Network Management).Click Enable Multi-Cluster.Figure. Enabling Era Multi-ClusterClick to enlargeA message indicating that an operation to enable Era Multi-Cluster has started is displayed. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.You can see the Era agent details in the Era Service page.Registering a Nutanix Cluster with EraBefore you beginEnsure that you have enabled Era multi-cluster (see Enabling Era Multi-Cluster).Nutanix Guest Tools (NGT) must be installed on the source cluster for cross-hypervisor support (AHV to ESXi).Caution: If the Era server storage container and the database storage container are different on the Era server cluster, then ensure to configure mapping between a remote storage container and the storage container of the Era server.About this taskPerform the following procedure to add a Nutanix cluster to Era.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Nutanix Clusters, click Register Nutanix Cluster. The Register Nutanix Cluster window appears. You register a cluster in the following steps:Nutanix ClusterAgent VMStorage ContainerIn the Nutanix Cluster step, do the following in the indicated fields.Cluster Name. Type a name of the Nutanic cluster you want to register.Description. Type a description of the cluster.IP Address of Prism Element. Type the Prism Element IP address.Prism Element Administrator. Type the username of the Prism Element administrator.Password. Type the Prism Element password.Click Verify.Era verifies the Prism Element and cluster information provided. You can proceed to the next step on successful verification of the provided information.Click Next.Figure. Registering a Nutanix ClusterClick to enlargeIn the Agent VM step, do the following in the indicated fields.Name Prefix. Type a prefix for the Era agent name.This field is optional. If you do not type a prefix, Era automatically selects EraAgent as a default prefix name.VLAN. Select a static VLAN to provision the agent VM from the drop-down list.Era lists the VLANs available in Prism Element. You can create a static VLAN in the Prism Element Web Console if you do not have a static VLAN.IP Address. Type an unused static IP address.Gateway. Type the gateway IP address.Subnet Mask. Type the IP subnet mask.DNS Servers. Displays the list of DNS servers available.NTP Servers. Displays the list of NTP servers available.Click Next. In the Storage Container step, select a storage container which will be used for performing database operations in the cluster.Click Register.The new cluster appears in the list of Nutanix clusters and a message appears at the top indicating that the operation to register a cluster has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Select the name of the cluster to view the cluster status and database information. See Updating a Nutanix Cluster for details on updating the cluster information. .Updating a Nutanix ClusterAbout this taskYou can update the cluster information and the Prism Element credentials of the registered cluster by doing the following.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Nutanix Clusters, select a cluster and click Update. The Update Cluster window appears.Do the following in the indicated fields.Name of Cluster. Type a new cluster name.Description. Type an updated description for the cluster.Virtual IP Address. Type an updated virtual IP address.Storage Container. This field cannot be updated.Update Credentials. Select this check box and update the Prism Administrator Username and Password.Click Update. Figure. Updating Nutanix ClusterClick to enlarge", "Heading_Keywords": ["multi", "cluster", "manag"]}, {"Heading": "Enabling Era Multi-Cluster", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-enable-multicluster-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that the AOS version of your Nutanix cluster is one of the following:AOS version 5.10.11 or higher.AOS version 5.15.1 or higher.AOS version 5.17 or higher.Caution: The Era server VM storage container and the Era managed storage container for databases (registered or provisioned) and profiles must be identical.About this taskPerform the following procedure to enable Era multi-cluster.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Nutanix Clusters, click Enable Multi-Cluster. The Enable Multi-Cluster window appears. Note: You cannot disable Era multi-cluster once enabled.Do the following in the indicated fields:Name Prefix. Type a prefix for the Era agent name.This field is optional. If you do not type a prefix, Era automatically selects EraAgent as a default prefix name.VLAN. Select a VLAN to provision the Era Agent VM from the drop-down list..Select an Era-managed static VLAN. If you do not have a static network, you can create one (For more information, see Era Network Management).Click Enable Multi-Cluster.Figure. Enabling Era Multi-ClusterClick to enlargeA message indicating that an operation to enable Era Multi-Cluster has started is displayed. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation.You can see the Era agent details in the Era Service page.", "Heading_Keywords": ["enabl", "era", "multi", "cluster"]}, {"Heading": "Registering a Nutanix Cluster with Era", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-register-nutanix-cluster-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you have enabled Era multi-cluster (see Enabling Era Multi-Cluster).Nutanix Guest Tools (NGT) must be installed on the source cluster for cross-hypervisor support (AHV to ESXi).Caution: If the Era server storage container and the database storage container are different on the Era server cluster, then ensure to configure mapping between a remote storage container and the storage container of the Era server.About this taskPerform the following procedure to add a Nutanix cluster to Era.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Nutanix Clusters, click Register Nutanix Cluster. The Register Nutanix Cluster window appears. You register a cluster in the following steps:Nutanix ClusterAgent VMStorage ContainerIn the Nutanix Cluster step, do the following in the indicated fields.Cluster Name. Type a name of the Nutanic cluster you want to register.Description. Type a description of the cluster.IP Address of Prism Element. Type the Prism Element IP address.Prism Element Administrator. Type the username of the Prism Element administrator.Password. Type the Prism Element password.Click Verify.Era verifies the Prism Element and cluster information provided. You can proceed to the next step on successful verification of the provided information.Click Next.Figure. Registering a Nutanix ClusterClick to enlargeIn the Agent VM step, do the following in the indicated fields.Name Prefix. Type a prefix for the Era agent name.This field is optional. If you do not type a prefix, Era automatically selects EraAgent as a default prefix name.VLAN. Select a static VLAN to provision the agent VM from the drop-down list.Era lists the VLANs available in Prism Element. You can create a static VLAN in the Prism Element Web Console if you do not have a static VLAN.IP Address. Type an unused static IP address.Gateway. Type the gateway IP address.Subnet Mask. Type the IP subnet mask.DNS Servers. Displays the list of DNS servers available.NTP Servers. Displays the list of NTP servers available.Click Next. In the Storage Container step, select a storage container which will be used for performing database operations in the cluster.Click Register.The new cluster appears in the list of Nutanix clusters and a message appears at the top indicating that the operation to register a cluster has started. Click the message to monitor the progress of the operation. Alternatively, select Operations from the drop-down list of the main menu to monitor the progress of the operation.Select the name of the cluster to view the cluster status and database information. See Updating a Nutanix Cluster for details on updating the cluster information. .", "Heading_Keywords": ["regist", "nutanix", "cluster", "era"]}, {"Heading": "Updating a Nutanix Cluster", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-update-nutanix-cluster-t.html", "Document Name": "Era User Guide", "Content": "About this taskYou can update the cluster information and the Prism Element credentials of the registered cluster by doing the following.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Nutanix Clusters, select a cluster and click Update. The Update Cluster window appears.Do the following in the indicated fields.Name of Cluster. Type a new cluster name.Description. Type an updated description for the cluster.Virtual IP Address. Type an updated virtual IP address.Storage Container. This field cannot be updated.Update Credentials. Select this check box and update the Prism Administrator Username and Password.Click Update. Figure. Updating Nutanix ClusterClick to enlarge", "Heading_Keywords": ["updat", "nutanix", "cluster"]}, {"Heading": "Era Network Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-resource-management-c.html", "Document Name": "Era User Guide", "Content": "Era allows you to manage all VLANs and IP address pools. You can add VLANs to Era, update the VLANs, and add or remove IP address pools from the static VLANs. Adding a VLAN to EraUpdating a Static VLANAdding IP Addresses to a Static VLANDisplaying the Static IP Address AssignmentAdding a VLAN to EraAbout this taskEra uses network profiles to associate VLANs with database server VMs. Therefore, you must first ensure that you have created VLANs on the Nutanix cluster, add the VLANs to Era, and then create network profiles.For Nutanix clusters, Era also provides the flexibility to use AHV managed VLANs for static IP assignments. Using CLI, you can configure Era to manage a set pool of IP addresses within the AHV managed IP address range. Perform the following procedure to add VLANs to Era.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Networks, click Add. The Add VLAN to Era window appears.Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a VLAN. Select a VLAN that you want to add to Era. Note: The VLAN appears in this list only if you have created the VLAN on the selected Nutanix cluster.If the selected VLAN is IPAM (in the case of AHV Hypervisor), it cannot be managed by Era using the Era UI. Also, if you want to use DHCP to assign IP addresses to your database server VMs, then directly proceed to step 5.(Static IP address assignment only) Click the Manage IP Address Pool in Era option if you want to assign static IP addresses to your database server VMs and then do the following.Type the gateway, subnet mask, primary DNS, and secondary DNS IP addresses and DNS domain for the VLAN configuration.Type the IP address range for new database servers in the First Address and Last Address fields.Note: Era considers any VLAN added this way as static VLAN, irrespective of whether the VLAN is DHCP or static.Click Add to successfully add the VLAN to Era.Updating a Static VLANAbout this taskPerform the following procedure to update a static VLAN.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Networks, select the VLAN you want to update and click Update. The Update VLAN window appears.Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a VLAN. Displays the VLAN selected for update.Under VLAN configuration, update the gateway, subnet mask, primary DNS, and secondary DNS IP addresses and DNS domain for the VLAN configuration.Click Update to successfully update the static VLAN.Adding IP Addresses to a Static VLANAbout this taskPerform the following procedure to add an IP address pool to a static VLAN.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Networks, select the VLAN to which you want to add an IP address pool and, in the list of the IP address pools for that VLAN displayed on the right, click Add.Figure. Add IP Address PoolsClick to enlargeIn the Add IP Addresses dialog box, type the IP address range in the First Address and Last Address fields.Click Add to successfully add the IP address pool to the static VLAN.Displaying the Static IP Address AssignmentAbout this taskYou can display the IP address to database server VM mapping of all the IP addresses belonging to an IP address pool.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Networks, select the VLAN whose IP address assignment you want to view and then select the IP address pool whose IP address assignment you want to view.The IP address to database server VM mapping is displayed in a table as shown in the following screenshot.Figure. IP Address Pool AssignmentClick to enlarge", "Heading_Keywords": ["era", "network", "manag"]}, {"Heading": "Adding a VLAN to Era", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-adding-vlans-t.html", "Document Name": "Era User Guide", "Content": "About this taskEra uses network profiles to associate VLANs with database server VMs. Therefore, you must first ensure that you have created VLANs on the Nutanix cluster, add the VLANs to Era, and then create network profiles.For Nutanix clusters, Era also provides the flexibility to use AHV managed VLANs for static IP assignments. Using CLI, you can configure Era to manage a set pool of IP addresses within the AHV managed IP address range. Perform the following procedure to add VLANs to Era.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Networks, click Add. The Add VLAN to Era window appears.Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a VLAN. Select a VLAN that you want to add to Era. Note: The VLAN appears in this list only if you have created the VLAN on the selected Nutanix cluster.If the selected VLAN is IPAM (in the case of AHV Hypervisor), it cannot be managed by Era using the Era UI. Also, if you want to use DHCP to assign IP addresses to your database server VMs, then directly proceed to step 5.(Static IP address assignment only) Click the Manage IP Address Pool in Era option if you want to assign static IP addresses to your database server VMs and then do the following.Type the gateway, subnet mask, primary DNS, and secondary DNS IP addresses and DNS domain for the VLAN configuration.Type the IP address range for new database servers in the First Address and Last Address fields.Note: Era considers any VLAN added this way as static VLAN, irrespective of whether the VLAN is DHCP or static.Click Add to successfully add the VLAN to Era.", "Heading_Keywords": ["ad", "vlan", "era"]}, {"Heading": "Updating a Static VLAN", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-updating-vlan-t.html", "Document Name": "Era User Guide", "Content": "About this taskPerform the following procedure to update a static VLAN.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Networks, select the VLAN you want to update and click Update. The Update VLAN window appears.Do the following in the indicated fields.Nutanix Cluster. Select the Nutanix cluster on which you want to create the profile.Note: Era multi-cluster must be enabled to select different Nutanix clusters. See Multi-Cluster Management for more information.Select a VLAN. Displays the VLAN selected for update.Under VLAN configuration, update the gateway, subnet mask, primary DNS, and secondary DNS IP addresses and DNS domain for the VLAN configuration.Click Update to successfully update the static VLAN.", "Heading_Keywords": ["updat", "static", "vlan"]}, {"Heading": "Adding IP Addresses to a Static VLAN", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-adding-ip-addresses-to-static-vlans-t.html", "Document Name": "Era User Guide", "Content": "About this taskPerform the following procedure to add an IP address pool to a static VLAN.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Networks, select the VLAN to which you want to add an IP address pool and, in the list of the IP address pools for that VLAN displayed on the right, click Add.Figure. Add IP Address PoolsClick to enlargeIn the Add IP Addresses dialog box, type the IP address range in the First Address and Last Address fields.Click Add to successfully add the IP address pool to the static VLAN.", "Heading_Keywords": ["ad", "ip", "address", "static", "vlan"]}, {"Heading": "Displaying the Static IP Address Assignment", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-displaying-the-static-ip-address-assignment-t.html", "Document Name": "Era User Guide", "Content": "About this taskYou can display the IP address to database server VM mapping of all the IP addresses belonging to an IP address pool.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Networks, select the VLAN whose IP address assignment you want to view and then select the IP address pool whose IP address assignment you want to view.The IP address to database server VM mapping is displayed in a table as shown in the following screenshot.Figure. IP Address Pool AssignmentClick to enlarge", "Heading_Keywords": ["display", "static", "ip", "address", "assign"]}, {"Heading": "Era Tags Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-tag-management-c.html", "Document Name": "Era User Guide", "Content": "Era allows you to assign metadata to entities (clones, time machines, databases, and database servers) by using tags. When you are cloning a database, you can associate tags with the database that you are creating.Each tag is a label consisting of a user-defined name and a value that makes it easier to manage, search for, and filter entities. For example, if you search for a tag value 187a, entities that have 187a as a tag value are listed. Tags enable you to organize and categorize entities by purpose, owner, or other criteria. This organization is useful if you have many entities of the same type. You can quickly identify a specific entity based on the tags that you have assigned to it.Tags help you browse entities based on the tags associated and to add or remove tags from multiple entities at once. You can add, update and delete tags to databases, clones, time machines, and database servers. If an entity is associated with a tag, the respective entity window displays a search bar. You can click the search bar and select the tag to view the list of entities associated with the selected tag.Creating a TagUpdating a TagDeleting a TagCreating a TagAbout this taskPerform the following procedure to add a tag to an entity (clone, time machine, database, and database server VM).ProcedureFrom the drop-down list of the main menu, select Administration.Go to Tags and click Create. The Create Tag window appears.Do the following in the indicated fields.Name. Type a name for the tag.Description. Type a description for the tag.Add Tag to New and Existing. Select an entity for the tag to be associated with. You can select one of the following.Oracle/SQL Server Databases, PostgreSQL/MariaDB/MySQL InstancesTime MachinesClonesDatabase Server VMsRequire a Tag Value. Select this check box if you want to provide a tag value. Select this check box and provide a value for any new entity with this tag.Figure. Creating a TagClick to enlargeClick Create to successfully create a tag.After the tag is created successfully, it appears in the list of created tags.Updating a TagAbout this taskPerform the following procedure to update an existing tag.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Tags. Select the tag and click Update. The Update Tag window appears.Figure. Updating a TagClick to enlargeUpdate the indicated fields.Name. Type an updated name for the tag.Description. Type an updated description for the tag.Add/Update Tag on '<entity name>'. Clear this check box if you want to deprecate the tag of its associated entity.Require a Tag Value. Clear this check box if you want to remove the mandatory tag value. Click Update to successfully update a tag.Deleting a TagBefore you beginDelete the tag values for the entities (database, clone, time machine, database server VM) associated with a tag.About this taskPerform the following procedure to delete a tag.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Tags. Select the tag and click Delete. This step displays a confirmation dialog box.Click Yes to confirm and successfully delete a tag.", "Heading_Keywords": ["era", "tag", "manag"]}, {"Heading": "Creating a Tag", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-adding-tags-t.html", "Document Name": "Era User Guide", "Content": "About this taskPerform the following procedure to add a tag to an entity (clone, time machine, database, and database server VM).ProcedureFrom the drop-down list of the main menu, select Administration.Go to Tags and click Create. The Create Tag window appears.Do the following in the indicated fields.Name. Type a name for the tag.Description. Type a description for the tag.Add Tag to New and Existing. Select an entity for the tag to be associated with. You can select one of the following.Oracle/SQL Server Databases, PostgreSQL/MariaDB/MySQL InstancesTime MachinesClonesDatabase Server VMsRequire a Tag Value. Select this check box if you want to provide a tag value. Select this check box and provide a value for any new entity with this tag.Figure. Creating a TagClick to enlargeClick Create to successfully create a tag.After the tag is created successfully, it appears in the list of created tags.", "Heading_Keywords": ["creat", "tag"]}, {"Heading": "Updating a Tag", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-updating-tags-t.html", "Document Name": "Era User Guide", "Content": "About this taskPerform the following procedure to update an existing tag.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Tags. Select the tag and click Update. The Update Tag window appears.Figure. Updating a TagClick to enlargeUpdate the indicated fields.Name. Type an updated name for the tag.Description. Type an updated description for the tag.Add/Update Tag on '<entity name>'. Clear this check box if you want to deprecate the tag of its associated entity.Require a Tag Value. Clear this check box if you want to remove the mandatory tag value. Click Update to successfully update a tag.", "Heading_Keywords": ["updat", "tag"]}, {"Heading": "Deleting a Tag", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-deleting-tags-t.html", "Document Name": "Era User Guide", "Content": "Before you beginDelete the tag values for the entities (database, clone, time machine, database server VM) associated with a tag.About this taskPerform the following procedure to delete a tag.ProcedureFrom the drop-down list of the main menu, select Administration.Go to Tags. Select the tag and click Delete. This step displays a confirmation dialog box.Click Yes to confirm and successfully delete a tag.", "Heading_Keywords": ["delet", "tag"]}, {"Heading": "Era Upgrade Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-upgrading-the-version-c.html", "Document Name": "Era User Guide", "Content": "You can upgrade to a new version of Era to use the latest available features. As part of the upgrade process, the Era server is upgraded first followed by the all the Era cluster agents and database server agents in parallel. The Dashboard displays the current version and an option to upgrade the Era server to a latest version when a new version is available for upgrade.Figure. Upgrade Version DetailsClick to enlargeYou can upgrade Era in the following two ways:One-click Upgrade - If the Era Server is already connected to the internet, the system automatically detects the latest version and you can perform the one-click upgrade operation (see Upgrading Era (One-Click Upgrade).Offline Upgrade (CLI) - If the Era server is not connected to the internet, you can upgrade the server in offline mode by performing the manual CLI upgrade operation (see Upgrading Era (Offline Upgrade). Both methods require some application downtime to ensure that Era lose no data during the upgrade. Upgrading Era (One-Click Upgrade)If the Era Server is already connected to the internet, the system automatically detects the latest version and you can perform the one-click upgrade operation.Upgrading Era (Offline Upgrade)If the Era server is not connected to the internet, you can upgrade the server in offline mode by performing the manual CLI upgrade operation.Upgrading Era (One-Click Upgrade)If the Era Server is already connected to the internet, the system automatically detects the latest version and you can perform the one-click upgrade operation.About this taskPerform the following procedure to upgrade Era to a latest available version by using the one-click upgrade method.ProcedureFrom the drop-down list of the main menu, select Administration > Maintenance.Alternatively, on the Dashboard, click the Upgrade Available option.Do one of the following:Download the latest available version.Upload an upgrade bundle.(Download the latest available version). Select the check box for the version that you want to upgrade to, and click Download.Wait until Era completes the download of the new version from the Nutanix Support Portal.Figure. Downloading a Latest Available VersionClick to enlarge(Upload an upgrade bundle). Do the following:Download the upgrade bundle from the Nutanix Support portal.Under Upload an Upgrade Bundle, click Upload and select the file that you have downloaded.Select the version that you want to upgrade to, and click Upgrade Now.A message appears indicating that the operation to upgrade Era has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation. You cannot perform any actions in the Era until the upgrade is complete.After the upgrade is successful, Era refreshes the page to reflect the latest version.After you upgrade to the Era version 2.0, you will be prompted to update the vCenter credentials if the cluster is running on ESXi hypervisor. The following message is shown at the top of all the pages in Era until you update the vCenter credentials.vCenter credentials are required. Click here to go to Administration page for updating the credentials.For more information, see Era Service Management.Upgrading Era (Offline Upgrade)If the Era server is not connected to the internet, you can upgrade the server in offline mode by performing the manual CLI upgrade operation.About this taskPerform the following procedure to upgrade Era to a latest available version by using the offline upgrade (CLI) method.ProcedureDownload the upgrade bundle from the Nutanix Support portal.Upload the downloaded file to the Era server that you want to upgrade.Launch the Era CLI on the Era server.era > upgrade upload_bundle path=path_to_upgrade_bundleOn the Era user interface, go to Administration > Maintenance. Select the uploaded version and click Upgrade Now.Note: You cannot perform any actions in the Era until the upgrade is complete.", "Heading_Keywords": ["era", "upgrad", "manag"]}, {"Heading": "Upgrading Era (One-Click Upgrade)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-upgrading-the-version-using-one-click-t.html", "Document Name": "Era User Guide", "Content": "If the Era Server is already connected to the internet, the system automatically detects the latest version and you can perform the one-click upgrade operation.About this taskPerform the following procedure to upgrade Era to a latest available version by using the one-click upgrade method.ProcedureFrom the drop-down list of the main menu, select Administration > Maintenance.Alternatively, on the Dashboard, click the Upgrade Available option.Do one of the following:Download the latest available version.Upload an upgrade bundle.(Download the latest available version). Select the check box for the version that you want to upgrade to, and click Download.Wait until Era completes the download of the new version from the Nutanix Support Portal.Figure. Downloading a Latest Available VersionClick to enlarge(Upload an upgrade bundle). Do the following:Download the upgrade bundle from the Nutanix Support portal.Under Upload an Upgrade Bundle, click Upload and select the file that you have downloaded.Select the version that you want to upgrade to, and click Upgrade Now.A message appears indicating that the operation to upgrade Era has started. Click the message to monitor the progress of the operation. Alternatively, select Operations in the drop-down list of the main menu to monitor the progress of the operation. You cannot perform any actions in the Era until the upgrade is complete.After the upgrade is successful, Era refreshes the page to reflect the latest version.After you upgrade to the Era version 2.0, you will be prompted to update the vCenter credentials if the cluster is running on ESXi hypervisor. The following message is shown at the top of all the pages in Era until you update the vCenter credentials.vCenter credentials are required. Click here to go to Administration page for updating the credentials.For more information, see Era Service Management.", "Heading_Keywords": ["upgrad", "era", "one", "click", "upgrad"]}, {"Heading": "Upgrading Era (Offline Upgrade)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-upgrading-the-version-using-cli-t.html", "Document Name": "Era User Guide", "Content": "If the Era server is not connected to the internet, you can upgrade the server in offline mode by performing the manual CLI upgrade operation.About this taskPerform the following procedure to upgrade Era to a latest available version by using the offline upgrade (CLI) method.ProcedureDownload the upgrade bundle from the Nutanix Support portal.Upload the downloaded file to the Era server that you want to upgrade.Launch the Era CLI on the Era server.era > upgrade upload_bundle path=path_to_upgrade_bundleOn the Era user interface, go to Administration > Maintenance. Select the uploaded version and click Upgrade Now.Note: You cannot perform any actions in the Era until the upgrade is complete.", "Heading_Keywords": ["upgrad", "era", "offlin", "upgrad"]}, {"Heading": "Downloading the Diagnostics Bundle", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-downloading-diagnostic-t.html", "Document Name": "Era User Guide", "Content": "If you are experiencing issues with Era or entities registered with Era, you can download a diagnostic bundle and then share the diagnostics bundle with Nutanix Support for troubleshooting the issues. The diagnostics bundle helps Nutanix support to further investigate the problem.About this taskPerform the following procedure to download a diagnostic bundle:ProcedureFrom the drop-down list of the main menu, select Administration > Diagnostics.Select the Era server, an entity, or both for which you want to download the diagnostics bundle.Figure. Downloading a Diagnostic BundleClick to enlargeClick Download.Wait until Era completes the generation of the diagnostics bundle. This step downloads a diagnostic bundle to your local system. You can then share the diagnostics bundle with Nutanix Support.", "Heading_Keywords": ["download", "diagnost", "bundl"]}, {"Heading": "Era Utilities", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-utilities-c.html", "Document Name": "Era User Guide", "Content": "Database Server VM Registration Pre-requirement ChecksDatabase Server VM Registration Pre-requirement ChecksTo successfully register a database server VM to Era, database server VM must satisfy all the required software and configuration dependencies. When you are registering a database server VM, Era performs few checks to ensure if database server VM meets all the requirements to be successfully registered with Era. If database server VM fails to meet all the required dependencies, Era displays the following validation report.Figure. Pre-requirement Validation Report Sample OutputClick to enlarge(Optional) On Era CLI, you can run the following command to ensure if database server VM meets all the requirements to be successfully registered with Era.era > dbserver add ip=<ip_address> cluster_name=<cluster_name> info_file=<info_file>Downloading Pre-requirement Script (CLI)You can download and run the pre-requirement script to successfully register a database server to Era service.Downloading Pre-requirement Script (GUI)You can download and run the pre-requirement script to successfully register a database server to Era service.Running Pre-requirement Script (Linux)Downloading the Uninstall Script (GUI)If cleanup operations fail and thus Era fails to remove its components from the database server, you can download the uninstall script. You need to copy and execute this script on your registered database server to uninstall all Era components.Downloading Pre-requirement Script (CLI)You can download and run the pre-requirement script to successfully register a database server to Era service.About this taskTo download the pre-requirement script using CLI, perform the following procedure.ProcedureLaunch Era CLI.Download pre-checks script.era > era_util download type=pre_checks platform=<platform_type> output_file_path=<path_to_output_file>Downloading Pre-requirement Script (GUI)You can download and run the pre-requirement script to successfully register a database server to Era service.About this taskTo download the pre-requirement script from the user interface, perform the following procedure.ProcedureAt the top-right corner of the screen, select Downloads from the user drop-down list.Under Check Database Server, select either Download for Linux or Download for Windows.This step downloads the script file to your local machine.Running Pre-requirement Script (Linux)Before you beginEnsure that you copy the downloaded script file to the database server.About this taskTo print Era pre-requirement validation report in linux, perform the following procedure.ProcedureCheck if the database server meets all the requirements to be registered with Era.$ ./era_linux_prechecks.sh -t|--database_type database_type [-c|--cluster_ip cluster_ip] [-p|--cluster_port] [-d|--detailed]\nReplace the variables with the following:Replace database_type with the database name such as oracle_database, postgres_database, mariadb_database, or mysql_database.Replace cluster_ip with the IP address of the cluster.Note: In the above comand, -t is a required argument (database_type) while -c, -p & -d are the optional argument. It is recommended that you provide -c (cluster_ip) to validate whether Prism APIs are accessible from the database server. If -c is not provided, then at the end, a warning message Cluster API was not provided. Couldn't go ahead with the Prism API connectivity check. Please ensure Prism APIs are callable from the host. is displayed.This step displays the following pre-requirements validation report.Figure. Era Pre-requirements Validation Report Sample OutputClick to enlargeDownloading the Uninstall Script (GUI)If cleanup operations fail and thus Era fails to remove its components from the database server, you can download the uninstall script. You need to copy and execute this script on your registered database server to uninstall all Era components.About this taskTo download the uninstall script from the user interface, perform the following procedure.ProcedureAt the top-right corner of the screen, select Downloads from the user or admin drop-down list.Under Era Uninstall, select either Download for Linux or Download for Windows.This step downloads the script file to your local machine.", "Heading_Keywords": ["era", "util"]}, {"Heading": "Database Server VM Registration Pre-requirement Checks", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-dbserver-pre-requirement-checks-c.html", "Document Name": "Era User Guide", "Content": "To successfully register a database server VM to Era, database server VM must satisfy all the required software and configuration dependencies. When you are registering a database server VM, Era performs few checks to ensure if database server VM meets all the requirements to be successfully registered with Era. If database server VM fails to meet all the required dependencies, Era displays the following validation report.Figure. Pre-requirement Validation Report Sample OutputClick to enlarge(Optional) On Era CLI, you can run the following command to ensure if database server VM meets all the requirements to be successfully registered with Era.era > dbserver add ip=<ip_address> cluster_name=<cluster_name> info_file=<info_file>Downloading Pre-requirement Script (CLI)You can download and run the pre-requirement script to successfully register a database server to Era service.Downloading Pre-requirement Script (GUI)You can download and run the pre-requirement script to successfully register a database server to Era service.Running Pre-requirement Script (Linux)Downloading the Uninstall Script (GUI)If cleanup operations fail and thus Era fails to remove its components from the database server, you can download the uninstall script. You need to copy and execute this script on your registered database server to uninstall all Era components.Downloading Pre-requirement Script (CLI)You can download and run the pre-requirement script to successfully register a database server to Era service.About this taskTo download the pre-requirement script using CLI, perform the following procedure.ProcedureLaunch Era CLI.Download pre-checks script.era > era_util download type=pre_checks platform=<platform_type> output_file_path=<path_to_output_file>Downloading Pre-requirement Script (GUI)You can download and run the pre-requirement script to successfully register a database server to Era service.About this taskTo download the pre-requirement script from the user interface, perform the following procedure.ProcedureAt the top-right corner of the screen, select Downloads from the user drop-down list.Under Check Database Server, select either Download for Linux or Download for Windows.This step downloads the script file to your local machine.Running Pre-requirement Script (Linux)Before you beginEnsure that you copy the downloaded script file to the database server.About this taskTo print Era pre-requirement validation report in linux, perform the following procedure.ProcedureCheck if the database server meets all the requirements to be registered with Era.$ ./era_linux_prechecks.sh -t|--database_type database_type [-c|--cluster_ip cluster_ip] [-p|--cluster_port] [-d|--detailed]\nReplace the variables with the following:Replace database_type with the database name such as oracle_database, postgres_database, mariadb_database, or mysql_database.Replace cluster_ip with the IP address of the cluster.Note: In the above comand, -t is a required argument (database_type) while -c, -p & -d are the optional argument. It is recommended that you provide -c (cluster_ip) to validate whether Prism APIs are accessible from the database server. If -c is not provided, then at the end, a warning message Cluster API was not provided. Couldn't go ahead with the Prism API connectivity check. Please ensure Prism APIs are callable from the host. is displayed.This step displays the following pre-requirements validation report.Figure. Era Pre-requirements Validation Report Sample OutputClick to enlargeDownloading the Uninstall Script (GUI)If cleanup operations fail and thus Era fails to remove its components from the database server, you can download the uninstall script. You need to copy and execute this script on your registered database server to uninstall all Era components.About this taskTo download the uninstall script from the user interface, perform the following procedure.ProcedureAt the top-right corner of the screen, select Downloads from the user or admin drop-down list.Under Era Uninstall, select either Download for Linux or Download for Windows.This step downloads the script file to your local machine.", "Heading_Keywords": ["databas", "server", "vm", "registr", "pre", "requir", "check"]}, {"Heading": "Downloading Pre-requirement Script (CLI)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-download-pre-requirement-script-cli-t.html", "Document Name": "Era User Guide", "Content": "You can download and run the pre-requirement script to successfully register a database server to Era service.About this taskTo download the pre-requirement script using CLI, perform the following procedure.ProcedureLaunch Era CLI.Download pre-checks script.era > era_util download type=pre_checks platform=<platform_type> output_file_path=<path_to_output_file>", "Heading_Keywords": ["download", "pre", "requir", "script", "cli"]}, {"Heading": "Downloading Pre-requirement Script (GUI)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-download-pre-requirement-script-ui-t.html", "Document Name": "Era User Guide", "Content": "You can download and run the pre-requirement script to successfully register a database server to Era service.About this taskTo download the pre-requirement script from the user interface, perform the following procedure.ProcedureAt the top-right corner of the screen, select Downloads from the user drop-down list.Under Check Database Server, select either Download for Linux or Download for Windows.This step downloads the script file to your local machine.", "Heading_Keywords": ["download", "pre", "requir", "script", "gui"]}, {"Heading": "Running Pre-requirement Script (Linux)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-script-pre-requirement-linux-t.html", "Document Name": "Era User Guide", "Content": "Before you beginEnsure that you copy the downloaded script file to the database server.About this taskTo print Era pre-requirement validation report in linux, perform the following procedure.ProcedureCheck if the database server meets all the requirements to be registered with Era.$ ./era_linux_prechecks.sh -t|--database_type database_type [-c|--cluster_ip cluster_ip] [-p|--cluster_port] [-d|--detailed]\nReplace the variables with the following:Replace database_type with the database name such as oracle_database, postgres_database, mariadb_database, or mysql_database.Replace cluster_ip with the IP address of the cluster.Note: In the above comand, -t is a required argument (database_type) while -c, -p & -d are the optional argument. It is recommended that you provide -c (cluster_ip) to validate whether Prism APIs are accessible from the database server. If -c is not provided, then at the end, a warning message Cluster API was not provided. Couldn't go ahead with the Prism API connectivity check. Please ensure Prism APIs are callable from the host. is displayed.This step displays the following pre-requirements validation report.Figure. Era Pre-requirements Validation Report Sample OutputClick to enlarge", "Heading_Keywords": ["run", "pre", "requir", "script", "linux"]}, {"Heading": "Downloading the Uninstall Script (GUI)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-download-uninstall-script-ui-t.html", "Document Name": "Era User Guide", "Content": "If cleanup operations fail and thus Era fails to remove its components from the database server, you can download the uninstall script. You need to copy and execute this script on your registered database server to uninstall all Era components.About this taskTo download the uninstall script from the user interface, perform the following procedure.ProcedureAt the top-right corner of the screen, select Downloads from the user or admin drop-down list.Under Era Uninstall, select either Download for Linux or Download for Windows.This step downloads the script file to your local machine.", "Heading_Keywords": ["download", "uninstal", "script", "gui"]}, {"Heading": "Era Uninstallation", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-uninstall-era-c.html", "Document Name": "Era User Guide", "Content": "Uninstalling EraUninstalling EraAbout this taskPerform the following procedure to uninstall and remove Era.ProcedureIn the drop-down list of the main menu, select Databases. Go to Sources, select all the databases, and click Remove to remove all the databases from Era.Clicking Remove starts the database removal operation. You can view the progress of the operation on the Operations page.In the drop-down list of the main menu, select Databases. Go to Clones, select all the database clones, and click Delete to remove all the database clones from Era.In the drop-down list of the main menu, select Time Machines. Select the time machine of all the source databases and click Delete to remove all the database clones.In the drop-down list of the main menu, select Database Server VMs. Go to List, select all the database server VMs, and click Remove to remove all the database server VMs from Era.If a dialog box is displayed to delete the VMs, select the check box to delete all the VMs from the cluster if VMs are not needed.In the drop-down list of the main menu, select Profiles. Go to Softwares, select all the software profiles, and click Delete to remove all the profiles from Era.Wait for some time for all the database and database server VM removal operations to finish.From Prism, delete the Era VM from the cluster.", "Heading_Keywords": ["era", "uninstal"]}, {"Heading": "Uninstalling Era", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-uninstall-era-t.html", "Document Name": "Era User Guide", "Content": "About this taskPerform the following procedure to uninstall and remove Era.ProcedureIn the drop-down list of the main menu, select Databases. Go to Sources, select all the databases, and click Remove to remove all the databases from Era.Clicking Remove starts the database removal operation. You can view the progress of the operation on the Operations page.In the drop-down list of the main menu, select Databases. Go to Clones, select all the database clones, and click Delete to remove all the database clones from Era.In the drop-down list of the main menu, select Time Machines. Select the time machine of all the source databases and click Delete to remove all the database clones.In the drop-down list of the main menu, select Database Server VMs. Go to List, select all the database server VMs, and click Remove to remove all the database server VMs from Era.If a dialog box is displayed to delete the VMs, select the check box to delete all the VMs from the cluster if VMs are not needed.In the drop-down list of the main menu, select Profiles. Go to Softwares, select all the software profiles, and click Delete to remove all the profiles from Era.Wait for some time for all the database and database server VM removal operations to finish.From Prism, delete the Era VM from the cluster.", "Heading_Keywords": ["uninstal", "era"]}, {"Heading": "Additional Information: Generating an SSH Key (Windows)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Era-User-Guide-v2_0:era-era-generating-ssh-key-windows-t.html", "Document Name": "Era User Guide", "Content": "SSH keys establish a secure connection to a database server VM. SSH keys are required when you are provisioning or registering a database or database server VM. You can use SSH keys to log on to the provisioned database server VM.About this taskOn Windows, you can use PuTTYgen to generate an SSH key. Perform the following procedure to generate an SSH key in the Windows environment.ProcedureGo to Windows Start Menu > All Programs > PuTTY > PuTTYgen.For Type of key to generate, select SSH-2 RSA.Click Generate.Note: Keep moving your mouse in the PuTTYgen window for the progress bar to advance.When the progress bar is full, PuTTYgen generates the key pair.In Key passphrase, type a passphrase of the key.In Confirm passphrase, type the same passphrase.Click Save private key and select the location where you want to save the private key.In Public key for pasting into OpenSSH authorized_keys file, right-click and choose Select All.In the same field, right-click again and select Copy to copy the public key into a notepad and save it in the same location where you have saved the private key.", "Heading_Keywords": ["addit", "inform", "gener", "ssh", "key", "window"]}, {"Heading": "Introduction to Nutanix Calm", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nutanix-calm-product-introduction-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Nutanix Calm allows you to seamlessly select, provision, and manage your business applications across your infrastructure for both the private and public clouds. Nutanix Calm provides application lifecycle management, monitoring, and remediation to manage your heterogeneous infrastructure, for example, VMs or bare-metal servers. Nutanix Calm supports multiple platforms so that you can use the single self-service and automation interface to manage all your infrastructure. Nutanix Calm provides an interactive and user-friendly graphical user interface (GUI) to manage your infrastructure.Figure. Nutanix Calm ModelClick to enlargeSalient Features of Nutanix CalmApplication lifecycle management: Automates the provision and deletion of both traditional multi-tiered applications and modern distributed services by using the pre-integrated blueprints. Nutanix Calm makes the management of the applications simple in both private and public clouds.Customizable blueprints: Simplifies the setup and management of custom enterprise applications by incorporating the elements of each application, including the relevant VMs, configurations, and related binaries into an easy-to-use blueprint.Nutanix Marketplace: Publishes the application blueprints directly to the end users through marketplace. Governance: Maintains control with role-based governance to limit the user operations that are based on the permissions.Hybrid cloud management: Automates the provision of hybrid cloud architecture, scaling both multi-tiered and distributed applications across cloud environments, including AWS, VMware (on both Nutanix and non Nutanix platforms), GCP, and Azure.Certified ConfigurationsNutanix certifies the following Calm configuration.Support for IBM POWERNutanix Calm LicensingLocalizationCertified ConfigurationsNutanix certifies the following Calm configuration.Nutanix Calm capacity depends upon the total number of applications and blueprints including running and deleted ones.Prism Central Instance with Nutanix Calm EnabledVM sizeVMs configurationSupported number of VMsLarge8 vCPUs, 40 GB of memory, and 2500 GiB of storageManages up to 12500 VMsSmall4 vCPUs, 20 GB of memory, and 500 GiB of storage.Manages up to 2500 VMsNutanix Calm Certified ConfigurationsPrism Central VM sizeApplications and blueprintsLarge with 1200 running VMs5000Large with 12000 running VMs1700Small with 2500 running VMs2000Note: The listed applications and blueprints number include both running and deleted applications and blueprints. The performance tests are done by using blueprints and applications with five services each.If you reach the maximum capacity limit of Nutanix Calm, you can increase the RAM size of Prism Central VM to increase Nutanix Calm capacity.The application log archival functionality helps in cleaning up the database, which results in freeing up Nutanix Calm capacity.Nutanix Calm Scale Out CapacityIn a three-node Prism Central setup, you can increase the Nutanix Calm capacity by approximately two times as compared to single node setup.Support for IBM POWERNutanix Calm running on Prism Central with the x86 processor is qualified to successfully manage workloads on AHV with power cluster processors.Note: Nutanix Calm must be deployed on Prism Central running on the x86 processor and you can register power clusters with the Prism Central running on the x86 processor.Nutanix Calm LicensingNutanix Calm license for Prism Central enables you to manage VMs that are provisioned or managed by Nutanix Calm. Nutanix provides a free trial period for 60 days to try out Nutanix Calm.The most current information about your licenses is available in the Prism web console and Nutanix Support portal. For detailed information about the Nutanix Calm licensing feature, refer to the Prism Central Guide. LocalizationNutanix localizes the user interface in simplified Chinese and Japanese. All the static screens are translated to the selected language. You can change the language settings of the cluster from English (default) to simplified Chinese or Japanese. For information on how to change the language setting, refer to the Prism Central Guide.", "Heading_Keywords": ["introduct", "nutanix", "calm"]}, {"Heading": "Certified Configurations", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-calm-certified-configurations-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Nutanix certifies the following Calm configuration.Nutanix Calm capacity depends upon the total number of applications and blueprints including running and deleted ones.Prism Central Instance with Nutanix Calm EnabledVM sizeVMs configurationSupported number of VMsLarge8 vCPUs, 40 GB of memory, and 2500 GiB of storageManages up to 12500 VMsSmall4 vCPUs, 20 GB of memory, and 500 GiB of storage.Manages up to 2500 VMsNutanix Calm Certified ConfigurationsPrism Central VM sizeApplications and blueprintsLarge with 1200 running VMs5000Large with 12000 running VMs1700Small with 2500 running VMs2000Note: The listed applications and blueprints number include both running and deleted applications and blueprints. The performance tests are done by using blueprints and applications with five services each.If you reach the maximum capacity limit of Nutanix Calm, you can increase the RAM size of Prism Central VM to increase Nutanix Calm capacity.The application log archival functionality helps in cleaning up the database, which results in freeing up Nutanix Calm capacity.Nutanix Calm Scale Out CapacityIn a three-node Prism Central setup, you can increase the Nutanix Calm capacity by approximately two times as compared to single node setup.", "Heading_Keywords": ["certifi", "configur"]}, {"Heading": "Support for IBM POWER", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-support-for-ibm-power-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Nutanix Calm running on Prism Central with the x86 processor is qualified to successfully manage workloads on AHV with power cluster processors.Note: Nutanix Calm must be deployed on Prism Central running on the x86 processor and you can register power clusters with the Prism Central running on the x86 processor.", "Heading_Keywords": ["support", "ibm", "power"]}, {"Heading": "Nutanix Calm Licensing", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-licensing-calm-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Nutanix Calm license for Prism Central enables you to manage VMs that are provisioned or managed by Nutanix Calm. Nutanix provides a free trial period for 60 days to try out Nutanix Calm.The most current information about your licenses is available in the Prism web console and Nutanix Support portal. For detailed information about the Nutanix Calm licensing feature, refer to the Prism Central Guide. ", "Heading_Keywords": ["nutanix", "calm", "licens"]}, {"Heading": "Localization", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-localization-support-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Nutanix localizes the user interface in simplified Chinese and Japanese. All the static screens are translated to the selected language. You can change the language settings of the cluster from English (default) to simplified Chinese or Japanese. For information on how to change the language setting, refer to the Prism Central Guide.", "Heading_Keywords": ["local"]}, {"Heading": "Pre-configuration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-installation-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must configure the following components before you start using Nutanix Calm.Image configuration for VM: If you are using Nutanix as your provider, you must add and configure the image for your VMs. For more information, see Image Configuration. SSH key (optional): You can use SSH keys as authentication methods while configuring blueprints. LDAP: LDAP is the Lightweight Directory Access Protocol used to configure and authenticate users or user groups. Configure LDAP to authenticate users or group of users to use Calm. For more information about LDAP, see Configuring Authentication section in the Prism Central Guide.SSP: The Prism Self Service feature allows you to create projects within an enterprise. Users or group of users can provision and manage VMs in a self-service manner, without having to engage IT in day-to-day operations. For more information, see Prism Self Service Administration section in the Prism Central Guide.Image ConfigurationSSH KeysCredential Security Support ProviderImage ConfigurationAn image is a virtual hard disk file that is used as a template for creating a VM. If you are configuring a blueprint for Nutanix provider, you must add an image during VM configuration. Images are provider-specific and you can upload images to the Prism Central or Prism web console and use the images while configuring the blueprints. For more information, see Image Management section in the Prism Central guide. SSH KeysYou can use SSH keys as authentication methods while configuring or launching a blueprint. This section describes the procedure to generate SSH key on a Linux or Windows VM.Generating SSH Key on a Linux VMPerform the following procedure to generate an SSH key pair on Linux VM. Generating SSH Key on a Windows VMPerform the following procedure to generate an SSH key pair for Windows.Generating SSH Key on a Linux VMPerform the following procedure to generate an SSH key pair on Linux VM. About this taskNote: Nutanix does not recommend generating RSA key pair on Prism Central VM or CVM.ProcedureRun the following shell command to generate an RSA key pair on your local machine.$ ssh-keygen -t rsaAccept the default file location as ~/.ssh/id_rsa.The public key is available at ~/.ssh/id_rsa.pub and the private key is available at ~/.ssh/id_rsa.Note: Do not share your private key with anyone.Generating SSH Key on a Windows VMPerform the following procedure to generate an SSH key pair for Windows.About this taskNote: Nutanix does not recommend generating RSA key pair on Prism Central VM or CVM.ProcedureLaunch PuTTygen.Move the mouse cursor in the blank area and click Generate.To convert the private key into an OpenSSH format, select Conversions > Export OpenSSH key.PuTTygen warning message appears.Click Yes to save the key without a pass-phrase.To save the key, browse to a directory in your local system and select the location.Enter a name for the key.Click Save.Copy the public key (highlighted in the following image) into a notepad and save the key in the same location as the private key.Figure. Public KeyClick to enlargeCredential Security Support ProviderThe Credential Security Support Provider (CredSSP) protocol is a security support provider that is implemented by using the Security Support Provider Interface (SSPI). CredSSP allows an application to delegate the credentials of a user from the client to the target server for remote authentication. CredSSP provides an encrypted transport layer security protocol channel. The client is authenticated over the encrypted channel by using the Simple and Protected Negotiate (SPNEGO) protocol with either Microsoft Kerberos or Microsoft NTLM. For more information, refer to the Microsoft Documentation.Enabling CredSSPPerform the following procedure to enable CredSSP.Enabling CredSSPPerform the following procedure to enable CredSSP.ProcedureRun the following command to enable CredSSP on the target machine.> Enable-WSManCredSSP -Role Server -Force", "Heading_Keywords": ["pre", "configur"]}, {"Heading": "Image Configuration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-image-configuration-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "An image is a virtual hard disk file that is used as a template for creating a VM. If you are configuring a blueprint for Nutanix provider, you must add an image during VM configuration. Images are provider-specific and you can upload images to the Prism Central or Prism web console and use the images while configuring the blueprints. For more information, see Image Management section in the Prism Central guide. ", "Heading_Keywords": ["imag", "configur"]}, {"Heading": "SSH Keys", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-ssh-keys-for-linux-and-windows.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You can use SSH keys as authentication methods while configuring or launching a blueprint. This section describes the procedure to generate SSH key on a Linux or Windows VM.Generating SSH Key on a Linux VMPerform the following procedure to generate an SSH key pair on Linux VM. Generating SSH Key on a Windows VMPerform the following procedure to generate an SSH key pair for Windows.Generating SSH Key on a Linux VMPerform the following procedure to generate an SSH key pair on Linux VM. About this taskNote: Nutanix does not recommend generating RSA key pair on Prism Central VM or CVM.ProcedureRun the following shell command to generate an RSA key pair on your local machine.$ ssh-keygen -t rsaAccept the default file location as ~/.ssh/id_rsa.The public key is available at ~/.ssh/id_rsa.pub and the private key is available at ~/.ssh/id_rsa.Note: Do not share your private key with anyone.Generating SSH Key on a Windows VMPerform the following procedure to generate an SSH key pair for Windows.About this taskNote: Nutanix does not recommend generating RSA key pair on Prism Central VM or CVM.ProcedureLaunch PuTTygen.Move the mouse cursor in the blank area and click Generate.To convert the private key into an OpenSSH format, select Conversions > Export OpenSSH key.PuTTygen warning message appears.Click Yes to save the key without a pass-phrase.To save the key, browse to a directory in your local system and select the location.Enter a name for the key.Click Save.Copy the public key (highlighted in the following image) into a notepad and save the key in the same location as the private key.Figure. Public KeyClick to enlarge", "Heading_Keywords": ["ssh", "key"]}, {"Heading": "Generating SSH Key on a Linux VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-generating-private-key-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Perform the following procedure to generate an SSH key pair on Linux VM. About this taskNote: Nutanix does not recommend generating RSA key pair on Prism Central VM or CVM.ProcedureRun the following shell command to generate an RSA key pair on your local machine.$ ssh-keygen -t rsaAccept the default file location as ~/.ssh/id_rsa.The public key is available at ~/.ssh/id_rsa.pub and the private key is available at ~/.ssh/id_rsa.Note: Do not share your private key with anyone.", "Heading_Keywords": ["gener", "ssh", "key", "linux", "vm"]}, {"Heading": "Generating SSH Key on a Windows VM", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-generating-ssh-key-windows-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Perform the following procedure to generate an SSH key pair for Windows.About this taskNote: Nutanix does not recommend generating RSA key pair on Prism Central VM or CVM.ProcedureLaunch PuTTygen.Move the mouse cursor in the blank area and click Generate.To convert the private key into an OpenSSH format, select Conversions > Export OpenSSH key.PuTTygen warning message appears.Click Yes to save the key without a pass-phrase.To save the key, browse to a directory in your local system and select the location.Enter a name for the key.Click Save.Copy the public key (highlighted in the following image) into a notepad and save the key in the same location as the private key.Figure. Public KeyClick to enlarge", "Heading_Keywords": ["gener", "ssh", "key", "window", "vm"]}, {"Heading": "Credential Security Support Provider", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-credential-security-support-provider-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The Credential Security Support Provider (CredSSP) protocol is a security support provider that is implemented by using the Security Support Provider Interface (SSPI). CredSSP allows an application to delegate the credentials of a user from the client to the target server for remote authentication. CredSSP provides an encrypted transport layer security protocol channel. The client is authenticated over the encrypted channel by using the Simple and Protected Negotiate (SPNEGO) protocol with either Microsoft Kerberos or Microsoft NTLM. For more information, refer to the Microsoft Documentation.Enabling CredSSPPerform the following procedure to enable CredSSP.Enabling CredSSPPerform the following procedure to enable CredSSP.ProcedureRun the following command to enable CredSSP on the target machine.> Enable-WSManCredSSP -Role Server -Force", "Heading_Keywords": ["credenti", "secur", "support", "provid"]}, {"Heading": "Enabling CredSSP", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-enabling-credssp-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Perform the following procedure to enable CredSSP.ProcedureRun the following command to enable CredSSP on the target machine.> Enable-WSManCredSSP -Role Server -Force", "Heading_Keywords": ["enabl", "credssp"]}, {"Heading": "Getting Started", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-enabling-nutanix-calm.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Pre-requisites for Enabling Nutanix CalmBefore you enable Nutanix Calm from Prism Central, ensure that you have met the following pre-requisites.Enabling Nutanix CalmYou must enable Calm from the Prism Central to start using Calm. Perform the following procedure to enable Nutanix Calm.Migrating to Integrated Linux Based PowerShell Gateway from Karan ServiceIntegrated Linux based PowerShell gateway is an inbuilt microservice of Calm that is used to run Windows PowerShell scripts. You do not have to install any Windows VM separately or install Karan service manually to run the PowerShell scripts in Calm. Perform the following task to run the PowerShell scripts in Calm.Exploring Nutanix CalmNutanix Calm allows you to take a quick tour to explore Calm user interface and understand the overview of Calm components. Perform the following procedure to explore Nutanix Calm.Launching a Blueprint InstantaneouslyAfter enabling Nutanix Calm, you can launch an application blueprint instantaneously with or without configuring a project or a provider. Perform the following procedure to launch an application blueprint instantaneously.Nutanix Calm UpgradesAccessing Calm REST API ExplorerPerform the following procedure to access the Calm REST API explorer console from the Calm user interface.Pre-requisites for Enabling Nutanix CalmBefore you enable Nutanix Calm from Prism Central, ensure that you have met the following pre-requisites.Prism Central is running on AOS 5.17 or above.Prism Central must be installed on a Nutanix cluster running on AOS version 5.17 or above.The Prism Central in which Nutanix Calm is running is registered with the same cluster.Note: Nutanix Calm is supported only on AHV and ESXi hypervisors on a Nutanix cluster.Nutanix Calm is not supported on Hyper-V cluster.Nutanix Calm does not support vSphere essential edition. If you try to enable Calm with vSphere essential edition license, you get a failure notification because hot-pluggable virtual hardware is not supported by vSphere essential edition.Configure a unique data service IP address in Prism web console cluster running on Prism Central. For more information about configuring data service IP address, see the Modifying Cluster Details in the Prism Web Console Guide.Note: Do not change the data service IP address after Calm enablement.Allocate minimum of 4 GB of memory for a small Prism Central and 8 GB of memory for large Prism Central.Open all the required ports to communicate between a Prism web console and the Prism Central. For more information about ports, see Port Information.Ensure that the DNS server is reachable from the Prism Central. Unreachable DNS server from the Prism Central can cause slow deployment of Calm. Port InformationThe following table describes the required ports to communicate with Nutanix Calm.Port InformationThe following table describes the required ports to communicate with Nutanix Calm.Table 1. Port InformationPort numberDirectionTargetRequired for3205InboundIP address for all Controller VM on the Prism Element cluster hosting Prism Central VM iSCSI data connection from Prism Central VM to the Calm volume group in the Prism Element cluster.3260InboundVirtual IP address of Prism Element cluster hosting the Prism Central VM.iSCSI control plane connection from Prism Central VM to the Calm volume group in the Prism Element cluster.22 or any SSH portInboundTarget Linux VM , managed by Calm.Calm connection to the target VM for running shell script types.5985 or any non-SSL port InboundTarget Windows VM, managed by Calm.Non-SSL communication port for Calm to run PowerShell or shell script types.The incoming connections from the Prism Central VM must be allowed on the Target Windows VM.5986 InboundTarget Windows VM, managed by Calm. SSL communication port for Calm to run PowerShell or shell script types.The incoming connections from the Prism Central VM must be allowed on the Target Windows VM.443InboundCloud API endpointCommunicates from Prism Central to the respective endpoint of the API. Enabling Nutanix CalmYou must enable Calm from the Prism Central to start using Calm. Perform the following procedure to enable Nutanix Calm.Before you beginEnsure that you have met the pre-requisites to enable Nutanix Calm. For more information, see Pre-requisites for Enabling Nutanix Calm.Note: If the Prism web console is not registered from a Prism Central and the application blueprints have subnet, image, or VMs on the Prism web console, the Nutanix Calm functionality is impacted.ProcedureLog on to Prism Central with your local ADMIN account. For detailed information on how to install and log on to Prism Central, see the Prism Central Guide.From the Prism Central UI, click Services > Calm.Click Enable .Note: The Enable option appears only if you have logged on to the Prism Central with local ADMIN account.When Calm is enabled, an extra 8 GiB RAM for large Prism Central and 4 GiB for small Prism Central is allocated automatically to maintain the performance of the infrastructure.After Nutanix Calm is successfully enabled, the Calm UI is displayed.Migrating to Integrated Linux Based PowerShell Gateway from Karan ServiceIntegrated Linux based PowerShell gateway is an inbuilt microservice of Calm that is used to run Windows PowerShell scripts. You do not have to install any Windows VM separately or install Karan service manually to run the PowerShell scripts in Calm. Perform the following task to run the PowerShell scripts in Calm.About this taskNote: Installing Karan service manually is no longer supported in Calm version 2.10 or above.Before you beginEnsure that you have met the following requirements.Calm version is 2.5.0 and above.If you use Windows iso image, remoting is enabled and the 5985, 5986 ports are opened in the Windows disk image or in Sysprep XML.Script type is defined as PowerShell to execute the PowerShell scripts.Select the connection type as Windows(PowerShell) from the Connection Type drop-down list while configuring a VM.ProcedureIf you want to run the PowerShell scripts in default execution mode, integrated Linux based PowerShell gateway runs the script by creating a remote PowerShell session and runs the script with NTLM authentication mode.The following example displays a sample PowerShell script that runs in default execution mode.> Install-windowsfeature -name AD-Domain-Services \u2013IncludeManagementToolsIf the PowerShell scripts need elevated privileges, enable the CredSSP server role in the target machine by running the following command.> Enable-WSManCredSSP -Role Server -ForceThe following example displays a sample PowerShell script that needs the elevated privileges.> Install-windowsfeature -name AD-Domain-Services \u2013IncludeManagementToolsIntegrated Linux Based PowerShell Gateway ErrorsIntegrated Linux Based PowerShell Gateway ErrorsWhen you try to run the PowerShell scripts by using the integrated Linux based PowerShell gateway, you might encounter the following errors. Access denied: If a VM and the WinRM service are started but the specified credential is wrong. This can happen in the following cases.If you mention the local account credential for a domain member machine. You can resolve the issue by mentioning the domain credentials.If the script requires elevated privileges and the CredSSP is not enabled on the target machine. You can resolve the issue by enabling the CredSSP on the target machine.Connection refused: You might encounter the connection refusal error in the following conditions.If a VM is not started but Calm is trying to do a check-login or run a PowerShell task. You can resolve the issue by adding a delay time task. For more details, see Creating a Delay Task.If Calm is not able to communicate with the target machine. You can resolve the issue by allowing the connection to the port used to contact the target machine. Ensure that all the firewalls between the Prism Central and the target machine allow connections to the port.Exploring Nutanix CalmNutanix Calm allows you to take a quick tour to explore Calm user interface and understand the overview of Calm components. Perform the following procedure to explore Nutanix Calm.Before you beginEnsure that Calm is enabled.ProcedureDo one of the following.If you are enabling Calm for the first time, click Explore Calm.Click the  icon on the bottom-left pane and click Explore Calm.Do one of the following. To know more about Calm components, click either the right or left arrow key. To skip the tour, click Skip tour. Launching a Blueprint InstantaneouslyAfter enabling Nutanix Calm, you can launch an application blueprint instantaneously with or without configuring a project or a provider. Perform the following procedure to launch an application blueprint instantaneously.ProcedureDo one of the following.If you are enabling Calm for the first time, click Launch Blueprint.Click the  icon on the bottom-left pane and click Launch Blueprint.The Quick Launch a Blueprint page appears.In the Select Blueprint tab, click the application blueprint you want to launch and click Next.In the Select Project tab, click the project you want to add to the application blueprint and click Next.Projects are logical groupings of user roles, providers, VM templates, and credentials used to manage and launch blueprints within your organization. If you have not configured any project, you can select the default project.Note: The default project is configured with Nutanix provider.In the Select App Profile tab, select the application profiles you want to add to your blueprint and click Next.  Application profiles are profiles for different datacenters or cloud services where you want to run your application. If you have not configured any application profile, you can select the default profile.Note: The default profile is already configured with Nutanix provider. In the Preview and Launch tab, type a name for your application and click Launch and Create App.The Preview and Launch tab displays the VM details of your application.The blueprint application is created and is provisioned. You can view the details of the blueprint application in the Applications tab.Nutanix Calm UpgradesYou can upgrade Nutanix Calm or Epsilon by using the Life Cycle Manager (LCM) from the Prism Central. Epsilon is the orchestration engine used by Nutanix Calm. For more information , see Life Cycle Manager.Life Cycle ManagerLife Cycle ManagerThe Life Cycle Manager (LCM) allows you to track and upgrade the Nutanix Calm and Epsilon versions in Prism Central. Note: LCM 2.1 and above support Nutanix Calm and Epsilon upgrades.Performing Inventory with the Life Cycle ManagerUse LCM to display the software and firmware versions of the entities in the cluster.Upgrading Nutanix Calm with the Life Cycle ManagerUse LCM to upgrade Nutanix Calm and Epsilon to the latest available versions. LCM allows you to upgrade Nutanix Calm or Epsilon independently or simultaneously. Upgrading Nutanix Calm at a Dark SiteBy default, LCM automatically fetches updates from a pre-configured URL. If LCM fails to access the configured URL to fetch updates, you can configure the LCM to fetch updates locally to upgrade Calm and Epsilon. Perform the following procedure to upgrade Calm and Epsilon at a dark site.Performing Inventory with the Life Cycle ManagerUse LCM to display the software and firmware versions of the entities in the cluster.ProcedureIn Prism Central, click the gearbox icon to open the Settings page and select Life Cycle Management in the sidebar.Prism Central opens the Life Cycle Manager page.Figure. SettingsClick to enlargeClick Options >  Perform Inventory.If you do not have auto-update enabled, and a new version of the LCM framework is available, LCM shows a warning message: Figure. Perform InventoryClick to enlargeClick OK.The LCM displays all discovered entities.To view the current Calm and Epsilon versions, click View All.Figure. All UpdatesClick to enlargeThe entity shows the current version, as well as the date and time of the most recent update.Click All Updates to return to the Life Cycle Manager page.Upgrading Nutanix Calm with the Life Cycle ManagerUse LCM to upgrade Nutanix Calm and Epsilon to the latest available versions. LCM allows you to upgrade Nutanix Calm or Epsilon independently or simultaneously. Before you beginConfigure rules in your external firewall to allow LCM updates. For more details, see the Firewall Requirements section in the Prism Web Console Guide.Run a successful inventory operation before upgrading Calm or Epsilon.ProcedureIn Prism Central, click the gearbox icon to open the Settings page and select Life Cycle Management in the sidebar.The Life Cycle Manager page appears.Figure. SettingsClick to enlargeClick Edit and select Nutanix Calm. By default, Epsilon is selected.Note: Do not select only Epsilon to update.Click Change.Define Version window is displayed.Select the check-box next to the version that you want to upgrade.Click Save.You can also update the services from the Options drop-down menu.To perform all available updates, select Update All.To perform only required updates, select Update Required.To perform only updates you have selected, select Update Selected. (If you have not selected any updates, this has the same effect as Update All).Upgrading Nutanix Calm at a Dark SiteBy default, LCM automatically fetches updates from a pre-configured URL. If LCM fails to access the configured URL to fetch updates, you can configure the LCM to fetch updates locally to upgrade Calm and Epsilon. Perform the following procedure to upgrade Calm and Epsilon at a dark site.Before you beginEnsure that LCM version is 2.3 or above.ProcedureSet up a local web server that is reachable by all your Nutanix clusters. (Use this server to host the LCM repository.)Note: For more information about setting up a local web server, click here.Form Calm 3.0.0.2 release, create a MIME type called '.xz' with the type set as text/plain when setting up a Windows local web server for LCM dark site upgrade.From a device that has public Internet access, go to the Nutanix portal and select Downloads > Calm. Choose the required version and download Nucalm-X.X.X.X.ZIP and Epsilon-X.X.X.X.Zip tar files. X.X.X.X represents the Calm and Epsilon versions.Transfer Nucalm-X.X.X.X.ZIP and Nucalm-X.X.X.X.Zip tar files to your local web server and extract the files into local directory release.After you extract and save the files in release folder, you can view the following files.Nucalm-X.X.X.X.Ziprelease/builds/calm-builds/x.x.x.x/metadata.jsonrelease/builds/calm-builds/x.x.x.x/metadata.signrelease/builds/calm-builds/x.x.x.x/nucalm.tar.gzEpsilon-X.X.X.X.Ziprelease/builds/epsilon-builds/x.x.x.x/metadata.jsonrelease/builds/epsilon-builds/x.x.x.x/metadata.signrelease/builds/epsilon-builds/x.x.x.x/epsilon.tar.gzFrom a device that has public Internet access, go to the Nutanix portal and select Downloads > Calm. Download nutanix_compatibility.tgz and nutanix_compatibility.tgz.sign tar files.Transfer the compatibility tar files to your local web server and replace the files in the /release folder.Replace the existing compatibility files with the new files.Log on to Prism Central.On the LCM page, click Settings.In the Fetch updates from field, enter the path to the directory where you extracted the tar file on your local server. Use the format http://webserver_IP_address/release.Click Save.You return to the Life Cycle Manager.Select Inventory in the LCM sidebar and click Perform Inventory.Update the LCM framework before trying to update any other component.The LCM sidebar now shows the LCM framework with the same version as the file you downloaded.Accessing Calm REST API ExplorerPerform the following procedure to access the Calm REST API explorer console from the Calm user interface.ProcedureClick the icon on the bottom-left corner.The About Nutanix  page appears. Click the Calm Rest API Explorer link.The Calm REST API explorer interface appears.", "Heading_Keywords": ["get", "start"]}, {"Heading": "Pre-requisites for Enabling Nutanix Calm", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-pre-requisites-to-enabale-nutanix-calm-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Before you enable Nutanix Calm from Prism Central, ensure that you have met the following pre-requisites.Prism Central is running on AOS 5.17 or above.Prism Central must be installed on a Nutanix cluster running on AOS version 5.17 or above.The Prism Central in which Nutanix Calm is running is registered with the same cluster.Note: Nutanix Calm is supported only on AHV and ESXi hypervisors on a Nutanix cluster.Nutanix Calm is not supported on Hyper-V cluster.Nutanix Calm does not support vSphere essential edition. If you try to enable Calm with vSphere essential edition license, you get a failure notification because hot-pluggable virtual hardware is not supported by vSphere essential edition.Configure a unique data service IP address in Prism web console cluster running on Prism Central. For more information about configuring data service IP address, see the Modifying Cluster Details in the Prism Web Console Guide.Note: Do not change the data service IP address after Calm enablement.Allocate minimum of 4 GB of memory for a small Prism Central and 8 GB of memory for large Prism Central.Open all the required ports to communicate between a Prism web console and the Prism Central. For more information about ports, see Port Information.Ensure that the DNS server is reachable from the Prism Central. Unreachable DNS server from the Prism Central can cause slow deployment of Calm. Port InformationThe following table describes the required ports to communicate with Nutanix Calm.Port InformationThe following table describes the required ports to communicate with Nutanix Calm.Table 1. Port InformationPort numberDirectionTargetRequired for3205InboundIP address for all Controller VM on the Prism Element cluster hosting Prism Central VM iSCSI data connection from Prism Central VM to the Calm volume group in the Prism Element cluster.3260InboundVirtual IP address of Prism Element cluster hosting the Prism Central VM.iSCSI control plane connection from Prism Central VM to the Calm volume group in the Prism Element cluster.22 or any SSH portInboundTarget Linux VM , managed by Calm.Calm connection to the target VM for running shell script types.5985 or any non-SSL port InboundTarget Windows VM, managed by Calm.Non-SSL communication port for Calm to run PowerShell or shell script types.The incoming connections from the Prism Central VM must be allowed on the Target Windows VM.5986 InboundTarget Windows VM, managed by Calm. SSL communication port for Calm to run PowerShell or shell script types.The incoming connections from the Prism Central VM must be allowed on the Target Windows VM.443InboundCloud API endpointCommunicates from Prism Central to the respective endpoint of the API. ", "Heading_Keywords": ["pre", "requisit", "enabl", "nutanix", "calm"]}, {"Heading": "Port Information", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-port-information-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The following table describes the required ports to communicate with Nutanix Calm.Table 1. Port InformationPort numberDirectionTargetRequired for3205InboundIP address for all Controller VM on the Prism Element cluster hosting Prism Central VM iSCSI data connection from Prism Central VM to the Calm volume group in the Prism Element cluster.3260InboundVirtual IP address of Prism Element cluster hosting the Prism Central VM.iSCSI control plane connection from Prism Central VM to the Calm volume group in the Prism Element cluster.22 or any SSH portInboundTarget Linux VM , managed by Calm.Calm connection to the target VM for running shell script types.5985 or any non-SSL port InboundTarget Windows VM, managed by Calm.Non-SSL communication port for Calm to run PowerShell or shell script types.The incoming connections from the Prism Central VM must be allowed on the Target Windows VM.5986 InboundTarget Windows VM, managed by Calm. SSL communication port for Calm to run PowerShell or shell script types.The incoming connections from the Prism Central VM must be allowed on the Target Windows VM.443InboundCloud API endpointCommunicates from Prism Central to the respective endpoint of the API. ", "Heading_Keywords": ["port", "inform"]}, {"Heading": "Enabling Nutanix Calm", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-install-configure-nutanix-calm-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must enable Calm from the Prism Central to start using Calm. Perform the following procedure to enable Nutanix Calm.Before you beginEnsure that you have met the pre-requisites to enable Nutanix Calm. For more information, see Pre-requisites for Enabling Nutanix Calm.Note: If the Prism web console is not registered from a Prism Central and the application blueprints have subnet, image, or VMs on the Prism web console, the Nutanix Calm functionality is impacted.ProcedureLog on to Prism Central with your local ADMIN account. For detailed information on how to install and log on to Prism Central, see the Prism Central Guide.From the Prism Central UI, click Services > Calm.Click Enable .Note: The Enable option appears only if you have logged on to the Prism Central with local ADMIN account.When Calm is enabled, an extra 8 GiB RAM for large Prism Central and 4 GiB for small Prism Central is allocated automatically to maintain the performance of the infrastructure.After Nutanix Calm is successfully enabled, the Calm UI is displayed.", "Heading_Keywords": ["enabl", "nutanix", "calm"]}, {"Heading": "Migrating to Integrated Linux Based PowerShell Gateway from Karan Service", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-migrating-to-gokaran-from-karan-service-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Integrated Linux based PowerShell gateway is an inbuilt microservice of Calm that is used to run Windows PowerShell scripts. You do not have to install any Windows VM separately or install Karan service manually to run the PowerShell scripts in Calm. Perform the following task to run the PowerShell scripts in Calm.About this taskNote: Installing Karan service manually is no longer supported in Calm version 2.10 or above.Before you beginEnsure that you have met the following requirements.Calm version is 2.5.0 and above.If you use Windows iso image, remoting is enabled and the 5985, 5986 ports are opened in the Windows disk image or in Sysprep XML.Script type is defined as PowerShell to execute the PowerShell scripts.Select the connection type as Windows(PowerShell) from the Connection Type drop-down list while configuring a VM.ProcedureIf you want to run the PowerShell scripts in default execution mode, integrated Linux based PowerShell gateway runs the script by creating a remote PowerShell session and runs the script with NTLM authentication mode.The following example displays a sample PowerShell script that runs in default execution mode.> Install-windowsfeature -name AD-Domain-Services \u2013IncludeManagementToolsIf the PowerShell scripts need elevated privileges, enable the CredSSP server role in the target machine by running the following command.> Enable-WSManCredSSP -Role Server -ForceThe following example displays a sample PowerShell script that needs the elevated privileges.> Install-windowsfeature -name AD-Domain-Services \u2013IncludeManagementToolsIntegrated Linux Based PowerShell Gateway ErrorsIntegrated Linux Based PowerShell Gateway ErrorsWhen you try to run the PowerShell scripts by using the integrated Linux based PowerShell gateway, you might encounter the following errors. Access denied: If a VM and the WinRM service are started but the specified credential is wrong. This can happen in the following cases.If you mention the local account credential for a domain member machine. You can resolve the issue by mentioning the domain credentials.If the script requires elevated privileges and the CredSSP is not enabled on the target machine. You can resolve the issue by enabling the CredSSP on the target machine.Connection refused: You might encounter the connection refusal error in the following conditions.If a VM is not started but Calm is trying to do a check-login or run a PowerShell task. You can resolve the issue by adding a delay time task. For more details, see Creating a Delay Task.If Calm is not able to communicate with the target machine. You can resolve the issue by allowing the connection to the port used to contact the target machine. Ensure that all the firewalls between the Prism Central and the target machine allow connections to the port.", "Heading_Keywords": ["migrat", "integr", "linux", "base", "powershel", "gateway", "karan", "servic"]}, {"Heading": "Integrated Linux Based PowerShell Gateway Errors", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-troubleshooting-gokaran-errors-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "When you try to run the PowerShell scripts by using the integrated Linux based PowerShell gateway, you might encounter the following errors. Access denied: If a VM and the WinRM service are started but the specified credential is wrong. This can happen in the following cases.If you mention the local account credential for a domain member machine. You can resolve the issue by mentioning the domain credentials.If the script requires elevated privileges and the CredSSP is not enabled on the target machine. You can resolve the issue by enabling the CredSSP on the target machine.Connection refused: You might encounter the connection refusal error in the following conditions.If a VM is not started but Calm is trying to do a check-login or run a PowerShell task. You can resolve the issue by adding a delay time task. For more details, see Creating a Delay Task.If Calm is not able to communicate with the target machine. You can resolve the issue by allowing the connection to the port used to contact the target machine. Ensure that all the firewalls between the Prism Central and the target machine allow connections to the port.", "Heading_Keywords": ["integr", "linux", "base", "powershel", "gateway", "error"]}, {"Heading": "Exploring Nutanix Calm", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-exploring-nutanix-calm-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Nutanix Calm allows you to take a quick tour to explore Calm user interface and understand the overview of Calm components. Perform the following procedure to explore Nutanix Calm.Before you beginEnsure that Calm is enabled.ProcedureDo one of the following.If you are enabling Calm for the first time, click Explore Calm.Click the  icon on the bottom-left pane and click Explore Calm.Do one of the following. To know more about Calm components, click either the right or left arrow key. To skip the tour, click Skip tour. ", "Heading_Keywords": ["explor", "nutanix", "calm"]}, {"Heading": "Launching a Blueprint Instantaneously", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-launching-a-blueprint-instantaneously-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "After enabling Nutanix Calm, you can launch an application blueprint instantaneously with or without configuring a project or a provider. Perform the following procedure to launch an application blueprint instantaneously.ProcedureDo one of the following.If you are enabling Calm for the first time, click Launch Blueprint.Click the  icon on the bottom-left pane and click Launch Blueprint.The Quick Launch a Blueprint page appears.In the Select Blueprint tab, click the application blueprint you want to launch and click Next.In the Select Project tab, click the project you want to add to the application blueprint and click Next.Projects are logical groupings of user roles, providers, VM templates, and credentials used to manage and launch blueprints within your organization. If you have not configured any project, you can select the default project.Note: The default project is configured with Nutanix provider.In the Select App Profile tab, select the application profiles you want to add to your blueprint and click Next.  Application profiles are profiles for different datacenters or cloud services where you want to run your application. If you have not configured any application profile, you can select the default profile.Note: The default profile is already configured with Nutanix provider. In the Preview and Launch tab, type a name for your application and click Launch and Create App.The Preview and Launch tab displays the VM details of your application.The blueprint application is created and is provisioned. You can view the details of the blueprint application in the Applications tab.", "Heading_Keywords": ["launch", "blueprint", "instantan"]}, {"Heading": "Nutanix Calm Upgrades", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nutanix-calm-upgrade.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You can upgrade Nutanix Calm or Epsilon by using the Life Cycle Manager (LCM) from the Prism Central. Epsilon is the orchestration engine used by Nutanix Calm. For more information , see Life Cycle Manager.Life Cycle ManagerLife Cycle ManagerThe Life Cycle Manager (LCM) allows you to track and upgrade the Nutanix Calm and Epsilon versions in Prism Central. Note: LCM 2.1 and above support Nutanix Calm and Epsilon upgrades.Performing Inventory with the Life Cycle ManagerUse LCM to display the software and firmware versions of the entities in the cluster.Upgrading Nutanix Calm with the Life Cycle ManagerUse LCM to upgrade Nutanix Calm and Epsilon to the latest available versions. LCM allows you to upgrade Nutanix Calm or Epsilon independently or simultaneously. Upgrading Nutanix Calm at a Dark SiteBy default, LCM automatically fetches updates from a pre-configured URL. If LCM fails to access the configured URL to fetch updates, you can configure the LCM to fetch updates locally to upgrade Calm and Epsilon. Perform the following procedure to upgrade Calm and Epsilon at a dark site.Performing Inventory with the Life Cycle ManagerUse LCM to display the software and firmware versions of the entities in the cluster.ProcedureIn Prism Central, click the gearbox icon to open the Settings page and select Life Cycle Management in the sidebar.Prism Central opens the Life Cycle Manager page.Figure. SettingsClick to enlargeClick Options >  Perform Inventory.If you do not have auto-update enabled, and a new version of the LCM framework is available, LCM shows a warning message: Figure. Perform InventoryClick to enlargeClick OK.The LCM displays all discovered entities.To view the current Calm and Epsilon versions, click View All.Figure. All UpdatesClick to enlargeThe entity shows the current version, as well as the date and time of the most recent update.Click All Updates to return to the Life Cycle Manager page.Upgrading Nutanix Calm with the Life Cycle ManagerUse LCM to upgrade Nutanix Calm and Epsilon to the latest available versions. LCM allows you to upgrade Nutanix Calm or Epsilon independently or simultaneously. Before you beginConfigure rules in your external firewall to allow LCM updates. For more details, see the Firewall Requirements section in the Prism Web Console Guide.Run a successful inventory operation before upgrading Calm or Epsilon.ProcedureIn Prism Central, click the gearbox icon to open the Settings page and select Life Cycle Management in the sidebar.The Life Cycle Manager page appears.Figure. SettingsClick to enlargeClick Edit and select Nutanix Calm. By default, Epsilon is selected.Note: Do not select only Epsilon to update.Click Change.Define Version window is displayed.Select the check-box next to the version that you want to upgrade.Click Save.You can also update the services from the Options drop-down menu.To perform all available updates, select Update All.To perform only required updates, select Update Required.To perform only updates you have selected, select Update Selected. (If you have not selected any updates, this has the same effect as Update All).Upgrading Nutanix Calm at a Dark SiteBy default, LCM automatically fetches updates from a pre-configured URL. If LCM fails to access the configured URL to fetch updates, you can configure the LCM to fetch updates locally to upgrade Calm and Epsilon. Perform the following procedure to upgrade Calm and Epsilon at a dark site.Before you beginEnsure that LCM version is 2.3 or above.ProcedureSet up a local web server that is reachable by all your Nutanix clusters. (Use this server to host the LCM repository.)Note: For more information about setting up a local web server, click here.Form Calm 3.0.0.2 release, create a MIME type called '.xz' with the type set as text/plain when setting up a Windows local web server for LCM dark site upgrade.From a device that has public Internet access, go to the Nutanix portal and select Downloads > Calm. Choose the required version and download Nucalm-X.X.X.X.ZIP and Epsilon-X.X.X.X.Zip tar files. X.X.X.X represents the Calm and Epsilon versions.Transfer Nucalm-X.X.X.X.ZIP and Nucalm-X.X.X.X.Zip tar files to your local web server and extract the files into local directory release.After you extract and save the files in release folder, you can view the following files.Nucalm-X.X.X.X.Ziprelease/builds/calm-builds/x.x.x.x/metadata.jsonrelease/builds/calm-builds/x.x.x.x/metadata.signrelease/builds/calm-builds/x.x.x.x/nucalm.tar.gzEpsilon-X.X.X.X.Ziprelease/builds/epsilon-builds/x.x.x.x/metadata.jsonrelease/builds/epsilon-builds/x.x.x.x/metadata.signrelease/builds/epsilon-builds/x.x.x.x/epsilon.tar.gzFrom a device that has public Internet access, go to the Nutanix portal and select Downloads > Calm. Download nutanix_compatibility.tgz and nutanix_compatibility.tgz.sign tar files.Transfer the compatibility tar files to your local web server and replace the files in the /release folder.Replace the existing compatibility files with the new files.Log on to Prism Central.On the LCM page, click Settings.In the Fetch updates from field, enter the path to the directory where you extracted the tar file on your local server. Use the format http://webserver_IP_address/release.Click Save.You return to the Life Cycle Manager.Select Inventory in the LCM sidebar and click Perform Inventory.Update the LCM framework before trying to update any other component.The LCM sidebar now shows the LCM framework with the same version as the file you downloaded.", "Heading_Keywords": ["nutanix", "calm", "upgrad"]}, {"Heading": "Life Cycle Manager", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-life-cycle-manager-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The Life Cycle Manager (LCM) allows you to track and upgrade the Nutanix Calm and Epsilon versions in Prism Central. Note: LCM 2.1 and above support Nutanix Calm and Epsilon upgrades.Performing Inventory with the Life Cycle ManagerUse LCM to display the software and firmware versions of the entities in the cluster.Upgrading Nutanix Calm with the Life Cycle ManagerUse LCM to upgrade Nutanix Calm and Epsilon to the latest available versions. LCM allows you to upgrade Nutanix Calm or Epsilon independently or simultaneously. Upgrading Nutanix Calm at a Dark SiteBy default, LCM automatically fetches updates from a pre-configured URL. If LCM fails to access the configured URL to fetch updates, you can configure the LCM to fetch updates locally to upgrade Calm and Epsilon. Perform the following procedure to upgrade Calm and Epsilon at a dark site.Performing Inventory with the Life Cycle ManagerUse LCM to display the software and firmware versions of the entities in the cluster.ProcedureIn Prism Central, click the gearbox icon to open the Settings page and select Life Cycle Management in the sidebar.Prism Central opens the Life Cycle Manager page.Figure. SettingsClick to enlargeClick Options >  Perform Inventory.If you do not have auto-update enabled, and a new version of the LCM framework is available, LCM shows a warning message: Figure. Perform InventoryClick to enlargeClick OK.The LCM displays all discovered entities.To view the current Calm and Epsilon versions, click View All.Figure. All UpdatesClick to enlargeThe entity shows the current version, as well as the date and time of the most recent update.Click All Updates to return to the Life Cycle Manager page.Upgrading Nutanix Calm with the Life Cycle ManagerUse LCM to upgrade Nutanix Calm and Epsilon to the latest available versions. LCM allows you to upgrade Nutanix Calm or Epsilon independently or simultaneously. Before you beginConfigure rules in your external firewall to allow LCM updates. For more details, see the Firewall Requirements section in the Prism Web Console Guide.Run a successful inventory operation before upgrading Calm or Epsilon.ProcedureIn Prism Central, click the gearbox icon to open the Settings page and select Life Cycle Management in the sidebar.The Life Cycle Manager page appears.Figure. SettingsClick to enlargeClick Edit and select Nutanix Calm. By default, Epsilon is selected.Note: Do not select only Epsilon to update.Click Change.Define Version window is displayed.Select the check-box next to the version that you want to upgrade.Click Save.You can also update the services from the Options drop-down menu.To perform all available updates, select Update All.To perform only required updates, select Update Required.To perform only updates you have selected, select Update Selected. (If you have not selected any updates, this has the same effect as Update All).Upgrading Nutanix Calm at a Dark SiteBy default, LCM automatically fetches updates from a pre-configured URL. If LCM fails to access the configured URL to fetch updates, you can configure the LCM to fetch updates locally to upgrade Calm and Epsilon. Perform the following procedure to upgrade Calm and Epsilon at a dark site.Before you beginEnsure that LCM version is 2.3 or above.ProcedureSet up a local web server that is reachable by all your Nutanix clusters. (Use this server to host the LCM repository.)Note: For more information about setting up a local web server, click here.Form Calm 3.0.0.2 release, create a MIME type called '.xz' with the type set as text/plain when setting up a Windows local web server for LCM dark site upgrade.From a device that has public Internet access, go to the Nutanix portal and select Downloads > Calm. Choose the required version and download Nucalm-X.X.X.X.ZIP and Epsilon-X.X.X.X.Zip tar files. X.X.X.X represents the Calm and Epsilon versions.Transfer Nucalm-X.X.X.X.ZIP and Nucalm-X.X.X.X.Zip tar files to your local web server and extract the files into local directory release.After you extract and save the files in release folder, you can view the following files.Nucalm-X.X.X.X.Ziprelease/builds/calm-builds/x.x.x.x/metadata.jsonrelease/builds/calm-builds/x.x.x.x/metadata.signrelease/builds/calm-builds/x.x.x.x/nucalm.tar.gzEpsilon-X.X.X.X.Ziprelease/builds/epsilon-builds/x.x.x.x/metadata.jsonrelease/builds/epsilon-builds/x.x.x.x/metadata.signrelease/builds/epsilon-builds/x.x.x.x/epsilon.tar.gzFrom a device that has public Internet access, go to the Nutanix portal and select Downloads > Calm. Download nutanix_compatibility.tgz and nutanix_compatibility.tgz.sign tar files.Transfer the compatibility tar files to your local web server and replace the files in the /release folder.Replace the existing compatibility files with the new files.Log on to Prism Central.On the LCM page, click Settings.In the Fetch updates from field, enter the path to the directory where you extracted the tar file on your local server. Use the format http://webserver_IP_address/release.Click Save.You return to the Life Cycle Manager.Select Inventory in the LCM sidebar and click Perform Inventory.Update the LCM framework before trying to update any other component.The LCM sidebar now shows the LCM framework with the same version as the file you downloaded.", "Heading_Keywords": ["life", "cycl", "manag"]}, {"Heading": "Accessing Calm REST API Explorer", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-accessing-calm-rest-api-explorer.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Perform the following procedure to access the Calm REST API explorer console from the Calm user interface.ProcedureClick the icon on the bottom-left corner.The About Nutanix  page appears. Click the Calm Rest API Explorer link.The Calm REST API explorer interface appears.", "Heading_Keywords": ["access", "calm", "rest", "api", "explor"]}, {"Heading": "Nutanix Calm on ESXi - Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-calm-esxi-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Calm on ESXi 3 Tier (Calm VM) is a standalone VM that you can deploy on ESXi hypervisors and leverage calm functionality without Nutanix infrastructure.You can deploy Calm using the image available on the Nutanix Support Portal - Downloads page and start managing your applications across a variety of cloud platforms. This eliminates the need for buying Nutanix infrastructure to use Calm.Note: Supported ESXi versions: 6.0.0 and 6.7 (vCenter version 6.7)Scale-out of Calm VM is not supported.Calm Version is 3.0.0.1.Note: A few performance issues are fixed with the Calm version 3.0.0.2. Upgrade Calm to version 3.0.0.2 using the LCM upgrade method.Getting StartedThis section covers the procedures to deploy a Calm VM on vSphere.UpgradesRefer to this section to upgrade Calm to the latest available version after you deploy the Calm VM.Getting StartedThis section covers the procedures to deploy a Calm VM on vSphere.There are two available options.Deploying Calm using the vSphere Web ClientDeploying Calm using the vSphere CLI (govc)When performing the deployment steps, you need to upload the OVF file. Go to Nutanix Support Portal - Downloads and download the file.Figure. Support Portal - Downloading the OVF fileClick to enlargeAlso, ensure that you comply with the Certified Configurations.Certified ConfigurationsRefer to this section for the recommended Calm VM configurations.Deploying Calm using the vSphere Web ClientYou must create a VM with a specific Open Virtualization Format (OVF) image to access the Calm UI.Deploying Calm using the vSphere CLIThis section describes the steps to deploy a Calm VM by using the vSphere CLI (govc).Certified ConfigurationsRefer to this section for the recommended Calm VM configurations.Calm capacity depends upon the total number of applications and blueprints, including running and deleted ones.Memory and vCPUs ConfigurationsVM sizeVMs configurationLarge8 vCPUs and 40 GB of memory.Small4 vCPUs and 20 GB of memory.Disk Configurations are as follows:Boot - 1 GBHome - 70 GBData - 500 GBElastic Search Data - 10 GBCalm CapacityCalm VM sizeSupported Number of VMsLarge5400Small1800Note: The performance tests get performed by using blueprints and applications with three services each.If you reach the maximum capacity limit of Calm, you can increase the RAM size of Calm VM to increase Calm capacity. For more information, see Change the Memory Configuration section in the VMware vSphere Product Documentation.The VM network must have DHCP enabled.The application log archival functionality helps in cleaning up the database, which results in freeing up the Calm capacity.Deploying Calm using the vSphere Web ClientYou must create a VM with a specific Open Virtualization Format (OVF) image to access the Calm UI.Before you beginEnsure that you have the URL of the OVF file, or you have saved the OVF file in your local machine.About this taskPerform the following procedure to deploy a Calm VM.ProcedureLog on to the vSphere web client.Click the cluster on which you want to deploy the Calm VM.Figure. vSphere Web Client - Deploying OVF TemplateClick to enlargeClick Actions >  Deploy OVF Template.The Deploy OVF Template window appears.Figure. Deploy OVF Template - WindowClick to enlargeIn the Deploy OVF Template window, do the following.Click the Local File option to browse and upload the OVF file from your local machine.Go to Nutanix Support Portal - Downloads and download the OVF file.Click Next and select the cluster where you want to deploy the Calm VM.Click Next and configure the storage and networks for the VM. Then, click Finish.The system starts importing and deploying the file on the selected VMware cluster. After the deployment is complete, the Calm VM needs to be powered on.Note: After the VM is powered on, it takes around 30 minutes for Calm services to start.For more information, see Deploying OVA Template on VMware vSphere section in the VMware documentation.What to do nextYou can use the Calm VM IP address to access the GUI and start managing and administering your applications. For more information about Calm, see Nutanix Calm Administration and Operations Guide. Deploying Calm using the vSphere CLIThis section describes the steps to deploy a Calm VM by using the vSphere CLI (govc).Before you beginEnsure that you have installed all the libraries of the vSphere CLI client (govc). For more information, click here.About this taskPerform the following procedure to deploy a Calm VM using the vSphere CLI.Procedure Login to the SSH client.Note: Make sure that you have installed the govc libraries.Run the following command.govc import.ova -name 5.17.1-prismcentral -3.0.0.1 http://endor.dyn.nutanix.com/GoldImages/calm-vmIf you have downloaded the OVF file in your machine, replace http://endor.dyn.nutanix.com/GoldImages/calm-vm with the location of the OVF file.Figure. vSphere CLI (govc) - Deploy CalmClick to enlargeExecuting the command starts the uploading process. Once the uploading is complete, go to the vSphere web client to power on the Calm VM.Note: After the VM is powered on, it takes around 30 minutes for Calm services to start.What to do nextYou can use the Calm VM IP address to access the GUI and start managing and administering your applications. For more information about Calm, see Nutanix Calm Administration and Operations Guide.UpgradesRefer to this section to upgrade Calm to the latest available version after you deploy the Calm VM.Following are the available methods:Prism Central (PC) / Calm VM upgrade - Upgrading the Prism Central (Calm VM) also upgrades the Calm version.Life Cycle Manager (LCM) upgrade - You can upgrade to newer versions of Calm without performing a VM upgrade. Upgrades to most minor releases and few major releases are done using this method.Upgrading Calm VM with Prism CentralUpgrading Calm VM with Life Cycle ManagerYou can upgrade to newer versions of Calm without performing a VM upgrade. Upgrades to most minor releases and few major releases are done using the LCM method.Upgrading Calm VM with Prism CentralAbout this taskTo upgrade Calm VM using the PC method, do the following:ProcedureLogin into the Calm VM GUI using the IP address.Click Prism Central Settings >  Upgrade Prism Central.Figure. Prism Central SettingsClick to enlargeCheck if the compatible PC version is available. If not, go to the Name Servers page and enter the global DNS server as the Name server.Figure. Upgrade Prism Central Click to enlargeIn the Upgrade Prism Central page, click Download against the compatible version.A confirmation window appears.Click Yes to start the download process. After the download gets completed, you can view the Upgrade drop-down list.Note: If the PC version you want to upgrade does not appear in the list, typically because you do not have Internet access (such as at a dark site), you can click the upload the Prism Central binary link to upload an image from your local media.In the Upgrade list, click Upgrade Now.A confirmation window appears.Click Continue to start the upgrade process.During the upgrade process, the Calm VM gets restarted.Also, you can log in to the Calm VM GUI to view the upgraded version. In the top-left corner, click User Menu > About Nutanix.Upgrading Calm VM with Life Cycle ManagerYou can upgrade to newer versions of Calm without performing a VM upgrade. Upgrades to most minor releases and few major releases are done using the LCM method.Before you beginLCM perform inventory and Calm/Epsilon upgrade operations fail using the default LCM URL. The workaround is to change the LCM repository URL to http://download.nutanix.com/lcm/saas under the LCM >  Settings.About this taskTo upgrade Calm VM using the LCM method, do the following:ProcedureClick Administration >  LCM to open the LCM page.Click Perform Inventory.A confirmation window appears.Figure. LCM - Perform InventoryClick to enlargeClick Proceed.The Perform Inventory process can take several minutes depending on your cluster size. Once completed, you can view the available updates in the Software page.Select the check-box next to the Calm VM version that you want to upgrade. Then, click Update.Note that the Epsilon check-box also gets selected. Epsilon is the orchestration engine used by Calm.Figure. LCM - Upgrading Calm VMClick to enlargeA confirmation window appears.Note: Once the update process begins, it cannot be stopped or paused.Click Apply Updates to complete.If you do not have internet access, use the dark-site method to upgrade Calm. For more information, see Upgrading Calm at a Dark Site.", "Heading_Keywords": ["nutanix", "calm", "esxi", "overview"]}, {"Heading": "Getting Started", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-calm-esxi-setup-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "This section covers the procedures to deploy a Calm VM on vSphere.There are two available options.Deploying Calm using the vSphere Web ClientDeploying Calm using the vSphere CLI (govc)When performing the deployment steps, you need to upload the OVF file. Go to Nutanix Support Portal - Downloads and download the file.Figure. Support Portal - Downloading the OVF fileClick to enlargeAlso, ensure that you comply with the Certified Configurations.Certified ConfigurationsRefer to this section for the recommended Calm VM configurations.Deploying Calm using the vSphere Web ClientYou must create a VM with a specific Open Virtualization Format (OVF) image to access the Calm UI.Deploying Calm using the vSphere CLIThis section describes the steps to deploy a Calm VM by using the vSphere CLI (govc).Certified ConfigurationsRefer to this section for the recommended Calm VM configurations.Calm capacity depends upon the total number of applications and blueprints, including running and deleted ones.Memory and vCPUs ConfigurationsVM sizeVMs configurationLarge8 vCPUs and 40 GB of memory.Small4 vCPUs and 20 GB of memory.Disk Configurations are as follows:Boot - 1 GBHome - 70 GBData - 500 GBElastic Search Data - 10 GBCalm CapacityCalm VM sizeSupported Number of VMsLarge5400Small1800Note: The performance tests get performed by using blueprints and applications with three services each.If you reach the maximum capacity limit of Calm, you can increase the RAM size of Calm VM to increase Calm capacity. For more information, see Change the Memory Configuration section in the VMware vSphere Product Documentation.The VM network must have DHCP enabled.The application log archival functionality helps in cleaning up the database, which results in freeing up the Calm capacity.Deploying Calm using the vSphere Web ClientYou must create a VM with a specific Open Virtualization Format (OVF) image to access the Calm UI.Before you beginEnsure that you have the URL of the OVF file, or you have saved the OVF file in your local machine.About this taskPerform the following procedure to deploy a Calm VM.ProcedureLog on to the vSphere web client.Click the cluster on which you want to deploy the Calm VM.Figure. vSphere Web Client - Deploying OVF TemplateClick to enlargeClick Actions >  Deploy OVF Template.The Deploy OVF Template window appears.Figure. Deploy OVF Template - WindowClick to enlargeIn the Deploy OVF Template window, do the following.Click the Local File option to browse and upload the OVF file from your local machine.Go to Nutanix Support Portal - Downloads and download the OVF file.Click Next and select the cluster where you want to deploy the Calm VM.Click Next and configure the storage and networks for the VM. Then, click Finish.The system starts importing and deploying the file on the selected VMware cluster. After the deployment is complete, the Calm VM needs to be powered on.Note: After the VM is powered on, it takes around 30 minutes for Calm services to start.For more information, see Deploying OVA Template on VMware vSphere section in the VMware documentation.What to do nextYou can use the Calm VM IP address to access the GUI and start managing and administering your applications. For more information about Calm, see Nutanix Calm Administration and Operations Guide. Deploying Calm using the vSphere CLIThis section describes the steps to deploy a Calm VM by using the vSphere CLI (govc).Before you beginEnsure that you have installed all the libraries of the vSphere CLI client (govc). For more information, click here.About this taskPerform the following procedure to deploy a Calm VM using the vSphere CLI.Procedure Login to the SSH client.Note: Make sure that you have installed the govc libraries.Run the following command.govc import.ova -name 5.17.1-prismcentral -3.0.0.1 http://endor.dyn.nutanix.com/GoldImages/calm-vmIf you have downloaded the OVF file in your machine, replace http://endor.dyn.nutanix.com/GoldImages/calm-vm with the location of the OVF file.Figure. vSphere CLI (govc) - Deploy CalmClick to enlargeExecuting the command starts the uploading process. Once the uploading is complete, go to the vSphere web client to power on the Calm VM.Note: After the VM is powered on, it takes around 30 minutes for Calm services to start.What to do nextYou can use the Calm VM IP address to access the GUI and start managing and administering your applications. For more information about Calm, see Nutanix Calm Administration and Operations Guide.", "Heading_Keywords": ["get", "start"]}, {"Heading": "Certified Configurations", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-calm-esxi-configurations-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Refer to this section for the recommended Calm VM configurations.Calm capacity depends upon the total number of applications and blueprints, including running and deleted ones.Memory and vCPUs ConfigurationsVM sizeVMs configurationLarge8 vCPUs and 40 GB of memory.Small4 vCPUs and 20 GB of memory.Disk Configurations are as follows:Boot - 1 GBHome - 70 GBData - 500 GBElastic Search Data - 10 GBCalm CapacityCalm VM sizeSupported Number of VMsLarge5400Small1800Note: The performance tests get performed by using blueprints and applications with three services each.If you reach the maximum capacity limit of Calm, you can increase the RAM size of Calm VM to increase Calm capacity. For more information, see Change the Memory Configuration section in the VMware vSphere Product Documentation.The VM network must have DHCP enabled.The application log archival functionality helps in cleaning up the database, which results in freeing up the Calm capacity.", "Heading_Keywords": ["certifi", "configur"]}, {"Heading": "Deploying Calm using the vSphere Web Client", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-calm-esxi-ui-deploy-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must create a VM with a specific Open Virtualization Format (OVF) image to access the Calm UI.Before you beginEnsure that you have the URL of the OVF file, or you have saved the OVF file in your local machine.About this taskPerform the following procedure to deploy a Calm VM.ProcedureLog on to the vSphere web client.Click the cluster on which you want to deploy the Calm VM.Figure. vSphere Web Client - Deploying OVF TemplateClick to enlargeClick Actions >  Deploy OVF Template.The Deploy OVF Template window appears.Figure. Deploy OVF Template - WindowClick to enlargeIn the Deploy OVF Template window, do the following.Click the Local File option to browse and upload the OVF file from your local machine.Go to Nutanix Support Portal - Downloads and download the OVF file.Click Next and select the cluster where you want to deploy the Calm VM.Click Next and configure the storage and networks for the VM. Then, click Finish.The system starts importing and deploying the file on the selected VMware cluster. After the deployment is complete, the Calm VM needs to be powered on.Note: After the VM is powered on, it takes around 30 minutes for Calm services to start.For more information, see Deploying OVA Template on VMware vSphere section in the VMware documentation.What to do nextYou can use the Calm VM IP address to access the GUI and start managing and administering your applications. For more information about Calm, see Nutanix Calm Administration and Operations Guide. ", "Heading_Keywords": ["deploy", "calm", "use", "vsphere", "web", "client"]}, {"Heading": "Deploying Calm using the vSphere CLI", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-calm-esxi-cli-deploy-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "This section describes the steps to deploy a Calm VM by using the vSphere CLI (govc).Before you beginEnsure that you have installed all the libraries of the vSphere CLI client (govc). For more information, click here.About this taskPerform the following procedure to deploy a Calm VM using the vSphere CLI.Procedure Login to the SSH client.Note: Make sure that you have installed the govc libraries.Run the following command.govc import.ova -name 5.17.1-prismcentral -3.0.0.1 http://endor.dyn.nutanix.com/GoldImages/calm-vmIf you have downloaded the OVF file in your machine, replace http://endor.dyn.nutanix.com/GoldImages/calm-vm with the location of the OVF file.Figure. vSphere CLI (govc) - Deploy CalmClick to enlargeExecuting the command starts the uploading process. Once the uploading is complete, go to the vSphere web client to power on the Calm VM.Note: After the VM is powered on, it takes around 30 minutes for Calm services to start.What to do nextYou can use the Calm VM IP address to access the GUI and start managing and administering your applications. For more information about Calm, see Nutanix Calm Administration and Operations Guide.", "Heading_Keywords": ["deploy", "calm", "use", "vsphere", "cli"]}, {"Heading": "Upgrades", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-calm-esxi-upgrade-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Refer to this section to upgrade Calm to the latest available version after you deploy the Calm VM.Following are the available methods:Prism Central (PC) / Calm VM upgrade - Upgrading the Prism Central (Calm VM) also upgrades the Calm version.Life Cycle Manager (LCM) upgrade - You can upgrade to newer versions of Calm without performing a VM upgrade. Upgrades to most minor releases and few major releases are done using this method.Upgrading Calm VM with Prism CentralUpgrading Calm VM with Life Cycle ManagerYou can upgrade to newer versions of Calm without performing a VM upgrade. Upgrades to most minor releases and few major releases are done using the LCM method.Upgrading Calm VM with Prism CentralAbout this taskTo upgrade Calm VM using the PC method, do the following:ProcedureLogin into the Calm VM GUI using the IP address.Click Prism Central Settings >  Upgrade Prism Central.Figure. Prism Central SettingsClick to enlargeCheck if the compatible PC version is available. If not, go to the Name Servers page and enter the global DNS server as the Name server.Figure. Upgrade Prism Central Click to enlargeIn the Upgrade Prism Central page, click Download against the compatible version.A confirmation window appears.Click Yes to start the download process. After the download gets completed, you can view the Upgrade drop-down list.Note: If the PC version you want to upgrade does not appear in the list, typically because you do not have Internet access (such as at a dark site), you can click the upload the Prism Central binary link to upload an image from your local media.In the Upgrade list, click Upgrade Now.A confirmation window appears.Click Continue to start the upgrade process.During the upgrade process, the Calm VM gets restarted.Also, you can log in to the Calm VM GUI to view the upgraded version. In the top-left corner, click User Menu > About Nutanix.Upgrading Calm VM with Life Cycle ManagerYou can upgrade to newer versions of Calm without performing a VM upgrade. Upgrades to most minor releases and few major releases are done using the LCM method.Before you beginLCM perform inventory and Calm/Epsilon upgrade operations fail using the default LCM URL. The workaround is to change the LCM repository URL to http://download.nutanix.com/lcm/saas under the LCM >  Settings.About this taskTo upgrade Calm VM using the LCM method, do the following:ProcedureClick Administration >  LCM to open the LCM page.Click Perform Inventory.A confirmation window appears.Figure. LCM - Perform InventoryClick to enlargeClick Proceed.The Perform Inventory process can take several minutes depending on your cluster size. Once completed, you can view the available updates in the Software page.Select the check-box next to the Calm VM version that you want to upgrade. Then, click Update.Note that the Epsilon check-box also gets selected. Epsilon is the orchestration engine used by Calm.Figure. LCM - Upgrading Calm VMClick to enlargeA confirmation window appears.Note: Once the update process begins, it cannot be stopped or paused.Click Apply Updates to complete.If you do not have internet access, use the dark-site method to upgrade Calm. For more information, see Upgrading Calm at a Dark Site.", "Heading_Keywords": ["upgrad"]}, {"Heading": "Upgrading Calm VM with Prism Central", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-calm-esxi-pc-upgrade-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "About this taskTo upgrade Calm VM using the PC method, do the following:ProcedureLogin into the Calm VM GUI using the IP address.Click Prism Central Settings >  Upgrade Prism Central.Figure. Prism Central SettingsClick to enlargeCheck if the compatible PC version is available. If not, go to the Name Servers page and enter the global DNS server as the Name server.Figure. Upgrade Prism Central Click to enlargeIn the Upgrade Prism Central page, click Download against the compatible version.A confirmation window appears.Click Yes to start the download process. After the download gets completed, you can view the Upgrade drop-down list.Note: If the PC version you want to upgrade does not appear in the list, typically because you do not have Internet access (such as at a dark site), you can click the upload the Prism Central binary link to upload an image from your local media.In the Upgrade list, click Upgrade Now.A confirmation window appears.Click Continue to start the upgrade process.During the upgrade process, the Calm VM gets restarted.Also, you can log in to the Calm VM GUI to view the upgraded version. In the top-left corner, click User Menu > About Nutanix.", "Heading_Keywords": ["upgrad", "calm", "vm", "prism", "central"]}, {"Heading": "Upgrading Calm VM with Life Cycle Manager", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-calm-esxi-lcm-upgrade-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You can upgrade to newer versions of Calm without performing a VM upgrade. Upgrades to most minor releases and few major releases are done using the LCM method.Before you beginLCM perform inventory and Calm/Epsilon upgrade operations fail using the default LCM URL. The workaround is to change the LCM repository URL to http://download.nutanix.com/lcm/saas under the LCM >  Settings.About this taskTo upgrade Calm VM using the LCM method, do the following:ProcedureClick Administration >  LCM to open the LCM page.Click Perform Inventory.A confirmation window appears.Figure. LCM - Perform InventoryClick to enlargeClick Proceed.The Perform Inventory process can take several minutes depending on your cluster size. Once completed, you can view the available updates in the Software page.Select the check-box next to the Calm VM version that you want to upgrade. Then, click Update.Note that the Epsilon check-box also gets selected. Epsilon is the orchestration engine used by Calm.Figure. LCM - Upgrading Calm VMClick to enlargeA confirmation window appears.Note: Once the update process begins, it cannot be stopped or paused.Click Apply Updates to complete.If you do not have internet access, use the dark-site method to upgrade Calm. For more information, see Upgrading Calm at a Dark Site.", "Heading_Keywords": ["upgrad", "calm", "vm", "life", "cycl", "manag"]}, {"Heading": "Nutanix Calm Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-major-components-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "This chapter provides a brief overview of Nutanix Calm and various components used in Nutanix Calm. After enabling Calm, the Calm user interface displays the following tabs.Blueprint tab: Allows you to create, configure, publish, and launch single or multi VM blueprint. For more information, see Blueprint Overview. To start using blueprints, see Blueprints Usage.Marketplace tab: Allows you to launch the pre-seeded applications after you add the pre-seeded applications. For more information, see Marketplace Overview. To start using marketplace, see Marketplace Usage.Marketplace manager tab: Allows you to manage the configured and pre-seeded blueprints. For more information about marketplace manager, see Marketplace Manager Overview. To start using marketplace manager, see Marketplace Manager Overview.Applications tab: Allows you to view and perform various functions for the applications launched from blueprints. For more details about applications, see Applications Overview. To start performing the functionalities for the applications, see Applications Usage.Settings tab: Allows you to enable or disable pre-seeded blueprints and showback feature and configure various providers for Nutanix Calm. For more information about settings, see Settings Overview. To enable or disable marketplace and showback, see Settings Configuration and to configure providers for Nutanix Calm, see Providers Configuration.Library tab: Allows you to create and use variables type and tasks. You can use the variables and tasks while configuring a blueprint. For more information about library, see Library Overview. To start using library, see Library Usage.Projects tab: Allows you to create users or groups and assign permission to use Nutanix Calm. Projects tab also allows you to configure the environment for various providers. For more information, see Projects Overview. To start using projects, see Project Configuration. Nutanix Calm IconsThe following table displays the Nutanix Calm icons and the associated meanings.Settings OverviewProjects OverviewMarketplace OverviewMarketplace Manager OverviewBlueprint OverviewApplications OverviewLibrary OverviewRunbooks OverviewEndpoints OverviewNutanix Calm IconsThe following table displays the Nutanix Calm icons and the associated meanings.Table 1. Nutanix Calm IconsIconsIndicatesMarketplace tabBlueprint tab Application tab Library tabRunbooks tabEndpoints tabSettings tabMarketplace Manager tab Projects tabSettings OverviewYou must configure Nutanix Calm with your provider (by using the provider credentials) to enable Nutanix Calm to manage the applications by using your virtualization resources. You can configure multiple accounts of a provider. You can use the Settings > General tab to enable marketplace applications, download application log archive, and set the Calm UI as the default landing page.You can use the Settings > Providers tab to configure the provider settings. You can configure more than one provider or several accounts of the same provider.You can also enable and configure the cost of applications running on AHV and VMware providers.Note: All the AHV clusters that are registered to the Prism Central instance are automatically added as providers. Manual configuration is required only if you are adding a provider other than Nutanix.By using the settings tab, you can perform the following.Enable or disable marketplace applicationsEnable or disable showbackSet the Calm UI as the default landing page of Prism Central.Download an application log archiveConfigure provider settings to enable Nutanix Calm to manage applicationsConfigure application costFigure. Settings TabClick to enlargeYou can perform the following actions by using the General tab:Enabling Nutanix Marketplace ApplicationsEnabling ShowbackDownloading Application Log ArchiveYou can perform the following actions by using the Providers tab.Configuring AWS as a ProviderConfiguring AWS C2S Provider on Nutanix CalmConfiguring VMware as a ProviderConfiguring GCP as a ProviderConfiguring Azure as a ProviderConfiguring Kubernetes as a ProviderProviders OverviewApplication Log ArchiveShowbackApplication Protection StatusProviders OverviewProviders are cloud service providers or bare metals or existing machines that you can use to deploy, monitor, and govern your applications. If a provider is other than Nutanix, you must configure the provider. Nutanix Calm supports the following providers.Nutanix: All the AHV clusters that are registered in the Prism Central instance are automatically added as the providers. VMware: If you want to create and use a blueprint in VMware platform, you must configure VMware as a service provider. To configure VMware as a service provider, see Configuring VMware as a Provider.AWS: If you want to create and use a blueprint in AWS platform, you must configure AWS as a service provider. To configure AWS as a provider, see Configuring AWS as a Provider.GCP: If you want to create and use a blueprint in GCP platform, you must configure GCP as a service provider. To configure GCP as a provider, see Configuring GCP as a Provider.Azure: If you want to create and use a blueprint in Azure platform, you must configure Azure as a service provider. To configure Azure as a provider, see Configuring Azure as a Provider.Kubernetes: If you want to create and use a blueprint in Kubernetes platform, you must configure Kubernetes as a service provider. To configure Kubernetes as a provider, see Configuring Kubernetes as a Provider.Xi Cloud: If you want to create, use, and deploy a blueprint in the Xi Cloud platform, you must configure Xi Cloud as a service provider. To configure Xi Cloud as a provider, see Configuring Xi Cloud as a Provider.Support for Multi-PC SetupSupport for Multi-PC SetupIn a multiple Prism Centrals (multi-PC) setup, a central Calm instance (called global Calm instance) runs only on one of the PCs (called host or parent PC) and all the other PCs are connected to the central Calm instance as the remote PCs.The global Calm instance can now manage the applications deployed on the geographically distributed Prism Centrals (also called remote PCs) without the need of separate Calm instances for every PC. A remote PC is only used to provision the tasks for the deployed applications.In a multi-PC environment, every remote PC is added as an account to the host PC and you can add the account to your project before creating and launching a blueprint. For more information about adding a remote PC as an account, see Configuring a Remote Prism Central Account. For more information about adding the account in a project, see Managing Infrastructure.Figure. Multi-PC SetupClick to enlargeApplication Log ArchiveRunLog of the deleted applications and custom actions, older than 3 months, are automatically archived. The archive can be periodically downloaded from Nutanix Calm interface within 7 days from the time of archive creation.For a running application, data is not archived for the system-generated Create actions. For Start, Restart, Stop, Delete, and Soft Delete system-generated actions and user created actions, the following information is available.Started byRun byStatusFor a deleted application, all the action details are archived.Only an administrator can view and download the application log archive. For more information, see Downloading Application Log Archive.ShowbackShowback allows you to estimate the overall service cost of the applications running on your on-prem cloud. You can also view the graphical representation of the cost of the applications.Nutanix Calm supports showback for the following platforms.NutanixVMware through vCenterTo enable and configure showback, see Enabling Showback.Note: Starting with AOS 5.10 or NCC 3.6.3, the Prism Central generates the following NCC alerts for showback: Xi Beam connectivity with Prism Central Prism Central and Prism web console (also known as Prism Element) registration or de-registrationApplication Protection StatusIf the VMs of an application running on a Nutanix platform are protected by a protection policy in the Prism Central, you can view the protection and recovery status of the application after you enable the Show App Protection Status toggle button in the Settings tab. To enable Show App Protection Status, see Enabling Application Protection Status View.After you enable the Show App Protection Status toggle button, you can view the protection and recovery status of the application in the Application Overview page. For more information, see Overview Tab.Note: The Show App Protection Status toggle button is available if some or all the VMs of a Calm application running on a Nutanix platform are protected by a protection policy in the Prism Central. You can view the protection and recovery status of the Calm applications if the versions of the Prism Central and Prism Element are 5.17 or above. If the target recovery location is set to another Prism Central, Calm still displays the correct protection status. But the recovery is not tracked in this case and there is no recovery status available for the application. Calm application still points to the old VMs. Projects OverviewA project is a set of Active Directory users with a common set of requirements or a common structure and function, such as a team of engineers collaborating on an engineering project. The project also specifies the roles to associate with its members, networks that they can use, infrastructure to deploy onto, and (optionally) usage limits on infrastructure resources.Note: OpenLDAP is not supported for Projects in Nutanix Calm.You can also define the environment associated with a project. If you want to publish an application into the marketplace, you must configure the environment. If you have not configured the VM details while creating a blueprint, you must configure the VM details as part of environment. Also, during the application blueprint launch from marketplace, the values are picked from the environment.To refer to the video about projects and environment, click here. Figure. ProjectsClick to enlargeRoles and Responsibilities MatrixManage InfrastructureEnvironment OverviewSupport for Multiple CredentialRoles and Responsibilities MatrixThe following is the roles and responsibilities matrix.Table 1. Roles and Responsibilities MatrixPrism AdminProject AdminDeveloperConsumerOperatorMarketplaceEnable and DisableXManageXApp publishing requestXXXSend App publishing request to the AdministratorXXClone and edit App blueprintXXXBlueprintCreate, update, delete, and duplicateXXXRead-onlyXXXXLaunchXXXXApplicationsComplete App summaryXXXXXRun functionsXXXXXApp debug modeXXXXXFunction editXXXCreate App (brownfield import)XXXDelete AppXXXXSettingsCRUDXTask LibraryViewXXXXXCreate and UpdateXXXDeleteXSharing with ProjectsXProjectsAdd projectXUpdate projectXXAdd VMs to projectsXCustom rolesUsersAdd users to the system and change rolesXAdd and remove users to or from a projectXXChange user roles in a projectXXCreate AdministratorXCreate Project AdministratorXXRunbooksCreate and UpdateXXXViewXXXXXDeleteXXXExecuteXXXXXEndpointsCreate and UpdateXXXViewXXXXXDeleteXXXTo refer to the video about roles and responsibility, click here.Manage InfrastructureInfrastructure defines the type of providers for a project. You can manage multiple infrastructures for a project. Nutanix Calm supports the following types of providers for a project.NutanixVMwareAWSAzureGCPKubernetesXiIf you are configuring Nutanix as your provider in your project, you can add multiple clusters and whitelist subnets from the selected clusters. The whitelisted subnets are available for your selection while you configure a multi VM blueprint. If you are configuring any other provider other than Nutanix, you must select an account for the provider.Note: After saving, you cannot change the configured project details. Environment OverviewEnvironment allows you to add multiple credentials and configure VM details for the selected provider as a part of project configuration. You must configure Environment before launching an application from the marketplace or during configuring a blueprint. If you have configured Environment during project creation, you can clone the same configuration for the VM while configuring a blueprint. To know more about environment configuration for every provider, see Configuring Environments.Support for Multiple CredentialCredentials help in abstracting identity settings while connecting to an external system. You can configure multiple credentials of the same type (either SSH key or password) and define under the Environment tab. You can use the configured credentials during launch of an application blueprint.Marketplace OverviewThe marketplace provides a set of pre-seeded application blueprints that are available for you to use. The marketplace is a common platform for both the publisher and the consumer. The marketplace provides you with the ability to provision an application instantly.Figure. MarketplaceClick to enlargeNote: To view the application blueprints in Marketplace, you need to publish the blueprints by using Marketplace Manager. To publish a blueprint, see Marketplace Manager Overview. Before using an application, you can get the required information about the application blueprint by viewing the Application details. Application details provides information such as application overview and application-level actions.Figure. Marketplace-Application DetailsClick to enlargeYou can classify and filter the applications according to categories. Marketplace provides a search functionality to search for a particular application in the marketplace. The featured applications (as shown in the above figure) are displayed on the banner. All the listed applications display the icons of the platforms on which the application is supported. For more information on the operations that can be performed by using Marketplace tab, see Marketplace Usage.Marketplace VersionMarketplace VersionMarketplace version enables you to define the initial version number of the blueprint that is getting published to the marketplace. Marketplace version also enables you to revise the version of a blueprint that is already published to the marketplace. For information about how to define marketplace version, see Publishing a Blueprint.Marketplace Manager OverviewMarketplace Manager enables you to manage the blueprints. By using the marketplace manager, you can approve, reject, launch, publish, unpublish, assign a category, and select projects for a blueprint. A blueprint needs to be published so that the blueprint is available in the marketplace for consumption. For more information on the operations that are performed by using the Marketplace Manager, see Marketplace Manager Overview.Figure. Marketplace ManagerClick to enlargeBlueprint OverviewA blueprint is the framework for every application that you model by using Nutanix Calm. Blueprints are templates that describe all the steps that are required to provision, configure, and execute tasks on the services and applications that are created. You can create a blueprint to represent the architecture of your application and then run the blueprint repeatedly to create an instance, provision, and launch your applications. A blueprint also defines the lifecycle of an application and its underlying infrastructure starting from the creation of the application to the actions that are carried out on a blueprint until the termination of the application.You can use blueprints to model the applications of various complexities; from simply provisioning a single virtual machine to provisioning and managing a multi-node, multi-tier application. For information about the usage of a blueprint, see Blueprints Usage.Blueprint editor (as shown in the following figure) provides a graphical representation of various components that allow you to visualize and configure the components and their dependencies in your environment.Figure. Blueprint EditorClick to enlargeServices OverviewActions OverviewApplication Profiles OverviewDependencies OverviewMacros OverviewRuntime Variables OverviewPre-create and Post-delete Task OverviewServices OverviewServices are the virtual machine instances, existing machines or bare-metal machines, that you can provision and configure by using Nutanix Calm. You can either provision a single service instance or multiple services based on the topology of your application. A service can only expose an IP address and ports on which the request is received. After a service is configured, you can clone or edit the service as required. For information about how to configure a service, see Configuring Nutanix and Existing Machine VM, Package, and Service.Figure. Blueprint ServiceClick to enlargeA service includes the following.VMPackageServiceVMA VM defines the configuration of the virtual machine instance, the platform on which the VM will be installed, and the connection information of the machine. For example, as shown in the following figure, you need to define the name, cloud, operating system, IP address, and the connection information for an existing machine.Figure. VM TabClick to enlargePackageA package enables you to install and uninstall software on an existing machine or bare metal machine by using a script. You need to provide the credentials of the VM on which you need to run the script. A sample script is shown in the following figure. Package also defines the port number and the protocol that is used to access the service. Figure. Package TabClick to enlargeServiceA service enables you to create the variables that are used to define the service-level tasks and service-level actions. As part of the service, you can also define the number of replicas that you want to create of a service.Figure. Service TabClick to enlargeActions OverviewAn action is a set of operations that you can run on your application that are created as a result of running a blueprint. For information about how to create an action, see Creating an Action.Figure. Layer-ActionClick to enlargeYou can categorize actions into the following types.System ActionThese are pre-defined functions of the system that are by default part of the blueprint and cannot be edited.Custom ActionThese are custom actions that you can create to carry out the orchestration of tasks on the different services of an application.Scale InScale OutScale InThe scale in functionality enables you to decrease the number of replicas of a service deployment. The number of instances to be removed from a service for each scale-in action is defined in the blueprint while configuring the task in the profile level action. The scale count number must be less than or equals to the minimum number of replicas defined for the service. The VM that is created last is deleted first. For information about how to configure scale in, see Adding and Configuring Scale Out and Scale In.To refer to the video about scale in and scale out, click here.Scale OutThe scale out functionality enables you to increase the number of replicas of a service deployment. The number of instances to be added to a service for each scale-out action is defined in the blueprint while configuring the task in the profile level action. The scale count number must be less than or equals to the maximum number of replicas defined for the service. For information about how to configure scale out, see Adding and Configuring Scale Out and Scale In.To refer to the video about scale in and scale out, click here.Application Profiles OverviewAn application profile provides different combinations of the service, package, and VM while configuring a blueprint. If Showback feature is enabled, the application profile also displays service cost of the resources used for an application. You must select an application profile while you launch a blueprint. The application profile also enables you to use the same set of services and packages on the different platforms. For information about how to configure an application profile, see Adding and Configuring an Application Profile.Figure. Application ProfileClick to enlargeDependencies OverviewDependencies are used to define the dependence of one service in your application on another service or multiple other services for properties such as IP addresses and DNS names. For example, if service 2 is dependent on service 1, then service 1 starts first and stops after service 2. For information about how to define dependencies between services, see Setting up the Service Dependencies.Figure. DependenciesClick to enlargeNote: If there are no dependencies between tasks in a service, Nutanix Calm runs the tasks in any order or even in parallel.Macros OverviewCalm macros are part of a templating language for calm scripts. These are evaluated by calm's execution engine before the script is run.Macros enable you to access the value of variables and properties that are set on entities. The variables can be user defined or system generated. Macros help in making scripts generic and creating reusable workflows. The syntax of a macro is @@{variable_name}@@, where variable_name is the name of the variable.Note: The value of properties or variables of a parent entity can be accessed by the child entity unless the properties or the variables are overridden by another entity. Note: Accessing property value is not supported across the applications.The syntax to access the value of variables or properties of other entities or dependencies is @@{<entity name>.<variable/attribute name>}@@ where entity name, is the name of the other entity or dependency and variable/attribute name is the name of the variable or attribute. For example, if a blueprint contains a service by the name of app_container, you can access the IP address of the app_container service in any other service using @@{app_container.address}@@ syntax.Supported EntitiesBuilt-in MacrosPlatform MacrosVirtual Machine Common PropertiesNutanix VariablesAWS VariablesGCP VariablesAzure VariablesKubernetes VariablesCredentials as MacrosAccess Macros of an Array ServiceSupported Data TypesSupported OperationsVMware VariablesSupported EntitiesMacros supports the following entities.ApplicationDeploymentServicePackageVirtual machineBuilt-in MacrosThe following table lists the built-in macros that you can use to retrieve and display the entities. Table 1. Built-in MacrosMacroUsage@@{calm_array_index}@@Index of the entity within an array@@{calm_blueprint_name}@@Name of the blueprint from which the application was created@@{calm_blueprint_uuid}@@Universally unique identifier (UUID) of the blueprint from which the application was created@@{calm_application_name}@@Name of the application@@{calm_application_uuid}@@UUID of the application@@{calm_uuid}@@UUID of the entity within the application on which the current task is running@@{calm_random}@@A random number is generated each time this is used. This will be evaluated each time and should not be used in fields such as VM name.@@{calm_unique}@@A random number that is unique to this replica. This will be evaluated to the same value across runs.@@{calm_jwt}@@JWT for the currently logged in user for API authentication.@@{calm_now}@@@@{calm_today}@@The current time stamp@@{calm_time(\u201c<format>\u201d)}@@The current time in the specified format@@{calm_year(\u201cYYYY\u201d)}@@@@{calm_year(\u201cYY\u201d)}@@The current year in YYYY or YY format@@{calm_month(\u201cshort\u201d)}@@@@{calm_month(\u201clong\u201d)}@@Name of the current month in long or short format@@{calm_day(\u201cmonth\u201d)}@@@@{calm_day(\u201cyear\u201d)}@@Numeric day of the month or year@@{calm_weeknumber}@@@@{calm_weeknumber(\u201ciso\u201d)}@@ISO Numeric week of the year@@{calm_weekday(\u201cnumber\u201d)}@@@@{calm_weekday(\u201cname_short\u201d)}@@@@{calm_weekday(\u201cname_long\u201d)}@@Day of the week in numeric or short name or long name@@{calm_hour(\u201c12\u201d)}@@@@{calm_hour(\u201c24\u201d)}@@@@{calm_hour(\u201cam_pm\u201d)}@@Numeric hour of the day in 12:00-hour or 24:00-hour format along with AM or PM@@{calm_minute}@@Numeric minute@@{calm_second}@@Numeric second@@{calm_is_weekday}@@Displays 1 if the current day is a weekday@@{calm_is_long_weekday}@@Displays 1 if the current day is a weekday from Monday to Saturday@@{calm_is_within(\"time1\", \"time2\")}@@Displays 1 if the current time is within the time1 and time2 range@@{calm_project_name}@@Displays the project name@@{calm_username + @nutanix.com}@@Displays the username@@{calm_float(\"32.65\") * 2}@@ @@{calm_int(calm_array_index) + 1}@@ Typecast to integer. This is useful for binary operations.@@{calm_string(256) + \"-bit\"}@@ @@{\"xyz\" + calm_string(42)}@@Typecast to string. This is useful for string concatenation.@@{calm_b64encode(api_response)}@@@@{calm_b64encode(\"a,b,c\")}@@ Base64 encode the data passed to this macro.@@{calm_b64encode(b64_encoded_data)}@@ @@{calm_b64encode(\"YSxiLGM=\")}@@ Base64 decode the data passed to this macro.Platform MacrosYou can access the properties of a VM by using the platform macros. The following section describes the macros to access the VM properties for different providers.Table 1. AHV platform MacrosMacroUsage@@{platform}@@To access all the properties of a VM.@@{platform.status.cluster_reference.uuid}@@To access the uuid of the cluster or the Prism element.@@{platform.status.resources.nic_list[0].mac_address}@@To access mac the address.Note: Use the nic_list index to access the mac address of a specific nic.@@{platform.status.resources.nic_list[0].subnet_reference.name}@@To access the NIC name.@@{platform.status.resources.power_state}@@To get the state of the VM.@@{platform.status.num_sockets}@@To access number of sockets of the VM.Note: The @@{platform}@@ macro stores the GET response of the VM. You can access any VM information that is available through the GET API response. Table 2. VMware platform MacrosMacroUsage@@{platform}@@To access all the properties of a VM.@@{platform.datastore[0].Name}@@To access the datastore name.@@{platform.num_sockets}@@To access number of sockets of the VM.Note: The @@{platform}@@ macro stores the GET response of the VM. You can access any VM information that is available through the GET API response. Table 3. GCP platform MacrosMacroUsage@@{platform}@@To access all the properties of a VM.@@{platform.creationTimestamp}@@To get the VM creation time stamp.@@{platform.selfLink}@@To access the self link of the VM.@@{platform.networkInterfaces[0].subnetwork}@@To access the network details of the VM.Note: The @@{platform}@@ macro stores the GET response of the VM. You can access any VM information that is available through the GET API response. Virtual Machine Common PropertiesThe following table lists the common properties of the virtual machine that are available for usage. Table 1. Virtual Machine Common PropertiesPropertiesUsage@@{address}@@IP address of the instance that is used by Nutanix Calm to access the VM@@{id}@@ID of the platform identifier@@{name}@@Name of the VM or container@@{mac_address}@@Mac address of the VM@@{platform}@@Platform response for a GET query. This is the response in JSON format from provider.Note: For an existing machine, only the address property is applicable.Nutanix VariablesThe following table lists the Nutanix variables that are available for usage. Table 1. AHV MacrosPropertiesUsage@@{address}@@IP address of the instance that is used by Nutanix Calm to access the VM@@{id}@@ID of the platform identifier@@{name}@@Name of the VM or container@@{mac_address}@@Mac address of the VM@@{platform}@@Platform response for a GET query. This is the response in JSON format from provider.Note: For an existing machine, only the address property is applicable.AWS VariablesThe following table lists the built-in AWS macros that you can use to retrieve and display the entities.Table 1. AWS MacrosMacrosUsage@@{address}@@IP address of the instance that is used by Nutanix Calm to access the VM.Note: The VM Name field does not support this macro.@@{id}@@Internal ID of the instance that is used within the Prism. Note: The VM Name field does not support this macro.@@{name}@@Name of the VM. Note: The VM Name field does not support this macro.@@{aws_instance_id}@@Instance ID of AWS@@{private_ip_address}@@Private IP address@@{private_dns_name}@@Private DNS name@@{public_ip_address}@@Public IP address@@{public_dns_name}@@Public DNS name@@{vm_zone}@@AWS zone of instance@@{platform}@@Platform response for a GET query. This is the response in JSON format from provider.GCP VariablesThe following table lists the built-in GCP macros that you can use to retrieve and display the entities.Table 1. GCP MacrosMacrosUsage@@{address}@@@@{ip_address}@@ @@{public_ip_address}@@IP address of the instance that is used by Nutanix Calm to access the VM.Note: The VM Name field does not support this macro.@@{id}@@Internal ID of the instance that is used within the Prism. Note: The VM Name field does not support this macro.@@{name}@@Name of the VM. Note: The VM Name field does not support this macro.@@{zone}@@Zone in which the VM instance is created.@@{platform_data}@@Platform response for a GET query. This is the response in JSON format from provider.@@{internal_ips}@@List of all the private IP addresses.@@{external_ips}@@List of all the public IP addresses.Azure VariablesThe following table lists the built-in Azure macros that you can use to retrieve and display the entities.Table 1. Azure MacrosMacrosUsage@@{address}@@IP address of the instance that is used by Nutanix Calm to access the VM.Note: The VM Name field does not support this macro.@@{id}@@Internal ID of the instance that is used within the Prism. Note: The VM Name field does not support this macro.@@{name}@@Name of the VM. Note: The VM Name field does not support this macro.@@{private_ip_address}@@Private IP address@@{public_ip_address}@@Public IP address@@{resource_group}@@Resource group name in which the VM instance is created.@@{platform_data}@@Platform response for a GET query. This is the response in JSON format from provider.Kubernetes VariablesThe following table lists the Kubernetes variables that are available for usage. Table 1. Kubernetes MacrosPropertiesUsage @@{K8sPublishedService.address}@@IP address of the service.@@{K8sPublishedService.name}@@Name of the service.@@{K8sPublishedService.ingress}@@Load balancer IP for public service.@@{K8sPublishedService_platform_data}@@Platform data for the service.@@{K8sDeployement.name}@@Name of the deployment.@@{K8sDeployement.platform_data}@@Platform data for the deployment.Note: Do not use deployment macros in publish service specs or publish macros in deployment service specs in the same calm deployment.Credentials as MacrosCredentials can be accessed as macros, the format to access credential is @@{cred_name.username}@@ and @@{cred_name.secret}@@ where cred_name is the name of the credential with which the cred is created.Access Macros of an Array ServiceNutanix Calm allows you to access macros of an array service using a special macro which starts with calm_array. You can configure a VM with replicas and access the common macros of all the replicas.Use the following syntax to retrieve the name of all the instances of VM separated by commas.@@{calm_array_name}@@Use the following syntax to retrieve the IP address of all the instances of VM separated by commas.@@{calm_array_address}@@Use the following syntax to retrieve the ID of all the instances of VM separated by commas.@@{calm_array_id}@@Supported Data TypesMacros support the following data types.Table 1. Supported Data TypesData TypeUsageString@@{\"some string\"}@@ or @@{'some string'}@@ Note: Newline or other such special characters are not supported. You can use \\ to escape quotes.NumbersSupports integer and float. For example, @@{ 10 + 20.63 }@@ Note: All variables are treated as strings.Supported OperationsSupports basic binary operations or numbers. For example, @@{(2 * calm_int(variable1) + 10 ) / 32 }@@.Supports string concatenation. For example, @@{ foo + bar }@@.Supports slicing for strings. For example, @@{foo[3:6]}@@.Note: For a comma separated value, slicing splits the string on comma (,). For example, @@{\"x,y,z\"[1]}@@ results in y.VMware VariablesThe following table lists the built-in VMware macros that you can use to retrieve and display the entities.Table 1. VMware MacrosPropertiesUsage@@{address}@@IP address of the instance that is used by Nutanix Calm to access the VM@@{id}@@ID of the platform identifier@@{name}@@Name of the VM or container@@{mac_address}@@Mac address of the VM@@{platform}@@Platform response for a GET query. This is the response in JSON format from provider.Note: For an existing machine, only the address property is applicable.Runtime Variables OverviewRuntime variables are used to mark the attributes while creating the blueprint so that those attributes can be modified at the time of launching the application blueprint. This is useful for the users who cannot edit or create a blueprint such as consumers. For example, while creating a blueprint, if memory attribute is marked as a runtime variable then you can change its value before launching the application blueprint. Note: Ensure that the attributes marked as runtime variable are not null or empty and an initial value is configured.Figure. Runtime Variable Click to enlargePre-create and Post-delete Task OverviewPre-create tasks are actions that are performed before a service is provisioned on a multi-VM blueprint. For example, if you want to assign static IP addresses to your VMs by using IPAM service, you can create and run a pre-create task to receive the IP addresses before the service is provisioned. The pre-create task helps to restrict the broadcast traffic to receive the IP addresses for those VMs during the service provision.You can create the following types of pre-create tasks.Execute: Use this task type to run eScripts on the VM. Set variable: Use this task type to change variables in a task. HTTP: Use this task type to query REST calls from a URL. Delay: Use this task type to set a time interval between two tasks or actions. To create a pre-create task, see Creating a Pre-create Task.Post-delete Task OverviewPost-delete tasks are actions that are performed after you delete a service on a multi-VM blueprint. For example, if you want to delete the assigned IP addresses from your VMs, you can create a post-delete task to delete the IP addresses after the service is deleted. The post-delete task helps to restrict the broadcast traffic to delete the IP addresses for those VMs during the service provision.You can create the following types of post-delete tasks.Execute: Use this task type to run eScripts on the VM. Set variable: Use this task type to change variables in a task. HTTP: Use this task type to query REST calls from a URL. Delay: Use this task type to set a time interval between two tasks or actions. To create a post-delete task, see Creating Post-delete Task.Applications OverviewApplications are created as a result of building and launching the blueprints by using Nutanix Calm. Under the Applications tab, you can view the list of applications created. For more information about applications, see Application Tab Usage.Figure. Application TabClick to enlargeBrownfield ApplicationBrownfield ApplicationBrownfield applications are created to manage existing VMs that are currently not managed by Nutanix Calm. In order to create a brownfield application, Nutanix Calm should be able to communicate with the VMs that are not managed by Nutanix Calm. After the application is created, the application runs like any other Nutanix Calm application. You need administrator privilege to create a brownfield application. For information about how to create brownfield application, see Creating Brownfield Application.Note: After a VM is created, the VM takes some time to be listed for brownfield import.Library OverviewLibrary allows you to save user-defined tasks (scripts) and variables that can be used by other application blueprints. By using existing user-defined tasks and variables, you do not have to define the same tasks and variables again. You can share tasks and variables listed as part of library across different projects. You can also customise an existing task or variable. For more information about using Library, see Library Usage.Figure.  LibraryClick to enlargeNote: To view a task in Library, you must publish the task by using Publish to Library functionality under service package.To view the list of variables, you must create and save the variables in the Library. For more information, see Variable Types Overview.Variable Types OverviewTask Library OverviewVariable Types OverviewUsers can create custom variable types for added flexibility and utility. Beyond just string and integer data types, you can now create more data types such as Date/Time, list, and multi-line string. List values can be defined as a static list of values or attach a script (eScript or HTTP task) to retrieve the values dynamically at runtime.While creating a custom variable type, you are required to select a project. However, you can share the variable type with multiple other projects using \"Share\" option in the same page.Task Library OverviewYou can create tasks while configuring a blueprint and publish these tasks to the library. Nutanix Calm allows you to import these published tasks while configuring other blueprints across multiple projects. To refer to the video about task library, click here.Runbooks OverviewA runbook is a framework to automate routine tasks and procedures which pan across multiple applications without the involvement of a blueprint or an application. A runbook is a collection of tasks that you can define to run sequentially at different endpoints. For more information about endpoints, see Endpoints Overview.Figure. Runbooks Click to enlargeYou can define the following types of tasks in a runbook.Execute: Use this task to run Shell, PowerShell, and eScript (custom python) scripts.Set Variable: Use this task to run a script and create variables.Delay: Use this task to set a delay interval between two tasks or actions.HTTP: Use this task type to do REST calls to an HTTP endpoint.While Loop: Use this task type to iterate over multiple tasks until the defined condition is met. Decision: Use this task type to define different flows or paths based on the exit condition.For more information about creating a runbook, see Creating a Runbook.Access Privilege for RunbookThe following table describes the access privileges of different users to work on runbook.Access Privilege for RunbookThe following table describes the access privileges of different users to work on runbook.Table 1. Access Privilege for RunbookPrism AdminProject Admin DeveloperConsumerOperatorCreateXXXViewXXXXXUpdateXXXDeleteXXXExecuteXXXXXEndpoints OverviewEndpoints are the target resources where the defined tasks in a runbook or in a blueprint are run. The endpoints are communicated by using IP addresses, host names, port tuple, and different protocol attributes. Figure. EndpointsClick to enlargeAn endpoint is either one of the following type. Windows machineLinux machineHTTP service endpoint For more information about creating an endpoint, see Creating an Endpoint.Access Privilege for EndpointThe following table describes the access privileges of different users to work on endpoints.Access Privilege for EndpointThe following table describes the access privileges of different users to work on endpoints.Table 1. Access Privilege for EndpointsPrism AdminProject Admin DeveloperConsumerOperatorCreateXXXViewXXXXXUpdateXXXDeleteXXX", "Heading_Keywords": ["nutanix", "calm", "overview"]}, {"Heading": "Nutanix Calm Icons", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nutanix-calm-icons.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The following table displays the Nutanix Calm icons and the associated meanings.Table 1. Nutanix Calm IconsIconsIndicatesMarketplace tabBlueprint tab Application tab Library tabRunbooks tabEndpoints tabSettings tabMarketplace Manager tab Projects tab", "Heading_Keywords": ["nutanix", "calm", "icon"]}, {"Heading": "Settings Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nutanix-calm-settings-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must configure Nutanix Calm with your provider (by using the provider credentials) to enable Nutanix Calm to manage the applications by using your virtualization resources. You can configure multiple accounts of a provider. You can use the Settings > General tab to enable marketplace applications, download application log archive, and set the Calm UI as the default landing page.You can use the Settings > Providers tab to configure the provider settings. You can configure more than one provider or several accounts of the same provider.You can also enable and configure the cost of applications running on AHV and VMware providers.Note: All the AHV clusters that are registered to the Prism Central instance are automatically added as providers. Manual configuration is required only if you are adding a provider other than Nutanix.By using the settings tab, you can perform the following.Enable or disable marketplace applicationsEnable or disable showbackSet the Calm UI as the default landing page of Prism Central.Download an application log archiveConfigure provider settings to enable Nutanix Calm to manage applicationsConfigure application costFigure. Settings TabClick to enlargeYou can perform the following actions by using the General tab:Enabling Nutanix Marketplace ApplicationsEnabling ShowbackDownloading Application Log ArchiveYou can perform the following actions by using the Providers tab.Configuring AWS as a ProviderConfiguring AWS C2S Provider on Nutanix CalmConfiguring VMware as a ProviderConfiguring GCP as a ProviderConfiguring Azure as a ProviderConfiguring Kubernetes as a ProviderProviders OverviewApplication Log ArchiveShowbackApplication Protection StatusProviders OverviewProviders are cloud service providers or bare metals or existing machines that you can use to deploy, monitor, and govern your applications. If a provider is other than Nutanix, you must configure the provider. Nutanix Calm supports the following providers.Nutanix: All the AHV clusters that are registered in the Prism Central instance are automatically added as the providers. VMware: If you want to create and use a blueprint in VMware platform, you must configure VMware as a service provider. To configure VMware as a service provider, see Configuring VMware as a Provider.AWS: If you want to create and use a blueprint in AWS platform, you must configure AWS as a service provider. To configure AWS as a provider, see Configuring AWS as a Provider.GCP: If you want to create and use a blueprint in GCP platform, you must configure GCP as a service provider. To configure GCP as a provider, see Configuring GCP as a Provider.Azure: If you want to create and use a blueprint in Azure platform, you must configure Azure as a service provider. To configure Azure as a provider, see Configuring Azure as a Provider.Kubernetes: If you want to create and use a blueprint in Kubernetes platform, you must configure Kubernetes as a service provider. To configure Kubernetes as a provider, see Configuring Kubernetes as a Provider.Xi Cloud: If you want to create, use, and deploy a blueprint in the Xi Cloud platform, you must configure Xi Cloud as a service provider. To configure Xi Cloud as a provider, see Configuring Xi Cloud as a Provider.Support for Multi-PC SetupSupport for Multi-PC SetupIn a multiple Prism Centrals (multi-PC) setup, a central Calm instance (called global Calm instance) runs only on one of the PCs (called host or parent PC) and all the other PCs are connected to the central Calm instance as the remote PCs.The global Calm instance can now manage the applications deployed on the geographically distributed Prism Centrals (also called remote PCs) without the need of separate Calm instances for every PC. A remote PC is only used to provision the tasks for the deployed applications.In a multi-PC environment, every remote PC is added as an account to the host PC and you can add the account to your project before creating and launching a blueprint. For more information about adding a remote PC as an account, see Configuring a Remote Prism Central Account. For more information about adding the account in a project, see Managing Infrastructure.Figure. Multi-PC SetupClick to enlargeApplication Log ArchiveRunLog of the deleted applications and custom actions, older than 3 months, are automatically archived. The archive can be periodically downloaded from Nutanix Calm interface within 7 days from the time of archive creation.For a running application, data is not archived for the system-generated Create actions. For Start, Restart, Stop, Delete, and Soft Delete system-generated actions and user created actions, the following information is available.Started byRun byStatusFor a deleted application, all the action details are archived.Only an administrator can view and download the application log archive. For more information, see Downloading Application Log Archive.ShowbackShowback allows you to estimate the overall service cost of the applications running on your on-prem cloud. You can also view the graphical representation of the cost of the applications.Nutanix Calm supports showback for the following platforms.NutanixVMware through vCenterTo enable and configure showback, see Enabling Showback.Note: Starting with AOS 5.10 or NCC 3.6.3, the Prism Central generates the following NCC alerts for showback: Xi Beam connectivity with Prism Central Prism Central and Prism web console (also known as Prism Element) registration or de-registrationApplication Protection StatusIf the VMs of an application running on a Nutanix platform are protected by a protection policy in the Prism Central, you can view the protection and recovery status of the application after you enable the Show App Protection Status toggle button in the Settings tab. To enable Show App Protection Status, see Enabling Application Protection Status View.After you enable the Show App Protection Status toggle button, you can view the protection and recovery status of the application in the Application Overview page. For more information, see Overview Tab.Note: The Show App Protection Status toggle button is available if some or all the VMs of a Calm application running on a Nutanix platform are protected by a protection policy in the Prism Central. You can view the protection and recovery status of the Calm applications if the versions of the Prism Central and Prism Element are 5.17 or above. If the target recovery location is set to another Prism Central, Calm still displays the correct protection status. But the recovery is not tracked in this case and there is no recovery status available for the application. Calm application still points to the old VMs. ", "Heading_Keywords": ["set", "overview"]}, {"Heading": "Providers Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-providers_overview.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Providers are cloud service providers or bare metals or existing machines that you can use to deploy, monitor, and govern your applications. If a provider is other than Nutanix, you must configure the provider. Nutanix Calm supports the following providers.Nutanix: All the AHV clusters that are registered in the Prism Central instance are automatically added as the providers. VMware: If you want to create and use a blueprint in VMware platform, you must configure VMware as a service provider. To configure VMware as a service provider, see Configuring VMware as a Provider.AWS: If you want to create and use a blueprint in AWS platform, you must configure AWS as a service provider. To configure AWS as a provider, see Configuring AWS as a Provider.GCP: If you want to create and use a blueprint in GCP platform, you must configure GCP as a service provider. To configure GCP as a provider, see Configuring GCP as a Provider.Azure: If you want to create and use a blueprint in Azure platform, you must configure Azure as a service provider. To configure Azure as a provider, see Configuring Azure as a Provider.Kubernetes: If you want to create and use a blueprint in Kubernetes platform, you must configure Kubernetes as a service provider. To configure Kubernetes as a provider, see Configuring Kubernetes as a Provider.Xi Cloud: If you want to create, use, and deploy a blueprint in the Xi Cloud platform, you must configure Xi Cloud as a service provider. To configure Xi Cloud as a provider, see Configuring Xi Cloud as a Provider.Support for Multi-PC SetupSupport for Multi-PC SetupIn a multiple Prism Centrals (multi-PC) setup, a central Calm instance (called global Calm instance) runs only on one of the PCs (called host or parent PC) and all the other PCs are connected to the central Calm instance as the remote PCs.The global Calm instance can now manage the applications deployed on the geographically distributed Prism Centrals (also called remote PCs) without the need of separate Calm instances for every PC. A remote PC is only used to provision the tasks for the deployed applications.In a multi-PC environment, every remote PC is added as an account to the host PC and you can add the account to your project before creating and launching a blueprint. For more information about adding a remote PC as an account, see Configuring a Remote Prism Central Account. For more information about adding the account in a project, see Managing Infrastructure.Figure. Multi-PC SetupClick to enlarge", "Heading_Keywords": ["provid", "overview"]}, {"Heading": "Application Log Archive", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-application-log-archive-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "RunLog of the deleted applications and custom actions, older than 3 months, are automatically archived. The archive can be periodically downloaded from Nutanix Calm interface within 7 days from the time of archive creation.For a running application, data is not archived for the system-generated Create actions. For Start, Restart, Stop, Delete, and Soft Delete system-generated actions and user created actions, the following information is available.Started byRun byStatusFor a deleted application, all the action details are archived.Only an administrator can view and download the application log archive. For more information, see Downloading Application Log Archive.", "Heading_Keywords": ["applic", "log", "archiv"]}, {"Heading": "Showback", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-showback.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Showback allows you to estimate the overall service cost of the applications running on your on-prem cloud. You can also view the graphical representation of the cost of the applications.Nutanix Calm supports showback for the following platforms.NutanixVMware through vCenterTo enable and configure showback, see Enabling Showback.Note: Starting with AOS 5.10 or NCC 3.6.3, the Prism Central generates the following NCC alerts for showback: Xi Beam connectivity with Prism Central Prism Central and Prism web console (also known as Prism Element) registration or de-registration", "Heading_Keywords": ["showback"]}, {"Heading": "Application Protection Status", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-application_protection_status.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "If the VMs of an application running on a Nutanix platform are protected by a protection policy in the Prism Central, you can view the protection and recovery status of the application after you enable the Show App Protection Status toggle button in the Settings tab. To enable Show App Protection Status, see Enabling Application Protection Status View.After you enable the Show App Protection Status toggle button, you can view the protection and recovery status of the application in the Application Overview page. For more information, see Overview Tab.Note: The Show App Protection Status toggle button is available if some or all the VMs of a Calm application running on a Nutanix platform are protected by a protection policy in the Prism Central. You can view the protection and recovery status of the Calm applications if the versions of the Prism Central and Prism Element are 5.17 or above. If the target recovery location is set to another Prism Central, Calm still displays the correct protection status. But the recovery is not tracked in this case and there is no recovery status available for the application. Calm application still points to the old VMs. ", "Heading_Keywords": ["applic", "protect", "statu"]}, {"Heading": "Projects Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-components-projects-intro-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "A project is a set of Active Directory users with a common set of requirements or a common structure and function, such as a team of engineers collaborating on an engineering project. The project also specifies the roles to associate with its members, networks that they can use, infrastructure to deploy onto, and (optionally) usage limits on infrastructure resources.Note: OpenLDAP is not supported for Projects in Nutanix Calm.You can also define the environment associated with a project. If you want to publish an application into the marketplace, you must configure the environment. If you have not configured the VM details while creating a blueprint, you must configure the VM details as part of environment. Also, during the application blueprint launch from marketplace, the values are picked from the environment.To refer to the video about projects and environment, click here. Figure. ProjectsClick to enlargeRoles and Responsibilities MatrixManage InfrastructureEnvironment OverviewSupport for Multiple CredentialRoles and Responsibilities MatrixThe following is the roles and responsibilities matrix.Table 1. Roles and Responsibilities MatrixPrism AdminProject AdminDeveloperConsumerOperatorMarketplaceEnable and DisableXManageXApp publishing requestXXXSend App publishing request to the AdministratorXXClone and edit App blueprintXXXBlueprintCreate, update, delete, and duplicateXXXRead-onlyXXXXLaunchXXXXApplicationsComplete App summaryXXXXXRun functionsXXXXXApp debug modeXXXXXFunction editXXXCreate App (brownfield import)XXXDelete AppXXXXSettingsCRUDXTask LibraryViewXXXXXCreate and UpdateXXXDeleteXSharing with ProjectsXProjectsAdd projectXUpdate projectXXAdd VMs to projectsXCustom rolesUsersAdd users to the system and change rolesXAdd and remove users to or from a projectXXChange user roles in a projectXXCreate AdministratorXCreate Project AdministratorXXRunbooksCreate and UpdateXXXViewXXXXXDeleteXXXExecuteXXXXXEndpointsCreate and UpdateXXXViewXXXXXDeleteXXXTo refer to the video about roles and responsibility, click here.Manage InfrastructureInfrastructure defines the type of providers for a project. You can manage multiple infrastructures for a project. Nutanix Calm supports the following types of providers for a project.NutanixVMwareAWSAzureGCPKubernetesXiIf you are configuring Nutanix as your provider in your project, you can add multiple clusters and whitelist subnets from the selected clusters. The whitelisted subnets are available for your selection while you configure a multi VM blueprint. If you are configuring any other provider other than Nutanix, you must select an account for the provider.Note: After saving, you cannot change the configured project details. Environment OverviewEnvironment allows you to add multiple credentials and configure VM details for the selected provider as a part of project configuration. You must configure Environment before launching an application from the marketplace or during configuring a blueprint. If you have configured Environment during project creation, you can clone the same configuration for the VM while configuring a blueprint. To know more about environment configuration for every provider, see Configuring Environments.Support for Multiple CredentialCredentials help in abstracting identity settings while connecting to an external system. You can configure multiple credentials of the same type (either SSH key or password) and define under the Environment tab. You can use the configured credentials during launch of an application blueprint.", "Heading_Keywords": ["project", "overview"]}, {"Heading": "Roles and Responsibilities Matrix", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-roles-responsibility-matrix-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The following is the roles and responsibilities matrix.Table 1. Roles and Responsibilities MatrixPrism AdminProject AdminDeveloperConsumerOperatorMarketplaceEnable and DisableXManageXApp publishing requestXXXSend App publishing request to the AdministratorXXClone and edit App blueprintXXXBlueprintCreate, update, delete, and duplicateXXXRead-onlyXXXXLaunchXXXXApplicationsComplete App summaryXXXXXRun functionsXXXXXApp debug modeXXXXXFunction editXXXCreate App (brownfield import)XXXDelete AppXXXXSettingsCRUDXTask LibraryViewXXXXXCreate and UpdateXXXDeleteXSharing with ProjectsXProjectsAdd projectXUpdate projectXXAdd VMs to projectsXCustom rolesUsersAdd users to the system and change rolesXAdd and remove users to or from a projectXXChange user roles in a projectXXCreate AdministratorXCreate Project AdministratorXXRunbooksCreate and UpdateXXXViewXXXXXDeleteXXXExecuteXXXXXEndpointsCreate and UpdateXXXViewXXXXXDeleteXXXTo refer to the video about roles and responsibility, click here.", "Heading_Keywords": ["role", "respons", "matrix"]}, {"Heading": "Manage Infrastructure", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-manage-infrastructure-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Infrastructure defines the type of providers for a project. You can manage multiple infrastructures for a project. Nutanix Calm supports the following types of providers for a project.NutanixVMwareAWSAzureGCPKubernetesXiIf you are configuring Nutanix as your provider in your project, you can add multiple clusters and whitelist subnets from the selected clusters. The whitelisted subnets are available for your selection while you configure a multi VM blueprint. If you are configuring any other provider other than Nutanix, you must select an account for the provider.Note: After saving, you cannot change the configured project details. ", "Heading_Keywords": ["manag", "infrastructur"]}, {"Heading": "Environment Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-environment-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Environment allows you to add multiple credentials and configure VM details for the selected provider as a part of project configuration. You must configure Environment before launching an application from the marketplace or during configuring a blueprint. If you have configured Environment during project creation, you can clone the same configuration for the VM while configuring a blueprint. To know more about environment configuration for every provider, see Configuring Environments.", "Heading_Keywords": ["environ", "overview"]}, {"Heading": "Support for Multiple Credential", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-multiple-credential-support-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Credentials help in abstracting identity settings while connecting to an external system. You can configure multiple credentials of the same type (either SSH key or password) and define under the Environment tab. You can use the configured credentials during launch of an application blueprint.", "Heading_Keywords": ["support", "multipl", "credenti"]}, {"Heading": "Marketplace Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-components-marketplace-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The marketplace provides a set of pre-seeded application blueprints that are available for you to use. The marketplace is a common platform for both the publisher and the consumer. The marketplace provides you with the ability to provision an application instantly.Figure. MarketplaceClick to enlargeNote: To view the application blueprints in Marketplace, you need to publish the blueprints by using Marketplace Manager. To publish a blueprint, see Marketplace Manager Overview. Before using an application, you can get the required information about the application blueprint by viewing the Application details. Application details provides information such as application overview and application-level actions.Figure. Marketplace-Application DetailsClick to enlargeYou can classify and filter the applications according to categories. Marketplace provides a search functionality to search for a particular application in the marketplace. The featured applications (as shown in the above figure) are displayed on the banner. All the listed applications display the icons of the platforms on which the application is supported. For more information on the operations that can be performed by using Marketplace tab, see Marketplace Usage.Marketplace VersionMarketplace VersionMarketplace version enables you to define the initial version number of the blueprint that is getting published to the marketplace. Marketplace version also enables you to revise the version of a blueprint that is already published to the marketplace. For information about how to define marketplace version, see Publishing a Blueprint.", "Heading_Keywords": ["marketplac", "overview"]}, {"Heading": "Marketplace Version", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-marketplace-version-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Marketplace version enables you to define the initial version number of the blueprint that is getting published to the marketplace. Marketplace version also enables you to revise the version of a blueprint that is already published to the marketplace. For information about how to define marketplace version, see Publishing a Blueprint.", "Heading_Keywords": ["marketplac", "version"]}, {"Heading": "Marketplace Manager Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-components-marketplace-manager-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Marketplace Manager enables you to manage the blueprints. By using the marketplace manager, you can approve, reject, launch, publish, unpublish, assign a category, and select projects for a blueprint. A blueprint needs to be published so that the blueprint is available in the marketplace for consumption. For more information on the operations that are performed by using the Marketplace Manager, see Marketplace Manager Overview.Figure. Marketplace ManagerClick to enlarge", "Heading_Keywords": ["marketplac", "manag", "overview"]}, {"Heading": "Blueprint Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-blueprint-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "A blueprint is the framework for every application that you model by using Nutanix Calm. Blueprints are templates that describe all the steps that are required to provision, configure, and execute tasks on the services and applications that are created. You can create a blueprint to represent the architecture of your application and then run the blueprint repeatedly to create an instance, provision, and launch your applications. A blueprint also defines the lifecycle of an application and its underlying infrastructure starting from the creation of the application to the actions that are carried out on a blueprint until the termination of the application.You can use blueprints to model the applications of various complexities; from simply provisioning a single virtual machine to provisioning and managing a multi-node, multi-tier application. For information about the usage of a blueprint, see Blueprints Usage.Blueprint editor (as shown in the following figure) provides a graphical representation of various components that allow you to visualize and configure the components and their dependencies in your environment.Figure. Blueprint EditorClick to enlargeServices OverviewActions OverviewApplication Profiles OverviewDependencies OverviewMacros OverviewRuntime Variables OverviewPre-create and Post-delete Task OverviewServices OverviewServices are the virtual machine instances, existing machines or bare-metal machines, that you can provision and configure by using Nutanix Calm. You can either provision a single service instance or multiple services based on the topology of your application. A service can only expose an IP address and ports on which the request is received. After a service is configured, you can clone or edit the service as required. For information about how to configure a service, see Configuring Nutanix and Existing Machine VM, Package, and Service.Figure. Blueprint ServiceClick to enlargeA service includes the following.VMPackageServiceVMA VM defines the configuration of the virtual machine instance, the platform on which the VM will be installed, and the connection information of the machine. For example, as shown in the following figure, you need to define the name, cloud, operating system, IP address, and the connection information for an existing machine.Figure. VM TabClick to enlargePackageA package enables you to install and uninstall software on an existing machine or bare metal machine by using a script. You need to provide the credentials of the VM on which you need to run the script. A sample script is shown in the following figure. Package also defines the port number and the protocol that is used to access the service. Figure. Package TabClick to enlargeServiceA service enables you to create the variables that are used to define the service-level tasks and service-level actions. As part of the service, you can also define the number of replicas that you want to create of a service.Figure. Service TabClick to enlargeActions OverviewAn action is a set of operations that you can run on your application that are created as a result of running a blueprint. For information about how to create an action, see Creating an Action.Figure. Layer-ActionClick to enlargeYou can categorize actions into the following types.System ActionThese are pre-defined functions of the system that are by default part of the blueprint and cannot be edited.Custom ActionThese are custom actions that you can create to carry out the orchestration of tasks on the different services of an application.Scale InScale OutScale InThe scale in functionality enables you to decrease the number of replicas of a service deployment. The number of instances to be removed from a service for each scale-in action is defined in the blueprint while configuring the task in the profile level action. The scale count number must be less than or equals to the minimum number of replicas defined for the service. The VM that is created last is deleted first. For information about how to configure scale in, see Adding and Configuring Scale Out and Scale In.To refer to the video about scale in and scale out, click here.Scale OutThe scale out functionality enables you to increase the number of replicas of a service deployment. The number of instances to be added to a service for each scale-out action is defined in the blueprint while configuring the task in the profile level action. The scale count number must be less than or equals to the maximum number of replicas defined for the service. For information about how to configure scale out, see Adding and Configuring Scale Out and Scale In.To refer to the video about scale in and scale out, click here.Application Profiles OverviewAn application profile provides different combinations of the service, package, and VM while configuring a blueprint. If Showback feature is enabled, the application profile also displays service cost of the resources used for an application. You must select an application profile while you launch a blueprint. The application profile also enables you to use the same set of services and packages on the different platforms. For information about how to configure an application profile, see Adding and Configuring an Application Profile.Figure. Application ProfileClick to enlargeDependencies OverviewDependencies are used to define the dependence of one service in your application on another service or multiple other services for properties such as IP addresses and DNS names. For example, if service 2 is dependent on service 1, then service 1 starts first and stops after service 2. For information about how to define dependencies between services, see Setting up the Service Dependencies.Figure. DependenciesClick to enlargeNote: If there are no dependencies between tasks in a service, Nutanix Calm runs the tasks in any order or even in parallel.Macros OverviewCalm macros are part of a templating language for calm scripts. These are evaluated by calm's execution engine before the script is run.Macros enable you to access the value of variables and properties that are set on entities. The variables can be user defined or system generated. Macros help in making scripts generic and creating reusable workflows. The syntax of a macro is @@{variable_name}@@, where variable_name is the name of the variable.Note: The value of properties or variables of a parent entity can be accessed by the child entity unless the properties or the variables are overridden by another entity. Note: Accessing property value is not supported across the applications.The syntax to access the value of variables or properties of other entities or dependencies is @@{<entity name>.<variable/attribute name>}@@ where entity name, is the name of the other entity or dependency and variable/attribute name is the name of the variable or attribute. For example, if a blueprint contains a service by the name of app_container, you can access the IP address of the app_container service in any other service using @@{app_container.address}@@ syntax.Supported EntitiesBuilt-in MacrosPlatform MacrosVirtual Machine Common PropertiesNutanix VariablesAWS VariablesGCP VariablesAzure VariablesKubernetes VariablesCredentials as MacrosAccess Macros of an Array ServiceSupported Data TypesSupported OperationsVMware VariablesSupported EntitiesMacros supports the following entities.ApplicationDeploymentServicePackageVirtual machineBuilt-in MacrosThe following table lists the built-in macros that you can use to retrieve and display the entities. Table 1. Built-in MacrosMacroUsage@@{calm_array_index}@@Index of the entity within an array@@{calm_blueprint_name}@@Name of the blueprint from which the application was created@@{calm_blueprint_uuid}@@Universally unique identifier (UUID) of the blueprint from which the application was created@@{calm_application_name}@@Name of the application@@{calm_application_uuid}@@UUID of the application@@{calm_uuid}@@UUID of the entity within the application on which the current task is running@@{calm_random}@@A random number is generated each time this is used. This will be evaluated each time and should not be used in fields such as VM name.@@{calm_unique}@@A random number that is unique to this replica. This will be evaluated to the same value across runs.@@{calm_jwt}@@JWT for the currently logged in user for API authentication.@@{calm_now}@@@@{calm_today}@@The current time stamp@@{calm_time(\u201c<format>\u201d)}@@The current time in the specified format@@{calm_year(\u201cYYYY\u201d)}@@@@{calm_year(\u201cYY\u201d)}@@The current year in YYYY or YY format@@{calm_month(\u201cshort\u201d)}@@@@{calm_month(\u201clong\u201d)}@@Name of the current month in long or short format@@{calm_day(\u201cmonth\u201d)}@@@@{calm_day(\u201cyear\u201d)}@@Numeric day of the month or year@@{calm_weeknumber}@@@@{calm_weeknumber(\u201ciso\u201d)}@@ISO Numeric week of the year@@{calm_weekday(\u201cnumber\u201d)}@@@@{calm_weekday(\u201cname_short\u201d)}@@@@{calm_weekday(\u201cname_long\u201d)}@@Day of the week in numeric or short name or long name@@{calm_hour(\u201c12\u201d)}@@@@{calm_hour(\u201c24\u201d)}@@@@{calm_hour(\u201cam_pm\u201d)}@@Numeric hour of the day in 12:00-hour or 24:00-hour format along with AM or PM@@{calm_minute}@@Numeric minute@@{calm_second}@@Numeric second@@{calm_is_weekday}@@Displays 1 if the current day is a weekday@@{calm_is_long_weekday}@@Displays 1 if the current day is a weekday from Monday to Saturday@@{calm_is_within(\"time1\", \"time2\")}@@Displays 1 if the current time is within the time1 and time2 range@@{calm_project_name}@@Displays the project name@@{calm_username + @nutanix.com}@@Displays the username@@{calm_float(\"32.65\") * 2}@@ @@{calm_int(calm_array_index) + 1}@@ Typecast to integer. This is useful for binary operations.@@{calm_string(256) + \"-bit\"}@@ @@{\"xyz\" + calm_string(42)}@@Typecast to string. This is useful for string concatenation.@@{calm_b64encode(api_response)}@@@@{calm_b64encode(\"a,b,c\")}@@ Base64 encode the data passed to this macro.@@{calm_b64encode(b64_encoded_data)}@@ @@{calm_b64encode(\"YSxiLGM=\")}@@ Base64 decode the data passed to this macro.Platform MacrosYou can access the properties of a VM by using the platform macros. The following section describes the macros to access the VM properties for different providers.Table 1. AHV platform MacrosMacroUsage@@{platform}@@To access all the properties of a VM.@@{platform.status.cluster_reference.uuid}@@To access the uuid of the cluster or the Prism element.@@{platform.status.resources.nic_list[0].mac_address}@@To access mac the address.Note: Use the nic_list index to access the mac address of a specific nic.@@{platform.status.resources.nic_list[0].subnet_reference.name}@@To access the NIC name.@@{platform.status.resources.power_state}@@To get the state of the VM.@@{platform.status.num_sockets}@@To access number of sockets of the VM.Note: The @@{platform}@@ macro stores the GET response of the VM. You can access any VM information that is available through the GET API response. Table 2. VMware platform MacrosMacroUsage@@{platform}@@To access all the properties of a VM.@@{platform.datastore[0].Name}@@To access the datastore name.@@{platform.num_sockets}@@To access number of sockets of the VM.Note: The @@{platform}@@ macro stores the GET response of the VM. You can access any VM information that is available through the GET API response. Table 3. GCP platform MacrosMacroUsage@@{platform}@@To access all the properties of a VM.@@{platform.creationTimestamp}@@To get the VM creation time stamp.@@{platform.selfLink}@@To access the self link of the VM.@@{platform.networkInterfaces[0].subnetwork}@@To access the network details of the VM.Note: The @@{platform}@@ macro stores the GET response of the VM. You can access any VM information that is available through the GET API response. Virtual Machine Common PropertiesThe following table lists the common properties of the virtual machine that are available for usage. Table 1. Virtual Machine Common PropertiesPropertiesUsage@@{address}@@IP address of the instance that is used by Nutanix Calm to access the VM@@{id}@@ID of the platform identifier@@{name}@@Name of the VM or container@@{mac_address}@@Mac address of the VM@@{platform}@@Platform response for a GET query. This is the response in JSON format from provider.Note: For an existing machine, only the address property is applicable.Nutanix VariablesThe following table lists the Nutanix variables that are available for usage. Table 1. AHV MacrosPropertiesUsage@@{address}@@IP address of the instance that is used by Nutanix Calm to access the VM@@{id}@@ID of the platform identifier@@{name}@@Name of the VM or container@@{mac_address}@@Mac address of the VM@@{platform}@@Platform response for a GET query. This is the response in JSON format from provider.Note: For an existing machine, only the address property is applicable.AWS VariablesThe following table lists the built-in AWS macros that you can use to retrieve and display the entities.Table 1. AWS MacrosMacrosUsage@@{address}@@IP address of the instance that is used by Nutanix Calm to access the VM.Note: The VM Name field does not support this macro.@@{id}@@Internal ID of the instance that is used within the Prism. Note: The VM Name field does not support this macro.@@{name}@@Name of the VM. Note: The VM Name field does not support this macro.@@{aws_instance_id}@@Instance ID of AWS@@{private_ip_address}@@Private IP address@@{private_dns_name}@@Private DNS name@@{public_ip_address}@@Public IP address@@{public_dns_name}@@Public DNS name@@{vm_zone}@@AWS zone of instance@@{platform}@@Platform response for a GET query. This is the response in JSON format from provider.GCP VariablesThe following table lists the built-in GCP macros that you can use to retrieve and display the entities.Table 1. GCP MacrosMacrosUsage@@{address}@@@@{ip_address}@@ @@{public_ip_address}@@IP address of the instance that is used by Nutanix Calm to access the VM.Note: The VM Name field does not support this macro.@@{id}@@Internal ID of the instance that is used within the Prism. Note: The VM Name field does not support this macro.@@{name}@@Name of the VM. Note: The VM Name field does not support this macro.@@{zone}@@Zone in which the VM instance is created.@@{platform_data}@@Platform response for a GET query. This is the response in JSON format from provider.@@{internal_ips}@@List of all the private IP addresses.@@{external_ips}@@List of all the public IP addresses.Azure VariablesThe following table lists the built-in Azure macros that you can use to retrieve and display the entities.Table 1. Azure MacrosMacrosUsage@@{address}@@IP address of the instance that is used by Nutanix Calm to access the VM.Note: The VM Name field does not support this macro.@@{id}@@Internal ID of the instance that is used within the Prism. Note: The VM Name field does not support this macro.@@{name}@@Name of the VM. Note: The VM Name field does not support this macro.@@{private_ip_address}@@Private IP address@@{public_ip_address}@@Public IP address@@{resource_group}@@Resource group name in which the VM instance is created.@@{platform_data}@@Platform response for a GET query. This is the response in JSON format from provider.Kubernetes VariablesThe following table lists the Kubernetes variables that are available for usage. Table 1. Kubernetes MacrosPropertiesUsage @@{K8sPublishedService.address}@@IP address of the service.@@{K8sPublishedService.name}@@Name of the service.@@{K8sPublishedService.ingress}@@Load balancer IP for public service.@@{K8sPublishedService_platform_data}@@Platform data for the service.@@{K8sDeployement.name}@@Name of the deployment.@@{K8sDeployement.platform_data}@@Platform data for the deployment.Note: Do not use deployment macros in publish service specs or publish macros in deployment service specs in the same calm deployment.Credentials as MacrosCredentials can be accessed as macros, the format to access credential is @@{cred_name.username}@@ and @@{cred_name.secret}@@ where cred_name is the name of the credential with which the cred is created.Access Macros of an Array ServiceNutanix Calm allows you to access macros of an array service using a special macro which starts with calm_array. You can configure a VM with replicas and access the common macros of all the replicas.Use the following syntax to retrieve the name of all the instances of VM separated by commas.@@{calm_array_name}@@Use the following syntax to retrieve the IP address of all the instances of VM separated by commas.@@{calm_array_address}@@Use the following syntax to retrieve the ID of all the instances of VM separated by commas.@@{calm_array_id}@@Supported Data TypesMacros support the following data types.Table 1. Supported Data TypesData TypeUsageString@@{\"some string\"}@@ or @@{'some string'}@@ Note: Newline or other such special characters are not supported. You can use \\ to escape quotes.NumbersSupports integer and float. For example, @@{ 10 + 20.63 }@@ Note: All variables are treated as strings.Supported OperationsSupports basic binary operations or numbers. For example, @@{(2 * calm_int(variable1) + 10 ) / 32 }@@.Supports string concatenation. For example, @@{ foo + bar }@@.Supports slicing for strings. For example, @@{foo[3:6]}@@.Note: For a comma separated value, slicing splits the string on comma (,). For example, @@{\"x,y,z\"[1]}@@ results in y.VMware VariablesThe following table lists the built-in VMware macros that you can use to retrieve and display the entities.Table 1. VMware MacrosPropertiesUsage@@{address}@@IP address of the instance that is used by Nutanix Calm to access the VM@@{id}@@ID of the platform identifier@@{name}@@Name of the VM or container@@{mac_address}@@Mac address of the VM@@{platform}@@Platform response for a GET query. This is the response in JSON format from provider.Note: For an existing machine, only the address property is applicable.Runtime Variables OverviewRuntime variables are used to mark the attributes while creating the blueprint so that those attributes can be modified at the time of launching the application blueprint. This is useful for the users who cannot edit or create a blueprint such as consumers. For example, while creating a blueprint, if memory attribute is marked as a runtime variable then you can change its value before launching the application blueprint. Note: Ensure that the attributes marked as runtime variable are not null or empty and an initial value is configured.Figure. Runtime Variable Click to enlargePre-create and Post-delete Task OverviewPre-create tasks are actions that are performed before a service is provisioned on a multi-VM blueprint. For example, if you want to assign static IP addresses to your VMs by using IPAM service, you can create and run a pre-create task to receive the IP addresses before the service is provisioned. The pre-create task helps to restrict the broadcast traffic to receive the IP addresses for those VMs during the service provision.You can create the following types of pre-create tasks.Execute: Use this task type to run eScripts on the VM. Set variable: Use this task type to change variables in a task. HTTP: Use this task type to query REST calls from a URL. Delay: Use this task type to set a time interval between two tasks or actions. To create a pre-create task, see Creating a Pre-create Task.Post-delete Task OverviewPost-delete tasks are actions that are performed after you delete a service on a multi-VM blueprint. For example, if you want to delete the assigned IP addresses from your VMs, you can create a post-delete task to delete the IP addresses after the service is deleted. The post-delete task helps to restrict the broadcast traffic to delete the IP addresses for those VMs during the service provision.You can create the following types of post-delete tasks.Execute: Use this task type to run eScripts on the VM. Set variable: Use this task type to change variables in a task. HTTP: Use this task type to query REST calls from a URL. Delay: Use this task type to set a time interval between two tasks or actions. To create a post-delete task, see Creating Post-delete Task.", "Heading_Keywords": ["blueprint", "overview"]}, {"Heading": "Services Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-components-service-introduction-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Services are the virtual machine instances, existing machines or bare-metal machines, that you can provision and configure by using Nutanix Calm. You can either provision a single service instance or multiple services based on the topology of your application. A service can only expose an IP address and ports on which the request is received. After a service is configured, you can clone or edit the service as required. For information about how to configure a service, see Configuring Nutanix and Existing Machine VM, Package, and Service.Figure. Blueprint ServiceClick to enlargeA service includes the following.VMPackageServiceVMA VM defines the configuration of the virtual machine instance, the platform on which the VM will be installed, and the connection information of the machine. For example, as shown in the following figure, you need to define the name, cloud, operating system, IP address, and the connection information for an existing machine.Figure. VM TabClick to enlargePackageA package enables you to install and uninstall software on an existing machine or bare metal machine by using a script. You need to provide the credentials of the VM on which you need to run the script. A sample script is shown in the following figure. Package also defines the port number and the protocol that is used to access the service. Figure. Package TabClick to enlargeServiceA service enables you to create the variables that are used to define the service-level tasks and service-level actions. As part of the service, you can also define the number of replicas that you want to create of a service.Figure. Service TabClick to enlarge", "Heading_Keywords": ["servic", "overview"]}, {"Heading": "Actions Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-components-layer-action-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "An action is a set of operations that you can run on your application that are created as a result of running a blueprint. For information about how to create an action, see Creating an Action.Figure. Layer-ActionClick to enlargeYou can categorize actions into the following types.System ActionThese are pre-defined functions of the system that are by default part of the blueprint and cannot be edited.Custom ActionThese are custom actions that you can create to carry out the orchestration of tasks on the different services of an application.Scale InScale OutScale InThe scale in functionality enables you to decrease the number of replicas of a service deployment. The number of instances to be removed from a service for each scale-in action is defined in the blueprint while configuring the task in the profile level action. The scale count number must be less than or equals to the minimum number of replicas defined for the service. The VM that is created last is deleted first. For information about how to configure scale in, see Adding and Configuring Scale Out and Scale In.To refer to the video about scale in and scale out, click here.Scale OutThe scale out functionality enables you to increase the number of replicas of a service deployment. The number of instances to be added to a service for each scale-out action is defined in the blueprint while configuring the task in the profile level action. The scale count number must be less than or equals to the maximum number of replicas defined for the service. For information about how to configure scale out, see Adding and Configuring Scale Out and Scale In.To refer to the video about scale in and scale out, click here.", "Heading_Keywords": ["action", "overview"]}, {"Heading": "Application Profiles Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-application-profile-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "An application profile provides different combinations of the service, package, and VM while configuring a blueprint. If Showback feature is enabled, the application profile also displays service cost of the resources used for an application. You must select an application profile while you launch a blueprint. The application profile also enables you to use the same set of services and packages on the different platforms. For information about how to configure an application profile, see Adding and Configuring an Application Profile.Figure. Application ProfileClick to enlarge", "Heading_Keywords": ["applic", "profil", "overview"]}, {"Heading": "Dependencies Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-components-dependencies-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Dependencies are used to define the dependence of one service in your application on another service or multiple other services for properties such as IP addresses and DNS names. For example, if service 2 is dependent on service 1, then service 1 starts first and stops after service 2. For information about how to define dependencies between services, see Setting up the Service Dependencies.Figure. DependenciesClick to enlargeNote: If there are no dependencies between tasks in a service, Nutanix Calm runs the tasks in any order or even in parallel.", "Heading_Keywords": ["depend", "overview"]}, {"Heading": "Macros Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-components-macros-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Calm macros are part of a templating language for calm scripts. These are evaluated by calm's execution engine before the script is run.Macros enable you to access the value of variables and properties that are set on entities. The variables can be user defined or system generated. Macros help in making scripts generic and creating reusable workflows. The syntax of a macro is @@{variable_name}@@, where variable_name is the name of the variable.Note: The value of properties or variables of a parent entity can be accessed by the child entity unless the properties or the variables are overridden by another entity. Note: Accessing property value is not supported across the applications.The syntax to access the value of variables or properties of other entities or dependencies is @@{<entity name>.<variable/attribute name>}@@ where entity name, is the name of the other entity or dependency and variable/attribute name is the name of the variable or attribute. For example, if a blueprint contains a service by the name of app_container, you can access the IP address of the app_container service in any other service using @@{app_container.address}@@ syntax.Supported EntitiesBuilt-in MacrosPlatform MacrosVirtual Machine Common PropertiesNutanix VariablesAWS VariablesGCP VariablesAzure VariablesKubernetes VariablesCredentials as MacrosAccess Macros of an Array ServiceSupported Data TypesSupported OperationsVMware VariablesSupported EntitiesMacros supports the following entities.ApplicationDeploymentServicePackageVirtual machineBuilt-in MacrosThe following table lists the built-in macros that you can use to retrieve and display the entities. Table 1. Built-in MacrosMacroUsage@@{calm_array_index}@@Index of the entity within an array@@{calm_blueprint_name}@@Name of the blueprint from which the application was created@@{calm_blueprint_uuid}@@Universally unique identifier (UUID) of the blueprint from which the application was created@@{calm_application_name}@@Name of the application@@{calm_application_uuid}@@UUID of the application@@{calm_uuid}@@UUID of the entity within the application on which the current task is running@@{calm_random}@@A random number is generated each time this is used. This will be evaluated each time and should not be used in fields such as VM name.@@{calm_unique}@@A random number that is unique to this replica. This will be evaluated to the same value across runs.@@{calm_jwt}@@JWT for the currently logged in user for API authentication.@@{calm_now}@@@@{calm_today}@@The current time stamp@@{calm_time(\u201c<format>\u201d)}@@The current time in the specified format@@{calm_year(\u201cYYYY\u201d)}@@@@{calm_year(\u201cYY\u201d)}@@The current year in YYYY or YY format@@{calm_month(\u201cshort\u201d)}@@@@{calm_month(\u201clong\u201d)}@@Name of the current month in long or short format@@{calm_day(\u201cmonth\u201d)}@@@@{calm_day(\u201cyear\u201d)}@@Numeric day of the month or year@@{calm_weeknumber}@@@@{calm_weeknumber(\u201ciso\u201d)}@@ISO Numeric week of the year@@{calm_weekday(\u201cnumber\u201d)}@@@@{calm_weekday(\u201cname_short\u201d)}@@@@{calm_weekday(\u201cname_long\u201d)}@@Day of the week in numeric or short name or long name@@{calm_hour(\u201c12\u201d)}@@@@{calm_hour(\u201c24\u201d)}@@@@{calm_hour(\u201cam_pm\u201d)}@@Numeric hour of the day in 12:00-hour or 24:00-hour format along with AM or PM@@{calm_minute}@@Numeric minute@@{calm_second}@@Numeric second@@{calm_is_weekday}@@Displays 1 if the current day is a weekday@@{calm_is_long_weekday}@@Displays 1 if the current day is a weekday from Monday to Saturday@@{calm_is_within(\"time1\", \"time2\")}@@Displays 1 if the current time is within the time1 and time2 range@@{calm_project_name}@@Displays the project name@@{calm_username + @nutanix.com}@@Displays the username@@{calm_float(\"32.65\") * 2}@@ @@{calm_int(calm_array_index) + 1}@@ Typecast to integer. This is useful for binary operations.@@{calm_string(256) + \"-bit\"}@@ @@{\"xyz\" + calm_string(42)}@@Typecast to string. This is useful for string concatenation.@@{calm_b64encode(api_response)}@@@@{calm_b64encode(\"a,b,c\")}@@ Base64 encode the data passed to this macro.@@{calm_b64encode(b64_encoded_data)}@@ @@{calm_b64encode(\"YSxiLGM=\")}@@ Base64 decode the data passed to this macro.Platform MacrosYou can access the properties of a VM by using the platform macros. The following section describes the macros to access the VM properties for different providers.Table 1. AHV platform MacrosMacroUsage@@{platform}@@To access all the properties of a VM.@@{platform.status.cluster_reference.uuid}@@To access the uuid of the cluster or the Prism element.@@{platform.status.resources.nic_list[0].mac_address}@@To access mac the address.Note: Use the nic_list index to access the mac address of a specific nic.@@{platform.status.resources.nic_list[0].subnet_reference.name}@@To access the NIC name.@@{platform.status.resources.power_state}@@To get the state of the VM.@@{platform.status.num_sockets}@@To access number of sockets of the VM.Note: The @@{platform}@@ macro stores the GET response of the VM. You can access any VM information that is available through the GET API response. Table 2. VMware platform MacrosMacroUsage@@{platform}@@To access all the properties of a VM.@@{platform.datastore[0].Name}@@To access the datastore name.@@{platform.num_sockets}@@To access number of sockets of the VM.Note: The @@{platform}@@ macro stores the GET response of the VM. You can access any VM information that is available through the GET API response. Table 3. GCP platform MacrosMacroUsage@@{platform}@@To access all the properties of a VM.@@{platform.creationTimestamp}@@To get the VM creation time stamp.@@{platform.selfLink}@@To access the self link of the VM.@@{platform.networkInterfaces[0].subnetwork}@@To access the network details of the VM.Note: The @@{platform}@@ macro stores the GET response of the VM. You can access any VM information that is available through the GET API response. Virtual Machine Common PropertiesThe following table lists the common properties of the virtual machine that are available for usage. Table 1. Virtual Machine Common PropertiesPropertiesUsage@@{address}@@IP address of the instance that is used by Nutanix Calm to access the VM@@{id}@@ID of the platform identifier@@{name}@@Name of the VM or container@@{mac_address}@@Mac address of the VM@@{platform}@@Platform response for a GET query. This is the response in JSON format from provider.Note: For an existing machine, only the address property is applicable.Nutanix VariablesThe following table lists the Nutanix variables that are available for usage. Table 1. AHV MacrosPropertiesUsage@@{address}@@IP address of the instance that is used by Nutanix Calm to access the VM@@{id}@@ID of the platform identifier@@{name}@@Name of the VM or container@@{mac_address}@@Mac address of the VM@@{platform}@@Platform response for a GET query. This is the response in JSON format from provider.Note: For an existing machine, only the address property is applicable.AWS VariablesThe following table lists the built-in AWS macros that you can use to retrieve and display the entities.Table 1. AWS MacrosMacrosUsage@@{address}@@IP address of the instance that is used by Nutanix Calm to access the VM.Note: The VM Name field does not support this macro.@@{id}@@Internal ID of the instance that is used within the Prism. Note: The VM Name field does not support this macro.@@{name}@@Name of the VM. Note: The VM Name field does not support this macro.@@{aws_instance_id}@@Instance ID of AWS@@{private_ip_address}@@Private IP address@@{private_dns_name}@@Private DNS name@@{public_ip_address}@@Public IP address@@{public_dns_name}@@Public DNS name@@{vm_zone}@@AWS zone of instance@@{platform}@@Platform response for a GET query. This is the response in JSON format from provider.GCP VariablesThe following table lists the built-in GCP macros that you can use to retrieve and display the entities.Table 1. GCP MacrosMacrosUsage@@{address}@@@@{ip_address}@@ @@{public_ip_address}@@IP address of the instance that is used by Nutanix Calm to access the VM.Note: The VM Name field does not support this macro.@@{id}@@Internal ID of the instance that is used within the Prism. Note: The VM Name field does not support this macro.@@{name}@@Name of the VM. Note: The VM Name field does not support this macro.@@{zone}@@Zone in which the VM instance is created.@@{platform_data}@@Platform response for a GET query. This is the response in JSON format from provider.@@{internal_ips}@@List of all the private IP addresses.@@{external_ips}@@List of all the public IP addresses.Azure VariablesThe following table lists the built-in Azure macros that you can use to retrieve and display the entities.Table 1. Azure MacrosMacrosUsage@@{address}@@IP address of the instance that is used by Nutanix Calm to access the VM.Note: The VM Name field does not support this macro.@@{id}@@Internal ID of the instance that is used within the Prism. Note: The VM Name field does not support this macro.@@{name}@@Name of the VM. Note: The VM Name field does not support this macro.@@{private_ip_address}@@Private IP address@@{public_ip_address}@@Public IP address@@{resource_group}@@Resource group name in which the VM instance is created.@@{platform_data}@@Platform response for a GET query. This is the response in JSON format from provider.Kubernetes VariablesThe following table lists the Kubernetes variables that are available for usage. Table 1. Kubernetes MacrosPropertiesUsage @@{K8sPublishedService.address}@@IP address of the service.@@{K8sPublishedService.name}@@Name of the service.@@{K8sPublishedService.ingress}@@Load balancer IP for public service.@@{K8sPublishedService_platform_data}@@Platform data for the service.@@{K8sDeployement.name}@@Name of the deployment.@@{K8sDeployement.platform_data}@@Platform data for the deployment.Note: Do not use deployment macros in publish service specs or publish macros in deployment service specs in the same calm deployment.Credentials as MacrosCredentials can be accessed as macros, the format to access credential is @@{cred_name.username}@@ and @@{cred_name.secret}@@ where cred_name is the name of the credential with which the cred is created.Access Macros of an Array ServiceNutanix Calm allows you to access macros of an array service using a special macro which starts with calm_array. You can configure a VM with replicas and access the common macros of all the replicas.Use the following syntax to retrieve the name of all the instances of VM separated by commas.@@{calm_array_name}@@Use the following syntax to retrieve the IP address of all the instances of VM separated by commas.@@{calm_array_address}@@Use the following syntax to retrieve the ID of all the instances of VM separated by commas.@@{calm_array_id}@@Supported Data TypesMacros support the following data types.Table 1. Supported Data TypesData TypeUsageString@@{\"some string\"}@@ or @@{'some string'}@@ Note: Newline or other such special characters are not supported. You can use \\ to escape quotes.NumbersSupports integer and float. For example, @@{ 10 + 20.63 }@@ Note: All variables are treated as strings.Supported OperationsSupports basic binary operations or numbers. For example, @@{(2 * calm_int(variable1) + 10 ) / 32 }@@.Supports string concatenation. For example, @@{ foo + bar }@@.Supports slicing for strings. For example, @@{foo[3:6]}@@.Note: For a comma separated value, slicing splits the string on comma (,). For example, @@{\"x,y,z\"[1]}@@ results in y.VMware VariablesThe following table lists the built-in VMware macros that you can use to retrieve and display the entities.Table 1. VMware MacrosPropertiesUsage@@{address}@@IP address of the instance that is used by Nutanix Calm to access the VM@@{id}@@ID of the platform identifier@@{name}@@Name of the VM or container@@{mac_address}@@Mac address of the VM@@{platform}@@Platform response for a GET query. This is the response in JSON format from provider.Note: For an existing machine, only the address property is applicable.", "Heading_Keywords": ["macro", "overview"]}, {"Heading": "Runtime Variables Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-components-runtime-variable-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Runtime variables are used to mark the attributes while creating the blueprint so that those attributes can be modified at the time of launching the application blueprint. This is useful for the users who cannot edit or create a blueprint such as consumers. For example, while creating a blueprint, if memory attribute is marked as a runtime variable then you can change its value before launching the application blueprint. Note: Ensure that the attributes marked as runtime variable are not null or empty and an initial value is configured.Figure. Runtime Variable Click to enlarge", "Heading_Keywords": ["runtim", "variabl", "overview"]}, {"Heading": "Pre-create and Post-delete Task Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-pre-create-task-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Pre-create tasks are actions that are performed before a service is provisioned on a multi-VM blueprint. For example, if you want to assign static IP addresses to your VMs by using IPAM service, you can create and run a pre-create task to receive the IP addresses before the service is provisioned. The pre-create task helps to restrict the broadcast traffic to receive the IP addresses for those VMs during the service provision.You can create the following types of pre-create tasks.Execute: Use this task type to run eScripts on the VM. Set variable: Use this task type to change variables in a task. HTTP: Use this task type to query REST calls from a URL. Delay: Use this task type to set a time interval between two tasks or actions. To create a pre-create task, see Creating a Pre-create Task.Post-delete Task OverviewPost-delete tasks are actions that are performed after you delete a service on a multi-VM blueprint. For example, if you want to delete the assigned IP addresses from your VMs, you can create a post-delete task to delete the IP addresses after the service is deleted. The post-delete task helps to restrict the broadcast traffic to delete the IP addresses for those VMs during the service provision.You can create the following types of post-delete tasks.Execute: Use this task type to run eScripts on the VM. Set variable: Use this task type to change variables in a task. HTTP: Use this task type to query REST calls from a URL. Delay: Use this task type to set a time interval between two tasks or actions. To create a post-delete task, see Creating Post-delete Task.", "Heading_Keywords": ["pre", "creat", "post", "delet", "task", "overview"]}, {"Heading": "Applications Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-application-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Applications are created as a result of building and launching the blueprints by using Nutanix Calm. Under the Applications tab, you can view the list of applications created. For more information about applications, see Application Tab Usage.Figure. Application TabClick to enlargeBrownfield ApplicationBrownfield ApplicationBrownfield applications are created to manage existing VMs that are currently not managed by Nutanix Calm. In order to create a brownfield application, Nutanix Calm should be able to communicate with the VMs that are not managed by Nutanix Calm. After the application is created, the application runs like any other Nutanix Calm application. You need administrator privilege to create a brownfield application. For information about how to create brownfield application, see Creating Brownfield Application.Note: After a VM is created, the VM takes some time to be listed for brownfield import.", "Heading_Keywords": ["applic", "overview"]}, {"Heading": "Brownfield Application", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-brownfield-applications-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Brownfield applications are created to manage existing VMs that are currently not managed by Nutanix Calm. In order to create a brownfield application, Nutanix Calm should be able to communicate with the VMs that are not managed by Nutanix Calm. After the application is created, the application runs like any other Nutanix Calm application. You need administrator privilege to create a brownfield application. For information about how to create brownfield application, see Creating Brownfield Application.Note: After a VM is created, the VM takes some time to be listed for brownfield import.", "Heading_Keywords": ["brownfield", "applic"]}, {"Heading": "Library Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-task-library-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Library allows you to save user-defined tasks (scripts) and variables that can be used by other application blueprints. By using existing user-defined tasks and variables, you do not have to define the same tasks and variables again. You can share tasks and variables listed as part of library across different projects. You can also customise an existing task or variable. For more information about using Library, see Library Usage.Figure.  LibraryClick to enlargeNote: To view a task in Library, you must publish the task by using Publish to Library functionality under service package.To view the list of variables, you must create and save the variables in the Library. For more information, see Variable Types Overview.Variable Types OverviewTask Library OverviewVariable Types OverviewUsers can create custom variable types for added flexibility and utility. Beyond just string and integer data types, you can now create more data types such as Date/Time, list, and multi-line string. List values can be defined as a static list of values or attach a script (eScript or HTTP task) to retrieve the values dynamically at runtime.While creating a custom variable type, you are required to select a project. However, you can share the variable type with multiple other projects using \"Share\" option in the same page.Task Library OverviewYou can create tasks while configuring a blueprint and publish these tasks to the library. Nutanix Calm allows you to import these published tasks while configuring other blueprints across multiple projects. To refer to the video about task library, click here.", "Heading_Keywords": ["librari", "overview"]}, {"Heading": "Variable Types Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-variable-types-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Users can create custom variable types for added flexibility and utility. Beyond just string and integer data types, you can now create more data types such as Date/Time, list, and multi-line string. List values can be defined as a static list of values or attach a script (eScript or HTTP task) to retrieve the values dynamically at runtime.While creating a custom variable type, you are required to select a project. However, you can share the variable type with multiple other projects using \"Share\" option in the same page.", "Heading_Keywords": ["variabl", "type", "overview"]}, {"Heading": "Task Library Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-library-task-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You can create tasks while configuring a blueprint and publish these tasks to the library. Nutanix Calm allows you to import these published tasks while configuring other blueprints across multiple projects. To refer to the video about task library, click here.", "Heading_Keywords": ["task", "librari", "overview"]}, {"Heading": "Runbooks Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-runbook-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "A runbook is a framework to automate routine tasks and procedures which pan across multiple applications without the involvement of a blueprint or an application. A runbook is a collection of tasks that you can define to run sequentially at different endpoints. For more information about endpoints, see Endpoints Overview.Figure. Runbooks Click to enlargeYou can define the following types of tasks in a runbook.Execute: Use this task to run Shell, PowerShell, and eScript (custom python) scripts.Set Variable: Use this task to run a script and create variables.Delay: Use this task to set a delay interval between two tasks or actions.HTTP: Use this task type to do REST calls to an HTTP endpoint.While Loop: Use this task type to iterate over multiple tasks until the defined condition is met. Decision: Use this task type to define different flows or paths based on the exit condition.For more information about creating a runbook, see Creating a Runbook.Access Privilege for RunbookThe following table describes the access privileges of different users to work on runbook.Access Privilege for RunbookThe following table describes the access privileges of different users to work on runbook.Table 1. Access Privilege for RunbookPrism AdminProject Admin DeveloperConsumerOperatorCreateXXXViewXXXXXUpdateXXXDeleteXXXExecuteXXXXX", "Heading_Keywords": ["runbook", "overview"]}, {"Heading": "Access Privilege for Runbook", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-accsess-privilege-for-runbook-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The following table describes the access privileges of different users to work on runbook.Table 1. Access Privilege for RunbookPrism AdminProject Admin DeveloperConsumerOperatorCreateXXXViewXXXXXUpdateXXXDeleteXXXExecuteXXXXX", "Heading_Keywords": ["access", "privileg", "runbook"]}, {"Heading": "Endpoints Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-endpoints-overview-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Endpoints are the target resources where the defined tasks in a runbook or in a blueprint are run. The endpoints are communicated by using IP addresses, host names, port tuple, and different protocol attributes. Figure. EndpointsClick to enlargeAn endpoint is either one of the following type. Windows machineLinux machineHTTP service endpoint For more information about creating an endpoint, see Creating an Endpoint.Access Privilege for EndpointThe following table describes the access privileges of different users to work on endpoints.Access Privilege for EndpointThe following table describes the access privileges of different users to work on endpoints.Table 1. Access Privilege for EndpointsPrism AdminProject Admin DeveloperConsumerOperatorCreateXXXViewXXXXXUpdateXXXDeleteXXX", "Heading_Keywords": ["endpoint", "overview"]}, {"Heading": "Access Privilege for Endpoint", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-access-privilege-for-endpoint-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The following table describes the access privileges of different users to work on endpoints.Table 1. Access Privilege for EndpointsPrism AdminProject Admin DeveloperConsumerOperatorCreateXXXViewXXXXXUpdateXXXDeleteXXX", "Heading_Keywords": ["access", "privileg", "endpoint"]}, {"Heading": "Settings Configuration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-settings-intro-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must configure Nutanix Calm with your provider (by using the provider credentials) to enable Nutanix Calm to manage applications by using your virtualization resources. You can configure multiple accounts of a provider. The Settings > General tab is used to enable marketplace applications, and download application log archive and the Settings > Providers tab is used to configure provider settings. You can configure more than one provider or several accounts of the same provider.You can also enable and configure the cost of applications running on AHV and VMware providers.Note: All the AHV clusters that are registered to the Prism Central instance are automatically added as providers. Manual configuration is required only if you are adding a provider other than Nutanix.By using Nutanix Calm Settings tab, you can perform the following:Enable or disable Nutanix Marketplace AppsEnable or disable showbackDownload application log archiveConfigure provider settings to enable Nutanix Calm to manage applicationsConfigure application costFigure. Settings TabClick to enlargeYou can perform the following actions by using the General tab:Enabling Nutanix Marketplace ApplicationsEnabling ShowbackDownloading Application Log ArchiveYou can perform the following actions by using the Providers tab.Configuring AWS as a ProviderConfiguring AWS C2S Provider on Nutanix CalmConfiguring VMware as a ProviderConfiguring GCP as a ProviderConfiguring Azure as a ProviderConfiguring Kubernetes as a ProviderEnabling ShowbackShowback allows you to configure and monitor the resources cost of your application blueprint. Perform the following procedure to enable showback.Disabling Showback If you do not want to monitor the resources cost of your application blueprint, disable showback from the Settings tab. Perform the following procedure to disable Showback.Downloading Application Log Archive Application logs are archived by the system periodically to clear resources. You can download and the archived application logs from the settings tab. Perform the following procedure to download the application log archive. Enabling Application Protection Status ViewIf you want to view the protection and recovery status of a Calm application deployed on a Nutanix platform, you must enable the Show App Protection Status toggle button. Perform the following procedure to enable the application protection status view.Enabling ShowbackShowback allows you to configure and monitor the resources cost of your application blueprint. Perform the following procedure to enable showback.Before you beginEnsure that Showback is applicable for Nutanix and VMware through vCenter platforms.ProcedureLog on to Prism Central as an administrator.From the Prism Central UI, click Services > Calm.Click the Settings iconon the left pane.Under General tab, click the Enable Showback toggle button. The Enable Showback window is displayed.Click the supported provider for which you want to define the cost.Configure the cost of the following resources:vCPU : In the vCPU field, enter the cost of vCPU consumption for each hour in dollars. The default value is $0.01 for each vCPU for each hour.Memory : In the Memory field, enter the cost of memory consumption for each hour in dollars. The default value is $0.01 for each GB of usage for each hour.Storage : In the Storage field, enter the cost of storage consumption for each hour in dollars. The default value is $0.0003 for each GB of usage for each hour.Do one of the following:To enable showback, click Enable Showback.To go back to the previous screen, click Cancel.After Showback is enabled, you can monitor the resources cost of your application while you configure a blueprint and in the application overview tab.Disabling Showback If you do not want to monitor the resources cost of your application blueprint, disable showback from the Settings tab. Perform the following procedure to disable Showback.ProcedureLog into Prism Central as an administrator.Click the Settings iconon the left pane.Under General tab, click the Disable Showback toggle button. The Disable Showback window is displayed.Click to enlargeDo one of the following:To disable Showback, click Disable Showback.To go back to the previous screen, click Cancel.Downloading Application Log Archive Application logs are archived by the system periodically to clear resources. You can download and the archived application logs from the settings tab. Perform the following procedure to download the application log archive. ProcedureLog into Prism Central as an administrator.From the Prism Central UI, click Services > Calm.Click the Settings iconon the left pane.Click Download.The tar.gz file is downloaded.Enabling Application Protection Status ViewIf you want to view the protection and recovery status of a Calm application deployed on a Nutanix platform, you must enable the Show App Protection Status toggle button. Perform the following procedure to enable the application protection status view.Before you beginEnsure that some or all the VMs of a Calm application are protected by a protection policy in the Prism Central.Only the Prism Central administrator can enable or disable the viewing of the application protection status.ProcedureLog on to Prism Central as an administrator.From the Prism Central UI, click Services > Calm.Click the Settings iconon the left pane.Under the General tab, click the Show App Protection Status toggle button. You can view the protection and recovery status of the application in the application overview page. For more details, see Overview Tab.", "Heading_Keywords": ["set", "configur"]}, {"Heading": "Enabling Showback", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-enabling-showback-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Showback allows you to configure and monitor the resources cost of your application blueprint. Perform the following procedure to enable showback.Before you beginEnsure that Showback is applicable for Nutanix and VMware through vCenter platforms.ProcedureLog on to Prism Central as an administrator.From the Prism Central UI, click Services > Calm.Click the Settings iconon the left pane.Under General tab, click the Enable Showback toggle button. The Enable Showback window is displayed.Click the supported provider for which you want to define the cost.Configure the cost of the following resources:vCPU : In the vCPU field, enter the cost of vCPU consumption for each hour in dollars. The default value is $0.01 for each vCPU for each hour.Memory : In the Memory field, enter the cost of memory consumption for each hour in dollars. The default value is $0.01 for each GB of usage for each hour.Storage : In the Storage field, enter the cost of storage consumption for each hour in dollars. The default value is $0.0003 for each GB of usage for each hour.Do one of the following:To enable showback, click Enable Showback.To go back to the previous screen, click Cancel.After Showback is enabled, you can monitor the resources cost of your application while you configure a blueprint and in the application overview tab.", "Heading_Keywords": ["enabl", "showback"]}, {"Heading": "Disabling Showback", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-disabling_showback.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": " If you do not want to monitor the resources cost of your application blueprint, disable showback from the Settings tab. Perform the following procedure to disable Showback.ProcedureLog into Prism Central as an administrator.Click the Settings iconon the left pane.Under General tab, click the Disable Showback toggle button. The Disable Showback window is displayed.Click to enlargeDo one of the following:To disable Showback, click Disable Showback.To go back to the previous screen, click Cancel.", "Heading_Keywords": ["disabl", "showback"]}, {"Heading": "Downloading Application Log Archive", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-downloading-application-log-archive-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": " Application logs are archived by the system periodically to clear resources. You can download and the archived application logs from the settings tab. Perform the following procedure to download the application log archive. ProcedureLog into Prism Central as an administrator.From the Prism Central UI, click Services > Calm.Click the Settings iconon the left pane.Click Download.The tar.gz file is downloaded.", "Heading_Keywords": ["download", "applic", "log", "archiv"]}, {"Heading": "Enabling Application Protection Status View", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-showing-application-protection-status-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "If you want to view the protection and recovery status of a Calm application deployed on a Nutanix platform, you must enable the Show App Protection Status toggle button. Perform the following procedure to enable the application protection status view.Before you beginEnsure that some or all the VMs of a Calm application are protected by a protection policy in the Prism Central.Only the Prism Central administrator can enable or disable the viewing of the application protection status.ProcedureLog on to Prism Central as an administrator.From the Prism Central UI, click Services > Calm.Click the Settings iconon the left pane.Under the General tab, click the Show App Protection Status toggle button. You can view the protection and recovery status of the application in the application overview page. For more details, see Overview Tab.", "Heading_Keywords": ["enabl", "applic", "protect", "statu", "view"]}, {"Heading": "Providers Configuration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-providers-configuration.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Providers are cloud service providers or baremetals or existing machines that you can use to deploy, monitor, and govern your applications. You must configure a provider if the provider is other than Nutanix. Nutanix Calm supports the following providers.Nutanix: All the AHV clusters that are registered to the Prism Central instance are automatically added as providers.Note: If you want to add a remote Prism Central (PC) instance as a provider in a multi-PC setup, you must add the remote PC instance as an account in Calm. For more information, see Configuring a Remote Prism Central Account.VMware: You must configure VMware as a service provider if you want to create and use a blueprint in VMware platform. To configure VMware as a provider, see Configuring VMware as a Provider.AWS: You must configure AWS as a service provider if you want to create and use a blueprint in AWS platform. To configure AWS as a provider, see Configuring AWS as a Provider.GCP: You must configure GCP as a service provider if you want to create and use a blueprint in GCP platform. To configure GCP as a provider, see Configuring GCP as a Provider.Azure: You must configure Azure as a service provider if you want to create and use a blueprint in Azure platform. To configure Azure as a provider, see Configuring Azure as a Provider.Kubernetes: You must configure Kubernetes as a service provider if you want to create and use a blueprint in Kubernetes platform. To configure Kubernetes as a provider, see Configuring Kubernetes as a Provider.Note: The communication between Prism Central and the cloud provider through a proxy server is not supported.Configuring a Remote Prism Central AccountIf you want to deploy an application in a remote PC, the remote PC must be configured as an account in Calm. Perform the following procedure to configure a PC account on Nutanix Calm.Configuring AWS as a ProviderYou must configure AWS as a service provider if you want to create and use a blueprint on AWS platform. Perform the following procedure to configure AWS provider on Nutanix Calm.Configuring VMware as a ProviderYou must configure VMware as a service provider if you want to create or use a blueprint in VMware platform. Perform the following procedure to configure VMware as a provider on Nutanix Calm.Configuring GCP as a ProviderYou must configure GCP as a service provider if you want to create or use a blueprint in GCP platform. Perform the following procedure to configure GCP provider on Nutanix Calm.Configuring Azure as a ProviderYou must configure Azure as a service provider if you want to create or use a blueprint in Azure platform. Perform the following procedure to configure Azure provider on Nutanix Calm.Configuring Kubernetes as a ProviderYou must configure Kubernetes as a service provider if you want to create or use a blueprint in Kubernetes platform. Perform the following procedure to configure on-prem Kubernetes provider on Nutanix Calm.Configuring Xi Cloud as a ProviderCalm allows you to manage your workloads on Nutanix Xi Cloud. You can add Xi Cloud as a provider if the Prism Central is paired to a Xi cloud. Calm automatically discovers the availability zones of the Xi Cloud and you can add Xi Cloud account as a provider. Perform the following procedure to add Xi Cloud as a provider to manage your applications.Configuring a Remote Prism Central AccountIf you want to deploy an application in a remote PC, the remote PC must be configured as an account in Calm. Perform the following procedure to configure a PC account on Nutanix Calm.ProcedureClick the Settings iconon the left pane.Click the Providers tab.The provider inspector panel appears.Click +Add Provider.The Provider settings page appears.In the Name field, type a name for the PC account.From the Type drop-down menu, select Nutanix.In the PC IP field, type the IP address of the remote PC.The application is provisioned in the remote PC IP address.In the PC Port  field, type the port number for the IP address.In the User name field, enter the administrator username of the remote PC.In the Password field, type the administrator password of the remote PC.Click Save. The provider list displays the provider you have created.To verify the credentials of the provider, click Verify.If the credentials are authenticated and the account is verified, the remote PC is added as an account for Nutanix provider.Configuring AWS as a ProviderYou must configure AWS as a service provider if you want to create and use a blueprint on AWS platform. Perform the following procedure to configure AWS provider on Nutanix Calm.Before you beginEnsure that you have configured the following settings.An AWS account with valid credentials.IAM user account. For information on how to create an IAM user account, refer to AWS Documentation.User account must have full EC2 access and IAM read-only access.The access key ID and the secret access key for the IAM user account.Note: Ensure that you have configured the domain name server (DNS). To verify the DNS configuration, from the Prism Central UI, click Prism Central > Gear icon > Name Servers and run the following command.nutanix@cvm$ ncli cluster get-name-serversIf you are configuring DNS now, then you must restart the Prism Central VM.ProcedureClick the Settings iconon the left pane.Click the Providers tab.The provider inspector panel appears.Figure. Provider- AWSClick to enlargeIn the Name field, enter a name for the provider.From the Type drop-down menu, select AWS.In the Access Key ID field, enter the access key ID of your AWS account.In the Secret Access Key field, enter the secret access key of your AWS account.Click the eye icon next to the Secret Access Key field to view the entered password.Select or remove the geographical region from the Regions field.By default, all regions excluding China and GovCloud by default.Warning: If you remove a region from an existing AWS account, it impacts the deployed VMs in that region.Optionally, if you have not configured any private image, in the Search Public Image field, search the public image applicable to your region by entering minimum of six characters.Note: Authenticate the credentials before searching.The Public Image field lists all the public images applicable to your region.Select the public image.You can also select multiple public images.You can use any of the selected public images while you create a blueprint for AWS.Click Save. The provider list displays the provider you have created.To verify the credentials of the provider, click Verify.If the credentials are authenticated and the provider is verified, the AWS provider is listed under the Settings page.Note: If the authentication fails due to the DNS error, see KB-4938.What to do nextYou can use the configured AWS provider while you create a blueprint for AWS. For more details on creating blueprint, see Blueprints Usage.Configuring AWS C2S Provider on Nutanix CalmGovCloud (US) is an isolated AWS region to help the United States government agencies and federal IT contractors to host sensitive workloads into the cloud by addressing their specific regulatory and compliance requirements. Configuring AWS User Account with Minimum PrivilegeTo manage the applications in the AWS platform by using Calm, you must have a privileged AWS user account with an appropriate policy. Perform the following procedure to assign minimum privilege to a user to configure AWS as a provider so that the user can manage the applications on an AWS platform by using Calm. Configuring AWS C2S Provider on Nutanix CalmGovCloud (US) is an isolated AWS region to help the United States government agencies and federal IT contractors to host sensitive workloads into the cloud by addressing their specific regulatory and compliance requirements. About this taskWith AWS C2S support in Nutanix Calm, you can configure your GovCloud authentication, and then create or manage your workload instances on AWS GovCloud region as done for other AWS regions. The AWS GovCloud provides the same high-level security as other AWS regions, however, the Commercial Cloud Services (C2S) and the C2S Access Portal (CAP) are used to grant controlled access to the C2S Management Console and C2S APIs for Government users and applications. Perform the following procedure to configure AWS Commercial Cloud Services (C2S) provider on Nutanix Calm.Note: The AWS GovCloud (US) Region supports the management of regulated data by restricting physical and logical administrative access to U.S. citizens only.Before you beginEnsure that you have the following credentials.AWS GovCloud (US) account with valid credentials.C2S account configured in AWS.ProcedureClick the Settings icon on the left pane.Click the Providers tab.The Provider inspector panel is displayed.Figure. Provider- AWSClick to enlargeEnter the name of the provider in the Name field.Select AWS C2S from the Type drop-down menu.Enter the C2S account IP address in the C2S account address field.Enter or upload the client certificate in the Client Certificate field.Enter or upload the client key in the Client Key field.Enter the required role (IAM role) in the Role field.Enter the mission in the Mission field.Enter the agency in the Agency field.Select All GovCloud Regions check-box to select all the GovCloud regions.Click Save.The provider list displays the provider you have created.To verify the credentials of the account, click Verify. If the credentials are authenticated and the account is verified, the account gets listed as Active.Note: If the authentication fails due to the DNS error, see KB-4938.If the credentials are authenticated and the provider is verified, the provider is listed under the Settings page.What to do nextYou can use the configured AWS C2S provider while you create a blueprint.Configuring AWS User Account with Minimum PrivilegeTo manage the applications in the AWS platform by using Calm, you must have a privileged AWS user account with an appropriate policy. Perform the following procedure to assign minimum privilege to a user to configure AWS as a provider so that the user can manage the applications on an AWS platform by using Calm. Before you beginEnsure that you have an AWS administrator user account. ProcedureLog on to the AWS console with your AWS administrator account.Click Services > IAM.To add a user, click Users > Add User.The Add User page is displayed.In the Add User page, do the following.In the User name field, type a user name.In the Access Type area, click the check-boxes next to the Programmatic access and AWS Management Console access fields, and click Next: Permission.Note: Do not configure anything in the Set permission page.Click Next: Tags.Optionally, in the Add User page, to add a tag to a user, type the key and value pair in the Key and Value fields respectively.For more information about IAM tags, see AWS Documents.Click Next: Review.Click Create User.An IAM user is created.After a user is created, to display the credential of the user, in the Access key ID, Secret access Key, and Password fields, click Show.Note: Copy the credentials in a file and save the file in your local machine. You must use the credentials when you configure AWS as a provider to manage your applications.To assign permission to the user, click the created user in the Users page.The Summary page is displayed.In the Permissions tab, click + Add inline policy.The Create Policy page is displayed.In the Create Policy page, click the JSON tab and paste the following JSON code in the code editor area.{\n\n\"Version\": \"2012-10-17\",\n\n\"Statement\": [\n    \n{\n        \n\"Effect\": \"Allow\",\n        \n\"Action\": [\n            \n\"iam:ListRoles\",\n            \n\"iam:ListSSHPublicKeys\",\n            \n\"iam:GetSSHPublicKey\",\n            \n\"iam:GetAccountPasswordPolicy\",\n            \n\"ec2:RunInstances\",\n            \n\"ec2:StartInstances\",\n            \n\"ec2:StopInstances\",\n            \n\"ec2:RebootInstances\",\n            \n\"ec2:CreateTags\",\n            \n\"ec2:CreateVolume\",\n            \n\"ec2:CreateSnapshot\",\n            \n\"ec2:CreateImage\",\n            \n\"ec2:ModifyImageAttribute\",\n            \n\"ec2:ModifyInstanceAttribute\",\n            \n\"ec2:AttachVolume\",\n            \n\"ec2:DetachVolume\",\n            \n\"ec2:ModifyVolume\",\n            \n\"ec2:AssociateIamInstanceProfile\",\n            \n\"ec2:ReplaceIamInstanceProfileAssociation\",\n            \n\"ec2:DisassociateIamInstanceProfile\",\n            \n\"ec2:RegisterImage\",\n            \n\"ec2:DeregisterImage\",\n            \n\"ec2:DeleteSnapshot\",\n            \n\"ec2:GetConsoleOutput\",\n            \n\"ec2:Describe*\",\n            \n\"ec2:DeleteTags\",\n            \n\"ec2:TerminateInstances\"\n        \n],\n        \n\"Resource\": \"*\"\n    \n},\n    \n{\n        \n\"Effect\": \"Allow\",\n        \n\"Action\": [\"iam:ListUserPolicies\"],\n        \n\"Resource\": [\"arn:aws:iam::*:user/${aws:username}\"]\n    \n},\n    \n{\n        \n\"Effect\": \"Allow\",\n        \n\"Action\": [\"iam:PassRole\"],\n        \n\"Resource\": [\"arn:aws:iam::*:role/*\"]\n    \n}\n\n]\n}\nClick Review Policy.The Review Policy page is displayed.In the Review Policy page, type a name for the policy in the Name field, and click Create policy.A user is created with the minimum privilege to manage applications on an AWS platform. What to do nextAfter the user created with the required privilege, you can configure AWS as a provider in the Settings page. For more information, see Configuring AWS as a Provider. You can also assign different policy privileges to the user. For more information, see AWS Policy Privileges.AWS Policy PrivilegesThe following table displays the list of user policy privileges and the corresponding JSON attributes that you can add in the JSON syntax to assign different privileges to a user.AWS Policy PrivilegesThe following table displays the list of user policy privileges and the corresponding JSON attributes that you can add in the JSON syntax to assign different privileges to a user.Table 1. User Privileges and the JSON attributesTo create JSON attributesEC2 Instancesec2:RunInstancesVolumesec2:CreateVolumeSnapshotec2:CreateSnapshot Image(AMI) ec2:CreateImageTo list or getJSON attributesSSH Public Keys for all usersiam:ListSSHPublicKeysList IAM Rolesiam:ListRolesEC2 attributesec2:Describe*EC2 instance console outputec2:GetConsoleOutputIAM user policies for the useriam:ListUserPoliciesTo updateJSON attributesImage(AMI) attributesec2:ModifyImageAttributeTo deleteJSON attributesEC2 Instancesec2:TerminateInstancesInstance Tagsec2:DeleteTagsSnapshotec2:DeleteSnapshotImages(deregister images)ec2:DeregisterImageOthersJSON attributesStart/Stop/Restart Instancesec2:RunInstances, ec2:StartInstances, ec2:StopInstances, ec2:RebootInstancesPass and IAM role to serviceiam:PassRoleConfiguring VMware as a ProviderYou must configure VMware as a service provider if you want to create or use a blueprint in VMware platform. Perform the following procedure to configure VMware as a provider on Nutanix Calm.About this taskNote: During configuration, if you do not have an administrator user account in vCenter, then you must have user account with the required permissions. See Permission Required in vCenter.Nutanix Calm does not support vSphere essential edition. If you try to enable Calm with vSphere essential edition license, you get a failure notification because hot-pluggable virtual hardware is not supported by vSphere essential edition. To refer to the video about setting up VMware as provider, click here.ProcedureClick the Settings icon on the left pane.Click the Providers tab.The provider inspector panel is displayed.Figure. Provider- VMwareClick to enlargeEnter a name for the provider in the Name field.Note: The same name is available as the account name while creating a project for your provider.Select VMware from the Type drop-down menu.Enter the server IP address of the vCenter Server in the Server field.Enter the user name of the vCenter account in the Username field.If the domain is part of the user name then the username syntax must be <username>@<domain>.Enter the password in the Password field.Click the eye icon to view the entered password.Enter the port number as 443 in the Port field.Click Save. Select the datacenter from the Datacenter drop-down menu.A VMware datacenter is the grouping of servers, storage networks, IP networks, and arrays. All the datacenters assigned with your vCenter account are available for your selection.Optionally, if you want to monitor the operating cost of your applications, configure the cost of the following resources.Note: Ensure that you have enabled showback. For more information about enabling showback, see Enabling Showback. vCPU : In the vCPU field, enter the cost of vCPU consumption for each hour in dollars. The default value is $0.01 for each vCPU for each hour.Memory : In the Memory field, enter the cost of memory consumption for each hour in dollars. The default value is $0.01 for each GB of usage for each hour.Storage : In the Storage field, enter the cost of storage consumption for each hour in dollars. The default value is $0.0003 for each GB of usage for each hour.Click Save. To verify the credentials of the provider, click Verify.If the credentials are authenticated and verified, the provider is listed under the settings page.What to do nextYou can use the configured VMware provider while you create a blueprint for VMware. For more details on creating blueprint, see Blueprints Usage.Permission Required in vCenterThe following table provides the complete list of permissions you need to enable in vCenter.Supported vSphere VersionsPermission Required in vCenterThe following table provides the complete list of permissions you need to enable in vCenter.Table 1. Permissions required in vCenterEntityPermissionDatastoreAllocate spaceBrowse datastoreLow level file operationUpdate virtual machine filesNetwork Assign NetworkConfigureMove NetworkResourceAssign virtual machine to resource poolVirtual Machine > Change Configuration Add existing diskAdd new diskAdd or remove deviceChange CPU countChange memoryModify device settingsConfigure raw deviceRenameSet annotation Change settingsUpgrade virtual machine compatibilityVirtual Machine > Interaction Configure CD mediaConnect devicesPower OnPower offResetInstall VMware toolsVirtual Machine >  Edit Inventory Create from existingRemoveVirtual Machine > Provisioning Clone templateCustomize guestDeploy templateRead customization specifications For information on how to enable permissions in vCenter, see the vSphere Users and Permissions section in the VMware documents.Supported vSphere VersionsNutanix Calm supports VMware on Nutanix and non Nutanix platforms.Following versions of vSphere are supported.6.76.56.0Configuring GCP as a ProviderYou must configure GCP as a service provider if you want to create or use a blueprint in GCP platform. Perform the following procedure to configure GCP provider on Nutanix Calm.Before you beginEnsure that you have the service account file of your GCP account in a JSON format saved in your local machine. To create a GCP service account file, see the GCP documentation.ProcedureClick the Settings icon on the left pane.Click the Providers tab.The provider inspector panel is displayed.Figure. Provider- GCPClick to enlargeEnter the name of the provider in the Name field.Select GCP from the Type drop-down menu.Click Service Account File to import the service account file from your local machine.A service account file is a special Google account file that you can use to upload the details of your GCP account. After you successfully upload the file, the Project ID, Private Key, Client Email, and Token URI fields are auto filled.Select or remove the geographical region from the Regions field.By default all regions are selected.Warning: If you remove a region from an existing GCP account, it impacts the deployed VMs in that region.Optionally, select the Enable GKE check-box to enable Google Kubernetes Engine (GKE).Enter the GKE master IP address in the Server IP  field.Enter the port number in the Port field.Click Save. To verify the credentials of the provider click Verify.If the credentials are authenticated, then the provider is verified and listed under the Settings page.What to do nextTo troubleshoot some common issues, see KB-5616. You can use the configured GCP provider while you create a blueprint for GCP. For more details on creating blueprint, see Blueprints Usage.Configuring Azure as a ProviderYou must configure Azure as a service provider if you want to create or use a blueprint in Azure platform. Perform the following procedure to configure Azure provider on Nutanix Calm.About this taskNote: For detailed description of the required fields, you can refer to the Azure documentation.Only authorized organizations can use restricted regions like Australia Central through Calm. For more information, see the Microsoft documentation.To refer to the video about setting up Azure as provider, click here.Before you beginAssign appropriate role to your application. For detailed information, refer to Microsoft documentation.ProcedureClick the Settings icon on the left pane.Click the Providers tab.The provider inspector panel appears.Figure. Provider- AzureClick to enlargeEnter the name of the setting in the Name field.Select Azure from the Type drop-down menu.Enter the subscription ID of your Azure application in the Subscription ID field.Enter the directory/tenant ID of your Azure application in the Directory/Tenant ID field.Enter the application/client ID in the Application/Client ID field.Enter the client key or secret in the Client Key/Secret field.Select cloud from the Cloud Environment drop-down menu.You can either select Public Cloud or US Government Cloud or China Cloud or German Cloud.Click Save. To verify the credentials of the provider click Verify.The credential authentication verifies the provider. The settings page lists the provider. What to do nextCreate a project and configure Azure environment, see Creating a Project and Configuring Azure Environment.Configuring Azure User Account with Minimum PrivilegeTo manage the applications in the Azure platform by using Calm, you must have a privileged Azure user account. Perform the following procedure to assign minimum privilege to a user to configure Azure as a provider so that the user can manage the applications running on an Azure platform.Configuring Azure User Account with Minimum PrivilegeTo manage the applications in the Azure platform by using Calm, you must have a privileged Azure user account. Perform the following procedure to assign minimum privilege to a user to configure Azure as a provider so that the user can manage the applications running on an Azure platform.About this taskTo refer to a video about assigning minimum privilege to configure Azure account to work with Calm, click here. ProcedureLog on to Azure portal with your administrator account.Open https://shell.azure.com and select bash.Create a .json file with the following content.{\n  \"Name\": \"Calm Admin\",\n  \"IsCustom\": true,\n  \"Description\": \"For calm to manage VMs on azure provisioned from calm applications\",\n  \"Actions\": [\n    \"Microsoft.Storage/storageAccounts/read\",\n    \"Microsoft.Storage/storageAccounts/write\",\n    \"Microsoft.Storage/checknameavailability/read\",\n    \"Microsoft.Storage/skus/read\",\n    \"Microsoft.Network/virtualNetworks/subnets/*\",\n    \"Microsoft.Network/virtualNetworks/read\",\n    \"Microsoft.Network/networkSecurityGroups/*\",\n    \"Microsoft.Network/networkInterfaces/*\",\n    \"Microsoft.Network/publicIPAddresses/*\",\n    \"Microsoft.Network/publicIPPrefixes/*\",\n    \"Microsoft.Compute/availabilitySets/vmSizes/read\",\n    \"Microsoft.Compute/availabilitySets/read\",\n    \"Microsoft.Compute/availabilitySets/write\",\n    \"Microsoft.Compute/disks/*\",\n    \"Microsoft.Compute/images/read\",\n    \"Microsoft.Compute/images/write\",\n    \"Microsoft.Compute/locations/publishers/read\",\n    \"Microsoft.Compute/locations/publishers/artifacttypes/offers/read\",\n    \"Microsoft.Compute/locations/publishers/artifacttypes/offers/skus/read\",\n    \"Microsoft.Compute/locations/publishers/artifacttypes/offers/skus/versions/read\",\n    \"Microsoft.Compute/skus/read\",\n    \"Microsoft.Compute/locations/vmSizes/read\",\n    \"Microsoft.Compute/virtualMachines/*\",\n    \"Microsoft.Resources/subscriptions/resourceGroups/read\",\n    \"Microsoft.GuestConfiguration/*/read\",\n    \"Microsoft.GuestConfiguration/*/write\",\n    \"Microsoft.GuestConfiguration/*/action\",\n    \"Microsoft.Compute/galleries/read\",\n    \"Microsoft.Compute/galleries/images/read\",\n    \"Microsoft.Compute/galleries/images/versions/read\",\n    \"Microsoft.KeyVault/vaults/read\",\n    \"Microsoft.KeyVault/vaults/deploy/action\"\n  ],\n  \"NotActions\": [],\n  \"AssignableScopes\": [\n    \"/subscriptions/<subscription id>\"\n  ]\n} In the Azure cloud shell, run the following command.az role definition create --role-definition <file>.jsonUse the file you created in step 4 in place of <file>.json. Calm Admin user role is created. What to do nextAssign Calm Admin role to Calm App in the Azure portal. Configuring Kubernetes as a ProviderYou must configure Kubernetes as a service provider if you want to create or use a blueprint in Kubernetes platform. Perform the following procedure to configure on-prem Kubernetes provider on Nutanix Calm.Before you beginEnsure that you must have the following requirements.The compatible versions of Kubernetes with Nutanix Calm are 1.9 and 1.10.You must have necessary RBAC permissions on the Kubernetes server. Authentication mechanism should be enabled on the Kubernetes cluster.ProcedureClick the Settings icon on the left pane.Click the Providers tab.The Provider inspector panel is displayed.Figure. Provider- KubernetesClick to enlargeEnter the name of the provider in the Name field.Select Kubernetes from the Type drop-down menu.From the Type drop-down menu, select one of the following.Vanilla: Select this option if you want to self deploy the kubernes clusters.Karbon: Nutanix Karbon is a curated turnkey offering that provides simplified provisioning and operations of Kubernetes clusters. Select this option if you want to add Karbon as a provider.If you have selected the kubernetes type as Vanilla, do the following.Enter the Kubernetes master IP address in the Server IP field.Enter the port number of the Kubernetes server in the Port field.Select the authentication type from the Auth Type drop-down menu.You can select one of the following authentication types. Basic Auth: Basic authentication is a method for an HTTP user agent, for example, a web browser, to provide a user name and password when making a request. Client Certificate: A client certificate is a digital certificate protected with a key for authentication. CA Certificate: A client authentication certificate is a certificate that is used to authenticate clients during an SSL handshake. The certificate authenticates users who access a server by exchanging the client authentication certificate.Do one of the following.If you have selected Basic Auth, go to step e.If you have selected Client Certificate, go to step f.If you have selected CA Certificate, go to step g.Do the following.Enter the user name in the Username field. If the domain is part of the user name, then the user name syntax should be <username>@<domain>.Enter the password in the Password field. Click the eye icon to view the entered password.Do the following.Under Client Certificate, upload the client certificate by clicking the upload icon.Under Client Key, upload the private key by clicking the upload icon.Do the following.Under CA Certificate, upload the CA certificate by clicking the upload icon.Under Client Certificate, upload the client certificate by clicking the upload icon.Under Client Key, upload the private key by clicking the upload icon.If you have selected the kubernetes type as Karbon, do the following.In the Cluster drop-down menu, select the respective kubernetes cluster that you want to add as a provider.Click Save. To verify the credentials of the provider click Verify.If the credentials are authenticated then the provider is verified and listed under the Settings page.Configuring Xi Cloud as a ProviderCalm allows you to manage your workloads on Nutanix Xi Cloud. You can add Xi Cloud as a provider if the Prism Central is paired to a Xi cloud. Calm automatically discovers the availability zones of the Xi Cloud and you can add Xi Cloud account as a provider. Perform the following procedure to add Xi Cloud as a provider to manage your applications.Before you beginEnsure the following conditions are met.Xi leap is enabled from the Prism Central.The Prism Central is paired with Xi Cloud.The Prism Central and the Xi Cloud are connected with a VPN.Routes to Xi gateway are added in the Prism CentralProcedureClick the Settings iconon the left pane.Click the Providers tab.The provider inspector panel appears.Click +Add Provider.The Provider settings page appears.In the Name field, type a name for the Xi cloud.From the Type drop-down menu, select Xi.The paired availability zones are automatically added in the Availability Zones field.Click Save.The provider list displays the provider you have created.To verify the credentials of the provider, click Verify.If the credentials are authenticated and the provider is verified, the Xi cloud is listed as a provider under the Settings page.What to do nextYou can use the configured Xi cloud to host blueprints and application by using Calm. For more information, see Blueprints Usage.", "Heading_Keywords": ["provid", "configur"]}, {"Heading": "Configuring a Remote Prism Central Account", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-configuring-a-remote-pc-account-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "If you want to deploy an application in a remote PC, the remote PC must be configured as an account in Calm. Perform the following procedure to configure a PC account on Nutanix Calm.ProcedureClick the Settings iconon the left pane.Click the Providers tab.The provider inspector panel appears.Click +Add Provider.The Provider settings page appears.In the Name field, type a name for the PC account.From the Type drop-down menu, select Nutanix.In the PC IP field, type the IP address of the remote PC.The application is provisioned in the remote PC IP address.In the PC Port  field, type the port number for the IP address.In the User name field, enter the administrator username of the remote PC.In the Password field, type the administrator password of the remote PC.Click Save. The provider list displays the provider you have created.To verify the credentials of the provider, click Verify.If the credentials are authenticated and the account is verified, the remote PC is added as an account for Nutanix provider.", "Heading_Keywords": ["configur", "remot", "prism", "central", "account"]}, {"Heading": "Configuring AWS as a Provider", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-configuring-nucalm-on-aws-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must configure AWS as a service provider if you want to create and use a blueprint on AWS platform. Perform the following procedure to configure AWS provider on Nutanix Calm.Before you beginEnsure that you have configured the following settings.An AWS account with valid credentials.IAM user account. For information on how to create an IAM user account, refer to AWS Documentation.User account must have full EC2 access and IAM read-only access.The access key ID and the secret access key for the IAM user account.Note: Ensure that you have configured the domain name server (DNS). To verify the DNS configuration, from the Prism Central UI, click Prism Central > Gear icon > Name Servers and run the following command.nutanix@cvm$ ncli cluster get-name-serversIf you are configuring DNS now, then you must restart the Prism Central VM.ProcedureClick the Settings iconon the left pane.Click the Providers tab.The provider inspector panel appears.Figure. Provider- AWSClick to enlargeIn the Name field, enter a name for the provider.From the Type drop-down menu, select AWS.In the Access Key ID field, enter the access key ID of your AWS account.In the Secret Access Key field, enter the secret access key of your AWS account.Click the eye icon next to the Secret Access Key field to view the entered password.Select or remove the geographical region from the Regions field.By default, all regions excluding China and GovCloud by default.Warning: If you remove a region from an existing AWS account, it impacts the deployed VMs in that region.Optionally, if you have not configured any private image, in the Search Public Image field, search the public image applicable to your region by entering minimum of six characters.Note: Authenticate the credentials before searching.The Public Image field lists all the public images applicable to your region.Select the public image.You can also select multiple public images.You can use any of the selected public images while you create a blueprint for AWS.Click Save. The provider list displays the provider you have created.To verify the credentials of the provider, click Verify.If the credentials are authenticated and the provider is verified, the AWS provider is listed under the Settings page.Note: If the authentication fails due to the DNS error, see KB-4938.What to do nextYou can use the configured AWS provider while you create a blueprint for AWS. For more details on creating blueprint, see Blueprints Usage.Configuring AWS C2S Provider on Nutanix CalmGovCloud (US) is an isolated AWS region to help the United States government agencies and federal IT contractors to host sensitive workloads into the cloud by addressing their specific regulatory and compliance requirements. Configuring AWS User Account with Minimum PrivilegeTo manage the applications in the AWS platform by using Calm, you must have a privileged AWS user account with an appropriate policy. Perform the following procedure to assign minimum privilege to a user to configure AWS as a provider so that the user can manage the applications on an AWS platform by using Calm. Configuring AWS C2S Provider on Nutanix CalmGovCloud (US) is an isolated AWS region to help the United States government agencies and federal IT contractors to host sensitive workloads into the cloud by addressing their specific regulatory and compliance requirements. About this taskWith AWS C2S support in Nutanix Calm, you can configure your GovCloud authentication, and then create or manage your workload instances on AWS GovCloud region as done for other AWS regions. The AWS GovCloud provides the same high-level security as other AWS regions, however, the Commercial Cloud Services (C2S) and the C2S Access Portal (CAP) are used to grant controlled access to the C2S Management Console and C2S APIs for Government users and applications. Perform the following procedure to configure AWS Commercial Cloud Services (C2S) provider on Nutanix Calm.Note: The AWS GovCloud (US) Region supports the management of regulated data by restricting physical and logical administrative access to U.S. citizens only.Before you beginEnsure that you have the following credentials.AWS GovCloud (US) account with valid credentials.C2S account configured in AWS.ProcedureClick the Settings icon on the left pane.Click the Providers tab.The Provider inspector panel is displayed.Figure. Provider- AWSClick to enlargeEnter the name of the provider in the Name field.Select AWS C2S from the Type drop-down menu.Enter the C2S account IP address in the C2S account address field.Enter or upload the client certificate in the Client Certificate field.Enter or upload the client key in the Client Key field.Enter the required role (IAM role) in the Role field.Enter the mission in the Mission field.Enter the agency in the Agency field.Select All GovCloud Regions check-box to select all the GovCloud regions.Click Save.The provider list displays the provider you have created.To verify the credentials of the account, click Verify. If the credentials are authenticated and the account is verified, the account gets listed as Active.Note: If the authentication fails due to the DNS error, see KB-4938.If the credentials are authenticated and the provider is verified, the provider is listed under the Settings page.What to do nextYou can use the configured AWS C2S provider while you create a blueprint.Configuring AWS User Account with Minimum PrivilegeTo manage the applications in the AWS platform by using Calm, you must have a privileged AWS user account with an appropriate policy. Perform the following procedure to assign minimum privilege to a user to configure AWS as a provider so that the user can manage the applications on an AWS platform by using Calm. Before you beginEnsure that you have an AWS administrator user account. ProcedureLog on to the AWS console with your AWS administrator account.Click Services > IAM.To add a user, click Users > Add User.The Add User page is displayed.In the Add User page, do the following.In the User name field, type a user name.In the Access Type area, click the check-boxes next to the Programmatic access and AWS Management Console access fields, and click Next: Permission.Note: Do not configure anything in the Set permission page.Click Next: Tags.Optionally, in the Add User page, to add a tag to a user, type the key and value pair in the Key and Value fields respectively.For more information about IAM tags, see AWS Documents.Click Next: Review.Click Create User.An IAM user is created.After a user is created, to display the credential of the user, in the Access key ID, Secret access Key, and Password fields, click Show.Note: Copy the credentials in a file and save the file in your local machine. You must use the credentials when you configure AWS as a provider to manage your applications.To assign permission to the user, click the created user in the Users page.The Summary page is displayed.In the Permissions tab, click + Add inline policy.The Create Policy page is displayed.In the Create Policy page, click the JSON tab and paste the following JSON code in the code editor area.{\n\n\"Version\": \"2012-10-17\",\n\n\"Statement\": [\n    \n{\n        \n\"Effect\": \"Allow\",\n        \n\"Action\": [\n            \n\"iam:ListRoles\",\n            \n\"iam:ListSSHPublicKeys\",\n            \n\"iam:GetSSHPublicKey\",\n            \n\"iam:GetAccountPasswordPolicy\",\n            \n\"ec2:RunInstances\",\n            \n\"ec2:StartInstances\",\n            \n\"ec2:StopInstances\",\n            \n\"ec2:RebootInstances\",\n            \n\"ec2:CreateTags\",\n            \n\"ec2:CreateVolume\",\n            \n\"ec2:CreateSnapshot\",\n            \n\"ec2:CreateImage\",\n            \n\"ec2:ModifyImageAttribute\",\n            \n\"ec2:ModifyInstanceAttribute\",\n            \n\"ec2:AttachVolume\",\n            \n\"ec2:DetachVolume\",\n            \n\"ec2:ModifyVolume\",\n            \n\"ec2:AssociateIamInstanceProfile\",\n            \n\"ec2:ReplaceIamInstanceProfileAssociation\",\n            \n\"ec2:DisassociateIamInstanceProfile\",\n            \n\"ec2:RegisterImage\",\n            \n\"ec2:DeregisterImage\",\n            \n\"ec2:DeleteSnapshot\",\n            \n\"ec2:GetConsoleOutput\",\n            \n\"ec2:Describe*\",\n            \n\"ec2:DeleteTags\",\n            \n\"ec2:TerminateInstances\"\n        \n],\n        \n\"Resource\": \"*\"\n    \n},\n    \n{\n        \n\"Effect\": \"Allow\",\n        \n\"Action\": [\"iam:ListUserPolicies\"],\n        \n\"Resource\": [\"arn:aws:iam::*:user/${aws:username}\"]\n    \n},\n    \n{\n        \n\"Effect\": \"Allow\",\n        \n\"Action\": [\"iam:PassRole\"],\n        \n\"Resource\": [\"arn:aws:iam::*:role/*\"]\n    \n}\n\n]\n}\nClick Review Policy.The Review Policy page is displayed.In the Review Policy page, type a name for the policy in the Name field, and click Create policy.A user is created with the minimum privilege to manage applications on an AWS platform. What to do nextAfter the user created with the required privilege, you can configure AWS as a provider in the Settings page. For more information, see Configuring AWS as a Provider. You can also assign different policy privileges to the user. For more information, see AWS Policy Privileges.AWS Policy PrivilegesThe following table displays the list of user policy privileges and the corresponding JSON attributes that you can add in the JSON syntax to assign different privileges to a user.AWS Policy PrivilegesThe following table displays the list of user policy privileges and the corresponding JSON attributes that you can add in the JSON syntax to assign different privileges to a user.Table 1. User Privileges and the JSON attributesTo create JSON attributesEC2 Instancesec2:RunInstancesVolumesec2:CreateVolumeSnapshotec2:CreateSnapshot Image(AMI) ec2:CreateImageTo list or getJSON attributesSSH Public Keys for all usersiam:ListSSHPublicKeysList IAM Rolesiam:ListRolesEC2 attributesec2:Describe*EC2 instance console outputec2:GetConsoleOutputIAM user policies for the useriam:ListUserPoliciesTo updateJSON attributesImage(AMI) attributesec2:ModifyImageAttributeTo deleteJSON attributesEC2 Instancesec2:TerminateInstancesInstance Tagsec2:DeleteTagsSnapshotec2:DeleteSnapshotImages(deregister images)ec2:DeregisterImageOthersJSON attributesStart/Stop/Restart Instancesec2:RunInstances, ec2:StartInstances, ec2:StopInstances, ec2:RebootInstancesPass and IAM role to serviceiam:PassRole", "Heading_Keywords": ["configur", "aw", "provid"]}, {"Heading": "Configuring AWS C2S Provider on Nutanix Calm", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-configuring-aws-c2s-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "GovCloud (US) is an isolated AWS region to help the United States government agencies and federal IT contractors to host sensitive workloads into the cloud by addressing their specific regulatory and compliance requirements. About this taskWith AWS C2S support in Nutanix Calm, you can configure your GovCloud authentication, and then create or manage your workload instances on AWS GovCloud region as done for other AWS regions. The AWS GovCloud provides the same high-level security as other AWS regions, however, the Commercial Cloud Services (C2S) and the C2S Access Portal (CAP) are used to grant controlled access to the C2S Management Console and C2S APIs for Government users and applications. Perform the following procedure to configure AWS Commercial Cloud Services (C2S) provider on Nutanix Calm.Note: The AWS GovCloud (US) Region supports the management of regulated data by restricting physical and logical administrative access to U.S. citizens only.Before you beginEnsure that you have the following credentials.AWS GovCloud (US) account with valid credentials.C2S account configured in AWS.ProcedureClick the Settings icon on the left pane.Click the Providers tab.The Provider inspector panel is displayed.Figure. Provider- AWSClick to enlargeEnter the name of the provider in the Name field.Select AWS C2S from the Type drop-down menu.Enter the C2S account IP address in the C2S account address field.Enter or upload the client certificate in the Client Certificate field.Enter or upload the client key in the Client Key field.Enter the required role (IAM role) in the Role field.Enter the mission in the Mission field.Enter the agency in the Agency field.Select All GovCloud Regions check-box to select all the GovCloud regions.Click Save.The provider list displays the provider you have created.To verify the credentials of the account, click Verify. If the credentials are authenticated and the account is verified, the account gets listed as Active.Note: If the authentication fails due to the DNS error, see KB-4938.If the credentials are authenticated and the provider is verified, the provider is listed under the Settings page.What to do nextYou can use the configured AWS C2S provider while you create a blueprint.", "Heading_Keywords": ["configur", "aw", "c2", "provid", "nutanix", "calm"]}, {"Heading": "Configuring AWS User Account with Minimum Privilege", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-configuring-aws-user-account-with-minimum-privilages-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "To manage the applications in the AWS platform by using Calm, you must have a privileged AWS user account with an appropriate policy. Perform the following procedure to assign minimum privilege to a user to configure AWS as a provider so that the user can manage the applications on an AWS platform by using Calm. Before you beginEnsure that you have an AWS administrator user account. ProcedureLog on to the AWS console with your AWS administrator account.Click Services > IAM.To add a user, click Users > Add User.The Add User page is displayed.In the Add User page, do the following.In the User name field, type a user name.In the Access Type area, click the check-boxes next to the Programmatic access and AWS Management Console access fields, and click Next: Permission.Note: Do not configure anything in the Set permission page.Click Next: Tags.Optionally, in the Add User page, to add a tag to a user, type the key and value pair in the Key and Value fields respectively.For more information about IAM tags, see AWS Documents.Click Next: Review.Click Create User.An IAM user is created.After a user is created, to display the credential of the user, in the Access key ID, Secret access Key, and Password fields, click Show.Note: Copy the credentials in a file and save the file in your local machine. You must use the credentials when you configure AWS as a provider to manage your applications.To assign permission to the user, click the created user in the Users page.The Summary page is displayed.In the Permissions tab, click + Add inline policy.The Create Policy page is displayed.In the Create Policy page, click the JSON tab and paste the following JSON code in the code editor area.{\n\n\"Version\": \"2012-10-17\",\n\n\"Statement\": [\n    \n{\n        \n\"Effect\": \"Allow\",\n        \n\"Action\": [\n            \n\"iam:ListRoles\",\n            \n\"iam:ListSSHPublicKeys\",\n            \n\"iam:GetSSHPublicKey\",\n            \n\"iam:GetAccountPasswordPolicy\",\n            \n\"ec2:RunInstances\",\n            \n\"ec2:StartInstances\",\n            \n\"ec2:StopInstances\",\n            \n\"ec2:RebootInstances\",\n            \n\"ec2:CreateTags\",\n            \n\"ec2:CreateVolume\",\n            \n\"ec2:CreateSnapshot\",\n            \n\"ec2:CreateImage\",\n            \n\"ec2:ModifyImageAttribute\",\n            \n\"ec2:ModifyInstanceAttribute\",\n            \n\"ec2:AttachVolume\",\n            \n\"ec2:DetachVolume\",\n            \n\"ec2:ModifyVolume\",\n            \n\"ec2:AssociateIamInstanceProfile\",\n            \n\"ec2:ReplaceIamInstanceProfileAssociation\",\n            \n\"ec2:DisassociateIamInstanceProfile\",\n            \n\"ec2:RegisterImage\",\n            \n\"ec2:DeregisterImage\",\n            \n\"ec2:DeleteSnapshot\",\n            \n\"ec2:GetConsoleOutput\",\n            \n\"ec2:Describe*\",\n            \n\"ec2:DeleteTags\",\n            \n\"ec2:TerminateInstances\"\n        \n],\n        \n\"Resource\": \"*\"\n    \n},\n    \n{\n        \n\"Effect\": \"Allow\",\n        \n\"Action\": [\"iam:ListUserPolicies\"],\n        \n\"Resource\": [\"arn:aws:iam::*:user/${aws:username}\"]\n    \n},\n    \n{\n        \n\"Effect\": \"Allow\",\n        \n\"Action\": [\"iam:PassRole\"],\n        \n\"Resource\": [\"arn:aws:iam::*:role/*\"]\n    \n}\n\n]\n}\nClick Review Policy.The Review Policy page is displayed.In the Review Policy page, type a name for the policy in the Name field, and click Create policy.A user is created with the minimum privilege to manage applications on an AWS platform. What to do nextAfter the user created with the required privilege, you can configure AWS as a provider in the Settings page. For more information, see Configuring AWS as a Provider. You can also assign different policy privileges to the user. For more information, see AWS Policy Privileges.AWS Policy PrivilegesThe following table displays the list of user policy privileges and the corresponding JSON attributes that you can add in the JSON syntax to assign different privileges to a user.AWS Policy PrivilegesThe following table displays the list of user policy privileges and the corresponding JSON attributes that you can add in the JSON syntax to assign different privileges to a user.Table 1. User Privileges and the JSON attributesTo create JSON attributesEC2 Instancesec2:RunInstancesVolumesec2:CreateVolumeSnapshotec2:CreateSnapshot Image(AMI) ec2:CreateImageTo list or getJSON attributesSSH Public Keys for all usersiam:ListSSHPublicKeysList IAM Rolesiam:ListRolesEC2 attributesec2:Describe*EC2 instance console outputec2:GetConsoleOutputIAM user policies for the useriam:ListUserPoliciesTo updateJSON attributesImage(AMI) attributesec2:ModifyImageAttributeTo deleteJSON attributesEC2 Instancesec2:TerminateInstancesInstance Tagsec2:DeleteTagsSnapshotec2:DeleteSnapshotImages(deregister images)ec2:DeregisterImageOthersJSON attributesStart/Stop/Restart Instancesec2:RunInstances, ec2:StartInstances, ec2:StopInstances, ec2:RebootInstancesPass and IAM role to serviceiam:PassRole", "Heading_Keywords": ["configur", "aw", "user", "account", "minimum", "privileg"]}, {"Heading": "Configuring VMware as a Provider", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-configuring-nucalm-on-vmware-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must configure VMware as a service provider if you want to create or use a blueprint in VMware platform. Perform the following procedure to configure VMware as a provider on Nutanix Calm.About this taskNote: During configuration, if you do not have an administrator user account in vCenter, then you must have user account with the required permissions. See Permission Required in vCenter.Nutanix Calm does not support vSphere essential edition. If you try to enable Calm with vSphere essential edition license, you get a failure notification because hot-pluggable virtual hardware is not supported by vSphere essential edition. To refer to the video about setting up VMware as provider, click here.ProcedureClick the Settings icon on the left pane.Click the Providers tab.The provider inspector panel is displayed.Figure. Provider- VMwareClick to enlargeEnter a name for the provider in the Name field.Note: The same name is available as the account name while creating a project for your provider.Select VMware from the Type drop-down menu.Enter the server IP address of the vCenter Server in the Server field.Enter the user name of the vCenter account in the Username field.If the domain is part of the user name then the username syntax must be <username>@<domain>.Enter the password in the Password field.Click the eye icon to view the entered password.Enter the port number as 443 in the Port field.Click Save. Select the datacenter from the Datacenter drop-down menu.A VMware datacenter is the grouping of servers, storage networks, IP networks, and arrays. All the datacenters assigned with your vCenter account are available for your selection.Optionally, if you want to monitor the operating cost of your applications, configure the cost of the following resources.Note: Ensure that you have enabled showback. For more information about enabling showback, see Enabling Showback. vCPU : In the vCPU field, enter the cost of vCPU consumption for each hour in dollars. The default value is $0.01 for each vCPU for each hour.Memory : In the Memory field, enter the cost of memory consumption for each hour in dollars. The default value is $0.01 for each GB of usage for each hour.Storage : In the Storage field, enter the cost of storage consumption for each hour in dollars. The default value is $0.0003 for each GB of usage for each hour.Click Save. To verify the credentials of the provider, click Verify.If the credentials are authenticated and verified, the provider is listed under the settings page.What to do nextYou can use the configured VMware provider while you create a blueprint for VMware. For more details on creating blueprint, see Blueprints Usage.Permission Required in vCenterThe following table provides the complete list of permissions you need to enable in vCenter.Supported vSphere VersionsPermission Required in vCenterThe following table provides the complete list of permissions you need to enable in vCenter.Table 1. Permissions required in vCenterEntityPermissionDatastoreAllocate spaceBrowse datastoreLow level file operationUpdate virtual machine filesNetwork Assign NetworkConfigureMove NetworkResourceAssign virtual machine to resource poolVirtual Machine > Change Configuration Add existing diskAdd new diskAdd or remove deviceChange CPU countChange memoryModify device settingsConfigure raw deviceRenameSet annotation Change settingsUpgrade virtual machine compatibilityVirtual Machine > Interaction Configure CD mediaConnect devicesPower OnPower offResetInstall VMware toolsVirtual Machine >  Edit Inventory Create from existingRemoveVirtual Machine > Provisioning Clone templateCustomize guestDeploy templateRead customization specifications For information on how to enable permissions in vCenter, see the vSphere Users and Permissions section in the VMware documents.Supported vSphere VersionsNutanix Calm supports VMware on Nutanix and non Nutanix platforms.Following versions of vSphere are supported.6.76.56.0", "Heading_Keywords": ["configur", "vmware", "provid"]}, {"Heading": "Permission Required in vCenter", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-permission-required-vcenter-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The following table provides the complete list of permissions you need to enable in vCenter.Table 1. Permissions required in vCenterEntityPermissionDatastoreAllocate spaceBrowse datastoreLow level file operationUpdate virtual machine filesNetwork Assign NetworkConfigureMove NetworkResourceAssign virtual machine to resource poolVirtual Machine > Change Configuration Add existing diskAdd new diskAdd or remove deviceChange CPU countChange memoryModify device settingsConfigure raw deviceRenameSet annotation Change settingsUpgrade virtual machine compatibilityVirtual Machine > Interaction Configure CD mediaConnect devicesPower OnPower offResetInstall VMware toolsVirtual Machine >  Edit Inventory Create from existingRemoveVirtual Machine > Provisioning Clone templateCustomize guestDeploy templateRead customization specifications For information on how to enable permissions in vCenter, see the vSphere Users and Permissions section in the VMware documents.", "Heading_Keywords": ["permiss", "requir", "vcenter"]}, {"Heading": "Supported vSphere Versions", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-supported-vsphere-versions-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Nutanix Calm supports VMware on Nutanix and non Nutanix platforms.Following versions of vSphere are supported.6.76.56.0", "Heading_Keywords": ["support", "vsphere", "version"]}, {"Heading": "Configuring GCP as a Provider", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-configuring-nucalm-on-gcp-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must configure GCP as a service provider if you want to create or use a blueprint in GCP platform. Perform the following procedure to configure GCP provider on Nutanix Calm.Before you beginEnsure that you have the service account file of your GCP account in a JSON format saved in your local machine. To create a GCP service account file, see the GCP documentation.ProcedureClick the Settings icon on the left pane.Click the Providers tab.The provider inspector panel is displayed.Figure. Provider- GCPClick to enlargeEnter the name of the provider in the Name field.Select GCP from the Type drop-down menu.Click Service Account File to import the service account file from your local machine.A service account file is a special Google account file that you can use to upload the details of your GCP account. After you successfully upload the file, the Project ID, Private Key, Client Email, and Token URI fields are auto filled.Select or remove the geographical region from the Regions field.By default all regions are selected.Warning: If you remove a region from an existing GCP account, it impacts the deployed VMs in that region.Optionally, select the Enable GKE check-box to enable Google Kubernetes Engine (GKE).Enter the GKE master IP address in the Server IP  field.Enter the port number in the Port field.Click Save. To verify the credentials of the provider click Verify.If the credentials are authenticated, then the provider is verified and listed under the Settings page.What to do nextTo troubleshoot some common issues, see KB-5616. You can use the configured GCP provider while you create a blueprint for GCP. For more details on creating blueprint, see Blueprints Usage.", "Heading_Keywords": ["configur", "gcp", "provid"]}, {"Heading": "Configuring Azure as a Provider", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-configuring-nucalm-on-azure-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must configure Azure as a service provider if you want to create or use a blueprint in Azure platform. Perform the following procedure to configure Azure provider on Nutanix Calm.About this taskNote: For detailed description of the required fields, you can refer to the Azure documentation.Only authorized organizations can use restricted regions like Australia Central through Calm. For more information, see the Microsoft documentation.To refer to the video about setting up Azure as provider, click here.Before you beginAssign appropriate role to your application. For detailed information, refer to Microsoft documentation.ProcedureClick the Settings icon on the left pane.Click the Providers tab.The provider inspector panel appears.Figure. Provider- AzureClick to enlargeEnter the name of the setting in the Name field.Select Azure from the Type drop-down menu.Enter the subscription ID of your Azure application in the Subscription ID field.Enter the directory/tenant ID of your Azure application in the Directory/Tenant ID field.Enter the application/client ID in the Application/Client ID field.Enter the client key or secret in the Client Key/Secret field.Select cloud from the Cloud Environment drop-down menu.You can either select Public Cloud or US Government Cloud or China Cloud or German Cloud.Click Save. To verify the credentials of the provider click Verify.The credential authentication verifies the provider. The settings page lists the provider. What to do nextCreate a project and configure Azure environment, see Creating a Project and Configuring Azure Environment.Configuring Azure User Account with Minimum PrivilegeTo manage the applications in the Azure platform by using Calm, you must have a privileged Azure user account. Perform the following procedure to assign minimum privilege to a user to configure Azure as a provider so that the user can manage the applications running on an Azure platform.Configuring Azure User Account with Minimum PrivilegeTo manage the applications in the Azure platform by using Calm, you must have a privileged Azure user account. Perform the following procedure to assign minimum privilege to a user to configure Azure as a provider so that the user can manage the applications running on an Azure platform.About this taskTo refer to a video about assigning minimum privilege to configure Azure account to work with Calm, click here. ProcedureLog on to Azure portal with your administrator account.Open https://shell.azure.com and select bash.Create a .json file with the following content.{\n  \"Name\": \"Calm Admin\",\n  \"IsCustom\": true,\n  \"Description\": \"For calm to manage VMs on azure provisioned from calm applications\",\n  \"Actions\": [\n    \"Microsoft.Storage/storageAccounts/read\",\n    \"Microsoft.Storage/storageAccounts/write\",\n    \"Microsoft.Storage/checknameavailability/read\",\n    \"Microsoft.Storage/skus/read\",\n    \"Microsoft.Network/virtualNetworks/subnets/*\",\n    \"Microsoft.Network/virtualNetworks/read\",\n    \"Microsoft.Network/networkSecurityGroups/*\",\n    \"Microsoft.Network/networkInterfaces/*\",\n    \"Microsoft.Network/publicIPAddresses/*\",\n    \"Microsoft.Network/publicIPPrefixes/*\",\n    \"Microsoft.Compute/availabilitySets/vmSizes/read\",\n    \"Microsoft.Compute/availabilitySets/read\",\n    \"Microsoft.Compute/availabilitySets/write\",\n    \"Microsoft.Compute/disks/*\",\n    \"Microsoft.Compute/images/read\",\n    \"Microsoft.Compute/images/write\",\n    \"Microsoft.Compute/locations/publishers/read\",\n    \"Microsoft.Compute/locations/publishers/artifacttypes/offers/read\",\n    \"Microsoft.Compute/locations/publishers/artifacttypes/offers/skus/read\",\n    \"Microsoft.Compute/locations/publishers/artifacttypes/offers/skus/versions/read\",\n    \"Microsoft.Compute/skus/read\",\n    \"Microsoft.Compute/locations/vmSizes/read\",\n    \"Microsoft.Compute/virtualMachines/*\",\n    \"Microsoft.Resources/subscriptions/resourceGroups/read\",\n    \"Microsoft.GuestConfiguration/*/read\",\n    \"Microsoft.GuestConfiguration/*/write\",\n    \"Microsoft.GuestConfiguration/*/action\",\n    \"Microsoft.Compute/galleries/read\",\n    \"Microsoft.Compute/galleries/images/read\",\n    \"Microsoft.Compute/galleries/images/versions/read\",\n    \"Microsoft.KeyVault/vaults/read\",\n    \"Microsoft.KeyVault/vaults/deploy/action\"\n  ],\n  \"NotActions\": [],\n  \"AssignableScopes\": [\n    \"/subscriptions/<subscription id>\"\n  ]\n} In the Azure cloud shell, run the following command.az role definition create --role-definition <file>.jsonUse the file you created in step 4 in place of <file>.json. Calm Admin user role is created. What to do nextAssign Calm Admin role to Calm App in the Azure portal. ", "Heading_Keywords": ["configur", "azur", "provid"]}, {"Heading": "Configuring Azure User Account with Minimum Privilege", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-configuring-azure-user-account-with-minimum-privilege-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "To manage the applications in the Azure platform by using Calm, you must have a privileged Azure user account. Perform the following procedure to assign minimum privilege to a user to configure Azure as a provider so that the user can manage the applications running on an Azure platform.About this taskTo refer to a video about assigning minimum privilege to configure Azure account to work with Calm, click here. ProcedureLog on to Azure portal with your administrator account.Open https://shell.azure.com and select bash.Create a .json file with the following content.{\n  \"Name\": \"Calm Admin\",\n  \"IsCustom\": true,\n  \"Description\": \"For calm to manage VMs on azure provisioned from calm applications\",\n  \"Actions\": [\n    \"Microsoft.Storage/storageAccounts/read\",\n    \"Microsoft.Storage/storageAccounts/write\",\n    \"Microsoft.Storage/checknameavailability/read\",\n    \"Microsoft.Storage/skus/read\",\n    \"Microsoft.Network/virtualNetworks/subnets/*\",\n    \"Microsoft.Network/virtualNetworks/read\",\n    \"Microsoft.Network/networkSecurityGroups/*\",\n    \"Microsoft.Network/networkInterfaces/*\",\n    \"Microsoft.Network/publicIPAddresses/*\",\n    \"Microsoft.Network/publicIPPrefixes/*\",\n    \"Microsoft.Compute/availabilitySets/vmSizes/read\",\n    \"Microsoft.Compute/availabilitySets/read\",\n    \"Microsoft.Compute/availabilitySets/write\",\n    \"Microsoft.Compute/disks/*\",\n    \"Microsoft.Compute/images/read\",\n    \"Microsoft.Compute/images/write\",\n    \"Microsoft.Compute/locations/publishers/read\",\n    \"Microsoft.Compute/locations/publishers/artifacttypes/offers/read\",\n    \"Microsoft.Compute/locations/publishers/artifacttypes/offers/skus/read\",\n    \"Microsoft.Compute/locations/publishers/artifacttypes/offers/skus/versions/read\",\n    \"Microsoft.Compute/skus/read\",\n    \"Microsoft.Compute/locations/vmSizes/read\",\n    \"Microsoft.Compute/virtualMachines/*\",\n    \"Microsoft.Resources/subscriptions/resourceGroups/read\",\n    \"Microsoft.GuestConfiguration/*/read\",\n    \"Microsoft.GuestConfiguration/*/write\",\n    \"Microsoft.GuestConfiguration/*/action\",\n    \"Microsoft.Compute/galleries/read\",\n    \"Microsoft.Compute/galleries/images/read\",\n    \"Microsoft.Compute/galleries/images/versions/read\",\n    \"Microsoft.KeyVault/vaults/read\",\n    \"Microsoft.KeyVault/vaults/deploy/action\"\n  ],\n  \"NotActions\": [],\n  \"AssignableScopes\": [\n    \"/subscriptions/<subscription id>\"\n  ]\n} In the Azure cloud shell, run the following command.az role definition create --role-definition <file>.jsonUse the file you created in step 4 in place of <file>.json. Calm Admin user role is created. What to do nextAssign Calm Admin role to Calm App in the Azure portal. ", "Heading_Keywords": ["configur", "azur", "user", "account", "minimum", "privileg"]}, {"Heading": "Configuring Kubernetes as a Provider", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-configuring-nucalm-on-kubernetes-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must configure Kubernetes as a service provider if you want to create or use a blueprint in Kubernetes platform. Perform the following procedure to configure on-prem Kubernetes provider on Nutanix Calm.Before you beginEnsure that you must have the following requirements.The compatible versions of Kubernetes with Nutanix Calm are 1.9 and 1.10.You must have necessary RBAC permissions on the Kubernetes server. Authentication mechanism should be enabled on the Kubernetes cluster.ProcedureClick the Settings icon on the left pane.Click the Providers tab.The Provider inspector panel is displayed.Figure. Provider- KubernetesClick to enlargeEnter the name of the provider in the Name field.Select Kubernetes from the Type drop-down menu.From the Type drop-down menu, select one of the following.Vanilla: Select this option if you want to self deploy the kubernes clusters.Karbon: Nutanix Karbon is a curated turnkey offering that provides simplified provisioning and operations of Kubernetes clusters. Select this option if you want to add Karbon as a provider.If you have selected the kubernetes type as Vanilla, do the following.Enter the Kubernetes master IP address in the Server IP field.Enter the port number of the Kubernetes server in the Port field.Select the authentication type from the Auth Type drop-down menu.You can select one of the following authentication types. Basic Auth: Basic authentication is a method for an HTTP user agent, for example, a web browser, to provide a user name and password when making a request. Client Certificate: A client certificate is a digital certificate protected with a key for authentication. CA Certificate: A client authentication certificate is a certificate that is used to authenticate clients during an SSL handshake. The certificate authenticates users who access a server by exchanging the client authentication certificate.Do one of the following.If you have selected Basic Auth, go to step e.If you have selected Client Certificate, go to step f.If you have selected CA Certificate, go to step g.Do the following.Enter the user name in the Username field. If the domain is part of the user name, then the user name syntax should be <username>@<domain>.Enter the password in the Password field. Click the eye icon to view the entered password.Do the following.Under Client Certificate, upload the client certificate by clicking the upload icon.Under Client Key, upload the private key by clicking the upload icon.Do the following.Under CA Certificate, upload the CA certificate by clicking the upload icon.Under Client Certificate, upload the client certificate by clicking the upload icon.Under Client Key, upload the private key by clicking the upload icon.If you have selected the kubernetes type as Karbon, do the following.In the Cluster drop-down menu, select the respective kubernetes cluster that you want to add as a provider.Click Save. To verify the credentials of the provider click Verify.If the credentials are authenticated then the provider is verified and listed under the Settings page.", "Heading_Keywords": ["configur", "kubernet", "provid"]}, {"Heading": "Configuring Xi Cloud as a Provider", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-configuring-xi-as-a-provider-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Calm allows you to manage your workloads on Nutanix Xi Cloud. You can add Xi Cloud as a provider if the Prism Central is paired to a Xi cloud. Calm automatically discovers the availability zones of the Xi Cloud and you can add Xi Cloud account as a provider. Perform the following procedure to add Xi Cloud as a provider to manage your applications.Before you beginEnsure the following conditions are met.Xi leap is enabled from the Prism Central.The Prism Central is paired with Xi Cloud.The Prism Central and the Xi Cloud are connected with a VPN.Routes to Xi gateway are added in the Prism CentralProcedureClick the Settings iconon the left pane.Click the Providers tab.The provider inspector panel appears.Click +Add Provider.The Provider settings page appears.In the Name field, type a name for the Xi cloud.From the Type drop-down menu, select Xi.The paired availability zones are automatically added in the Availability Zones field.Click Save.The provider list displays the provider you have created.To verify the credentials of the provider, click Verify.If the credentials are authenticated and the provider is verified, the Xi cloud is listed as a provider under the Settings page.What to do nextYou can use the configured Xi cloud to host blueprints and application by using Calm. For more information, see Blueprints Usage.", "Heading_Keywords": ["configur", "xi", "cloud", "provid"]}, {"Heading": "Project Configuration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-project-configuration.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must configure a project to map the account of a provider and define user roles to access and use Calm. You can use the configured Active Directory in the Prism Central to assign different roles to users or groups in a project. You can create the following types of user roles in Nutanix Calm.Prism adminProject adminDeveloperConsumerOperatorEach role has pre-defined functions that a user with role assigned can perform in a project. To know more about the access privileges for each role, see Roles and Responsibilities Matrix. Note: Configuring a project with Nutanix as a provider has an option to whitelist network details (clusters and subnets) to your project. Optionally, you can also define vCPU, storage, and memory as a part of quotas.If the limit of the specified quotas exceeds, the VM creation fails.Environment ConfigurationYou can also configure environment as a part of project creation. You can configure the substrate or VM details in the environment tab. After you have configured environment for a project, you can use the configured details while creating a blueprint or launching an application from marketplace. To know more about environment configuration, see Configuring Environments.Creating a ProjectYou must configure a project to map the account of a provider and define user roles to access and use Nutanix Calm. Perform the following procedure to create a project.Configuring EnvironmentsModifying a ProjectNutanix Calm allows you to modify the users, infrastructure, and quota details of a saved project. You can also delete an account of a provider in a project. Perform the following procedure to modify an existing project.Deleting a ProjectPerform the following procedure to delete a project.Creating a ProjectYou must configure a project to map the account of a provider and define user roles to access and use Nutanix Calm. Perform the following procedure to create a project.Before you beginEnsure that you have configured the providers that you want to add in to your project. For more information, see Providers Configuration.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the +Create Project button.The Create  page appears. Figure. Create Project PageClick to enlargeIn the General Settings section, configure the following fields.Project Name: Enter a name for the new project.Description (optional): Enter a description of the project.In the Users, Groups and Roles section, do the following. Click the + Users link to add users to the group.A blank row is added with Name, Role, and Actions fields.In the Name field, enter the Active Directory name of a user or a group (typically in the form of name@domain).From the Role drop-down menu, select one of the following roles for the user. Prism AdminProject AdminDeveloperConsumerOperatorFor more information about the type of users and their roles, see Roles and Responsibilities Matrix.If multiple Active Directory domains are configured, you can specify the Active Directory to use by clicking the gear icon next to the + Users link. This displays a Search Directories window. Select the radio button for the Active Directory to use and then click the Save button.Figure. Search Directories WindowClick to enlargeRepeat this step for each user or group that you want to add. Nested groups (groups within a group) are not supported, that is, if a selected group includes a group name (instead an individual name) within that group, the group name is not expanded so those group members are not included in the project.Note: Local users are not supported in a project. You can only add users from your configured directory service.If you add a group to a project, users in the group might not appear in the project members list until they log in.In the Actions field, do one of the following.To save the user role, click Save.To cancel adding the user, click Cancel.Configure and manage the infrastructure for your project. For more details, see Managing Infrastructure.In the Quotas field, enter the usage details for the following fields.vCPUsStorageMemoryA quota specifies a usage limit on an infrastructure resource (compute, memory, or storage) for the project. Project members cannot use more than the specified limit. A quota does not guarantee the project a certain amount of infrastructure resources. Instead, it ensures that a single project or a few projects do not overrun the infrastructure. If the Nutanix cluster runs out of a resource, project members cannot use the resource even if the project has not reached its specified limit. However, if a project requires more resources, you can increase its quota.If you do not specify a quota, you cannot apply usage limit. However, usage statistics are collected even if you do not specify a quota.Note: If the cluster runs out of the assigned resources, the deployment fails, and an error message appears.Quotas are only applicable for AHV clusters.Click Save.The project details are saved.Note: After saving, you cannot edit the saved project details. Click the Environment tab.Environment is mandatory to publish the applications into the marketplace. If you do not define VM configuration while creating a blueprint, you must define the configuration as part of environment. Also, during the application blueprint launch from marketplace, the values are picked from environment.Note: Only one environment for each project is applicable for different marketplace application blueprints having different VM requirements.To configure environment on AHV, see Configuring Nutanix Environment.To configure environment on AWS, see Configuring AWS Environment.To configure environment on VMware, see Configuring VMware Environment.To configure environment on GCP, see Configuring GCP Environment.To configure environment on Azure, see Configuring Azure Environment.Note: For Kubernetes, the Environment  tab is not applicable. To add the project, click the Save button (lower right) to add the project. The page closes and the new project appears in the Projects view list.What to do nextYou can use the created project while configuring a blueprint or launching an application blueprint. Managing InfrastructureInfrastructure defines the type of provider for your project. Perform the following procedure to configure and manage infrastructure details for your project.Managing InfrastructureInfrastructure defines the type of provider for your project. Perform the following procedure to configure and manage infrastructure details for your project.Before you beginEnsure that you have configured the provider in the Settings tab. For more details about configuring a provider, see Providers Configuration .ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the +Create Project button.The Create  page appears. Figure. Create Project PageClick to enlargeIn the Infrastructure pane, do the following.From the Select Provider drop-down menu, select one of the following types of provider for your project.NutanixAWSVMwareGCPAzureNote: For Nutanix provider, you can map one or more AHV clusters to a project and whitelist subnets from the selected clusters. Whitelisting the subnets provides you the flexibility to manage your application workloads across AHV clusters within a blueprint.If you have selected Nutanix as the provider, from the Select Account drop-down, select the account of the remote PC and do the following.Click Select Clusters & Subnets.Select Subnets page is displayed.From the Select the clusters and subnets drop-down menu, select the clusters you want to add to your project.Click the check-box against the subnets you want to add in your project. To save the details, click Save.Note: You can select one or more AHV clusters in the cluster selection field. Subnets list is refreshed for each cluster added or removed from the cluster list. You can whitelist one or more subnets. When you configure a blueprint, only the whitelisted networks and clusters appear for the user to select during network configuration. If the network selection is a runtime attribute, only the whitelisted networks and clusters are available to update while launching a blueprint. When you remove a cluster from the Select Subnets page, the cluster is not deleted from the project. The Select Subnets page is only used for whitelisting subnets.When you add a subnet during blueprint creation, the cluster details are displayed.If you have selected any other provider other than Nutanix, from the Select Account drop-down menu, select the account.An account is the name you have configured for your provider. All the configured accounts are available for your selection from the Select Account drop-down menu.You can add multiple providers into your project.Click Save.The infrastructure details are saved for your project.Configuring EnvironmentsYou can also configure environment as a part of Project creation. You can configure the substrate or VM details in the environment tab. After you have configured environment for a project, you can use the configured details while creating a blueprint or launching an application from marketplace. To know more about Environment configuration, see Configuring Environments.To refer to the video about configuring environment, click here.Note: Environment is not supported for Kubernetes.Configuring Nutanix EnvironmentYou must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable for Nutanix.Configuring AWS EnvironmentYou must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable on AWS.Configuring VMware EnvironmentYou must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable for VMware.Configuring GCP EnvironmentYou must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable on GCP.Configuring Azure EnvironmentYou must configure an Environment as a part of the Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable on Azure.Configuring Nutanix EnvironmentYou must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable for Nutanix.Before you beginEnsure that you have configured a project with Nutanix as a provider. For more information, see Creating a Project.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the Environment > Nutanix tab.Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring Credential.Credentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.As per your requirement, select either Windows or Linux as the operating system for the VM and expand the VM Configuration section.In the VM Configuration section, enter a name of the VM in the VM Name field. You can use Calm macros to provide a unique name to the VM. For example, vm-@@{calm_array_index}@@-@@{calm_time}@@.To configure the processing unit of the VM, enter the number of vCPU, cores of each vCPU, and total memory in GB of the VM in the vCPU, cores per vCPU, and Memory (GiB) fields respectively.Optionally, if you want to customize the default OS properties of the VM, select the Guest Customization check-box and do the following.Guest customization allows you to modify the properties of the OS of the VM. You can prevent conflicts that might result if you deploy virtual machines with identical settings, such as duplicate VM names or same SID. You can change the computer name or network settings by using a custom script.Select either CloudInIt or SysPrep type and enter the script in the Script panel.Note: Select Cloudinit for Linux and Sysprep for Windows. For Sysprep, you must use double back slash for all escape characters . For example, \\\\v.You can also upload the script by clicking the upload icon.To add a virtual disk to the VM, click the + icon next to the DISKS section and do the following.Select the device for the image from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either SCSI, IDE, PCI or SATA.From the Operations drop-down menu, select one of the following. Allocate on Storage Container: Select this option if you want to allocate the disk memory from the storage container.Clone from Image Service: Select this option if you want to clone a image from the disk.All the images that are uploaded to the Prism Central are available for selection. For more information about image configuration, see Image Management section in the Prism Central guide.If you have selected Allocate on Storage Container, enter the disk size in GB in the Size (GiB) field.If you have selected Clone from Image Service, select the image you want to add to the disk.Select the Bootable check-box against the image which you want to use to boot up the VM. Note: You can add more than one disk and select the disk with which you want to boot up the VM.Under Boot Configuration, select one of the following firmwares to boot the VM.Legacy BIOS: Select legacy BIOS to boot the VM with legacy BIOS firmware.UEFI: Select UEFI to boot the VM with UEFI firmware. UEFI firmware supports larger hard drives, faster boot time, and provides more security features.Select the vGPU from the VGPUS drop-down menu.This field is applicable after you have configured vGPU in the cluster.Select categories from the Categories drop-down menu.Note: Categories field allows you to tag your VM to a defined category in the Prism Central. Categories drop-down menu is available only for Nutanix. Based on the Prism Central configuration, the drop-down options are available.To add a network adapter, click the + icon next to the Network Adapters (NICS) field.The NIC drop-down options are available based on the cluster configuration.Note: If you have whitelisted the subnets during project creation, the whitelisted subnets are available for your selection. The cluster details are also displayed based on the selected subnets.Under Connection, If you want to check the log on status after creating the VM, click Check log-in upon create. Select a credential from the Credential drop-down menu for the VM. Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring CredentialSelect the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.Click Save.Environment details are saved for the project.What to do nextYou can use the environment details while configuring a blueprint for Nutanix or launching a blueprint.Configuring CredentialCredentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.Configuring CredentialCredentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.ProcedureClick Credential + and do the following.Enter a name of the credential in the Credential Name field.Enter a username in the Username field.Select secret type from the Secret Type drop-down menu.You can either select Password or SSH Private Key.Do one of the following.If you have selected password, then enter password in the Password field.If you have selected SSH Private Key, then enter or upload the SSH Private Key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box to use the credential as your default credential.Click Done.Configuring AWS EnvironmentYou must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable on AWS.Before you beginEnsure that you have configured a project with AWS as a provider. For more information, see Creating a Project.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the Environment > AWS tab.Optionally, to add a credential for the AWS environment, click Credential + and configure the credential. For more information, see Configuring Credential.Credentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.As per your requirement, select either Windows or Linux as the operating system for the VM and expand the VM Configuration section.In the VM Configuration panel, enter the name of the instance in the Instance Name field. This name will be used as VM name on the AWS.Select the Associate Public IP Address check-box to associate a public IP address with your AWS instance. Note: If the Associate Public IP Address is unselected, ensure that the AWS account and Calm are on the same network for the scripts to run.Select an AWS instance type from the Instance Type drop-down menu.Instance types comprise varying combinations of CPU, memory, storage, and networking capacity and give you the flexibility to choose the appropriate mix of resources for your applications. Each instance type includes one or more instance sizes, allowing you to scale your resources to the requirements of your target workload.The drop-down menu displays the instances that are available in the AWS account. For more information, see AWS documentation.Select the region from the Region drop-down menu and the configuring the following.Note: The drop-down menu displays the regions which are selected while configuring the AWS setting. Select the availability zone from the Availability Zone drop-down menu.An Availability Zone is one or more discrete data centers with redundant power, networking, and connectivity in an AWS region. Availability Zones allow you to operate production applications and databases that are more highly available, fault tolerant, and scalable than would be possible from a single data center.Select the machine image from the Machine Image  drop-down menu.An Amazon Machine Image is a special type of virtual appliance that is used to create a virtual machine within the Amazon Elastic Compute Cloud. It serves as the basic unit of deployment for services delivered using EC2.Select the IAM role from the IAM Role drop-down menu.An IAM role is an AWS Identity and Access Management entity with permissions to make AWS service requests.Select the key pairs from the Key Pairs  drop-down menu.A key pair (consisting of a private key and a public key) is a set of security credentials that you use to prove your identity when connecting to an instance.Select the VPC from the VPC  drop-down menu.Amazon Virtual Private Cloud (Amazon VPC) allows you to provision a logically isolated section of the AWS cloud where you can launch AWS resources in your defined virtual network.Enter the AWS tags in the AWS Tags field.AWS tags are key and value pair to manage, identify, organize, search for, and filter resources. You can create tags to categorize resources by purpose, owner, environment, or other criteria.Under the Storage section, configure the following to boot the AWS instance with the selected image.In the Device field, select the device to boot the AWS instance. The available options are based on the image you have selected.In the Size(GiB) field, enter the required size for the bootable device.In the Volume Type drop-down menu, select the volume type. You can select either General Purpose SSD, Provisioned IOPS SSD, and EBS Magnetic HDD.For more information on the volume types, see AWS documentation.Optionally, select the Delete on termination check-box to delete the storage when the instance is terminated.You can also add more secondary storages by clicking the + icon next to the Storage section.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create.Under Connection, If you want to check the log on status after creating the VM, click Check log-in upon create. Select a credential from the Credential drop-down menu for the VM. Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring CredentialSelect the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.Click Save.Environment details are saved for the project.What to do nextYou can use the environment details while configuring a blueprint for AWS or launching a blueprint.Configuring VMware EnvironmentYou must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable for VMware.Before you beginEnsure that you have configured a project with VMware as a provider. For more information, see Creating a Project.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click Environment > VMware tab.Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring Credential.Credentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.As per your requirement, select either Windows or Linux as the operating system for the VM and expand the VM Configuration section.In the VM Configuration panel, select the host from the Hostdrop-down menu. A host is a computer that runs virtual machines and provides CPU and memory resources, access to storage, and network connectivity.Note: This opOptionally, click the DRS Mode check-box to enable load sharing and automatic VM placement.DRS (Distributed Resource Scheduler) is a utility that balances computing workloads with available resources in a virtualized environment. For more information about DRS mode, see the VMware documentation. Select the cluster where you want to host your VM from the Cluster drop-down menu.Note: This field is applicable only after you disable Compute DRS Mode.Select the host name of the VM from the Host drop-down menu.Select template from the Template drop-down menu.The VM template retrieves the drop-down options either from the configured vCenter or from the configured downloadable image configuration.Note: Install the VMware tools on the Windows templates. For Linux VMs, install open-vm-tools or VMware-tools and configure the vmtoolsd service for automatic start-up.Support for open-vm-tools version 10.1.10.63510 and above is available. When using open-vm-tools, install Perl for the template.Do not use SysPrepped as the Windows template image.If you select a template that has unsupported version of VMware tools, then a warning appears stating VMware tool or version is unsupported and could lead to VM issues.You can also edit the NIC type when you use a template.Enter values for vCPUs,Cores per vCPU , and Memory fields for the VM.Under Controller, click + to add the type of controller.You can select either SCSI or SATA controller.Note: You can add up to four SCSI and four SATA controllers. Under vDisk, click + to add vDisk.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the adapter type from the Adapter Type drop-down menu.You can select IDE for CD-ROM.You can select either SCSI, IDE, or SATA for Disk.Enter the size of the disk in GiB.In the Location field, select the disk location.If you want to add a controller to the vDisk, in the Controller drop-down menu, select the type of controller to attach the disk.Note: You can add either SCSI or SATA controllers. The available controllers for selection is dependent on the Adapter Type.In the Disk mode drop-down menu, select the type of the disk mode.The available options are as follows.Dependent: Dependent disk mode is the default disk mode for the vDisk.Independent - Persistent: Disks in independent persistent mode behave like conventional disks. All data written to a disk in persistent mode are written permanently to the disk.Independent - Nonpersistent: Changes to disks in independent nonpersistent mode are discarded when you power off or reset the virtual machine. With the nonpersistent mode, you can restart the virtual machine with a virtual disk in the same state every time. Changes to the disk are written to and read from a redo log file that is deleted when you power off or reset.In the Device slot drop-down menu, select the slot to attach the disk.Optionally, if you want to customize the default OS properties of the VM, in the VM guest customization pane, do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Click the Enable check-box if you want to use guest customization.From the Predefined Guest Customization drop-down menu, select the available guest customization.If you do not have any predefined customization available, select a type of customization.The available options are Cloud-init and Custom Specs.If you have selected Cloud-init, enter the script in the Script field.You can also upload the script by clicking the upload icon.If you have selected Custom specs, configure the network details for the VM:Hostname: Enter the hostname for the VM in the Hostname field. Domain: Enter the domain name in the Domain field that you want to assign to the VM.Timezone: Select timezone for the VM from the Timezone drop-down menu.Hardware clock UTC: Select Hardware clock UTC check-box to enable hardware clock UTC.+ Network Setting: To add a network configuration for the VM, click + Network Setting.DHCP: To automatically configure DHCP server, enable the DHCP check-box and skip to DNS setting.Setting Name: Enter a name for the network configuration you are adding to the VM. Settings name is the saved configuration of your network that you want to connect to your VM.IP Address: Enter the IP address in the IP Address field.Subnet Mask: Enter subnet mask IP address in the Subnet Mask field.Default Gateway: Enter the default gateway in the Default Gateway field.Alternative Gateway: Enter the alternative gateway in the Alternative Gateway field.DNS Primary: Under DNS Settings, enter DNS primary in the DNS Primary field.DNS Secondary: Enter DNS secondary in the DNS Secondary field.DNS Tertiary: Enter DNS tertiary in the DNS Tertiary field.Under Connection, If you want to check the log on status after creating the VM, click Check log-in upon create. Select a credential from the Credential drop-down menu for the VM. Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring CredentialSelect address from the Address drop-down menu.You can select either Public IP address or private IP address.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.The SSH connection port is 22, and the Powershell  connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system make after each logon failure.Click Save.Environment details are saved for the project.What to do nextYou can use the environment details while configuring a blueprint for VMware or launching a blueprint.Configuring GCP EnvironmentYou must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable on GCP.Before you beginEnsure that you have configured a project with GCP as a provider. For more information, see Creating a Project.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the Environment > Nutanix tab.Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring Credential.Credentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.As per your requirement, select either Windows or Linux as the operating system for the VM and expand the VM Configuration section.In the VM Configuration panel, enter the name of the instance in the Instance Name field. Select the zone from the Zone drop-down menu.Zone is a physical location where you can host the VM. Select machine type from the Machine Type drop-down menu. The available machine type are based on your zone. A machine type is a set of virtualized hardware resources available to a virtual machine (VM) instance, including the system memory size, virtual CPU (vCPU) count, and persistent disk limits. In Compute Engine, machine types are grouped and curated by families for different workloads. Click + against the Disks to add a disk and do the following. Select the Use existing disk check-box if you want to use an existing disk.Select the type of storage from the Storage Type drop-down menu.The available options are as follows.pd-standard: Use this option if you want to use HDD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.pd-ssd: Use this option if you want to use SSD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.Select the image source from the Source Image drop-down menu.The images available for your selection are based on the selected zone. Enter the size in the Size in GB field.Select Delete when instance is deleted check-box if you want to delete the disk when instance is deleted.Click + against the Blank Disks to add a blank disk and do the following. Select disk type from the Disk Type drop-down menu.Enter the disk name in the Disk Name field.Enter the size in the Size in GB field.Select Delete when instance is deleted check-box if you want to delete the disk when instance is deleted.Click + against the Networking to add network details and do the following. Select network from the Network drop-down menu.Select subnetwork from the Subnetwork drop-down menu.Enter the name of the access configuration in the Access Configuration Name field.Select access configuration type from the Access Configuration Type drop-down menu.In the SSH key pane, upload the ssh key by clicking on the upload icon.Select Block project wide SSH key check-box if you want to block projects wide SSH key usage.Optionally, in the Management pane, do the following.Enter the metadata in the Metadata field.Select security group from the Security Group drop-down menu.Enter tags in the Tags field.In the API access pane, select Default Access or Full Access.In the Connection pane do the following.Select the Check log-in upon create check-box, if you want to check the log in after creation.Select credential from the Credential drop-down menu.Select address from the Address drop-down menu.Select connection type from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH the connection port is 22 and for Powershell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest-customisation script, IP and all other services to come up before invoking the check login script.Click Save.Environment details are saved for the project.What to do nextYou can use the environment details while configuring a blueprint for GCP or launching a blueprint.Configuring Azure EnvironmentYou must configure an Environment as a part of the Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable on Azure.Before you beginEnsure that the following entities are already configured in the Azure account.Resource groupAvailability setNetwork security groupVirtual networkVault certificatesEnsure that you have created a project with Azure as a provider. For more information, see Creating a Project.ProcedureClick Environment > Azure tab.Click Credential +.Enter name of the credential in the Credential Name.Enter username in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select either Password or SSH Private Key.Do one of the following.If you have selected Password, type your password in the Password field.If you have selected SSH Private Key, type or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Click the Use as default check-box to make as default credential.Click Done.Select either Windows OS or Linux OS.In the VM Configuration panel, enter the instance name of the VM in the Instance Name field. This field is pre-populated with macro as suffix to ensure name uniqueness.This name is used as the VM name by the service provider.Select the resource group from the Resource Group drop-down menu.Each resource in Azure must belong to a resource group. A resource group is simply a logical construct that groups multiple resources together to be managed as a single entity. For example, resources that share a similar lifecycle, such as the resources for an n-tier application can be created or deleted as a group.Optionally, select availability set from the Availability Set drop-down menu.An availability set is a logical grouping capability to ensure that the VM resources are isolated from each other to provide High Availability if deployed within an Azure datacenter.Select the geographical location of the datacenter from the Location drop-down menu.Select the hardware profile as per your hardware requirements from the Hardware Profile drop-down menu.The number of data disks and NICs depends upon the selected hardware profile. For information about the sizes of Windows and Linux VMs, see Windows and Linux Documentation. Optionally, under Secrets, enter a unique vault ID in the Vault ID field.These certificates are installed on the VM.Optionally, under Certificates, enter the URL of the configuration certificate in the URL field. The URL of the certificate is uploaded to key vault as a secret.Enter the certificate store for the VM in the Store field. For Windows VMs, specify the certificate store on the virtual machine to which the certificate is added. The specified certificate store is implicitly created in the LocalMachine account.For Linux VMs, the certificate file is placed under the /var/lib/waagent directory with the file name <UppercaseThumbprint>.crt for the X509 certificate file and <UppercaseThumbpring>.prv for private key. Both of these files are .pem formatted.Optionally, select the Provision VM Agent check-box. Indicates whether virtual machine agent should be provisioned on the virtual machine. When this property is not specified in the request body, default behavior is to set it to true. This will ensure that VM Agent is installed on the VM so that extensions can be added to the VM later.This check-box is applicable only for Windows VMs.Optionally, select Auto Updates check-box to indicate VM is enabled for automatic updates. This check-box is applicable only for Windows VMs.Optionally, under Additional Unattended Content, select setting from the Setting Name.You can either select Auto Logon or First Logon Commands.Note: Guest customization is applicable only on images that allows or support guest customization.Enter or upload the xml content. See Sample Auto Logon and First Logon Scripts.Optionally, under WinRM Listeners, select the protocol from the Protocol drop-down menu.You can either select HTTP or HTTPS.Select the certificate URL from the Certificate URL drop-down menu.This field is only applicable when you select HTTPS as a protocol.Under Storage Profile, select the Use Custom Image check-box to use a custom VM image created in your subscription.From the Custom Image drop-down menu, select a custom image or publisher-offer-SKU-version.This field is available only when the Use Custom Image check-box is enabled.Under VM Image Details, select publisher from the Publisher drop-down menu.Select offer from the Offer drop-down menu.Select SKU from the SKU drop-down menu.Select version from the Version drop-down menu.The Use Managed Disks check-box is enabled by default.Note: This check-box cannot be disabled that is, all disks created are managed disks.Managed Disks simplifies disk management by managing the storage accounts associated with the VM disks.Under OS Disk Details, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Select disk create option from the Disk Create Option drop-down menu.You can either select Attach or Empty or From Image.Under Data Disk, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Enter the size in GB in the Size field.Enter disk logical unit number (LUN) in the Disk LUN field.Note: The LUN value should be unique across data disk list.Under Network Profiles, add NICs as per your requirement. For each NIC, select security group from the Security Group drop-down menu.Select virtual network from the Virtual Network drop-down menu.Optionally, under Public IP Config, enter name in the Namefield.Select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.Enter DNS label in the DNS Label field.Under Private IP Config, select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.If you select Static as Allocation Method then enter the private IP address in the Ip Address field.Optionally, enter tags in the Tags field.Under Connection, select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter username in the Username field.Select Secret type from the Secret Type drop-down menu.You can either select Password or SSH Private Key.Do one of the following.If you have selected password, then enter password in the Password field.If you have selected SSH Private Key then enter or upload the SSH Private Key in the SSH Private Key field.Optionally, if the private key is password protected, Click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential to be used as default credential.Click Done.The selected or default credential is used as the default credential for the VM created by Azure.Key based credential is not allowed for Windows VMs.Username and password needs to adhere to Azure's complexity requirements.Select address from the Address drop-down menu.You can either select Public IP address or Private IP address of one of the NICs created above.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH the connection port is 22 and for Powershell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest-customisation script, IP and all other services to come up before invoking the check login script.Click Save.Environment details are saved for the project.What to do nextYou can use the environment details while configuring a blueprint for Azure or launching a blueprint.Modifying a ProjectNutanix Calm allows you to modify the users, infrastructure, and quota details of a saved project. You can also delete an account of a provider in a project. Perform the following procedure to modify an existing project.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the target project that you want to modify.The project details are displayed.Optionally, edit the description of the project in the Description field.To edit the Users, Groups and Roles section, do the following.To add a user, click +User.To remove a user or a group from a saved project, click the cross icon in the Actions field.To edit the name or role of a user or a group, click the pencil icon and update the name or role of the user or group.To edit the Infrastructure section, do the following.To add a provider, select the provider from the Select Provider drop-down menu. For more information, see Managing Infrastructure.To delete an account of a provider, click the delete icon next to the saved provider.For Nutanix provider, if you want to add or remove cluster or subnets, click Select Cluster & Subnets. For more information, see Managing Infrastructure.Note: Before deleting a provider from the project, ensure that the provider is not added in any application or blueprint. If the provider is already added in the applications or blueprints, the delete action cannot be performed and a dialog box displays the association of the provider with the applications or blueprints.For Nutanix provider, before deleting a subnet from a saved cluster, ensure that the subnet is not associated with any application or blueprint.Optionally, in the Quotas section, edit the usage details for the following fields.vCPUsStorageMemoryNote: Quotas section is only applicable for Nutanix provider.Click the Save.The updated project details are saved.Deleting a ProjectPerform the following procedure to delete a project.Before you beginEnsure that the project is not added in any application or blueprint. If the project is already used to create the applications or blueprints, the delete action cannot be performed and a dialog box displays the association of the project with the applications or blueprints.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the check box next to the project that you want to delete.From the Action drop-down menu, select Delete.Calm verifies the association of the project with any application or blueprint. After successful verification, a confirmation message appears.Click Delete.The project is deleted from the Projects tab.", "Heading_Keywords": ["project", "configur"]}, {"Heading": "Creating a Project", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-ssp-project-create-pc-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must configure a project to map the account of a provider and define user roles to access and use Nutanix Calm. Perform the following procedure to create a project.Before you beginEnsure that you have configured the providers that you want to add in to your project. For more information, see Providers Configuration.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the +Create Project button.The Create  page appears. Figure. Create Project PageClick to enlargeIn the General Settings section, configure the following fields.Project Name: Enter a name for the new project.Description (optional): Enter a description of the project.In the Users, Groups and Roles section, do the following. Click the + Users link to add users to the group.A blank row is added with Name, Role, and Actions fields.In the Name field, enter the Active Directory name of a user or a group (typically in the form of name@domain).From the Role drop-down menu, select one of the following roles for the user. Prism AdminProject AdminDeveloperConsumerOperatorFor more information about the type of users and their roles, see Roles and Responsibilities Matrix.If multiple Active Directory domains are configured, you can specify the Active Directory to use by clicking the gear icon next to the + Users link. This displays a Search Directories window. Select the radio button for the Active Directory to use and then click the Save button.Figure. Search Directories WindowClick to enlargeRepeat this step for each user or group that you want to add. Nested groups (groups within a group) are not supported, that is, if a selected group includes a group name (instead an individual name) within that group, the group name is not expanded so those group members are not included in the project.Note: Local users are not supported in a project. You can only add users from your configured directory service.If you add a group to a project, users in the group might not appear in the project members list until they log in.In the Actions field, do one of the following.To save the user role, click Save.To cancel adding the user, click Cancel.Configure and manage the infrastructure for your project. For more details, see Managing Infrastructure.In the Quotas field, enter the usage details for the following fields.vCPUsStorageMemoryA quota specifies a usage limit on an infrastructure resource (compute, memory, or storage) for the project. Project members cannot use more than the specified limit. A quota does not guarantee the project a certain amount of infrastructure resources. Instead, it ensures that a single project or a few projects do not overrun the infrastructure. If the Nutanix cluster runs out of a resource, project members cannot use the resource even if the project has not reached its specified limit. However, if a project requires more resources, you can increase its quota.If you do not specify a quota, you cannot apply usage limit. However, usage statistics are collected even if you do not specify a quota.Note: If the cluster runs out of the assigned resources, the deployment fails, and an error message appears.Quotas are only applicable for AHV clusters.Click Save.The project details are saved.Note: After saving, you cannot edit the saved project details. Click the Environment tab.Environment is mandatory to publish the applications into the marketplace. If you do not define VM configuration while creating a blueprint, you must define the configuration as part of environment. Also, during the application blueprint launch from marketplace, the values are picked from environment.Note: Only one environment for each project is applicable for different marketplace application blueprints having different VM requirements.To configure environment on AHV, see Configuring Nutanix Environment.To configure environment on AWS, see Configuring AWS Environment.To configure environment on VMware, see Configuring VMware Environment.To configure environment on GCP, see Configuring GCP Environment.To configure environment on Azure, see Configuring Azure Environment.Note: For Kubernetes, the Environment  tab is not applicable. To add the project, click the Save button (lower right) to add the project. The page closes and the new project appears in the Projects view list.What to do nextYou can use the created project while configuring a blueprint or launching an application blueprint. Managing InfrastructureInfrastructure defines the type of provider for your project. Perform the following procedure to configure and manage infrastructure details for your project.Managing InfrastructureInfrastructure defines the type of provider for your project. Perform the following procedure to configure and manage infrastructure details for your project.Before you beginEnsure that you have configured the provider in the Settings tab. For more details about configuring a provider, see Providers Configuration .ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the +Create Project button.The Create  page appears. Figure. Create Project PageClick to enlargeIn the Infrastructure pane, do the following.From the Select Provider drop-down menu, select one of the following types of provider for your project.NutanixAWSVMwareGCPAzureNote: For Nutanix provider, you can map one or more AHV clusters to a project and whitelist subnets from the selected clusters. Whitelisting the subnets provides you the flexibility to manage your application workloads across AHV clusters within a blueprint.If you have selected Nutanix as the provider, from the Select Account drop-down, select the account of the remote PC and do the following.Click Select Clusters & Subnets.Select Subnets page is displayed.From the Select the clusters and subnets drop-down menu, select the clusters you want to add to your project.Click the check-box against the subnets you want to add in your project. To save the details, click Save.Note: You can select one or more AHV clusters in the cluster selection field. Subnets list is refreshed for each cluster added or removed from the cluster list. You can whitelist one or more subnets. When you configure a blueprint, only the whitelisted networks and clusters appear for the user to select during network configuration. If the network selection is a runtime attribute, only the whitelisted networks and clusters are available to update while launching a blueprint. When you remove a cluster from the Select Subnets page, the cluster is not deleted from the project. The Select Subnets page is only used for whitelisting subnets.When you add a subnet during blueprint creation, the cluster details are displayed.If you have selected any other provider other than Nutanix, from the Select Account drop-down menu, select the account.An account is the name you have configured for your provider. All the configured accounts are available for your selection from the Select Account drop-down menu.You can add multiple providers into your project.Click Save.The infrastructure details are saved for your project.", "Heading_Keywords": ["creat", "project"]}, {"Heading": "Managing Infrastructure", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-managing-infrastructure-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Infrastructure defines the type of provider for your project. Perform the following procedure to configure and manage infrastructure details for your project.Before you beginEnsure that you have configured the provider in the Settings tab. For more details about configuring a provider, see Providers Configuration .ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the +Create Project button.The Create  page appears. Figure. Create Project PageClick to enlargeIn the Infrastructure pane, do the following.From the Select Provider drop-down menu, select one of the following types of provider for your project.NutanixAWSVMwareGCPAzureNote: For Nutanix provider, you can map one or more AHV clusters to a project and whitelist subnets from the selected clusters. Whitelisting the subnets provides you the flexibility to manage your application workloads across AHV clusters within a blueprint.If you have selected Nutanix as the provider, from the Select Account drop-down, select the account of the remote PC and do the following.Click Select Clusters & Subnets.Select Subnets page is displayed.From the Select the clusters and subnets drop-down menu, select the clusters you want to add to your project.Click the check-box against the subnets you want to add in your project. To save the details, click Save.Note: You can select one or more AHV clusters in the cluster selection field. Subnets list is refreshed for each cluster added or removed from the cluster list. You can whitelist one or more subnets. When you configure a blueprint, only the whitelisted networks and clusters appear for the user to select during network configuration. If the network selection is a runtime attribute, only the whitelisted networks and clusters are available to update while launching a blueprint. When you remove a cluster from the Select Subnets page, the cluster is not deleted from the project. The Select Subnets page is only used for whitelisting subnets.When you add a subnet during blueprint creation, the cluster details are displayed.If you have selected any other provider other than Nutanix, from the Select Account drop-down menu, select the account.An account is the name you have configured for your provider. All the configured accounts are available for your selection from the Select Account drop-down menu.You can add multiple providers into your project.Click Save.The infrastructure details are saved for your project.", "Heading_Keywords": ["manag", "infrastructur"]}, {"Heading": "Configuring Environments", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-configuring-environments-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You can also configure environment as a part of Project creation. You can configure the substrate or VM details in the environment tab. After you have configured environment for a project, you can use the configured details while creating a blueprint or launching an application from marketplace. To know more about Environment configuration, see Configuring Environments.To refer to the video about configuring environment, click here.Note: Environment is not supported for Kubernetes.Configuring Nutanix EnvironmentYou must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable for Nutanix.Configuring AWS EnvironmentYou must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable on AWS.Configuring VMware EnvironmentYou must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable for VMware.Configuring GCP EnvironmentYou must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable on GCP.Configuring Azure EnvironmentYou must configure an Environment as a part of the Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable on Azure.Configuring Nutanix EnvironmentYou must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable for Nutanix.Before you beginEnsure that you have configured a project with Nutanix as a provider. For more information, see Creating a Project.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the Environment > Nutanix tab.Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring Credential.Credentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.As per your requirement, select either Windows or Linux as the operating system for the VM and expand the VM Configuration section.In the VM Configuration section, enter a name of the VM in the VM Name field. You can use Calm macros to provide a unique name to the VM. For example, vm-@@{calm_array_index}@@-@@{calm_time}@@.To configure the processing unit of the VM, enter the number of vCPU, cores of each vCPU, and total memory in GB of the VM in the vCPU, cores per vCPU, and Memory (GiB) fields respectively.Optionally, if you want to customize the default OS properties of the VM, select the Guest Customization check-box and do the following.Guest customization allows you to modify the properties of the OS of the VM. You can prevent conflicts that might result if you deploy virtual machines with identical settings, such as duplicate VM names or same SID. You can change the computer name or network settings by using a custom script.Select either CloudInIt or SysPrep type and enter the script in the Script panel.Note: Select Cloudinit for Linux and Sysprep for Windows. For Sysprep, you must use double back slash for all escape characters . For example, \\\\v.You can also upload the script by clicking the upload icon.To add a virtual disk to the VM, click the + icon next to the DISKS section and do the following.Select the device for the image from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either SCSI, IDE, PCI or SATA.From the Operations drop-down menu, select one of the following. Allocate on Storage Container: Select this option if you want to allocate the disk memory from the storage container.Clone from Image Service: Select this option if you want to clone a image from the disk.All the images that are uploaded to the Prism Central are available for selection. For more information about image configuration, see Image Management section in the Prism Central guide.If you have selected Allocate on Storage Container, enter the disk size in GB in the Size (GiB) field.If you have selected Clone from Image Service, select the image you want to add to the disk.Select the Bootable check-box against the image which you want to use to boot up the VM. Note: You can add more than one disk and select the disk with which you want to boot up the VM.Under Boot Configuration, select one of the following firmwares to boot the VM.Legacy BIOS: Select legacy BIOS to boot the VM with legacy BIOS firmware.UEFI: Select UEFI to boot the VM with UEFI firmware. UEFI firmware supports larger hard drives, faster boot time, and provides more security features.Select the vGPU from the VGPUS drop-down menu.This field is applicable after you have configured vGPU in the cluster.Select categories from the Categories drop-down menu.Note: Categories field allows you to tag your VM to a defined category in the Prism Central. Categories drop-down menu is available only for Nutanix. Based on the Prism Central configuration, the drop-down options are available.To add a network adapter, click the + icon next to the Network Adapters (NICS) field.The NIC drop-down options are available based on the cluster configuration.Note: If you have whitelisted the subnets during project creation, the whitelisted subnets are available for your selection. The cluster details are also displayed based on the selected subnets.Under Connection, If you want to check the log on status after creating the VM, click Check log-in upon create. Select a credential from the Credential drop-down menu for the VM. Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring CredentialSelect the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.Click Save.Environment details are saved for the project.What to do nextYou can use the environment details while configuring a blueprint for Nutanix or launching a blueprint.Configuring CredentialCredentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.Configuring CredentialCredentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.ProcedureClick Credential + and do the following.Enter a name of the credential in the Credential Name field.Enter a username in the Username field.Select secret type from the Secret Type drop-down menu.You can either select Password or SSH Private Key.Do one of the following.If you have selected password, then enter password in the Password field.If you have selected SSH Private Key, then enter or upload the SSH Private Key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box to use the credential as your default credential.Click Done.Configuring AWS EnvironmentYou must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable on AWS.Before you beginEnsure that you have configured a project with AWS as a provider. For more information, see Creating a Project.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the Environment > AWS tab.Optionally, to add a credential for the AWS environment, click Credential + and configure the credential. For more information, see Configuring Credential.Credentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.As per your requirement, select either Windows or Linux as the operating system for the VM and expand the VM Configuration section.In the VM Configuration panel, enter the name of the instance in the Instance Name field. This name will be used as VM name on the AWS.Select the Associate Public IP Address check-box to associate a public IP address with your AWS instance. Note: If the Associate Public IP Address is unselected, ensure that the AWS account and Calm are on the same network for the scripts to run.Select an AWS instance type from the Instance Type drop-down menu.Instance types comprise varying combinations of CPU, memory, storage, and networking capacity and give you the flexibility to choose the appropriate mix of resources for your applications. Each instance type includes one or more instance sizes, allowing you to scale your resources to the requirements of your target workload.The drop-down menu displays the instances that are available in the AWS account. For more information, see AWS documentation.Select the region from the Region drop-down menu and the configuring the following.Note: The drop-down menu displays the regions which are selected while configuring the AWS setting. Select the availability zone from the Availability Zone drop-down menu.An Availability Zone is one or more discrete data centers with redundant power, networking, and connectivity in an AWS region. Availability Zones allow you to operate production applications and databases that are more highly available, fault tolerant, and scalable than would be possible from a single data center.Select the machine image from the Machine Image  drop-down menu.An Amazon Machine Image is a special type of virtual appliance that is used to create a virtual machine within the Amazon Elastic Compute Cloud. It serves as the basic unit of deployment for services delivered using EC2.Select the IAM role from the IAM Role drop-down menu.An IAM role is an AWS Identity and Access Management entity with permissions to make AWS service requests.Select the key pairs from the Key Pairs  drop-down menu.A key pair (consisting of a private key and a public key) is a set of security credentials that you use to prove your identity when connecting to an instance.Select the VPC from the VPC  drop-down menu.Amazon Virtual Private Cloud (Amazon VPC) allows you to provision a logically isolated section of the AWS cloud where you can launch AWS resources in your defined virtual network.Enter the AWS tags in the AWS Tags field.AWS tags are key and value pair to manage, identify, organize, search for, and filter resources. You can create tags to categorize resources by purpose, owner, environment, or other criteria.Under the Storage section, configure the following to boot the AWS instance with the selected image.In the Device field, select the device to boot the AWS instance. The available options are based on the image you have selected.In the Size(GiB) field, enter the required size for the bootable device.In the Volume Type drop-down menu, select the volume type. You can select either General Purpose SSD, Provisioned IOPS SSD, and EBS Magnetic HDD.For more information on the volume types, see AWS documentation.Optionally, select the Delete on termination check-box to delete the storage when the instance is terminated.You can also add more secondary storages by clicking the + icon next to the Storage section.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create.Under Connection, If you want to check the log on status after creating the VM, click Check log-in upon create. Select a credential from the Credential drop-down menu for the VM. Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring CredentialSelect the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.Click Save.Environment details are saved for the project.What to do nextYou can use the environment details while configuring a blueprint for AWS or launching a blueprint.Configuring VMware EnvironmentYou must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable for VMware.Before you beginEnsure that you have configured a project with VMware as a provider. For more information, see Creating a Project.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click Environment > VMware tab.Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring Credential.Credentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.As per your requirement, select either Windows or Linux as the operating system for the VM and expand the VM Configuration section.In the VM Configuration panel, select the host from the Hostdrop-down menu. A host is a computer that runs virtual machines and provides CPU and memory resources, access to storage, and network connectivity.Note: This opOptionally, click the DRS Mode check-box to enable load sharing and automatic VM placement.DRS (Distributed Resource Scheduler) is a utility that balances computing workloads with available resources in a virtualized environment. For more information about DRS mode, see the VMware documentation. Select the cluster where you want to host your VM from the Cluster drop-down menu.Note: This field is applicable only after you disable Compute DRS Mode.Select the host name of the VM from the Host drop-down menu.Select template from the Template drop-down menu.The VM template retrieves the drop-down options either from the configured vCenter or from the configured downloadable image configuration.Note: Install the VMware tools on the Windows templates. For Linux VMs, install open-vm-tools or VMware-tools and configure the vmtoolsd service for automatic start-up.Support for open-vm-tools version 10.1.10.63510 and above is available. When using open-vm-tools, install Perl for the template.Do not use SysPrepped as the Windows template image.If you select a template that has unsupported version of VMware tools, then a warning appears stating VMware tool or version is unsupported and could lead to VM issues.You can also edit the NIC type when you use a template.Enter values for vCPUs,Cores per vCPU , and Memory fields for the VM.Under Controller, click + to add the type of controller.You can select either SCSI or SATA controller.Note: You can add up to four SCSI and four SATA controllers. Under vDisk, click + to add vDisk.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the adapter type from the Adapter Type drop-down menu.You can select IDE for CD-ROM.You can select either SCSI, IDE, or SATA for Disk.Enter the size of the disk in GiB.In the Location field, select the disk location.If you want to add a controller to the vDisk, in the Controller drop-down menu, select the type of controller to attach the disk.Note: You can add either SCSI or SATA controllers. The available controllers for selection is dependent on the Adapter Type.In the Disk mode drop-down menu, select the type of the disk mode.The available options are as follows.Dependent: Dependent disk mode is the default disk mode for the vDisk.Independent - Persistent: Disks in independent persistent mode behave like conventional disks. All data written to a disk in persistent mode are written permanently to the disk.Independent - Nonpersistent: Changes to disks in independent nonpersistent mode are discarded when you power off or reset the virtual machine. With the nonpersistent mode, you can restart the virtual machine with a virtual disk in the same state every time. Changes to the disk are written to and read from a redo log file that is deleted when you power off or reset.In the Device slot drop-down menu, select the slot to attach the disk.Optionally, if you want to customize the default OS properties of the VM, in the VM guest customization pane, do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Click the Enable check-box if you want to use guest customization.From the Predefined Guest Customization drop-down menu, select the available guest customization.If you do not have any predefined customization available, select a type of customization.The available options are Cloud-init and Custom Specs.If you have selected Cloud-init, enter the script in the Script field.You can also upload the script by clicking the upload icon.If you have selected Custom specs, configure the network details for the VM:Hostname: Enter the hostname for the VM in the Hostname field. Domain: Enter the domain name in the Domain field that you want to assign to the VM.Timezone: Select timezone for the VM from the Timezone drop-down menu.Hardware clock UTC: Select Hardware clock UTC check-box to enable hardware clock UTC.+ Network Setting: To add a network configuration for the VM, click + Network Setting.DHCP: To automatically configure DHCP server, enable the DHCP check-box and skip to DNS setting.Setting Name: Enter a name for the network configuration you are adding to the VM. Settings name is the saved configuration of your network that you want to connect to your VM.IP Address: Enter the IP address in the IP Address field.Subnet Mask: Enter subnet mask IP address in the Subnet Mask field.Default Gateway: Enter the default gateway in the Default Gateway field.Alternative Gateway: Enter the alternative gateway in the Alternative Gateway field.DNS Primary: Under DNS Settings, enter DNS primary in the DNS Primary field.DNS Secondary: Enter DNS secondary in the DNS Secondary field.DNS Tertiary: Enter DNS tertiary in the DNS Tertiary field.Under Connection, If you want to check the log on status after creating the VM, click Check log-in upon create. Select a credential from the Credential drop-down menu for the VM. Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring CredentialSelect address from the Address drop-down menu.You can select either Public IP address or private IP address.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.The SSH connection port is 22, and the Powershell  connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system make after each logon failure.Click Save.Environment details are saved for the project.What to do nextYou can use the environment details while configuring a blueprint for VMware or launching a blueprint.Configuring GCP EnvironmentYou must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable on GCP.Before you beginEnsure that you have configured a project with GCP as a provider. For more information, see Creating a Project.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the Environment > Nutanix tab.Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring Credential.Credentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.As per your requirement, select either Windows or Linux as the operating system for the VM and expand the VM Configuration section.In the VM Configuration panel, enter the name of the instance in the Instance Name field. Select the zone from the Zone drop-down menu.Zone is a physical location where you can host the VM. Select machine type from the Machine Type drop-down menu. The available machine type are based on your zone. A machine type is a set of virtualized hardware resources available to a virtual machine (VM) instance, including the system memory size, virtual CPU (vCPU) count, and persistent disk limits. In Compute Engine, machine types are grouped and curated by families for different workloads. Click + against the Disks to add a disk and do the following. Select the Use existing disk check-box if you want to use an existing disk.Select the type of storage from the Storage Type drop-down menu.The available options are as follows.pd-standard: Use this option if you want to use HDD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.pd-ssd: Use this option if you want to use SSD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.Select the image source from the Source Image drop-down menu.The images available for your selection are based on the selected zone. Enter the size in the Size in GB field.Select Delete when instance is deleted check-box if you want to delete the disk when instance is deleted.Click + against the Blank Disks to add a blank disk and do the following. Select disk type from the Disk Type drop-down menu.Enter the disk name in the Disk Name field.Enter the size in the Size in GB field.Select Delete when instance is deleted check-box if you want to delete the disk when instance is deleted.Click + against the Networking to add network details and do the following. Select network from the Network drop-down menu.Select subnetwork from the Subnetwork drop-down menu.Enter the name of the access configuration in the Access Configuration Name field.Select access configuration type from the Access Configuration Type drop-down menu.In the SSH key pane, upload the ssh key by clicking on the upload icon.Select Block project wide SSH key check-box if you want to block projects wide SSH key usage.Optionally, in the Management pane, do the following.Enter the metadata in the Metadata field.Select security group from the Security Group drop-down menu.Enter tags in the Tags field.In the API access pane, select Default Access or Full Access.In the Connection pane do the following.Select the Check log-in upon create check-box, if you want to check the log in after creation.Select credential from the Credential drop-down menu.Select address from the Address drop-down menu.Select connection type from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH the connection port is 22 and for Powershell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest-customisation script, IP and all other services to come up before invoking the check login script.Click Save.Environment details are saved for the project.What to do nextYou can use the environment details while configuring a blueprint for GCP or launching a blueprint.Configuring Azure EnvironmentYou must configure an Environment as a part of the Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable on Azure.Before you beginEnsure that the following entities are already configured in the Azure account.Resource groupAvailability setNetwork security groupVirtual networkVault certificatesEnsure that you have created a project with Azure as a provider. For more information, see Creating a Project.ProcedureClick Environment > Azure tab.Click Credential +.Enter name of the credential in the Credential Name.Enter username in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select either Password or SSH Private Key.Do one of the following.If you have selected Password, type your password in the Password field.If you have selected SSH Private Key, type or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Click the Use as default check-box to make as default credential.Click Done.Select either Windows OS or Linux OS.In the VM Configuration panel, enter the instance name of the VM in the Instance Name field. This field is pre-populated with macro as suffix to ensure name uniqueness.This name is used as the VM name by the service provider.Select the resource group from the Resource Group drop-down menu.Each resource in Azure must belong to a resource group. A resource group is simply a logical construct that groups multiple resources together to be managed as a single entity. For example, resources that share a similar lifecycle, such as the resources for an n-tier application can be created or deleted as a group.Optionally, select availability set from the Availability Set drop-down menu.An availability set is a logical grouping capability to ensure that the VM resources are isolated from each other to provide High Availability if deployed within an Azure datacenter.Select the geographical location of the datacenter from the Location drop-down menu.Select the hardware profile as per your hardware requirements from the Hardware Profile drop-down menu.The number of data disks and NICs depends upon the selected hardware profile. For information about the sizes of Windows and Linux VMs, see Windows and Linux Documentation. Optionally, under Secrets, enter a unique vault ID in the Vault ID field.These certificates are installed on the VM.Optionally, under Certificates, enter the URL of the configuration certificate in the URL field. The URL of the certificate is uploaded to key vault as a secret.Enter the certificate store for the VM in the Store field. For Windows VMs, specify the certificate store on the virtual machine to which the certificate is added. The specified certificate store is implicitly created in the LocalMachine account.For Linux VMs, the certificate file is placed under the /var/lib/waagent directory with the file name <UppercaseThumbprint>.crt for the X509 certificate file and <UppercaseThumbpring>.prv for private key. Both of these files are .pem formatted.Optionally, select the Provision VM Agent check-box. Indicates whether virtual machine agent should be provisioned on the virtual machine. When this property is not specified in the request body, default behavior is to set it to true. This will ensure that VM Agent is installed on the VM so that extensions can be added to the VM later.This check-box is applicable only for Windows VMs.Optionally, select Auto Updates check-box to indicate VM is enabled for automatic updates. This check-box is applicable only for Windows VMs.Optionally, under Additional Unattended Content, select setting from the Setting Name.You can either select Auto Logon or First Logon Commands.Note: Guest customization is applicable only on images that allows or support guest customization.Enter or upload the xml content. See Sample Auto Logon and First Logon Scripts.Optionally, under WinRM Listeners, select the protocol from the Protocol drop-down menu.You can either select HTTP or HTTPS.Select the certificate URL from the Certificate URL drop-down menu.This field is only applicable when you select HTTPS as a protocol.Under Storage Profile, select the Use Custom Image check-box to use a custom VM image created in your subscription.From the Custom Image drop-down menu, select a custom image or publisher-offer-SKU-version.This field is available only when the Use Custom Image check-box is enabled.Under VM Image Details, select publisher from the Publisher drop-down menu.Select offer from the Offer drop-down menu.Select SKU from the SKU drop-down menu.Select version from the Version drop-down menu.The Use Managed Disks check-box is enabled by default.Note: This check-box cannot be disabled that is, all disks created are managed disks.Managed Disks simplifies disk management by managing the storage accounts associated with the VM disks.Under OS Disk Details, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Select disk create option from the Disk Create Option drop-down menu.You can either select Attach or Empty or From Image.Under Data Disk, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Enter the size in GB in the Size field.Enter disk logical unit number (LUN) in the Disk LUN field.Note: The LUN value should be unique across data disk list.Under Network Profiles, add NICs as per your requirement. For each NIC, select security group from the Security Group drop-down menu.Select virtual network from the Virtual Network drop-down menu.Optionally, under Public IP Config, enter name in the Namefield.Select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.Enter DNS label in the DNS Label field.Under Private IP Config, select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.If you select Static as Allocation Method then enter the private IP address in the Ip Address field.Optionally, enter tags in the Tags field.Under Connection, select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter username in the Username field.Select Secret type from the Secret Type drop-down menu.You can either select Password or SSH Private Key.Do one of the following.If you have selected password, then enter password in the Password field.If you have selected SSH Private Key then enter or upload the SSH Private Key in the SSH Private Key field.Optionally, if the private key is password protected, Click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential to be used as default credential.Click Done.The selected or default credential is used as the default credential for the VM created by Azure.Key based credential is not allowed for Windows VMs.Username and password needs to adhere to Azure's complexity requirements.Select address from the Address drop-down menu.You can either select Public IP address or Private IP address of one of the NICs created above.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH the connection port is 22 and for Powershell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest-customisation script, IP and all other services to come up before invoking the check login script.Click Save.Environment details are saved for the project.What to do nextYou can use the environment details while configuring a blueprint for Azure or launching a blueprint.", "Heading_Keywords": ["configur", "environ"]}, {"Heading": "Configuring Nutanix Environment", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-projects-ahv-environment-configuration-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable for Nutanix.Before you beginEnsure that you have configured a project with Nutanix as a provider. For more information, see Creating a Project.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the Environment > Nutanix tab.Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring Credential.Credentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.As per your requirement, select either Windows or Linux as the operating system for the VM and expand the VM Configuration section.In the VM Configuration section, enter a name of the VM in the VM Name field. You can use Calm macros to provide a unique name to the VM. For example, vm-@@{calm_array_index}@@-@@{calm_time}@@.To configure the processing unit of the VM, enter the number of vCPU, cores of each vCPU, and total memory in GB of the VM in the vCPU, cores per vCPU, and Memory (GiB) fields respectively.Optionally, if you want to customize the default OS properties of the VM, select the Guest Customization check-box and do the following.Guest customization allows you to modify the properties of the OS of the VM. You can prevent conflicts that might result if you deploy virtual machines with identical settings, such as duplicate VM names or same SID. You can change the computer name or network settings by using a custom script.Select either CloudInIt or SysPrep type and enter the script in the Script panel.Note: Select Cloudinit for Linux and Sysprep for Windows. For Sysprep, you must use double back slash for all escape characters . For example, \\\\v.You can also upload the script by clicking the upload icon.To add a virtual disk to the VM, click the + icon next to the DISKS section and do the following.Select the device for the image from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either SCSI, IDE, PCI or SATA.From the Operations drop-down menu, select one of the following. Allocate on Storage Container: Select this option if you want to allocate the disk memory from the storage container.Clone from Image Service: Select this option if you want to clone a image from the disk.All the images that are uploaded to the Prism Central are available for selection. For more information about image configuration, see Image Management section in the Prism Central guide.If you have selected Allocate on Storage Container, enter the disk size in GB in the Size (GiB) field.If you have selected Clone from Image Service, select the image you want to add to the disk.Select the Bootable check-box against the image which you want to use to boot up the VM. Note: You can add more than one disk and select the disk with which you want to boot up the VM.Under Boot Configuration, select one of the following firmwares to boot the VM.Legacy BIOS: Select legacy BIOS to boot the VM with legacy BIOS firmware.UEFI: Select UEFI to boot the VM with UEFI firmware. UEFI firmware supports larger hard drives, faster boot time, and provides more security features.Select the vGPU from the VGPUS drop-down menu.This field is applicable after you have configured vGPU in the cluster.Select categories from the Categories drop-down menu.Note: Categories field allows you to tag your VM to a defined category in the Prism Central. Categories drop-down menu is available only for Nutanix. Based on the Prism Central configuration, the drop-down options are available.To add a network adapter, click the + icon next to the Network Adapters (NICS) field.The NIC drop-down options are available based on the cluster configuration.Note: If you have whitelisted the subnets during project creation, the whitelisted subnets are available for your selection. The cluster details are also displayed based on the selected subnets.Under Connection, If you want to check the log on status after creating the VM, click Check log-in upon create. Select a credential from the Credential drop-down menu for the VM. Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring CredentialSelect the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.Click Save.Environment details are saved for the project.What to do nextYou can use the environment details while configuring a blueprint for Nutanix or launching a blueprint.Configuring CredentialCredentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.Configuring CredentialCredentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.ProcedureClick Credential + and do the following.Enter a name of the credential in the Credential Name field.Enter a username in the Username field.Select secret type from the Secret Type drop-down menu.You can either select Password or SSH Private Key.Do one of the following.If you have selected password, then enter password in the Password field.If you have selected SSH Private Key, then enter or upload the SSH Private Key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box to use the credential as your default credential.Click Done.", "Heading_Keywords": ["configur", "nutanix", "environ"]}, {"Heading": "Configuring AWS Environment", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-projects-aws-environment-configuration-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable on AWS.Before you beginEnsure that you have configured a project with AWS as a provider. For more information, see Creating a Project.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the Environment > AWS tab.Optionally, to add a credential for the AWS environment, click Credential + and configure the credential. For more information, see Configuring Credential.Credentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.As per your requirement, select either Windows or Linux as the operating system for the VM and expand the VM Configuration section.In the VM Configuration panel, enter the name of the instance in the Instance Name field. This name will be used as VM name on the AWS.Select the Associate Public IP Address check-box to associate a public IP address with your AWS instance. Note: If the Associate Public IP Address is unselected, ensure that the AWS account and Calm are on the same network for the scripts to run.Select an AWS instance type from the Instance Type drop-down menu.Instance types comprise varying combinations of CPU, memory, storage, and networking capacity and give you the flexibility to choose the appropriate mix of resources for your applications. Each instance type includes one or more instance sizes, allowing you to scale your resources to the requirements of your target workload.The drop-down menu displays the instances that are available in the AWS account. For more information, see AWS documentation.Select the region from the Region drop-down menu and the configuring the following.Note: The drop-down menu displays the regions which are selected while configuring the AWS setting. Select the availability zone from the Availability Zone drop-down menu.An Availability Zone is one or more discrete data centers with redundant power, networking, and connectivity in an AWS region. Availability Zones allow you to operate production applications and databases that are more highly available, fault tolerant, and scalable than would be possible from a single data center.Select the machine image from the Machine Image  drop-down menu.An Amazon Machine Image is a special type of virtual appliance that is used to create a virtual machine within the Amazon Elastic Compute Cloud. It serves as the basic unit of deployment for services delivered using EC2.Select the IAM role from the IAM Role drop-down menu.An IAM role is an AWS Identity and Access Management entity with permissions to make AWS service requests.Select the key pairs from the Key Pairs  drop-down menu.A key pair (consisting of a private key and a public key) is a set of security credentials that you use to prove your identity when connecting to an instance.Select the VPC from the VPC  drop-down menu.Amazon Virtual Private Cloud (Amazon VPC) allows you to provision a logically isolated section of the AWS cloud where you can launch AWS resources in your defined virtual network.Enter the AWS tags in the AWS Tags field.AWS tags are key and value pair to manage, identify, organize, search for, and filter resources. You can create tags to categorize resources by purpose, owner, environment, or other criteria.Under the Storage section, configure the following to boot the AWS instance with the selected image.In the Device field, select the device to boot the AWS instance. The available options are based on the image you have selected.In the Size(GiB) field, enter the required size for the bootable device.In the Volume Type drop-down menu, select the volume type. You can select either General Purpose SSD, Provisioned IOPS SSD, and EBS Magnetic HDD.For more information on the volume types, see AWS documentation.Optionally, select the Delete on termination check-box to delete the storage when the instance is terminated.You can also add more secondary storages by clicking the + icon next to the Storage section.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create.Under Connection, If you want to check the log on status after creating the VM, click Check log-in upon create. Select a credential from the Credential drop-down menu for the VM. Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring CredentialSelect the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.Click Save.Environment details are saved for the project.What to do nextYou can use the environment details while configuring a blueprint for AWS or launching a blueprint.", "Heading_Keywords": ["configur", "aw", "environ"]}, {"Heading": "Configuring VMware Environment", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-projects-vmware-environment-configuration-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable for VMware.Before you beginEnsure that you have configured a project with VMware as a provider. For more information, see Creating a Project.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click Environment > VMware tab.Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring Credential.Credentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.As per your requirement, select either Windows or Linux as the operating system for the VM and expand the VM Configuration section.In the VM Configuration panel, select the host from the Hostdrop-down menu. A host is a computer that runs virtual machines and provides CPU and memory resources, access to storage, and network connectivity.Note: This opOptionally, click the DRS Mode check-box to enable load sharing and automatic VM placement.DRS (Distributed Resource Scheduler) is a utility that balances computing workloads with available resources in a virtualized environment. For more information about DRS mode, see the VMware documentation. Select the cluster where you want to host your VM from the Cluster drop-down menu.Note: This field is applicable only after you disable Compute DRS Mode.Select the host name of the VM from the Host drop-down menu.Select template from the Template drop-down menu.The VM template retrieves the drop-down options either from the configured vCenter or from the configured downloadable image configuration.Note: Install the VMware tools on the Windows templates. For Linux VMs, install open-vm-tools or VMware-tools and configure the vmtoolsd service for automatic start-up.Support for open-vm-tools version 10.1.10.63510 and above is available. When using open-vm-tools, install Perl for the template.Do not use SysPrepped as the Windows template image.If you select a template that has unsupported version of VMware tools, then a warning appears stating VMware tool or version is unsupported and could lead to VM issues.You can also edit the NIC type when you use a template.Enter values for vCPUs,Cores per vCPU , and Memory fields for the VM.Under Controller, click + to add the type of controller.You can select either SCSI or SATA controller.Note: You can add up to four SCSI and four SATA controllers. Under vDisk, click + to add vDisk.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the adapter type from the Adapter Type drop-down menu.You can select IDE for CD-ROM.You can select either SCSI, IDE, or SATA for Disk.Enter the size of the disk in GiB.In the Location field, select the disk location.If you want to add a controller to the vDisk, in the Controller drop-down menu, select the type of controller to attach the disk.Note: You can add either SCSI or SATA controllers. The available controllers for selection is dependent on the Adapter Type.In the Disk mode drop-down menu, select the type of the disk mode.The available options are as follows.Dependent: Dependent disk mode is the default disk mode for the vDisk.Independent - Persistent: Disks in independent persistent mode behave like conventional disks. All data written to a disk in persistent mode are written permanently to the disk.Independent - Nonpersistent: Changes to disks in independent nonpersistent mode are discarded when you power off or reset the virtual machine. With the nonpersistent mode, you can restart the virtual machine with a virtual disk in the same state every time. Changes to the disk are written to and read from a redo log file that is deleted when you power off or reset.In the Device slot drop-down menu, select the slot to attach the disk.Optionally, if you want to customize the default OS properties of the VM, in the VM guest customization pane, do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Click the Enable check-box if you want to use guest customization.From the Predefined Guest Customization drop-down menu, select the available guest customization.If you do not have any predefined customization available, select a type of customization.The available options are Cloud-init and Custom Specs.If you have selected Cloud-init, enter the script in the Script field.You can also upload the script by clicking the upload icon.If you have selected Custom specs, configure the network details for the VM:Hostname: Enter the hostname for the VM in the Hostname field. Domain: Enter the domain name in the Domain field that you want to assign to the VM.Timezone: Select timezone for the VM from the Timezone drop-down menu.Hardware clock UTC: Select Hardware clock UTC check-box to enable hardware clock UTC.+ Network Setting: To add a network configuration for the VM, click + Network Setting.DHCP: To automatically configure DHCP server, enable the DHCP check-box and skip to DNS setting.Setting Name: Enter a name for the network configuration you are adding to the VM. Settings name is the saved configuration of your network that you want to connect to your VM.IP Address: Enter the IP address in the IP Address field.Subnet Mask: Enter subnet mask IP address in the Subnet Mask field.Default Gateway: Enter the default gateway in the Default Gateway field.Alternative Gateway: Enter the alternative gateway in the Alternative Gateway field.DNS Primary: Under DNS Settings, enter DNS primary in the DNS Primary field.DNS Secondary: Enter DNS secondary in the DNS Secondary field.DNS Tertiary: Enter DNS tertiary in the DNS Tertiary field.Under Connection, If you want to check the log on status after creating the VM, click Check log-in upon create. Select a credential from the Credential drop-down menu for the VM. Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring CredentialSelect address from the Address drop-down menu.You can select either Public IP address or private IP address.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.The SSH connection port is 22, and the Powershell  connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system make after each logon failure.Click Save.Environment details are saved for the project.What to do nextYou can use the environment details while configuring a blueprint for VMware or launching a blueprint.", "Heading_Keywords": ["configur", "vmware", "environ"]}, {"Heading": "Configuring GCP Environment", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-projects-gcp-environment-configuration-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must configure an Environment as a part of Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable on GCP.Before you beginEnsure that you have configured a project with GCP as a provider. For more information, see Creating a Project.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the Environment > Nutanix tab.Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring Credential.Credentials are used to authenticate a user to access various services in Calm. Calm supports key-based and password-based authentication method. Perform the following procedure to configure credential in Calm.As per your requirement, select either Windows or Linux as the operating system for the VM and expand the VM Configuration section.In the VM Configuration panel, enter the name of the instance in the Instance Name field. Select the zone from the Zone drop-down menu.Zone is a physical location where you can host the VM. Select machine type from the Machine Type drop-down menu. The available machine type are based on your zone. A machine type is a set of virtualized hardware resources available to a virtual machine (VM) instance, including the system memory size, virtual CPU (vCPU) count, and persistent disk limits. In Compute Engine, machine types are grouped and curated by families for different workloads. Click + against the Disks to add a disk and do the following. Select the Use existing disk check-box if you want to use an existing disk.Select the type of storage from the Storage Type drop-down menu.The available options are as follows.pd-standard: Use this option if you want to use HDD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.pd-ssd: Use this option if you want to use SSD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.Select the image source from the Source Image drop-down menu.The images available for your selection are based on the selected zone. Enter the size in the Size in GB field.Select Delete when instance is deleted check-box if you want to delete the disk when instance is deleted.Click + against the Blank Disks to add a blank disk and do the following. Select disk type from the Disk Type drop-down menu.Enter the disk name in the Disk Name field.Enter the size in the Size in GB field.Select Delete when instance is deleted check-box if you want to delete the disk when instance is deleted.Click + against the Networking to add network details and do the following. Select network from the Network drop-down menu.Select subnetwork from the Subnetwork drop-down menu.Enter the name of the access configuration in the Access Configuration Name field.Select access configuration type from the Access Configuration Type drop-down menu.In the SSH key pane, upload the ssh key by clicking on the upload icon.Select Block project wide SSH key check-box if you want to block projects wide SSH key usage.Optionally, in the Management pane, do the following.Enter the metadata in the Metadata field.Select security group from the Security Group drop-down menu.Enter tags in the Tags field.In the API access pane, select Default Access or Full Access.In the Connection pane do the following.Select the Check log-in upon create check-box, if you want to check the log in after creation.Select credential from the Credential drop-down menu.Select address from the Address drop-down menu.Select connection type from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH the connection port is 22 and for Powershell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest-customisation script, IP and all other services to come up before invoking the check login script.Click Save.Environment details are saved for the project.What to do nextYou can use the environment details while configuring a blueprint for GCP or launching a blueprint.", "Heading_Keywords": ["configur", "gcp", "environ"]}, {"Heading": "Configuring Azure Environment", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-projects-azure-environment-configuration-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must configure an Environment as a part of the Project creation to launch marketplace application blueprints. Perform the following procedure to configure environment variable on Azure.Before you beginEnsure that the following entities are already configured in the Azure account.Resource groupAvailability setNetwork security groupVirtual networkVault certificatesEnsure that you have created a project with Azure as a provider. For more information, see Creating a Project.ProcedureClick Environment > Azure tab.Click Credential +.Enter name of the credential in the Credential Name.Enter username in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select either Password or SSH Private Key.Do one of the following.If you have selected Password, type your password in the Password field.If you have selected SSH Private Key, type or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Click the Use as default check-box to make as default credential.Click Done.Select either Windows OS or Linux OS.In the VM Configuration panel, enter the instance name of the VM in the Instance Name field. This field is pre-populated with macro as suffix to ensure name uniqueness.This name is used as the VM name by the service provider.Select the resource group from the Resource Group drop-down menu.Each resource in Azure must belong to a resource group. A resource group is simply a logical construct that groups multiple resources together to be managed as a single entity. For example, resources that share a similar lifecycle, such as the resources for an n-tier application can be created or deleted as a group.Optionally, select availability set from the Availability Set drop-down menu.An availability set is a logical grouping capability to ensure that the VM resources are isolated from each other to provide High Availability if deployed within an Azure datacenter.Select the geographical location of the datacenter from the Location drop-down menu.Select the hardware profile as per your hardware requirements from the Hardware Profile drop-down menu.The number of data disks and NICs depends upon the selected hardware profile. For information about the sizes of Windows and Linux VMs, see Windows and Linux Documentation. Optionally, under Secrets, enter a unique vault ID in the Vault ID field.These certificates are installed on the VM.Optionally, under Certificates, enter the URL of the configuration certificate in the URL field. The URL of the certificate is uploaded to key vault as a secret.Enter the certificate store for the VM in the Store field. For Windows VMs, specify the certificate store on the virtual machine to which the certificate is added. The specified certificate store is implicitly created in the LocalMachine account.For Linux VMs, the certificate file is placed under the /var/lib/waagent directory with the file name <UppercaseThumbprint>.crt for the X509 certificate file and <UppercaseThumbpring>.prv for private key. Both of these files are .pem formatted.Optionally, select the Provision VM Agent check-box. Indicates whether virtual machine agent should be provisioned on the virtual machine. When this property is not specified in the request body, default behavior is to set it to true. This will ensure that VM Agent is installed on the VM so that extensions can be added to the VM later.This check-box is applicable only for Windows VMs.Optionally, select Auto Updates check-box to indicate VM is enabled for automatic updates. This check-box is applicable only for Windows VMs.Optionally, under Additional Unattended Content, select setting from the Setting Name.You can either select Auto Logon or First Logon Commands.Note: Guest customization is applicable only on images that allows or support guest customization.Enter or upload the xml content. See Sample Auto Logon and First Logon Scripts.Optionally, under WinRM Listeners, select the protocol from the Protocol drop-down menu.You can either select HTTP or HTTPS.Select the certificate URL from the Certificate URL drop-down menu.This field is only applicable when you select HTTPS as a protocol.Under Storage Profile, select the Use Custom Image check-box to use a custom VM image created in your subscription.From the Custom Image drop-down menu, select a custom image or publisher-offer-SKU-version.This field is available only when the Use Custom Image check-box is enabled.Under VM Image Details, select publisher from the Publisher drop-down menu.Select offer from the Offer drop-down menu.Select SKU from the SKU drop-down menu.Select version from the Version drop-down menu.The Use Managed Disks check-box is enabled by default.Note: This check-box cannot be disabled that is, all disks created are managed disks.Managed Disks simplifies disk management by managing the storage accounts associated with the VM disks.Under OS Disk Details, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Select disk create option from the Disk Create Option drop-down menu.You can either select Attach or Empty or From Image.Under Data Disk, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Enter the size in GB in the Size field.Enter disk logical unit number (LUN) in the Disk LUN field.Note: The LUN value should be unique across data disk list.Under Network Profiles, add NICs as per your requirement. For each NIC, select security group from the Security Group drop-down menu.Select virtual network from the Virtual Network drop-down menu.Optionally, under Public IP Config, enter name in the Namefield.Select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.Enter DNS label in the DNS Label field.Under Private IP Config, select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.If you select Static as Allocation Method then enter the private IP address in the Ip Address field.Optionally, enter tags in the Tags field.Under Connection, select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter username in the Username field.Select Secret type from the Secret Type drop-down menu.You can either select Password or SSH Private Key.Do one of the following.If you have selected password, then enter password in the Password field.If you have selected SSH Private Key then enter or upload the SSH Private Key in the SSH Private Key field.Optionally, if the private key is password protected, Click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential to be used as default credential.Click Done.The selected or default credential is used as the default credential for the VM created by Azure.Key based credential is not allowed for Windows VMs.Username and password needs to adhere to Azure's complexity requirements.Select address from the Address drop-down menu.You can either select Public IP address or Private IP address of one of the NICs created above.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH the connection port is 22 and for Powershell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest-customisation script, IP and all other services to come up before invoking the check login script.Click Save.Environment details are saved for the project.What to do nextYou can use the environment details while configuring a blueprint for Azure or launching a blueprint.", "Heading_Keywords": ["configur", "azur", "environ"]}, {"Heading": "Modifying a Project", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-modifying-a-project-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Nutanix Calm allows you to modify the users, infrastructure, and quota details of a saved project. You can also delete an account of a provider in a project. Perform the following procedure to modify an existing project.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the target project that you want to modify.The project details are displayed.Optionally, edit the description of the project in the Description field.To edit the Users, Groups and Roles section, do the following.To add a user, click +User.To remove a user or a group from a saved project, click the cross icon in the Actions field.To edit the name or role of a user or a group, click the pencil icon and update the name or role of the user or group.To edit the Infrastructure section, do the following.To add a provider, select the provider from the Select Provider drop-down menu. For more information, see Managing Infrastructure.To delete an account of a provider, click the delete icon next to the saved provider.For Nutanix provider, if you want to add or remove cluster or subnets, click Select Cluster & Subnets. For more information, see Managing Infrastructure.Note: Before deleting a provider from the project, ensure that the provider is not added in any application or blueprint. If the provider is already added in the applications or blueprints, the delete action cannot be performed and a dialog box displays the association of the provider with the applications or blueprints.For Nutanix provider, before deleting a subnet from a saved cluster, ensure that the subnet is not associated with any application or blueprint.Optionally, in the Quotas section, edit the usage details for the following fields.vCPUsStorageMemoryNote: Quotas section is only applicable for Nutanix provider.Click the Save.The updated project details are saved.", "Heading_Keywords": ["modifi", "project"]}, {"Heading": "Deleting a Project", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-deleting-a-project-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Perform the following procedure to delete a project.Before you beginEnsure that the project is not added in any application or blueprint. If the project is already used to create the applications or blueprints, the delete action cannot be performed and a dialog box displays the association of the project with the applications or blueprints.ProcedureClick the Projects iconon the left pane.The Projects page is displayed.Click the check box next to the project that you want to delete.From the Action drop-down menu, select Delete.Calm verifies the association of the project with any application or blueprint. After successful verification, a confirmation message appears.Click Delete.The project is deleted from the Projects tab.", "Heading_Keywords": ["delet", "project"]}, {"Heading": "Using Nutanix Calm", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-using-nucalm-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You can use Nutanix Calm to do the following.Use available pre-seeded applications Configure single or multi-VM blueprints to model your applicationEnable or disable showback for cost governanceUse playground to test your scripts during blueprint creationCreate and use variables across blueprints and projectsCreate runbooks to automate routine tasks and procedures for your endpoints.Marketplace UsageMarketplace Manager OverviewBlueprints UsageApplications UsageLibrary UsageRunbook UsageRunbook is a framework to automate routine tasks and procedures which pan across multiple applications without the involvement of a blueprint or an application. For more information, see Runbooks Overview.Endpoints UsageTaking Backup and Restoring Calm DataCalm allows you to take a backup of the entire Calm data to a specified location in your machine and restore the data to a new PC in case of PC failure. Perform the following procedure to take backup and restore Calm data.Marketplace UsageThe Marketplace tab displays a set of pre-seeded application blueprints that are available for your usage. The marketplace is a common platform for both the publisher and the consumer. The marketplace allows you to provision an application instantly. For more information, see Marketplace Overview.To see the video about publishing application blueprints from the marketplace, click here.Figure. MarketplaceClick to enlargeOperations Using Marketplace TabFollowing are the operations that you can perform by using Marketplace tab. Before using any operation in the Marketplace tab, ensure that you have enabled Marketplace Apps in the Settings tab. For more information, see Enabling Nutanix Marketplace Applications.Enabling Nutanix Marketplace ApplicationsYou can view and launch the marketplace applications after you enable them from the settings tab. Perform the following procedure to enable Nutanix Marketplace applications.Viewing Application DetailsBefore using an application, you can get the required information about the application blueprint by viewing the application details. Application details provide information such as application overview and application-level actions.Filtering Application BlueprintsPerform the following procedure to filter the application blueprints according to the category.Searching an Application BlueprintPerform the following procedure to search an application blueprint.Cloning an Application BlueprintYou can clone an application blueprint from a pre-seeded application blueprint. Perform the following procedure to clone an application blueprint.Launching a Marketplace ItemYou must launch a marketplace item to start using it. You can launch an application blueprint from the Marketplace Manager tab or from the Marketplace tab. Perform the following procedure to launch an application blueprint.Enabling Nutanix Marketplace ApplicationsYou can view and launch the marketplace applications after you enable them from the settings tab. Perform the following procedure to enable Nutanix Marketplace applications.ProcedureLog on to Prism Central as an administrator.Click Services > Calm.Click the Settings icon  on the left pane.Under the General tab, click the Nutanix Marketplace Apps toggle button. The application blueprints are available for usage under the Marketplace tab.What to do nextYou can launch the pre-seeded market place application. For more information, see Launching a Marketplace Item.Viewing Application DetailsBefore using an application, you can get the required information about the application blueprint by viewing the application details. Application details provide information such as application overview and application-level actions.ProcedureLog on to Prism Central as an administrator.Click Services > Calm.Click Marketplace icon  on the left pane.The Marketplace page is displayed.Click the application blueprint to view the application details.Figure. Application DetailsClick to enlargeThe Application Details page is displayed.Filtering Application BlueprintsPerform the following procedure to filter the application blueprints according to the category.ProcedureLog on to Prism Central as an administrator.Click Services > Calm.Click Marketplace icon  on the left pane.The Marketplace page is displayed. Click the application blueprints category drop-down menu and select the applications category that you want to view. The Marketplace page displays all the available applications according to the selected category. Searching an Application BlueprintPerform the following procedure to search an application blueprint.ProcedureLog on to Prism Central as an administrator.Click Services > Calm.Click Marketplace icon  on the left pane.The Marketplace page is displayed.Enter the name of the application that you want to search in the Search field. If the application is available in the marketplace, then the application is displayed in the Marketplace page.Cloning an Application BlueprintYou can clone an application blueprint from a pre-seeded application blueprint. Perform the following procedure to clone an application blueprint.ProcedureLog into Prism Central as an administrator.Click Services > Calm.Click Marketplace icon  on the left pane.The Marketplace page is displayed.Click the application blueprint that you want to clone.The Application details page is displayed.Click Clone.The application blueprint clone page is displayed.Enter the name of the cloned application blueprint.Select the project that you want to assign to the cloned application blueprint from the Project drop-down menu.Click Clone.The Blueprint tab lists the cloned application blueprint.Launching a Marketplace ItemYou must launch a marketplace item to start using it. You can launch an application blueprint from the Marketplace Manager tab or from the Marketplace tab. Perform the following procedure to launch an application blueprint.Before you beginEnsure that the marketplace items are enabled and published.ProcedureLog on to Prism Central as an administrator.Click Services > Calm.Click the Marketplace icon  on the left pane.The Marketplace page is displayed.Click the application that you want to launch.The Application Details page is displayed.Click Launch.The Launch Blueprint window is displayed.Select the project from the Project drop-down menu.Note: Ensure that you have configured the environment variable. Environment is mandatory to publish the applications into the marketplace. For more information, see Configuring Environments.Click Launch.The Application Blueprint launch window is displayed.Enter a name for the application in the Name of the Application field.Following are the rules for naming convention.The name of the blueprint can start with an alphanumeric character or an underscore.The name must have at least one character.Use only space, underscore, and dash as special characters.Do not end the name with a dash.Select an application profile.Note: Application profile provides different combinations of the service, package, and VM while configuring a blueprint. If the showback is enabled, the application profile also displays the service cost of the resources used for an application. You must select an application profile when you launch a blueprint. Expand the VM configuration field to verify the configuration of the VM.Expand the Credentials field to verify the credentials.If you do not specify credentials for an action, task, or configuration, use the default credentials. A blueprint must have at least one default credential.Click Create.The application blueprint is displayed under the Application tab.Marketplace Manager OverviewThe Marketplace Manager tab allows you to manage the list of custom blueprints and the marketplace application blueprints. You can view the list of published blueprints under the Marketplace Blueprints tab and the list of blueprints that are pending for approval under the Approval Pending tab. The marketplace manager page provides the following details about a blueprint. Name of the blueprint.Name of the entity who created the blueprint.The number of projects for which the blueprint is available.The category of the blueprint.Status of the blueprint.Figure. Marketplace ManagerClick to enlargeAfter you select a blueprint, the inspector panel displays the operations you can perform on the selected blueprint. The inspector panel also displays a brief overview of the blueprint and allows you to select the category and projects for the available blueprint.Figure. Blueprint Inspector PanelClick to enlargeUsing Marketplace Manager TabFollowing are the operations that you can perform by using the Marketplace Manager tab.Publishing a BlueprintIf you want to publish a blueprint to the Marketplace that is used by other users, submit the blueprint for approval and publish it from the 'Marketplace Manager > Approval Pending tab. Perform the following procedure to publish a blueprint to the Marketplace.Unpublishing a BlueprintIf you do not want to list a blueprint in the Marketplace, you can unpublish a blueprint. However, you can publish the blueprint again. Perform the following procedure to unpublish a blueprint.Deleting an Unpublished BlueprintYou can only delete unpublished blueprint. Perform the following procedure to delete an unpublished blueprint.Publishing a BlueprintIf you want to publish a blueprint to the Marketplace that is used by other users, submit the blueprint for approval and publish it from the 'Marketplace Manager > Approval Pending tab. Perform the following procedure to publish a blueprint to the Marketplace.Before you beginEnsure that you have configured and saved a blueprint. For more information, see Blueprints Usage.ProcedureClick Marketplace Manager tab.The Marketplace Manager page is displayed.Select the Approval Pending tab to get the list of all unpublished blueprints. A list of all the unpublished blueprints is displayed.Select the blueprint that you want to publish.The blueprint inspector panel appears.Click Approve.Select the category from the Category drop-down menu.Select one or more projects from the Projects Shared With drop-down menu.Click Apply.Click Publish.The Marketplace tab lists the published blueprints.What to do nextLaunch the published blueprint from the Marketplace tab. For more information, see Launching a Blueprint.Unpublishing a BlueprintIf you do not want to list a blueprint in the Marketplace, you can unpublish a blueprint. However, you can publish the blueprint again. Perform the following procedure to unpublish a blueprint.ProcedureClick Marketplace Manager tab.The Marketplace Blueprints tab is displayed listing all the published blueprints.Select the blueprint you want to unpublish.The blueprint inspector panel is displayed.Click Unpublish.The blueprint is unpublished but note that you can publish the blueprint again.Deleting an Unpublished BlueprintYou can only delete unpublished blueprint. Perform the following procedure to delete an unpublished blueprint.ProcedureClick the Marketplace Manager tab.The Marketplace Blueprints tab displays a list of all the published blueprints.Click Approval Pending.A list of all the approval pending blueprints is displayed.Select the blueprint that you want to delete.The blueprint inspector panel appears.Click the Delete icon.The blueprint is deleted and no longer available.Blueprints UsageYou can do the following actions by using the Blueprints tab.Create application blueprint for single and multi-VMPublish and launch blueprintsUpload existing blueprints from your local machineView the details of the created blueprintsEdit an existing blueprintCreate pre-create task before a service is provisionedCreate post-delete task after a service is provisionedTo see the video about using blueprint, click here.Figure. Blueprints TabClick to enlargeMulti-VM BlueprintsSingle VM BlueprintsBlueprints ManagementMulti-VM BlueprintsMulti-VM blueprint is a framework that you can use to create an instance, provision, and launch applications requiring multiple VMs. You can define the underlying infrastructure of the VMs, application details, and actions that are carried out on a blueprint until the termination of the application. You can create and configure multi-VM blueprints for the following providers.NutanixAWSVMwareGCPAzureCreating a Multi-VM BlueprintPerform the following steps to create a multi-VM blueprint.Adding a ServiceConfiguring Multi-VM, Package, and ServiceConfiguring Kubernetes Deployment, Containers, and ServicePerform the following procedure to configure Kubernetes Deployment, Containers, and Service.Setting up the Service Dependencies Dependencies are used to define the order in which tasks must get executed. Perform the following procedure to set up the service dependency. Dependencies are used to define the order in which tasks must get executed.Adding and Configuring an Application ProfilePerform the following procedure to add and configure an application profile. You must apply the application profile while launching a blueprint.Adding and Configuring Scale Out and Scale InPerform the following procedure to add and configure the Scale Out and Scale In task.Pre-create TasksPost-delete TasksCreating an ActionAn action is a set of operations that you can run on your application that are created as a result of running a blueprint. Perform the following procedure to create an action.Creating a Three-Tier ApplicationThe following procedure describes how to create a three-tier application by using Nutanix Calm. This procedure explains the creation of load balancer, web-application and database as services. The flow of creating services is load balancer, web-application, and database.Creating a Multi-VM BlueprintPerform the following steps to create a multi-VM blueprint.Before you beginEnsure that you have configured the provider for your blueprint and a project.ProcedureAdd a service. For more information, see Adding a Service.Configure VM, package, and service for your provider. For more information, see Configuring Multi-VM, Package, and Service.Set the service dependencies. For more information, see Setting up the Service Dependencies.Add and configure an application profile. For more information, see Adding and Configuring an Application Profile.(Optional) Add and configure Scale Out and Scale In. For more information, see Adding and Configuring Scale Out and Scale In.Create an action. For more information, see Creating an Action.Adding a ServiceAbout this taskServices are the virtual machine instances, existing machines or bare-metal machines, that you can provision and configure by using Nutanix Calm. You can either provision a single service instance or multiple services based on the topology of your application. A service exposes an IP address and ports on which the request is received. Perform the following procedure to add a service.ProcedureClick the Blueprint iconon the left pane.The Blueprint page is displayed.From the + Create Blueprint drop-down menu, select either Multi VM/Pod Blueprint or Single VM Blueprint.Blueprint Setup window is displayed.Enter the name of the blueprint in the Name field.Optionally, provide a description about the blueprint in the Description field.Select a project from the Project drop-down menu.Note: The available cloud options depend on the selected project. Click Proceed.Enter the blueprint name in the Name this blueprint field.Following are the rules for naming convention.The name of the blueprint can start with an alphanumeric character or an underscore.The name must have at least one character.Use only space, underscore, and dash as special characters.The name must not end with a dash.In the blueprint editor, to add a service, click + next to the Services.The service inspector panel is displayed.What to do nextConfigure the VM, package, and service. For more information, see Configuring Multi-VM, Package, and Service.Configuring Multi-VM, Package, and ServiceYou can define and configure the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application for a service provider.Configuring Nutanix and Existing Machine VM, Package, and ServicePerform the following procedure to configure multi-VM blueprints for Nutanix and existing machine. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a Nutanix platform.Configuring AWS VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for AWS. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a AWS platform.Configuring VMware VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for VMware. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a VMware platform.Configuring GCP VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for GCP. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Configuring Azure VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for Azure. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on an Azure platform.Configuring Xi VM, Package, and ServiceYou can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on Xi cloud provider. Perform the following procedure to configure a multi-VM blueprint that you want to deploy on a Xi Cloud platform.Configuring Nutanix and Existing Machine VM, Package, and ServicePerform the following procedure to configure multi-VM blueprints for Nutanix and existing machine. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a Nutanix platform.Before you beginEnsure that you have completed the pre-configuration requirements. For more information, see Creating a Multi-VM Blueprint.Ensure that you have created a project and configured an environment for Nutanix. For more information, see Creating a Project and Configuring Nutanix Environment sections.ProcedureEnter a name of the service in the Service Name field.Under the VM tab, in the Name field, enter a name for the VM.Select the platform from the Cloud drop-down menu.You can select either Existing Machine or Nutanix.Note: The cloud options depend on the selected project while creating the blueprint. If the Cloud type is Existing Machine, enter the IP address of the existing machine in the IP Address field and go to step 20.From the OS drop-down menu, select either Windows or Linux as the operating system.Optionally, if you have configured environment during project creation, click Clone from Environment and go to step 20.Note: When you clone the environment details from a project, all the VM details are auto-filled except the Credential field. For more information on configuring environment for Nutanix, see Configuring Nutanix Environment. You must add a credential before saving or launching the blueprint.In the VM Configuration panel, enter the name of the VM in the VM Name field. The service provider uses this name as the VM name.Select the image from the Image drop-down menu.All the images that are uploaded to the Prism Central are available for selection. For more information about image configuration, see Image Management section in the Prism Central guide.Select Device Type and Device Bus for the image.You can select either CD-ROM or Disk as the device type.You can select either IDE or SATA as the device bus for CD-ROM and SCSI or PCI as the device bus for Disk. Optionally, you can add another image by clicking the + icon.Select the Bootable check box against the image that you want to use to boot up the VM. Select one of the following firmwares to boot the VM.Legacy BIOS: Select legacy BIOS to boot the VM with legacy BIOS firmware.UEFI: Select UEFI to boot the VM with UEFI firmware. UEFI firmware supports larger hard drives, faster boot time, and provides more security features.In the vCPUs field, enter the required number of vCPUs for the VM.In the Cores per vCPU field, enter the number of cores per vCPU for the VM. In the Memory field, enter the required memory in GiB for the VM.Optionally, if you want to customize the default OS properties of the VM, select the Guest Customization check box and do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Select either CloudInIt or SysPrep type and enter the script in the Script panel.Note: Select Cloudinit for Linux and Sysprep for Windows. For Sysprep, you must use double back slash for all escape characters . For example, \\\\v.You can also upload the script by clicking the upload icon.For Sysprep script, click Join a Domain check box and configure the following fields. Domain Name: Enter the domain name of the Windows server. Credentials: From the Credentials drop-down menu, enter a credential for the Windows VM. You can also create new credentials. For more information, see step 22.DNS IP: Enter the IP address of the DNS server.DNS Search Path: Enter the DNS search path for the domain.To add a vDisk, click + vDisks and do the following.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Enter the size of the vDisk in GiB.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete, or edit vDisks while launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select categories from the Categories drop-down menu.Note: Categories field allows you to tag your VM to a defined category in the Prism Central. Based on the Prism Central configuration, the drop-down options are available.To add a network adapter, click the + icon next to the Network Adapters (NICS) field and select the subnet from the NIC field .The NIC drop-down options are available based on the cluster configuration.Note: If you have whitelisted the subnets during project creation, the whitelisted subnets are available for your selection. The cluster details are also displayed based on the selected subnets.To add a serial port to the VM, click the + icon next to the Serial Ports field. You can use serial ports to connect a physical port or a file on the VM.Under Connection, if you want to check the logon status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH private key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS. Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each logon failure.Under the Package tab, enter the package name in the Name field.Click one of the following:Configure install: To create a task to install a package.Configure uninstall: To create a task to uninstall a package.Click + Task.Enter the task name in the Task Name field.To reuse a task from the task library, do the following.Click Browse Library.Select the task from the task library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.To update the variable or macro names, click Apply.To copy the task, click Copy.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.In the blueprint editor, click the service and select Service. Enter the name of the service in the Service Name field.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variables or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. Click Save.The blueprint is saved and listed under blueprints tab.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Creating an Execute TaskYou can create the Execute task type to run eScripts on the VM. Perform the following procedure to create an Execute  task.Creating a Delay TaskYou can create a delay task type to set a time interval between two tasks or actions. Perform the following procedure to create a delay task.Creating an HTTP Task You can create HTTP task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. Perform the following procedure to create an HTTP task.Creating a Set Variable TaskYou can create set variable task type to change variables in a blueprint. Perform the following procedure to create a set variable task.Creating an Execute TaskYou can create the Execute task type to run eScripts on the VM. Perform the following procedure to create an Execute  task.Before you beginEnsure that you have selected the task type as Execute  while creating a blueprint. For more information, see Configuring Multi-VM, Package, and Service.ProcedureIn the Script Type drop-down menu, select one of the following:ShellPowerShelleScriptFor shell, PowerShell, and eScript scripts, you can access the available list of macros by using @@{.Note: You can use macro expansions for variables used for eScripts.You can either select Shell or eScript or Powershell. For sample eScripts, see Supported eScript Modules and Functions section and for sample Powershell scripts, see Sample Powershell Script section.If you have selected the script type as Shell or Powershell, do the following:In the Credential drop-down menu, select an existing credential or create a credential.To create a credential, from the Credential drop-down menu, select Add New Credential.Add a credential page is displayed.In the Add a Credential page, enter the details for the following fields.Credential name: Enter a credential name for future use.Secret Type: Select either Password or SSH Private Key to authenticate.User Name: Enter the user name for the service.Password: If you have selected the secret type as password, enter the service password.SSH Private Key: If you have selected the secret type as SSH private key, enter the key to authenticate.To use the credential as default, click the Use as default check-box.Do one of the following:To save the changes, click Save.To go back to the previous screen, click Cancel.Enter the install or uninstall script in the Script panel. For example, see Database Installation.You can also upload a script by clicking the upload icon.If you want to test the script in Nutanix Calm playground, click Test script.Nutanix Calm playground allows you to test a script by running and reviewing the output and making required changes.The Test Script page is displayed.Under Authorization tab, enter the following fields:IP Address : Enter the IP address of the test machine.Port : Enter the port number of the test machine.Credential : Select the credential from the drop-down menu.User name : Enter a user name.Password : Enter a password.To save the details, click Done.Click Login and Test.The Test script page is displayed.You can also view your script in the Source Script field.Optionally, you can edit your script in the Source Script field.If you are using macros in your script, provide the variable values in the macro inspector panel and click Assign and Test.Click Test.The test result is displayed in the Output field.To go back to the previous screen, click Done.If you have selected the script type as EScript, do the following:In the Script field, enter the script.You can also upload a script by clicking the upload icon.Click Test script.The Test Script page is displayed.You can also view your script in the Source Script field.If you are using macros in your script, provide the variable values in the macro inspector panel and click Assign and Test.To test the script, click Test.The test result is displayed in the Output field.To go back to the previous screen, click Done.To publish this task to the task library, click Publish to Library.The task is published to the Library and you can browse and use the task while creating a blueprint. Creating a Delay TaskYou can create a delay task type to set a time interval between two tasks or actions. Perform the following procedure to create a delay task.Before you beginEnsure that you have selected the task type as delay while configuring a blueprint. For more information, see Configuring Multi-VM, Package, and Service.ProcedureIn the Sleep Interval field, enter the sleep time interval in seconds for the task.The delay task type is created. You can use the task type to set a time interval between two tasks or actions.Creating an HTTP Task You can create HTTP task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. Perform the following procedure to create an HTTP task.About this taskNote: You can use macro expansions for variables used in an HTTP task.Before you beginEnsure that you have selected the task type as HTTP task while configuring a blueprint. For more information, see Configuring Multi-VM, Package, and Service.ProcedureIn the Request URL field, enter the URL of the server that you want to run the methods on.In the Request Method drop-down menu, select one of the following request methods.GET: Use this method to retrieve data from a specified resource.PUT: Use this method to send data to a server to update a resource. In the Request Body field, enter the PUT request. You can also upload the put request by clicking the upload icon.POST: Use this method to send data to a server to create a resource. In the Request Body field, enter the POST request. You can also upload the post request by clicking the upload icon.DELETE: Use this method to send data to a server to delete a resource. In the Request Body field, enter the DELETE request. You can also upload the delete request by clicking the upload icon. In the Content Type drop-down menu, select the type of the output format.The available options are XML , JSON, and HTML.In the Header area, enter the HTTP header key and value in the Key and Value fields respectively. If you want to publish the HTTP header key and value pair as secret, click the Secrets fields.In the Connection Time Out field, enter the timeout interval in seconds.Optionally, in the Authentication field, select Basic and do the following:In the Username field, enter the user name.In the Password field, enter the password.If you want to verify SSL certificate for the task, click the SSL Cerificate Verification field.If you want to use a proxy server as configured in the Prism Central, click the Use PC Proxy configuration. Note: Ensure that the Prism Central has the appropriate HTTP proxy configuration.In the Retry Count field, enter the number of attempts the system performs to create a task after each failure.By default, the retry count is zero. It implies that the task creation procedure stops after the first attempt.In the Retry Interval field, enter the time interval in seconds for each retry if the task fails.In the Expected Response Options area, enter the details for the following fields:Response Status: Select either Success or Failure as the response status for the task.Response Code: Enter the response code for the selected response status.Note: If the response code is not defined, then by default all the 2xx response codes are marked as success and any other response codes are marked as failure.Set Variables from response: Enter the variables from the specified response path. The example of json format is $.x.y and xml format is //x/y. For more information about json path syntax, see http://jsonpath.com.Note: To retrieve the output format in HTML format, add a * in the syntax.If you want to test the script in Nutanix Calm playground, click Test script.Nutanix Calm playground allows you to test a script by running and reviewing the output and making required changes.The Test Script page is displayed. You can also edit the fields described from step 1\u201311.Click Test.The test result is displayed in the Output field.To publish this task to the task library, click Publish to Library.The task is published to the Library and you can browse and use the task while creating a blueprint. Creating a Set Variable TaskYou can create set variable task type to change variables in a blueprint. Perform the following procedure to create a set variable task.Before you beginEnsure that you have selected the task type as Set Variable while configuring a blueprint. For more information, see Configuring Multi-VM, Package, and Service.ProcedureIn the Script Type drop-down menu, select one of the following:ShellPowershellEScriptFor Shell, Powershell, and EScript scripts, you can access the available list of macros by using @@{.You can either select Shell or EScript or Powershell. For sample Escripts, see Supported eScript Modules and Functions section and for sample Powershell scripts, see Sample Powershell Script section.Enter the install or uninstall script in the Script panel. For example, see Database Installation.In the Output field, enter the name of the variable that you have defined through the set variable task.If you are setting multiple variables, enter the variable name for each of the variables by clicking the Output field.To publish this task to the task library, click Publish to Library.The task is published to the Library and you can browse and use the task while creating a blueprint. Configuring AWS VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for AWS. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a AWS platform.Before you beginEnsure that you have completed the pre-configuration requirements. See Creating a Multi-VM Blueprint.Ensure that you have created a project and configured an environment for AWS. For more information, See Creating a Project and Configuring AWS Environment sections.ProcedureEnter a name of the service in the Service Name field.Under the VM tab, enter the name of the VM in the Name field.Select AWS from the Cloud drop-down menu. Note: The cloud options depend on the selected project while creating the blueprint. From the Account ID drop-down menu, select the account that you want to use for the blueprint.Optionally, if you have configured environment during project creation, click Clone from Environment and go to step 19.Note: When you clone the environment details from a project, all the VM details are auto filled except Credential field. For more information on configuring environment for AWS, see Configuring AWS Environment. You must add a credential before saving or launching the blueprint.Select the operating system from the OS drop-down menu.You can select either Windows or Linux.In the VM Configuration panel, enter the instance name of the VM in the Instance Name field. The service provider uses this name as the VM name. You can use Calm macros to provide a unique name to the VM. For example, vm-@@{calm_array_index}@@-@@{calm_time}@@.Select the Associate Public IP Address check-box to associate a public IP address with your AWS instance. Note: If the Associate Public IP Address is unselected, ensure that the AWS account and Calm are on the same network for the scripts to run.Select an AWS instance type from the Instance Type drop-down menu.Instance types comprise varying combinations of CPU, memory, storage, and networking capacity and give you the flexibility to choose the appropriate mix of resources for your applications. Each instance type includes one or more instance sizes, allowing you to scale your resources to the requirements of your target workload.The drop-down menu displays the instances that are available in the AWS account. For more information, see AWS documentation.Select the region from the Region drop-down menu and the configuring the following.Note: The drop-down menu displays the regions which are selected while configuring the AWS setting. Select the availability zone from the Availability Zone drop-down menu.An Availability Zone is one or more discrete data centers with redundant power, networking, and connectivity in an AWS region. Availability Zones allow you to operate production applications and databases that are more highly available, fault tolerant, and scalable than would be possible from a single data center.Select the machine image from the Machine Image  drop-down menu.An Amazon Machine Image is a special type of virtual appliance that is used to create a virtual machine within the Amazon Elastic Compute Cloud. It serves as the basic unit of deployment for services delivered using EC2.Select the IAM role from the IAM Role drop-down menu.An IAM role is an AWS Identity and Access Management entity with permissions to make AWS service requests.Select the key pairs from the Key Pairs  drop-down menu.A key pair (consisting of a private key and a public key) is a set of security credentials that you use to prove your identity when connecting to an instance.Select the VPC from the VPC  drop-down menu.Amazon Virtual Private Cloud (Amazon VPC) allows you to provision a logically isolated section of the AWS cloud where you can launch AWS resources in your defined virtual network.Enter the AWS tags in the AWS Tags field.AWS tags are key and value pair to manage, identify, organize, search for, and filter resources. You can create tags to categorize resources by purpose, owner, environment, or other criteria.Under the Storage section, configure the following to boot the AWS instance with the selected image.In the Device field, select the device to boot the AWS instance. The available options are based on the image you have selected.In the Size(GiB) field, enter the required size for the bootable device.In the Volume Type drop-down menu, select the volume type. You can select either General Purpose SSD, Provisioned IOPS SSD, and EBS Magnetic HDD.For more information on the volume types, see AWS documentation.Optionally, select the Delete on termination check-box to delete the storage when the instance is terminated.You can also add more secondary storages by clicking the + icon next to the Storage section.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create.Under Connection, If you want to check the log on status after creating the VM, click Check log-in upon create. Select a credential from the Credential drop-down menu for the VM. Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring CredentialSelect the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.Under the Package tab, enter the package name in the Name field.Click one of the following:Configure install: To create a task to install a package.Configure uninstall: To create a task to uninstall a package.Click + Task.Enter the task name in the Task Name field.Do one of the following.You can reuse an existing task and available as part of the task library. See step 20.You can create a task. See step 21.To reuse a task from the task library, do the following.Click Browse Library.Select the task from the task library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.To update the variable or macro names, click Apply.To copy the task, click Copy.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the execute type of task, see Creating an Execute Task.Set Variable: To create the set variable type of task, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay Task: To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.Click the Service tab and configure the following.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables section, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. Click Save.The blueprint is saved and listed under blueprints tab.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Configuring VMware VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for VMware. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a VMware platform.Before you beginEnsure that you complete the pre-configuration requirements. See Creating a Multi-VM Blueprint.Ensure that you have created a project and configured an environment for VMware. For more information, see Creating a Project and Configuring VMware Environment sections.You need licenses for both Compute and Storage distributed resource scheduler (DRS) in order to use the VMware DRS mode.Ensure that storage DRS is enabled and set to fully automated in vCenter.ProcedureUnder the VM tab, enter the name of the VM in the Name field.Select VMware from the Cloud drop-down menu. Note: The cloud options depend on the selected project while creating the blueprint. Select the operating system from the Operating System drop-down menu.You can select either Windows or Linux.In the VM Configuration panel, enter the instance name of the VM in the Instance Name field. The service provider uses this name as the VM name.Select DRS Mode check-box to enable load sharing and automatic VM placement.DRS (Distributed Resource Scheduler) is a utility that balances computing workloads with available resources in a virtualized environment. For more information about DRS mode, see the VMware documentation. Note: If the storage DRS is disabled in Vcenter, the blueprint provisioning fails. Select the cluster where you want to host your VM from the Cluster drop-down menu.This field is applicable only after you enable DRS mode.If you have not enabled DRS Mode, select the host name of the VM from the Host drop-down menu.The host name is the primary IP address used to access the VM.Select template from the Template drop-down menu.Templates allow you to create multiple virtual machines with the same characteristics, such as resources allocated to CPU and memory, or type of virtual hardware. Templates save time and avoid errors when configuring settings and other parameters to create new VMs. The VM template retrieves the drop-down options from the configured vCenter.Note: Install the VMware Tools on the Windows templates. For Linux VMs, install Open-vm-tools or VMware-tools and configure the Vmtoolsd service for automatic start-up.Support for Open-vm-tools version 10.1.10.63510 and above is available. When using Open-vm-tools, install Perl for the template.Do not use SysPrepped as the Windows template image.If you select a template that has unsupported version of VMware Tools, then a warning appears stating VMware tool or version is unsupported and could lead to VM issues.You can also edit the NIC type when you use a template.For more information, refer to VMware KBs.Select datastore cluster from the Storage Pod drop-down menu.The datastore clusters are referred as storage pod in vCenter. A datastore cluster is a collection of datastores with shared resources and a shared management interface. Note: This field is applicable only after you enable DRS Mode.Enter values for vCPUs,Cores per vCPU , and Memory fields.Under Controller, click + to add the type of controller.You can select either SCSI or SATA controller.Note: You can add up to four SCSI and four SATA controllers. Under vDisk, click + to add vDisk.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete or edit vDisks while launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.If you have selected CD-ROM as device type, you can select and mount ISO images available on all the datastore.To filter the list of ISO images, from the DataStore drop-down menu, select the datastore applicable to your region.From the ISO File Path drop-down menu, select the applicable path for the ISO image.Select the adapter type from the Adapter Type drop-down menu.You can select IDE for CD-ROM.You can select either SCSI, IDE, or SATA for Disk.Enter the size of the disk in GiB.In the Location field, select the VM datastore to store the disk details.If you want to add a controller to the vDisk, in the Controller drop-down menu, select the type of controller to attach the disk.Note: You can add either SCSI or SATA controllers. The available controllers for selection is dependent on the Adapter Type.In the Disk mode drop-down menu, select the type of the disk mode.The available options are as follows.Dependent: Dependent disk mode is the default disk mode for the vDisk.Independent - Persistent: Disks in independent persistent mode behave like conventional disks. All data written to a disk in persistent mode are written permanently to the disk.Independent - Nonpersistent: Changes to disks in nonpersistent mode are discarded when you power off or reset the virtual machine. With nonpersistent mode, you can restart the virtual machine with a virtual disk in the same state every time. Changes to the disk are written to and read from a redo log file that is deleted when you power off or reset.In the Device slot drop-down menu, select the slot to attach the disk.Optionally, if you want to customize the default OS properties of the VM, in the VM guest customization pane, do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Click the Enable check-box if you want to use guest customization.From the Predefined Guest Customization drop-down menu, select the guest customization.If you do not have any predefined customization available, select a type of customization.The available options are Cloud-init and Custom Specs.If you have selected Cloud-init, enter the script in the Script field.You can also upload the script by clicking the upload icon.If you have selected Custom specs, configure the network details for the VM:Hostname: Enter the hostname for the VM in the Hostname field. Domain: Enter the domain name in the Domain field that you want to assign to the VM.Timezone: Select timezone for the VM from the Timezone drop-down menu.Hardware clock UTC: Select Hardware clock UTC check-box to enable hardware clock UTC.+ Network Setting: To add a network configuration for the VM, click + Network Setting.DHCP: To automatically configure DHCP server, enable the DHCP check-box and skip to DNS setting.Setting Name: Enter a name for the network configuration you are adding to the VM. Settings name is the saved configuration of your network that you want to connect to your VM.IP Address: Enter the IP address in the IP Address field.Subnet Mask: Enter subnet mask IP address in the Subnet Mask field.Default Gateway: Enter the default gateway in the Default Gateway field.Alternative Gateway: Enter the alternative gateway in the Alternative Gateway field.DNS Primary: Under DNS Settings, enter DNS primary in the DNS Primary field.DNS Secondary: Enter DNS secondary in the DNS Secondary field.DNS Tertiary: Enter DNS tertiary in the DNS Tertiary field.Note: When you run guest customization scripts, Nutanix Calm runs the NIC mismatch validation. If NIC mismatch is found, you get a platform validation error. Under Connection, If you want to check the log on status after creating the VM, click Check log-in upon create. Select a credential from the Credential drop-down menu for the VM. Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring CredentialSelect address from the Address drop-down menu.You can select either Public IP address or private IP address.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS. Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system make after each logon failure.Under the Package tab, enter the package name in the Name field.Click one of the following:Configure install: To create a task to install a package.Configure uninstall: To create a task to uninstall a package.Click + Task.Enter the task name in the Task Name field.Do one of the following.You can reuse an existing task available as part of the task library. See step 32.You can create a task. See step 33.To reuse a task from the task library, do the following.Click Browse Library.Select the task from the task library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.To update the variable or macro names, click Apply.To copy the task, click Copy.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute type of task, see Creating an Execute Task.Set Variable: To create the set variable type of task, see Creating a Set Variable Task.HTTP Task: To create the HTTP task type, see Creating an HTTP Task.Delay Task: To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.In the blueprint editor, click the service and select Service. Enter the name of the service in the Service Name field.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are automatically filled.Select the Secret check-box if you want to hide the value of the variable. In the Port List pane, enter the name, protocol, and port number in the Name, Protocol, and Port fields.Click Save.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Supported VMware Guest Tools VersionsTo know the supported VMware guest tools versions, see the Supported VMware Guest Tools VersionsTo know the supported VMware guest tools versions, see the VMware Product Interoperability Matrices.Configuring GCP VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for GCP. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Before you beginEnsure that you complete the pre-configuration requirements. See Creating a Multi-VM Blueprint.Ensure that you have created a project and configured an environment for AWS. For more information, See Creating a Project and Configuring GCP Environment sections.ProcedureEnter a name of the service in the Service Name field.Under the VM tab, enter the name of the VM in the Name field.Select GCP from the Cloud drop-down menu. Note: The cloud options depend on the selected project while creating the blueprint. Optionally, if you have configured environment during project creation, click Clone from Environment and go to step 21.Note: When you clone the environment details from a project, all the VM details are automatically filled except the Credential field. For more information on configuring environment for GCP, see Configuring GCP Environment. You must add a credential before saving or launching the blueprint.Select the operating system from the OS drop-down menu.You can select either Windows or Linux.In the VM Configuration panel, enter the instance name of the VM in the Instance Name field. The service provider uses this name as the VM name.Select zone from the Zone drop-down menu.Select type of machine from the Machine type drop-down menu.Under the Disks section, click + against the Boot Disk field and configure the following:Select the type of storage from the Storage Type drop-down menu.The available options are as follows.pd-standard: Use this option if you want to use HDD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.pd-ssd: Use this option if you want to use SSD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.Select the image source from the Source Image drop-down menu.The images available for your selection are based on the selected zone. Enter the size of the disk in GB in the Size in GB field.Optionally, under the Disks section, click the Use Existing disk to use an existing disk configuration.Configure the Network section.You can configure either a Public or Private IP address.To configure a Public IP address, select the Associate Public IP address check- box and configure the following:Select the network from the Network drop-down menu.Select the sub network from the Subnetwork drop-down menu.Enter a name of the network in the Access configuration Name field.Select the access configuration type from the Access configuration type drop-down menu.To configure a private IP address, de-select the Associate Public IP address check- box and configure the following:Select the network from the Network drop-down menu.Select the sub network from the Subnetwork drop-down menu.Under the SSH Key, enter or upload the username key data in the Username field.Select Block project-wide SSH Keys to enable blocking project-wide SSH keys.Under Management pane, enter metadata in the Metadata field.Select security group from the Security Groups drop-down menu.Optionally, enter tags in the Tags field.Under API Access, enter the service account in the Service Account.Select either Default or Full Access.Under Connection, select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter username in the Username field.Select secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select address from the Address drop-down menu.If you have selected the Associate Public IP address check-box, you can select Public IP address .If you have de-selected Associate Public IP address check-box, you can select private IP address .Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS. Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login  script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login  script.In the Retries field, enter the number of logon attempts the system make after each logon failure.Under the Package tab, enter the package name in the Name field.Click one of the following:Configure install: To create a task to install a package.Configure uninstall: To create a task to uninstall a package.Click + Task.Enter the task name in the Task Name field.Do one of the following.You can reuse an existing task available as part of the task library. See step 27.You can create a task. See step 28.To reuse a task from the task library, do the following.Click Browse Library.Select the task from the task library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.To update the variable or macro names, click Apply.To copy the task, click Copy.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.In the blueprint editor, click the service and select Service. Enter the name of the service in the Service Name field.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. In the Port List pane, enter the name, protocol, and port number in the Name, Protocol, and Port fields.Click Save.The blueprint is saved and listed under blueprints tab.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Configuring Azure VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for Azure. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on an Azure platform.Before you beginEnsure that you have configured the following entities in the Azure account.Resource GroupAvailability setNetwork Security GroupVirtual NetworkVault CertificatesEnsure that you complete the pre-configuration requirements. See Creating a Multi-VM Blueprint.Ensure that you have created a project and configured an environment for Azure. For more information, see Creating a Project and Configuring Azure Environment sections.ProcedureEnter a name of the service in the Service Name field.Under the VM tab, enter the name of the VM in the Name field.Select Azure from the Cloud drop-down menu. Note: The cloud options depend on the selected project while creating the blueprint. Select the operating system from the Operating System drop-down menu.You can either select Windows or Linux.Optionally, click Clone from Environment to clone the environment settings into the blueprint editor.In the VM Configuration panel, enter the instance name of the VM in the Instance Name field. This field displays macro as suffix to ensure name uniqueness.The service provider uses this name as the VM name.Select the resource group from the Resource Group drop-down menu.Each resource in Azure must belong to a resource group. A resource group is simply a logical construct that groups multiple resources together so you can manage the resources as a single entity. For example, you can create or delete resources as a group that share a similar life cycle, such as the resources for an n-tier application.Optionally, to create a Resource Group, click the Create Resource Group check-box, and do the following in the respective fields. In the Name field, type a unique name for the resource group.In the Location drop-down menu, select the geographical location of the datacenter that you want to add to the resource group.Under Tags, enter a key and value pair in the Key and Value fields respectively. Tags are key and value pairs that enable you to categorize resources. You can apply a tag to multiple resource groups.If you want to automatically delete a resource group that has empty resources while deleting an application, click the Delete Empty Resource Group check-box. Optionally, select availability set from the Availability Set drop-down menu.An Availability Set is a logical grouping capability that you can use in Azure. The Availability Set ensures that the VM resources deployed within an Azure datacenter are isolated from each other to provide High Availability.Select geographical location of the datacenter from the Location drop-down menu.Select hardware profile as per your hardware requirements from the Hardware Profile drop-down menu.The maximum number of data disks and NICs depends upon the selected hardware profile. Refer to Azure documentation to view the sizes for Windows and linux VMs.Optionally, under Secrets, enter a unique vault ID in the Vault ID field.These certificates are installed on the VM.Optionally, under Certificates, enter the URL of the certificate config in the URL field. This is the URL of a certificate that you upload to the Key Vault as a secret.The URL of the certificate is the uploaded to the Key Vault as a secret.Enter store in the Store field. For Windows VMs, the Store field specifies the certificate store on the virtual machine to which the certificate is added. The specified certificate store is implicitly created in the LocalMachine account.For Linux VMs, the certificate file is placed under the /var/lib/waagent directory. The format of the file name is <UppercaseThumbprint>.crt for the X509 certificate and <UppercaseThumbpring>.prv for private key. Both of these files are .pem formatted.Optionally, select the Provision VM Agent check-box. Indicates whether virtual machine agent should be provisioned on the virtual machine. When this property is not specified in the request body, default behavior is to set the value to true. It ensures that the VM Agent is installed on the VM and the extensions can be added to the VM later.This check-box is applicable only for Windows VMs.Optionally, select Auto Updates check-box to indicate that VM is enabled for automatic updates. This check-box is applicable only for Windows VMs.Optionally, under Additional Unattended Content, select setting from the Setting Name.You can either select Auto Logon or First Logon Commands.Note: Guest customization is applicable only on images that allows or support guest customization.Enter or upload the xml content. See Sample Auto Logon and First Logon Scripts.Optionally, under WinRM Listeners, select the protocol from the Protocol drop-down menu.You can either select HTTP or HTTPS.Select the certificate URL from the Certificate URL drop-down menu.This field is only applicable when you select HTTPS as a protocol.Under Storage Profile, select the Use Custom Image check-box to use a custom VM image created in your subscription.From the Custom Image drop-down menu, select a custom image or publisher-offer-SKU-version.This field is available only when the Use Custom Image check-box is enabled.Under VM Image Details, select publisher from the Publisher drop-down menu.Select offer from the Offer drop-down menu.Select SKU from the SKU drop-down menu.Select version from the Version drop-down menu.The Use Managed Disks check-box is enabled by default.Note: This check-box cannot be disabled, that means all the created disks are managed disks.Managed Disks simplifies disk management by managing the storage accounts associated with the VM disks.Under OS Disk Details, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Select disk create option from the Disk Create Option drop-down menu.You can either select Attach or Empty or From Image.Under Data Disk, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Enter the size in GB in the Size field.Enter disk logical unit number (LUN) in the Disk LUN field.Note: The LUN value should be unique across data disk list.Under Network Profiles, add NICs as per your requirement. For each NIC, select security group from the Security Group drop-down menu.Select virtual network from the Virtual Network drop-down menu.Optionally, under Public IP Config, enter name in the Name field.Select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.Enter DNS label in the DNS Label field.Under Private IP Config, select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.If you select Static as Allocation Method, then enter the private IP address in the Ip Address field.Optionally, enter tags in the Tags field.Under Connection, select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter username in the Username field.Select secret type from the Secret Type drop-down menu.You can either select Password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH Private Key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want to use the credential as your default credential.Click Done.The selected or default credential is used as the default credential for the VM created by Azure.Key based credential is not allowed for Windows VMs.Username and password need to adhere to the complexity requirements of Azure.Select address from the Address drop-down menu.You can either select Public IP address or Private IP address for the NICs.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS. Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check-login script is invoked post VM start-up. It allows you to configure the delay time to allow guest-customisation script, IP, and all other services to come up before invoking the check-login script.Under the Package tab, enter the package name in the Name field.Click Configure install.Click + Task.Enter the task name in the Task Name field.Do one of the following.You can reuse a task that is already created and available as part of the library. See step 47.You can create a task. See step 48.To reuse a task from the library do the following.Click Browse Library.Select the task from the library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.Click Apply to update the variable or macro names.Click Copy to copy the task.To create a task, do the following.Select the type of task from the Type drop-down menu.You can either select Execute or Set Variable.Select the script from the Script Type drop-down menu.For Shell, PowerShell, and eScript scripts, you can access the available list of macros by using @@{.Note: Azure library SDK support is available for eScripts.You can either select Shell or eScript or Powershell. See Supported eScript Modules and Functions and Sample Powershell Script. Enter the install script in the Script panel. Enter the output in the Output field.Click Configure uninstall.Click + Task.Enter the task name in the Task Name field.Select the type of task from the Type drop-down menu.You can either select Execute or Set Variable.Select the script from the Script Type drop-down menu.For shell, PowerShell, and eScript scripts, you can access the available list of macros by using @@{.Note: Azure library SDK support is available for eScripts.You can either select Shell or eScript or Powershell. See Supported eScript Modules and Functions and Sample Powershell Script. Enter the output in the Output panel.  This field is only applicable if you have selected Set Variable from the Type drop-down menu.Click Publish to Library to publish this task to the task library.In the blueprint editor, click the service and select Service. Enter the name of the service in the Service Name field.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variables or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are automatically filled.Select the Secret check-box if you want to hide the value of the variable. In the Port List pane, enter the name, protocol, and port number in the Name, Protocol, and Port fields.Click Save.The blueprint is saved and listed under blueprints tab.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Azure TroubleshootingThe following section describes Azure troubleshooting.Azure TroubleshootingThe following section describes Azure troubleshooting.For settings save or verification failure, you can check the logs at the following location./home/calm/log/styx.log For application blueprints save failure, you can check the logs at the following locations./home/calm/log/hercules_*.log/home/calm/log/styx.logFor provisioning failure, you can check the logs at the following locations.Task logs on UI /home/epsilon/log/indra_*.log [Signature: Encountered ERROR]/home/epsilon/log/durga_*.log/home/epsilon/log/arjun_*.log/home/calm/log/hercules_*.log/home/calm/log/styx.logConfiguring Xi VM, Package, and ServiceYou can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on Xi cloud provider. Perform the following procedure to configure a multi-VM blueprint that you want to deploy on a Xi Cloud platform.Before you beginEnsure that you have configured DNS in the VPC section in the Xi Cloud dashboard in the Prism Central.ProcedureEnter a name of the service in the Service Name field.Under the VM tab, enter the name of the VM in the Name field.Select Xi from the Cloud drop-down menu. Note: The cloud options depend on the selected project while creating the blueprint. The Availability Zone  field is automatically filled.Select the operating system from the Operating System drop-down menu.You can either select Windows or Linux.In the VM Configuration panel, enter the instance name of the VM in the VM Name field. This field displays the macro as suffix to ensure name uniqueness.The service provider uses this name as the VM name.In the vCPUs field, enter the required number of vCPUs for the VM.In the Cores per vCPU field, enter the number of cores per vCPU for the VM. In the Memory field, enter the required memory in GiB for the VM.Optionally, if you want to customize the default OS properties of the VM, select the Guest Customization check box and do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Select either CloudInIt or SysPrep type and enter the script in the Script panel.Note: Select Cloudinit for Linux and Sysprep for Windows. For Sysprep, you must use double back slash for all escape characters . For example, \\\\v.You can also upload the script by clicking the upload icon.For Sysprep script, click Join a Domain check box and configure the following fields. Domain Name: Enter the domain name of the Windows server. Credentials: From the Credentials drop-down menu, enter a credential for the Windows VM. You can also create new credentials. For more information, see step 22.DNS IP: Enter the IP address of the DNS server.DNS Search Path: Enter the DNS search path for the domain.To add a vDisk, click + vDisks and do the following.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Enter the size of the vDisk in GiB.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete, or edit vDisks while launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select categories from the Categories drop-down menu.Note: Categories field allows you to tag your VM to a defined category in the Prism Central. Based on the Prism Central configuration, the drop-down options are available.Under the Network panel, select the VPC from the VPC drop-down menu. For more information about VPC, see Xi Infrastructure Service Admininistration Guide.Under Connection, if you want to check the logon status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH private key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS. Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each logon failure.Under the Package tab, enter the package name in the Name field.Click one of the following:Configure install: To create a task to install a package.Configure uninstall: To create a task to uninstall a package.Click + Task.Enter the task name in the Task Name field.Optionally, to reuse a task from the task library, do the following.Click Browse Library.Select the task from the task library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.To update the variable or macro names, click Apply.To copy the task, click Copy.If you want to create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.In the blueprint editor, click the service and select Service. Enter the name of the service in the Service Name field.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variables or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. Click Save.The blueprint is saved and listed under blueprints tab.Configuring Kubernetes Deployment, Containers, and ServicePerform the following procedure to configure Kubernetes Deployment, Containers, and Service.Before you beginEnsure that you have completed the pre-configuration requirements. See Creating a Multi-VM Blueprint.Ensure that the selected project has Kubernetes or GCP with GKE enabled or both as part of it.Refer Kubernetes Documentation to get detailed information about the kubernetes attributes and configuration.ProcedureTo add a service to the blueprint, see Configuring Multi-VM, Package, and Service.To add a Pod, click + against the Pod.A Pod is the basic execution unit of a Kubernetes application and the smallest and simplest unit in the Kubernetes object model that you create or deploy. A Pod represents processes running on your cluster.The Pod service inspector panel appears.Enter a name of the pod in the Pod Name field.Under the Deployment tab, select the account from the Account drop-down menu. All the accounts added to the project are available for selection.Optionally, edit the Calm deployment name in the Calm Deployment Name field.This filed is auto-populated.Optionally, edit the K8s deployment name in the K8s Deployment Name field.This filed is automatically populated.Enter namespace in the Namespace field.Namespace is a kubernetes field to use in environments with many users spread across multiple teams, or projects.Enter the number of replicas in the Replica field.Optionally, enter annotations in the Annotations field.You can use kubernetes annotations to attach arbitrary non-identifying metadata to objects.Enter selector in the Selectors field.The selector field defines how the Deployment finds which pods to manage.Enter label in the Label  field.Labels are key/value pairs that are attached to objects, such as pods. You can use Labels to specify identifying attributes of objects that are meaningful and relevant to users, but do not directly imply semantics to the core system. You can also use Labels to organize and to select subsets of objects. You can attach Labels to objects either at the creation time or later. Each object can have a set of key/value labels defined. Each key must be unique for a given object.Optionally, you can edit the pod name in the K8s Pod Name field.This field is auto-populated.Enter value of image pull secrets in the Image Pull Secrets field.You can provide the list of secret names (pre-configured in a Kubernetes cluster by using Kubernetes Docker secret object) to be use by Kubernetes cluster to pull the container images from registries that require authentication.Select DNS policy from the DNS Policy drop-down menu.Under Containers tab, optionally edit the Calm service name in the Calm Service Name field.Optionally, you can edit the K8s service name in the K8s Service Name field.This field is auto-populated.Enter arguments for the container in the Args field.Enter Docker image in the Image field.Select a value from the Image Pull Policy.You can either select Never or Always or IfNotPresent (default).Under Pre Stop Lifecycle, select an action.You can select None (default) or Exec or HTTP Get Action or TCP Socket.This hook is called immediately before a container is terminated. It is blocking, meaning it is synchronous, so it must complete before the call to delete the container can be sent. No parameters are passed to the handler.Under Post Stop Lifecycle, select an action.You can select None (default) or Exec or HTTP Get Action or TCP Socket.This hook runs immediately after a container is created. However, there is no guarantee that the hook runs before the container ENTRYPOINT. No parameters are passed to the handler.Under Container Port, enter the port number in the Port field.Enter name of the port in the Name field.Select protocol from the Protocol drop-down menu.You can either select TCP or UDP.Under Readiness Probe, enter command in the Command field.The kubelet uses readiness probes to know when a Container is ready to start accepting traffic. A pod is ready after all of its Containers are ready. One use of this signal is to control the pods used as backends for Services. When a pod is not ready, it is removed from Service load balancers.Under Resource Limit, enter the cores per CPU in the CPU field.When you specify a pod, you can optionally specify how much CPU and memory (RAM) each Container needs. CPU and memory are each a resource type. A resource type has a base unit. You can specify CPU in units of cores and memory in bytes.Enter the bytes of memory in the Memory field.Under Resource Request, enter the termination message path in the Termination Message Path field.Termination messages provide a way for containers to write information about fatal events to a location where you can easily retrieve and surface these events by tools like dashboards and monitoring software.Under Service tab, optionally you can edit the Calm Published Service Name field.Optionally, you can edit the K8s Service Name field.Select a service type from the Service Type drop-down menu. You can select one of the following.ClusterIP: Exposes the service on a cluster-internal IP. Choosing this value makes the Service only reachable from within the cluster. NodePort: Exposes the service on each node's IP at a static port (the NodePort). A ClusterIP Service, to which the NodePort Service routes, is automatically created. You'll be able to contact the NodePort Service, from outside the cluster, by requesting <NodeIP>:<NodePort>.LoadBalancer: Exposes the service externally using a cloud provider's load balancer. NodePort and ClusterIP Services, to which the external load balancer routes, are automatically created.Enter namespace in the Namespace field.You can use Namespaces in environments with many users spread across multiple teams, or projects.Enter label in the Label  field.Labels are key/value pairs that are attached to objects, such as pods. You can use Labels to specify identifying attributes of objects that are meaningful and relevant, but do not directly imply semantics to the core system. You can also use Labels to organize and select subsets of objects. You can attach Labels to objects at creation time and add or modify at any time. Each object can have a set of key/value labels defined. Each key must be unique for a given object.Enter selector in the Selectors field.The selector field defines how the Deployment finds which pods to manage.Under Port List, enter the port name in the Port Name field.Enter node port in the Node Port field.Enter port number in the Port field.Select protocol from the Protocol drop-down menu.You can either select TCP or UDP.Enter the target port in the Target Port field.To upload the POD specification file in .JSON or .YAML format from your local machine, click against the  icon next to the Pod Name field and upload the specification file.You can also download the POD specification file in .JSON or .YAML format.To edit the uploaded POD specification, click the Spec Editor toggle button and click Edit.The Script Editor page is displayed. You can edit the specification file in .YAML or .JSON format.To save the edited POD specification file, click Done.Click Save.The blueprint is saved and listed under blueprints tab.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Setting up the Service Dependencies Dependencies are used to define the order in which tasks must get executed. Perform the following procedure to set up the service dependency. Dependencies are used to define the order in which tasks must get executed.Before you beginEnsure that at least more than one service must be available. See Adding a Service.Ensure that you have completed the pre-configuration requirements. See Creating a Multi-VM Blueprint.ProcedureSelect the service. Select the dependency icon and drag to the service on which you want to create the dependency.Figure. Create DependencyClick to enlargeWhat to do nextConfigure the application profile. See Adding and Configuring an Application Profile.Adding and Configuring an Application ProfilePerform the following procedure to add and configure an application profile. You must apply the application profile while launching a blueprint.Before you beginEnsure that you have completed the pre-configuration requirements. See Creating a Multi-VM Blueprint.ProcedureClick + icon in the Application Profiles to create an application profile.In the Application Profiles panel, enter the name of the application profile in the Name field.Under the Variable List pane, enter the name and value of the variable. If you want to hide the variable value, check the Secret check-box.What to do nextYou must create an action. See Creating an Action.Adding and Configuring Scale Out and Scale InPerform the following procedure to add and configure the Scale Out and Scale In task.ProcedureAdd a service. See Adding a Service.Configure VM, Package and Service. See Configuring Nutanix and Existing Machine VM, Package, and Service.Add an Application profile. See Adding and Configuring an Application Profile.Under the Application Profile, click + against Actions.Click + Task.Enter the name of the task in the Task Name field.Select Scaling from the Type drop-down menu.Select the type from the Scaling Type drop-down menu.You can select either Scale In or Scale Out.Enter the number in the Scaling Count field.The Scaling out and Scaling in number should be less than the minimum and maximum number of replicas define for the service.Click Save.Click Launch. See Launching a Blueprint.Click Application.The Application page is displayed.Under the Application tab, click on the created application.Click Manage tab.Run the Scale in or Scale out task by clicking the play button.Pre-create TasksPre-create tasks are actions that are performed before a service is provisioned on a blueprint. For example, if you want to assign a static IP addresses to your VMs by using IPAM service, you can create and run a pre-create task to receive the IP addresses before the service is provisioned. It helps to restrict the broadcast traffic to receive the IP addresses for those VMs during the service provision.You can create the following types of pre-create tasks.Execute: Use this task type to run eScripts on a VM.Set variable: Use this task type to change variables in a task. HTTP: Use this task type to query REST calls from a URL. Delay: Use this task type to set a time interval between two tasks or actions.To create a pre-create task, see Creating a Pre-create Task.Creating a Pre-create TaskPerform the following procedure to create a pre-create tasks that are performed before a service is provisioned. Creating a Pre-create TaskPerform the following procedure to create a pre-create tasks that are performed before a service is provisioned. ProcedureIn a multi-VM blueprint editor page, click Pre-create in the VM pane.Select the service on which you want to create the pre-create task.Click + Task.The pre-create task inspector panel is displayed.Optionally, to use tasks from the library, click Browse Library. The Browse Task from Library page appears.In the Browse Task from Library page, click the task you want to use and click Select.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.What to do nextUse this pre-create task to perform the actions before the service is provisioned in a multi-VM blueprint.Post-delete TasksPost-delete tasks are actions that are performed after you delete a service on a multi-VM blueprint. For example, if you want to delete the assigned IP addresses from your VMs, you can create a post-delete task to delete the IP addresses after the service is deleted. It helps to restrict the broadcast traffic to delete the IP addresses for those VMs during the service provisioning.You can create the following types of post-delete tasks.Execute: Use this task type to run eScripts on the VM. Set variable: Use this task type to change variables in a task. HTTP: Use this task type to query REST calls from a URL. Delay: Use this task type to set a time interval between two tasks or actions. To create a post-delete task, see Creating Post-delete Task.Creating Post-delete TaskPerform the following procedure to create a task that is performed after a service is deleted.Creating Post-delete TaskPerform the following procedure to create a task that is performed after a service is deleted.ProcedureClick Post-delete in the VM pane.Select the service on which you want to create the task.Click + Task.The pre-create task inspector panel is displayed.Optionally, to use tasks from the Library, click Browse Library. The Browse Task from Library page appears.In the Browse Task from Library page, click the task you want to use and click Select.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task  type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The created post delete task is available in the VM pane.What to do nextUse this post-delete task to perform the actions after the service is deleted in a multi VM blueprint.Creating an ActionAn action is a set of operations that you can run on your application that are created as a result of running a blueprint. Perform the following procedure to create an action.Before you beginEnsure that at least one service must be available. See Adding a Service.Ensure that you have completed the pre-configuration requirements. See Creating a Multi-VM Blueprint.ProcedureTo create an action, click the + icon in the Actions pane.Select the service on which you want to create the task. Select + Action.The Task inspector panel is displayed.Enter the task name in the Task Name field.Select the action from the Service Actions drop-down menu.Click Save.Select + Task.In the Task panel, enter the name of the task in the Name field.Select the type of the task from the Type drop-down menu. You can select Execute or Set Variable.Select the script from the Script Type drop-down menu and enter the script in the Script field.You can select Shell or EScript.Note: To view the supported list of eScript modules and functions, refer to Supported eScript Modules and Functions.For the Shell and eScript scripts, you can access the available list of macros by using @@{.Enter the output of the script in the Output field. Click Save.Creating a Three-Tier ApplicationThe following procedure describes how to create a three-tier application by using Nutanix Calm. This procedure explains the creation of load balancer, web-application and database as services. The flow of creating services is load balancer, web-application, and database.ProcedureClick the Blueprint iconon the left pane.The Blueprint page is displayed.Click + Create Application Blueprint.Select a project window is displayed.Select the project from the Project drop-down menu.Note: The Cloud options available for the selection depends upon the project that is selected. Click Proceed.Enter the blueprint name in the name field.Following are the rules for naming convention.The name of the blueprint can start with an alphanumeric character or an underscore.The name should have at least one character.Only space, underscore and dash are allowed as special characters.The name should not end with a dash.Click + against the Services  to add a load balancer service.Enter load balancer in the Service Name field.Under the VM tab, enter the name of the VM in the Name field.Select the platform from the Cloud drop-down menu. You can select either Existing Machine or Nutanix or AWS or VMware or GCP.Note: The Cloud options available for the selection depends upon the project that is selected while creating the blueprint. Select the Operating System from the OS drop-down menu.You can select either Windows or Linux.Note: In case the Cloud type is Existing Machine then enter the IP address of the existing machine in the IP Address field and go to Step 26.In the VM Configuration panel, enter the name of the VM in the VM Name field. This name will be used as VM name by the service provider.Select the image from the Image drop-down menu.You can add another image by clicking the + icon. Select the Bootable check-box against the image which you want to use to boot up the VM. Note: The drop-down menu displays the images that are available in the cluster.Select the device from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either SCSI, IDE, PCI or SATA.Enter the number of vCPUs in the vCPUs field.Enter the number of cores per vCPU in the Cores per vCPU field.Enter the required memory in GiB in the Memory field.If customization is required, select the Guest Customization check-box.Select either CloudInIt or SysPrep type.Select CloudInIt for Linux or select SysPrep for Windows.Note: In case of SysPrep, all escape characters need to use double backslash. For example, \\\\v.Enter the script in the Script panel.For example.#cloud-config packages:\n- git\n- vimYou can upload the script by clicking the upload icon.Click + vDisks to add a vDisk.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either SCSI, IDE, PCI or SATA.Enter the size in GiB.Select categories from the Categories drop-down menu.Note: Categories drop-down menu is available only for Nutanix. The drop-down options are populated as configured in the Prism Central.Click + Network Adapters (NICS) to add a network adapter.Select the VGPUS from the VGPUS drop-down menu.This field is applicable only when the VGPUS is configured in the cluster.Select the NIC from the NIC drop-down menu.The NIC drop-down options are populated from the configured cluster.In the Connection panel, enter the credentials.The Address field is populated by default.Select the Check log-in upon create check-box, if you want to check the log in after creation. Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH the connection port is 22 and for Powershell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest-customisation script, IP and all other services to come up before invoking the check login script.Under the Package tab, enter the package name in the Name field.Click Configure install.Click + Task.Enter the task name in the Task Name field.Select the type of task from the Type drop-down menu.You can either select Execute or Set Variable.Select the script type from the Script Type drop-down menu.For the Shell and Escript scripts, you can access the available list of macros by using @@{.You can select either Shell or EScript. See Supported eScript Modules and Functions. Enter the install script in the Script panel. See Load Balancer Installation.Enter the output in the Output field.Click Configure uninstall.Click + Task.Enter the task name in the Task Name field.Select the type of task from the Type drop-down menu.You can either select Execute or Set Variable.Select the script type from the Script Type drop-down menu.For the Shell and Escript scripts, you can access the available list of macros by using @@{.You can select either Shell or EScript. See Supported eScript Modules and Functions. Enter the uninstall script in the Script panel. See Load Balancer Uninstallation.Above the Service tab, enter the name of the service.In the Deployment Configuration pane, enter the number of minimum and maximum service replicas that you want to create in the Min and Max fields.The Min and Max defines the Scale In and Scale Out actions. The Scale In and Scale Out actions cannot scale beyond the defined Min and Max number.In case of an array of three VMs, the minimum number should be defined as three.In the Variables pane, enter the name and value of the Variable in Name and Value field.Select the Secret check-box if you want to hide the value of the variable. In the Port List pane, enter the name, protocol, and port number in the Name, Protocol, and Port fields.Repeat Step 6 to Step 48 to create the web-application service and database service.For installing web-application service, see Web-Application Installation.For uninstalling web-application service, see Web-Application Uninstallation.For installing database service, see Database Installation.For uninstalling database service, see Database Uninstallation.Create dependency from load balancer service to web-application service. See Setting up the Service Dependencies.Create dependency from web-application service to database service.Under the Variable List pane, enter the name and value of the variable. Click + icon in the Actions pane to create an action.Select the service on which the task needs to be created. In the Task panel, enter the name of the task in the Name field.Select the type of the task from the Type drop-down menu.You can select Execute or Set Variable.Select the script from the Script Type drop-down menu and enter the script in the Script field.You can select Shell or EScript.For the Shell and Escript scripts, you can access the available list of macros by using @@{.Enter the output of the script in the Output field. Click Save to save the blueprint.Click Launch.The Launch Blueprint window is displayed.Enter a name for the application in the Name of the Application field.Following are the rules for naming convention.The name of the blueprint can start with an alphanumeric character or an underscore.The name should have at least one character.Only space, underscore and dash are allowed as special characters.The name should not end with a dash.Select an application profile.Expand the VM configuration to verify the configuration of the VM.Expand the Credentials to verify the credentials.In case credentials are not specified for action, task or configuration then the default credentials are used. A blueprint needs to have at least one default credential. Click Create.The application blueprint is shown under the Application tab.Single VM BlueprintsSingle VM blueprint is a framework that you can use to create an instance, provision, and launch applications requiring only a single VM. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application. You can create and configure single VM blueprints for the following providers.Nutanix: For more information to create single VM blueprint for Nutanix, see Configuring Single VM Blueprint for Nutanix.AWS: For more information to create single VM blueprint for AWS, see Configuring Single VM Blueprint for AWS.VMware: For more information to create single VM blueprint for VMware, see Configuring Single VM Blueprint for VMware.GCP: For more information to create single VM blueprint for GCP, see Configuring Single VM Blueprint for GCP.Azure: For more information to create single VM blueprint for Azure, see Configuring Single VM Blueprint for Azure.Configuring Single VM Blueprint for NutanixPerform the following procedure to configure single VM blueprint for Nutanix. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a Nutanix platform.Configuring Single VM Blueprint for AWS Perform the following procedure to configure single VM blueprint for AWS. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on an AWS platform.Configuring Single VM Blueprint for VMwarePerform the following procedure to configure single VM blueprint for VMware. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a VMware platform.Configuring Single VM Blueprint for GCPPerform the following procedure to configure single VM blueprint for GCP. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Configuring Single VM Blueprint for AzurePerform the following procedure to configure single VM blueprint for Azure. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Configuring Single VM Blueprint for Xi CloudYou can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on Xi Cloud provider. Perform the following procedure to configure a single VM blueprint that you want to deploy on a Xi Cloud platform.Configuring Single VM Blueprint for NutanixPerform the following procedure to configure single VM blueprint for Nutanix. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a Nutanix platform.Before you beginEnsure that you have created a project and configured an environment for Nutanix. For more information, see Creating a Project and Configuring Nutanix Environment sections.Note: The Prism web console (also known as Prism Element) must be registered with the Prism Central.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.Click VM Details.The VM Details page is displayed.In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select Nutanix.The cloud options available for the selection depends on the selected project. Ensure that the selected project has Nutanix as the provider.From the Operating System drop-down menu, select either Linux or Windows.Optionally, if you have configured environment during project creation, click Clone from Environment and go to step 12.Note: When you clone the environment details from a project, all the VM details are automatically filled. For more information about environment configuration for Nutanix, see Configuring Nutanix Environment. Click Variables.The Variables page is displayed.Click the + icon to add a variable to the project.Enter a name for the variable in the Name  field.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Click VM Configuration.The VM Configuration page is displayed.In the VM Configuration page, configure the following. Optionally, under General Configuration panel, edit VM name in the VM Name field. Enter the number of vCPUs for the VM in the vCPUs field.Enter the number of cores per vCPU for the VM in the Cores per vCPU field.Enter the required memory of the VM in GiB in the Memory field.Optionally, if you want to customize the default OS properties of the VM, select the Guest Customization check-box and do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Select Cloudinit for Linux or select Sysprep for Windows.Note: For Sysprep, use all escape characters with a double backslash. For example, \\\\v.For Sysprep script, click Join a Domain check box and configure the following fields.Domain Name: Enter the domain name of Windows server. Credentials: From the Credentials drop-down menu, enter a credential for the Windows VM. You can also create new credentials. For more information, see step 22.DNS IP: Enter the IP address of the DNS server.DNS Search Path: Enter the DNS search path for the domain.Select the image from the Nutanix Image drop-down menu.All the images that are uploaded to the Prism Central are available for selection. For more information about image configuration, see Image Management section in the Prism Central guide.You can also add another image by clicking the + icon.Note: The drop-down menu displays the images that are available in the cluster.Select the device from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Select the Bootable check box against the image that you want to use to start the VM.Select one of the following firmware to boot the VM.Legacy BIOS: Select legacy BIOS to boot the VM with legacy BIOS firmware.UEFI: Select UEFI to boot the VM with UEFI firmware. UEFI firmware supports larger hard drives, faster boot time, and provides more security features.(For GPU-enabled clusters only) To configure a vGPU, click the + icon.From the Vendor drop-down menu, select the GPU vendor.From the Device ID drop-down menu, select the device ID of the GPU.From the Mode drop-down menu, select the GPU mode.To add a vDisk, click the + icon.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete or edit vDisks while launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Enter the size in GiB.Select categories from the Categories drop-down menu.Note: Categories field allows you to tag your VM to a defined category in the Prism Central. Based on the Prism Central configuration, the drop-down options are available.If you want to protect your application by a protection policy, select the category which you had created in the Prism Central.To add a network adapter, click the + sign against the Network Adapters (NICS).Select the NIC from the NIC drop-down menu.The NIC drop-down options are available based on the cluster configuration.Note: If you have whitelisted the subnets during project creation, the whitelisted subnets are available for your selection. The cluster details are also displayed based on the selected subnets.Optionally, click Advanced Options and perform the steps from 16 to 27.The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click the Check log-in upon create check box. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS.Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.What to do nextYou can use the blueprint to model your application. For more information, see Blueprints Management.Configuring Single VM Blueprint for AWS Perform the following procedure to configure single VM blueprint for AWS. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on an AWS platform.Before you beginEnsure that you have created a project and configured an environment for AWS. For more information, see Creating a Project and Configuring AWS Environment sections.Note: The Prism web console (also known as Prism Element) must be registered with a Prism Central.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.The cloud options available for the selection depends on the selected project. Ensure that the selected project has AWS as the provider.Click VM Details.The VM Details page is displayed.Optionally, if you have configured environment during project creation, click Clone from Environment and go to step 12.Note: When you clone the environment details from a project, all the VM details are auto filled. For more information about envirment configuration for AWS, see Configuring AWS Environment. In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select AWS.From the Account Id drop-down menu, select the account ID for AWS .From the Operating System drop-down menu, select either Linux or Windows.Click Variables.The Variables page is displayed.Click the + icon to add a variable to the project.Enter a name for the variable in the Name  field.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Click VM Configuration.The VM Configuration page is displayed.In the VM Configuration page, configure the following. In the Instance Name field, enter the instance name for the VM.The service provider uses this name as the VM name.To assign a public IP address to the instance, select Associate Public IP Address check-box.If the Associate Public IP Address check-box is not selected, ensure that Calm and AWS are in the same private network for scripts to run.Select an instance type from the Instance Type drop-down menu.Select region from the Region drop-down menu.Select availability zone from the Availability Zone  drop-down menu.Select machine image from the Machine Image  drop-down menu.Select IAM role from the IAM Role drop-down menu.Select key pairs from the Key Pairs drop-down menu.Select VPC from the VPC drop-down menu.Select Include Classic Security Group check-box to enable security group rules.Select security groups from the Security Groups  drop-down menu.Select subnet from the Subnet drop-down menu.Enter or upload AWS user data in the User Data field.Enter AWS tags in the AWS Tags field.Under storage section, enter size (GiB) and select Volume Type.Select Delete on Termination check-box to delete secondary storage data.Optionally, click Advanced Options and perform the steps from 16 to 27.The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.What to do nextYou can use the blueprint for application deployment. For more information, see Blueprints Management.Configuring Single VM Blueprint for VMwarePerform the following procedure to configure single VM blueprint for VMware. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a VMware platform.Before you beginEnsure that you have created a project and configured an environment for VMware. For more information, see Creating a Project and Configuring VMware Environment sections.You need licenses for both Compute and Storage distributed resource scheduler (DRS) in order to use the VMware DRS Mode.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.The cloud options available for the selection depends on the selected project. Ensure that the selected project has VMware.Click VM Details.The VM Details page is displayed.In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select VMware.From the Operating System drop-down menu, select either Linux or Windows.Click Variables.The Variables page is displayed.Click the + icon to add a variable to the project.Enter a name for the variable in the Name  field.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Click the VM Configuration tab.The VM Configuration page is displayed.In the VM Configuration page, configure the following. Select DRS Mode check-box to enable load sharing and automatic VM placement.DRS (Distributed Resource Scheduler) is a utility that balances computing workloads with available resources in a virtualized environment. For more information about DRS mode, see the VMware documentation. Select the cluster where you want to host your VM from the Cluster drop-down menu.This field is applicable only after you enable DRS Mode.If you have not enabled DRS Mode, select the host name of the VM from the Host drop-down menu.The host name is the primary IP address used to access the VM.Select template from the Template drop-down menu.Templates allow you to create multiple virtual machines with the same characteristics, such as resources allocated to CPU and memory, or type of virtual hardware. Templates save time and avoid errors when configuring settings and other parameters to create new VMs. The VM template retrieves the drop-down options from the configured vCenter.Note: Install the VMware Tools on the Windows templates. For Linux VMs, install Open-vm-tools or VMware-tools and configure the Vmtoolsd service for automatic start-up.Support for Open-vm-tools version 10.1.10.63510 and above is available. When using Open-vm-tools, install Perl for the template. Do not use SysPrepped as the Windows template image.If you select a template that has unsupported version of VMware Tools, then a warning appears stating VMware tool or version is unsupported and could lead to VM issues.You can also edit the NIC type when you use a template.For more information, refer to VMware KBs.Select datastore cluster from the Storage Pod drop-down menu.The datastore clusters are referred as storage pod in vCenter. A datastore cluster is a collection of datastores with shared resources and a shared management interface. Note: This field is applicable only after you enable DRS Mode.Enter the instance name of the VM in the Instance Name field. The service provider uses this name as the VM name.Enter values for vCPUs,Cores per vCPU , and Memory fields.If you have selected a VMware template to create a VM, add a virtual SCSI controller for the template. To add a SCSI controller, select the controller and bus sharing types from the Controller Type and Bus Sharing drop-down menu.For more information about controller and bus sharing types, see VMware documentation.Under Controller, click + icon to add the type of controller.You can select either SCSI or SATA controller.Note: You can add up to four SCSI and four SATA controllers. Under vDisk, click the + icon to add vDisks.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete, or edit vDisks during launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. You can select either CD-ROM or Disk.Select the adapter type from the Adapter Type drop-down menu.You can select IDE for CD-ROM.You can select either SCSI, IDE, or SATA for Disk.Enter the size of the disk in GiB.In the Location field, select the disk location.If you want to add a controller to the vDisk, in the Controller drop-down menu, select the type of controller to attach the disk.Note: You can add either SCSI or SATA controllers. The available controllers for selection is dependent on the Adapter Type.In the Disk mode drop-down menu, select the type of the disk mode.The available options are as follows.Dependent: Dependent disk mode is the default disk mode for the vDisk.Independent - Persistent: Disks in persistent mode behave like conventional disks on your physical computer. All data written to a disk in persistent mode are written permanently to the disk.Independent - Nonpersistent: Changes to disks in nonpersistent mode are discarded when you power off or reset the virtual machine. With nonpersistent mode, you can restart the virtual machine with a virtual disk in the same state every time. Changes to the disk are written to and read from a redo log file that is deleted when you power off or reset.In the Device slot drop-down menu, select the slot to attach the disk.If you have selected Custom specs, enter the details for the VM in the following fields:Hostname: Enter the hostname in the Hostname field.Domain: Enter the domain in the Domain field.Timezone: Select timezone from the Timezone drop-down menu.Hardware clock UTC: Select Hardware clock UTC check-box to enable hardware clock UTC.Network Setting: To add network setting, click the +  icon.DHCP: To automatically configure DHCP server, enable the DHCP check-box and skip to DNS setting.Setting Name: Enter a name for the network configuration you are adding to the VM. Settings name is the saved configuration of your network that you want to connect to your VM.IP Address: Enter the IP address in the IP Address field.Subnet Mask: Enter subnet mask IP address in the Subnet Mask field.Default Gateway: Enter the default gateway in the Default Gateway field.Alternative Gateway: Enter the alternative gateway in the Alternative Gateway field.DNS Primary: Under DNS Settings, enter DNS primary in the DNS Primary field.DNS Secondary: Enter DNS secondary in the DNS Secondary field.DNS Tertiary: Enter DNS tertiary in the DNS Tertiary field.DNS Search Path: Enter DNS search path name in the DNS Search Path field.Note: You can launch a single VM blueprint without a NIC or network adapter with VMware provider.If you have selected Cloud-init, enter the script in the Script field.You can also upload the script by clicking the upload icon.If you do not have any predefined customization available, select a type of customization.The available options are Cloud-init and Custom Specs.From the Predefined Guest Customization drop-down menu, select the guest customization.Click the Enable check-box if you want to use guest customization.Optionally, click Advanced Options and perform the steps from 15 to 26 .The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.What to do nextYou can use the blueprint for application deployment. For more information, see Blueprints Management.Configuring Single VM Blueprint for GCPPerform the following procedure to configure single VM blueprint for GCP. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Before you beginEnsure that you have created a project and configured an environment for GCP. For more information, See Creating a Project and Configuring GCP Environment sections.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.The cloud options available for the selection depends on the selected project. Ensure that the selected project has GCP.Click VM Details.The VM Details page is displayed.In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select GCP.From the Operating System drop-down menu, select either Linux or Windows.Click Variables.The Variables page is displayed.Click the + icon to add a variable to the project.Enter a name for the variable in the Name  field.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Click VM Configuration.The VM Configuration page is displayed.In the VM Configuration page, configure the following. Under VM Configuration panel, optionally you can edit VM name in the Instance Name field. Select zone from the Zone drop-down menu.Select type of machine from the Machine type drop-down menu.Under the Disks section, to add a disk, click the + icon.You can also make the added vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete or edit vDisks during launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select the type of storage from the Storage Type drop-down menu.The available options are as follows.pd-standard: Use this option if you want to use HDD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.pd-ssd: Use this option if you want to use SSD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.Select the image source from the Source Image drop-down menu.The images available for your selection are based on the selected zone. Enter the size of the disk in GB in the Size in GB field.Optionally, under the Disks section, click the Use Existing disk to use an existing disk configuration.Optionally, under the Disks section, click the Delete when instance is deleted to delete the disk configuration after the instance is deleted.Under Networking section, click the + icon to add networking details to the VM.To configure a Public IP address, select the Associate Public IP address check- box and configure the following fields.Network: Select the network from the Network drop-down menu.Subnetwork: Select the sub network from the Subnetwork drop-down menu.Access configuration Name: Enter a name of the network in the Access configuration Name field.Access configuration Type: Select the access configuration type from the Access configuration type drop-down menu.Under the SSH Key, enter or upload the username key data in the Username field.Select Block project-wide SSH Keys to enable blocking project-wide SSH keys.Under Management pane, enter metadata in the Metadata field.Select network tags from the Network Tags drop-down menu.Network tags are text attributes you can add to VM instances. These tags allow you to make firewall rules and routes applicable to specific VM instances. Optionally, to add a label to the VM, enter a key and a value in the Key and Value fields respectively.A label is a key-value pair that helps you organize the VMs created with GCP as the provider. You can attach a label to each resource, then filter the resources based on their labels.Under API Access, enter the service account in the Service Account field.Select either Default or Full Access.Optionally, click Advanced Options and perform the steps from 15 to 26.The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.What to do nextYou can use the blueprint to model your application. For more information, see Blueprints Management.Configuring Single VM Blueprint for AzurePerform the following procedure to configure single VM blueprint for Azure. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Before you beginEnsure that you have created a project and configured an environment for Azure. For more information, see Creating a Project and Configuring Azure Environment sections.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.The cloud options available for the selection depends on the selected project. Ensure that the selected project has Azure.Click VM Details.The VM Details page is displayed.In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select Azure.From the Operating System drop-down menu, select either Linux or Windows.Click Variables.The Variables page is displayed.Click the + icon to add a variable to the project.Enter a name for the variable in the Name  field.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Click VM Configuration.The VM Configuration page is displayed.In the VM Configuration page, configure the following. Under VM Configuration panel, optionally you can edit VM name in the Instance Name field. Select the resource group from the Resource Group drop-down menu.Each resource in Azure must belong to a resource group. A resource group is simply a logical construct that groups multiple resources together so you can manage the resources as a single entity. For example, you can create or delete resources as a group that share a similar life cycle, such as the resources for an n-tier application.Optionally, to create a Resource Group, click the Create Resource Group check-box, and do the following in the respective fields. In the Name field, type a unique name for the resource group.In the Location drop-down menu, select the geographical location of the datacenter that you want to add to the resource group.Under Tags, enter a key and value pair in the Key and Value fields respectively. Tags are key and value pairs that enable you to categorize resources. You can apply a tag to multiple resource groups.If you want to automatically delete a resource group that has empty resources while deleting an application, click the Delete Empty Resource Group check-box. Optionally, select availability set from the Availability Set drop-down menu.An Availability Set is a logical grouping capability that you can use in Azure. It ensures that the VM resources deployed within an Azure datacenter are isolated from each other to provide high availability.Select geographical location of the datacenter from the Location drop-down menu.Select hardware profile according to your hardware requirements from the Hardware Profile drop-down menu.The maximum number of data disks and NICs depends upon the selected hardware profile. For more information, see Azure documentation.Optionally, under Secrets, enter a unique vault ID in the Vault ID field.These certificates are installed on the VM.Optionally, under Certificates, click the + icon and enter the URL of the certificate config in the URL field. This is the URL of a certificate that you upload to the Key Vault as a secret.Under Admin Credentials sections, enter the username in the Username field.Select secret type from the Secret Type drop-down menu.You can either select either Password or SSH Private Key.Do one of the following.If you have selected password, then enter the password in the Password field.If you have selected SSH Private Key then enter or upload the SSH Private Key in the SSH Private Key field.You can use the selected or default credential as the default credential for the VM.You cannot use key based credential for Windows VMs.Username and password must adhere to the complexity requirements of Azure.Optionally, select Auto Updates check-box to indicate that the VM is enabled for automatic updates. This check-box is applicable only for Windows VMs.Optionally, select the Provision VM Agent check-box. Indicates whether virtual machine agent should be provisioned on the virtual machine. When this property is not specified in the request body, default behavior is to set it to true. This ensures that the VM Agent is installed on the VM and the extensions can be added to the VM later.This check-box is applicable only for Windows VMs.Optionally, under Additional Unattended Content, select setting from the Setting Name.You can either select Auto Logon or First Logon Commands.Note: Guest customization is applicable only on images that allows or support guest customization.Enter or upload the xml content. See Sample Auto Logon and First Logon Scripts.Optionally, under WinRM Listeners, select the protocol from the Protocol drop-down menu.You can either select HTTP or HTTPS.Enter or upload the xml content. See Sample Auto Logon and First Logon Scripts.Select the certificate URL from the Certificate URL drop-down menu.This field is only applicable when you select HTTPS as a protocol.Under Storage Profile, select the Use Custom Image check-box to use a custom VM image created in your subscription.Under VM Image Details, select publisher from the Publisher drop-down menu.The Use Managed Disks check-box is enabled by default.Note: This check-box cannot be disabled and all created disks are managed disks.Managed Disks simplifies disk management by managing the storage accounts associated with the VM disks.Under OS Disk Details, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.This field is available only when the Use Custom Image check-box is enabled.Under VM Image Details, select publisher from the Publisher drop-down menu.The Use Managed Disks check-box is enabled by default.Note: This check-box cannot be disabled and all created disks are managed disks.Managed Disks simplifies disk management by managing the storage accounts associated with the VM disks.Under OS Disk Details, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Select disk create option from the Disk Create Option drop-down menu.You can either select Attach or Empty or From Image.Under Data Disk, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Enter the size in GB in the Size field.Enter disk logical unit number (LUN) in the Disk LUN field.Note: The LUN value must be unique across data disk list.Under Network Profiles, add NICs as per your requirement. For each NIC, select security group from the Security Group drop-down menu.Select virtual network from the Virtual Network drop-down menu.Optionally, under Public IP Config, enter name in the Name field.Select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.Enter DNS label in the DNS Label field.Under Private IP Config, select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.If you select Static as Allocation Method, then enter the private IP address in the IP Address field.Optionally, enter tags in the Tags field.Optionally, click Advanced Options and perform the steps from 15 to 26.The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.To add variables to the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.What to do nextYou can use the blueprint to model your application. For more information, see Blueprints Management.Configuring Single VM Blueprint for Xi CloudYou can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on Xi Cloud provider. Perform the following procedure to configure a single VM blueprint that you want to deploy on a Xi Cloud platform.Before you beginEnsure that you have configured DNS in the VPC in the Xi cloud dashboard in the Prism Central.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.Click VM Details.The VM Details page is displayed.In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select Xi.The cloud options available for the selection depends on the selected project. Ensure that the selected project has Xi as the provider.The Availability Zone  field is automatically filled.From the Operating System drop-down menu, select either Linux or Windows.Click VM Configuration.The VM Configuration page is displayed.In the VM Configuration page, configure the following. Optionally, under General Configuration panel, edit VM name in the VM Name field. Enter the number of vCPUs for the VM in the vCPUs field.Enter the number of cores per vCPU for the VM in the Cores per vCPU field.Enter the required memory of the VM in GiB in the Memory field.Optionally, if you want to customize the default OS properties of the VM, select the Guest Customization check-box and do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Select Cloudinit for Linux or select Sysprep for Windows.Note: For Sysprep, use all escape characters with a double backslash. For example, \\\\v.For Sysprep script, click Join a Domain check box and configure the following fields.Domain Name: Enter the domain name of Windows server. Credentials: From the Credentials drop-down menu, enter a credential for the Windows VM. You can also create new credentials. For more information, see step 22.DNS IP: Enter the IP address of the DNS server.DNS Search Path: Enter the DNS search path for the domain.Select the image from the Image drop-down menu.All the images that are uploaded to the Prism Central are available for selection. For more information about image configuration, see Image Management section in the Prism Central guide.You can also add another image by clicking the + icon.Note: The drop-down menu displays the images that are available in the cluster.Select the device from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Select the Bootable check box against the image that you want to use to start the VM.To add a vDisk, click the + icon.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete or edit vDisks while launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Enter the size in GiB.Select categories from the Categories drop-down menu.Note: Categories field allows you to tag your VM to a defined category in the Prism Central. Based on the Prism Central configuration, the drop-down options are available.If you want to protect your application by a protection policy, select the category which you had created in the Prism Central.Under the Network panel, select the VPC from the VPC drop-down menu. For more information about VPC, see Xi Infrastructure Service Admininistration Guide.Optionally, click Advanced Options and perform the steps from 11 to 22.The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click the Check log-in upon create check box. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS.Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.Blueprints ManagementAfter you configure a blueprint, you can publish, unpublish, launch, or delete a blueprint.Publishing a blueprint allows you to make the blueprint available at Marketplace, so that other users can use the published blueprint. Unpublishing a blueprint allows you to remove the blueprint from the Marketplace.Launching a blueprint allows you to deploy your application on the blueprint and start using it.Publishing a BlueprintAfter you configure a blueprint, you must publish and get an approval from the administrator before making the blueprint available at Marketplace. Perform the following procedure to publish a blueprint to the Marketplace Manager.Launching a BlueprintYou must launch the blueprint to deploy an application on the blueprint and start using the application. Perform the following procedure to launch an application.Uploading a BlueprintYou can also upload configured blueprints to the Blueprints tab. Perform the following procedure to upload a blueprint.Downloading a BlueprintYou can also download a configured blueprint to your local machine and use it later. Perform the following procedure to download a blueprint.Configuring a BlueprintPerform the following procedure to configure a blueprint.Viewing a BlueprintPerform the following procedure to view a blueprint.Editing a BlueprintYou can edit a configured blueprint from the blueprints tab. Perform the following procedure to edit a blueprint.Deleting a BlueprintPerform the following procedure to delete a blueprint.Viewing Blueprint ErrorIf you have configured wrong details in your blueprint, you can view the error message while saving or publishing a blueprint. Perform the following procedure to view blueprint error message.Recovering Deleted BlueprintsYou can recover the deleted application blueprints within a time period of 90 days after you delete an application blueprint. This chapter describes the procedure to recover a deleted blueprint.Publishing a BlueprintAfter you configure a blueprint, you must publish and get an approval from the administrator before making the blueprint available at Marketplace. Perform the following procedure to publish a blueprint to the Marketplace Manager.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Click the blueprint that you want to publish.The blueprint editor page is displayed.Click Publish.Figure. Publish Blueprint windowClick to enlargeThe Publish Blueprint window is displayed.If the blueprint is getting published for the first time, select New marketplace item and do the following.To publish the blueprint with secret variables, click the Publish with Secrets toggle-button.Enter the version number in the Initial Version field.Note: Ensure that the version number is in the x.x.x format.Enter the blueprint description in the Description field.If you want to revise a published blueprint version, select New version of an existing marketplace item and do the following.To publish the blueprint with secret variables, enable the Publish with Secrets button.Select the already published blueprint from the Marketplace Item drop-down menu.Enter the version number in the Initial Version field.Note: Ensure that the version number is in the x.x.x format.Enter the blueprint description in the Description field.Enter the log changes in the Change Log field.If you want to upload an icon for the blueprint, click Change. Click Upload from computer to browse and select an image from your local machine.Click Open.Provide a name to the image in the Name of the Icon field.Click the right icon.Click Select & Continue.Note: User with administrator role can only upload an icon.Optionally, if you want to select an icon, already available in a blueprint, click the right icon.Optionally, to delete an icon, click the delete icon.Click Submit for Approval.The published blueprint is available under Marketplace Manager, Approval Pending  tab.What to do nextAfter your blueprint is approved from the administrator, you can launch the blueprint for other users to use. For more information, see Launching a Blueprint.Launching a BlueprintYou must launch the blueprint to deploy an application on the blueprint and start using the application. Perform the following procedure to launch an application.ProcedureClick the Blueprint iconon the left pane. The Blueprint page is displayed.Click the blueprint that you want to launch.The blueprint details page is displayed.Click Launch.The blueprint launch page is displayed.Enter Application name in the Name of the Application field.Select the application profile from the Application Profile field.In case, any of the fields are marked runtime while creating the blueprint, those fields are editable and displayed here. To view the runtime variables, expand the service under VM Configurations.Click Create.The system validates the provided platform-specific data against the selected provider and if the validation fails, an error message appears. To know more about the validation error, see Platform Validation Errors.If the validation is successful, the application is available under the Application tab.Platform Validation ErrorsWhen you enter the platform data that is invalid for a provider while creating a blueprint, you get a validation error. The following table details the invalid platform data for each provider.Platform Validation ErrorsWhen you enter the platform data that is invalid for a provider while creating a blueprint, you get a validation error. The following table details the invalid platform data for each provider.ProvidersInvalid Platform DataNutanixImage, NIC List, and Categories.GCPZone, Machine Type, Disk Type, Network, SubNetwork, Disk Type, Disk Source, Image, Zone, and Blank Disk.AWSVpc, Security Groups, and Subnets.VMwareNetwork name, NIC Type, NIC settings mismatch, Host, Template, Datastore, Datacenter, Storage Pod, and cluster.AzureImage details (publisher, offer, sku, version), Custom image, Resource group, Availability Set Id, NIC List, Network Security group, Virtual Network Name, and Subnet Name.Uploading a BlueprintYou can also upload configured blueprints to the Blueprints tab. Perform the following procedure to upload a blueprint.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Click Upload Blueprint.The browser window is displayed.Browse to the location of the saved blueprint and select the blueprint.Do one of the following.Double-click the selected blueprint.Select and click Open.Figure. Upload BlueprintClick to enlargeThe Upload Blueprint window is displayed.Enter the name of the blueprint in the Blueprint Name field. Select the project from the Project drop-down menu.Click Upload.The blueprint is uploaded and available for use.Note: You must provide the credentials password or key of the blueprint.Downloading a BlueprintYou can also download a configured blueprint to your local machine and use it later. Perform the following procedure to download a blueprint.Before you beginEnsure that at least one blueprint must be available.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Do one of the following.Click the blueprint that you want to download and click Download.Select the blueprint that you want to download and Action > Download.The Download Blueprint dialog box appears.Optionally, if you want to download the blueprint with the credentials and secrets used in the blueprint, click the check box in the Download Blueprint dialog box.In the Enter Passphrase field, type a password.The Enter Passphrase field is a mandatory field and is activated only after you have clicked the check box to download the blueprint with credentials and secrets.Click Continue.The blueprint is downloaded to your local machine.Configuring a BlueprintPerform the following procedure to configure a blueprint.About this taskProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Click the blueprint that you want to configure.The blueprint editor page is displayed.Click Configure.The Blueprint Configuration window is displayed.In the Blueprint Name field, enter a name of the blueprint.In the Blueprint Description field, enter a brief description about the blueprint.Click + against the Downloadable Image Configuration field and configure the following:In the Package Name field, enter the name of the package.In the Description field, enter a brief description about the package.In the Image Name field, enter the name of the image.In the Image Type drop-down menu, select the type of image.In the Architecture drop-down menu, select the architecture.In the Source URI field, enter the source URI to download the image.Note: VMware supports only OVA format.In the Product Name field, enter the name of the product.In the Product Version field, enter the version of the product.Click one of the following:To save the configuration, click Save.To go back to the previous screen, click Back.Viewing a BlueprintPerform the following procedure to view a blueprint.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Click the blueprint that you want to view the details of.The selected blueprints details are displayed.Editing a BlueprintYou can edit a configured blueprint from the blueprints tab. Perform the following procedure to edit a blueprint.ProcedureClick the Blueprint iconon the left pane. The Blueprint page is displayed.Click the blueprint that you want to edit.The blueprint details page is displayed.Make the necessary edits in the layers (Services, Actions, and Application Profiles).Note: You cannot delete System level actions.Click Save.The updated blueprint is saved and listed in the blueprints tab. Deleting a BlueprintPerform the following procedure to delete a blueprint.ProcedureClick the Blueprint iconon the left pane. The Blueprint page is displayed.Select the listed blueprint that you want to delete.Click Actions > Delete.Click Yes to confirm.The blueprint is deleted. Viewing Blueprint ErrorIf you have configured wrong details in your blueprint, you can view the error message while saving or publishing a blueprint. Perform the following procedure to view blueprint error message.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Click the blueprint that you want to view the details.The selected blueprint details are displayed. If there is any error in the blueprint, then the error is denoted by !. Click !.Figure. Blueprint ErrorClick to enlargeThe blueprint errors are displayed.Recovering Deleted BlueprintsYou can recover the deleted application blueprints within a time period of 90 days after you delete an application blueprint. This chapter describes the procedure to recover a deleted blueprint.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.In the search filter field, enter State:Deleted and press Enter.You can view the list of all deleted blueprints based on the 90 days retention period.Click the blueprint that you want to recover.From the Action drop-down menu, select Clone.The Clone Blueprint page appears.In the Blueprint Name field, enter a name for the blueprint and click Clone.The name is used as the blueprint name after recovery.A clone of the deleted blueprint is created and you can view the recovered blueprint in the blueprints page with the new name.Applications UsageThe Applications tab displays the list of all the published applications under the Application tab and the list of brownfield applications under the Brownfield Applications tab as displayed in the following figure. Figure. Applications TabClick to enlargeApplication Tab UsageBrownfield Applications Tab UsageApplication Tab UsageThe Application page provides the following details about an application.Name of the application.Source blueprint of the application.State of an application whether the application is in a running or in an error state.Application creation time.Name of the application owner.Time duration when the application was created.Date of the last update of the application.The cost of an application for last 30 days.Following are the different application level actions.CreateStartRestartStopDeleteSoft deleteInstall NGT applicationsManage NGT applicationsUninstall NGT applicationsCreate, restore, and delete snapshotsCloning an applicationCreate action cannot be performed after the blueprint is created. All other application level actions barring create can be performed according to the application state.You can get details about an application by clicking the application as shown in the following figure. The application page consists of the following tabs.Note: Advanced application actions like creating, restoring, or deleting snapshots, editing, or cloning of an application for single VM blueprint are available for Nutanix, VMware, and AWS providers.Figure. Application Page Click to enlargeThe application page displays the following states of the application based on the actions you perform on the Manage tab.Provisioning: This state is displayed when you start an application.Running: This state is displayed if the application is deployed and running after the provisioning state.Stopping: This state is displayed if you have initiated an operation to stop the application.Stopped: This state is displayed after the application is stopped.Restarting: This state is displayed if you have initiated an operation to restart the application after the application is stopped.Deleting: This state is displayed if you have initiated an operation to delete the application.Deleted: This state is displayed after you have deleted the application.Busy: This state is displayed if you have installed the NGT services on the VMs of an application.Updating: This state is displayed if you are editing an application.Error: This state is displayed if the application goes to error state due to any action you have performed in the Manage tab.Failover-in-progress: This state is displayed if you have initiated a failover operation on Prism Central for the protected VMs of an application. Failover-failed: This state is displayed if the failover operation for the VMs has failed. The failure state may occur mainly because of the following conditions.If there is any error from the Prism CentralIf there is no NIC attached to the VM when you configure the recovery plan for the protected VMNote: The Failover-in-progress and Failover-failed states are only applicable for the applications running on the Nutanix platform.Overview TabManage TabMetrics TabRecovery Points TabSnapshots TabAMIs TabServices TabAudit TabAdvanced Application ActionsExecuting User Level ActionsYou can define and create custom or user-level actions while configuring a blueprint. Perform the following procedure to run the user-level actions.Executing System Level ActionsSystem-level actions are pre-defined actions that you can run on an application. Perform the following procedure to execute the system-level actions.Overview TabThe Overview tab comprises of the following panels.Application DescriptionVariablesCost SummaryApp SummaryApp StatusVM InfoTable 1. Overview TabPanelDescriptionApplication DescriptionDisplays the application description.VariablesDisplays the variable list used to create the blueprint. You can also copy the variables by clicking the copy icon next to the variable.Cost SummaryDisplays the total cost, current cost for each hour, and the cost incurred in a month for the resources running in the blueprint. The cost summary panel also displays a graphical representation of the incurred cost.Note: The Cost Summary panel is applicable for Nutanix and VMware providers.App SummaryDisplays the following application details.Application UUID: Displays a unique identification code for the application. UUID is automatically generated after the application is created and in running state.Blueprint: Displays the blueprint from which the application is created.Cloud: Displays the cloud provider icon that hosts the application.Project: Displays the project that is added to the application.Owner: Displays the role of the user.Created On: Displays the date and time when the application was created.Last Updated On: Displays the date and time when the application was last updated.App StatusThis panel displays the summary of virtual machines (VMs). The panel displays the number of VMs that are in the following state.OnBusyErrorOffVM infoThis panel displays the following VM details of the application.Name: Displays the VM name.IP Address: Displays the IP address of the VM.Image: Displays the image from which the VM is created.vCPUs: Displays the number of vCPU allocated to the VM.Cores: Displays the number of cores allocated to the VM.Memory: Displays the total memory allocated to the VM.Network Adapter: Displays the network adapters used in the VM. You can use the down arrow key to view the details of the network adapter.Categories: Displays the categories added to the VMs. You can use the down arrow key to view the details of the network adapter.Manage TabThe Manage  tab lists the system generated and user-created actions that can be performed on the application as shown in the following figure. When you click any of the listed actions, the action dependencies are displayed in the editor. Figure. Manage TabClick to enlargeThe following system-generated actions can be performed on an application.Create: Creates an application but cannot be performed once the blueprint is created.Start: Starts an application.Restart: Restarts an application.Stop: Stops an application.Delete: Deletes an application including the underlying VMs on the provider side.Soft Delete: Deletes the application from the Nutanix Calm environment but does not delete the VMs on the provider side.Install NGT: Installs NGT service on your VM. To install NGT on your VM, see Installing NGT Apps.Manage NGT: Manages NGT services for your application. You can enable or disable SSR or VSS services. The self-service restore (SSR) allows virtual machine administrators to do a self-service recovery from the Nutanix data protection snapshots with minimal administrator intervention. For more information, see Self-Service Restore section in the Prism Web Console Guide. Volume Shadow Copy Service (VSS; also known as Shadow Copy or Volume Snapshot Service) creates an application-consistent snapshot for a VM and is limited to consistency groups consisting of a single VM.Uninstall NGT: Uninstalls NGT services from the VM. For more information, see Uninstalling NGT Apps.Nutanix guest tools (NGT) is a software bundle that you can install in a guest virtual machine (Microsoft Windows or Linux) to enable the advanced functionalities provided by Nutanix. For more information on NGT, see the Nutanix Guest Tool section in the Prism Web Console Guide.Note: NGT services are only applicable for single VM applications running with Nutanix as provider.For Kubernetes, the start, stop, and restart actions are disabled.The action performed on an application is also displayed in the inspector panel. To view the detailed course of the action, click action.Metrics TabThe Metrics tab allows you to view performance metrics of the VM. The Metrics tab displays a section on the left with a list of metrics. Note: Metrics tab is only applicable for single VM blueprint running with Nutanix as provider.The identified anomalies are based on VM behavioral machine-learning capabilities.Clicking a metric displays a graph on the right. (Some metrics have multiple graphs.) The graph is a rolling time interval performance or usage monitor. The baseline range (based on the machine-learning algorithm) appears as a blue band in the graph. Placing the cursor anywhere on the horizontal axis displays the current value. To set the time interval (last 24 hours, last week, last 21 days), select the duration from the pull-down list on the right. Note: The machine-learning algorithm uses 21 days of data to monitor performance. A graph does not appear for less than 21 days of data.To create an alert for this VM based on either behavioral anomalies or status thresholds, click the Set Alerts link above the graph.The following table describes the available metrics. Table 1. Metrics Tab FieldsMetricDescriptionCPU usageDisplays the percentage of CPU capacity currently the VM is using (0\u2013100%). CPU ready TimeDisplays the current, high, and low percentage of CPU ready time (0\u2013100%).Memory usageDisplays the percentage of memory capacity currently the VM is using (0\u2013100%). I/O BandwidthDisplays separate graphs for total, write (only), and read (only) I/O bandwidth used per second (Mbps or KBps) for physical disk requests by the VM.I/O LatencyDisplays separate graphs for total, write, and read average I/O latency (in milliseconds) for physical disk requests by the VM.IOPSDisplays separate graphs for total, write, and read I/O operations per second (IOPS) for the VM.UsageDisplays separate graphs for current, snapshot, and shared storage usage (in GiBs) by the VM.Working set sizeDisplays separate graphs for total, write, and read storage usage (in GiBs) for the VM working set size.Network packets droppedDisplays separate graphs for the number of transmitted and received packets dropped.Network bytesDisplays separate graphs for the amount of transmitted and received bytes (in GiBs).Recovery Points TabThe Recovery Points tab allows you to view the captured snapshots, restore applications from snapshots, and delete the snapshots for an application. Note: This tab is only applicable for single VM blueprints running with Nutanix as the provider.Table 1. Recovery Points Tab FieldsFieldsDescriptionNameDisplays the name of the snapshots. Creation TimeDisplays the date and time of the snapshot creation.LocationDisplays the location where the snapshot was taken. Expiration TimeDisplays the expiration time of the snapshot.Recovery Point Type Displays whether the snapshot type is application-consistent or crash-consistent.Snapshots TabThe Snapshot tab allows you to view the captured snapshots, restore applications from snapshots, and delete the snapshots for an application. Note: This tab is only applicable for single VM blueprints running with VMware as the provider.Table 1. Recovery Points Tab FieldsFieldsDescriptionIDDisplays the ID of the snapshots. Snapshot IDs are unique and automatically generated when you take a snapshot.NameDisplays the name of the snapshot.DescriptionDisplays the description of the snapshot. ParentDisplays the parent blueprint application from which the snapshot is taken.Creation TimeDisplays the date and time when the snapshot is taken.AMIs TabThe AMIs tab allows you to view the captured snapshots, restore applications from snapshots, and delete the snapshots for an application. Note: This tab is only applicable for single VM blueprints running with AWS as the provider.Table 1. Recovery Points Tab FieldsFieldsDescriptionIDDisplays the ID of the snapshots. Snapshot IDs are unique and automatically generated when you take a snapshot.NameDisplays the name of the snapshot.DescriptionDisplays the description of the snapshot. Creation TimeDisplays the date and time when the snapshot is taken.Services TabThe Services tab lists the included services in the application as displayed in the following figure. You can select the service to view the configuration details in the service inspector panel.Note: Service tab is only applicable for multi-VM applications.Figure. Services TabClick to enlargeAccessing Web SSH ConsolePerform the following procedure to run shell commands on a web SSH console for a service.Accessing Web SSH ConsolePerform the following procedure to run shell commands on a web SSH console for a service.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application.The Overview tab is displayed.Under the Service tab, click the service.Click Open Terminal.Figure. Web SSH ConsoleClick to enlargeThe web SSH console is displayed.Audit TabThe Audit tab lists the action or actions that are performed on an application as displayed in the following figure. To view the detailed course of the action, click action.Figure. Audit TabClick to enlargeAdvanced Application ActionsNutanix Calm allows you to use advanced actions for applications running on single VM blueprints with Nutanix as provider. The advanced actions include the following.Using snapshotsCloning an applicationUsing NGT functionalitiesLaunching consoleInstalling NGT AppsNutanix Guest Tools (NGT) is a software bundle that you can install in a guest virtual machine (Microsoft Windows or Linux) to enable the advanced functionality provided by Nutanix. For more information about NGT, see the Nutanix Guest Tool  section in the Prism Web Console Guide. Perform the following procedure to install NGT services on your VM. NGT services are only applicable for AHV clusters.Managing NGT AppsAfter you install NGT service on a VM, you can either enable or disable VSS and SSR services by using the Manage NGT Apps play button. To know more VSS and SSR services, see the Nutanix Guest Tools section in the Prism Web Console Guide.Uninstalling NGT AppsIf you do not want to recover application details after the host VM becomes unavailable, uninstall the NGT application. Perform the following procedure to uninstall NGT services for your application.Taking Snapshots on a Nutanix ClusterPerform the following procedure to take application-consistent or crash-consistent snapshots. Crash-consistent snapshots and application-consistent snapshots are used to capture and recover all of the VM and application level details. However, application-consistent snapshots can also capture all data stored in the memory and transactions in process.Taking Snapshots on a VMware PlatformA snapshot preserves the state and data of a virtual machine at a specific point in time. You can take a snapshot of a virtual machine at any time and revert to that snapshot to recreate the application from that time. For more information, see the VMware Documentation. Perform the following procedure to take a snapshot.Taking Snapshot on an AWS PlatformRestoring VM Details from Snapshots on a Nutanix ClusterYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots.Restoring VM Details from Snapshots on a VMware PlatformYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots.Restoring VM Details from Snapshots on an AWS PlatformYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots. Ensure that you have captured the snapshots for an application. Deleting Application SnapshotsPerform the following procedure to delete the snapshots taken for the VM under an application.Creating an Image on a Nutanix ClusterAn image is a template for creating new instance or VM. Calm allows you to create images from an existing single or multi VM application running on a Nutanix platform. Perform the following procedure to create an image from an existing application.Cloning of an ApplicationPerform the following procedure to make a clone of an application. The cloned application has the same VM configuration as the source application from which it is cloned.Updating the VM Configuration of an Application on a Nutanix ClusterYou can edit the VM configuration parameters, for example, vCPU, Cores per vCPU, or memory details of an application. Perform the following procedure to edit an application.Updating the VM Configuration of an Application on a VMware PlatformYou can edit and update the properties of an application like VM configuration, controllers, disks, or network adapters running on a VMware platform. Perform the following procedure to edit an application running on a VMware platform. Updating the VM Configuration of an Application on an AWS PlatformYou can edit and update the properties of an application like VM configuration, controllers, disks, or network adapters running on an AWS platform. Perform the following procedure to edit an application running on an AWS platform.Updating Actions and Credentials of an ApplicationYou can add or update the credential, custom actions, post delete tasks, package uninstall tasks of an application from the Overview tab of an application. Perform the following procedure to update actions and credentials of an application.Deleting an ApplicationYou can delete the unwanted applications from the Applications tab. Perform the following procedure to delete an application.Installing NGT AppsNutanix Guest Tools (NGT) is a software bundle that you can install in a guest virtual machine (Microsoft Windows or Linux) to enable the advanced functionality provided by Nutanix. For more information about NGT, see the Nutanix Guest Tool  section in the Prism Web Console Guide. Perform the following procedure to install NGT services on your VM. NGT services are only applicable for AHV clusters.Before you beginEnsure that NGT requirements and limitations are met. For more information, see the Nutanix Guest Tools Requirements and Limitations section in Prism Web Console Guide.Ensure that you have configured the cluster virtual IP address.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to install NGT on.The Overview tab is displayed.Under Manage tab, click the Install NGT Apps play button.The Install NGT Apps screen appears.Optionally, to restore desired files from the VM, click the Enable Self Service Restore (SSR) check box.The self-service restore (SSR) allows virtual machine administrators to do a self-service recovery from the Nutanix data protection snapshots with minimal administrator intervention. For more information, see Self-Service Restore section in the Prism Web Console Guide.The Self-Service Restore feature is enabled for the VM.Optionally, to enable VSS, click the Enable Volume Snapshot Service (VSS) check box. Volume Shadow Copy Service (VSS; also known as Shadow Copy or Volume Snapshot Service) creates an application-consistent snapshot for a VM and is limited to consistency groups consisting of a single VM. Enabling VSS allows you to take application-consistent snapshots.Do one of the following:To restart the VM after NGT installation, click Restart as soon as the install is completed.To skip the restart of the VM after VM installation, click Skip restart.Click Enter Credentials and do the following.In the User name field, enter user name.In the Password field, enter the password.Do one of the following.To install NGT, click Done.To mount the NGT on the VM and install it later, click Skip and Mount.If NGT is already mounted on a VM, to unmount the NGT from the VM, click Unmount. To cancel NGT installation, click Cancel.What to do nextAfter you install NGT, you can take application-consistent or crash-consistent snapshots. For more information, see Taking Snapshots on a Nutanix Cluster.Managing NGT AppsAfter you install NGT service on a VM, you can either enable or disable VSS and SSR services by using the Manage NGT Apps play button. To know more VSS and SSR services, see the Nutanix Guest Tools section in the Prism Web Console Guide.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application on which you want to manage NGT services.The Overview tab is displayed.Under Manage tab, click the Manage NGT Apps play button.The Manage NGT Apps screen appears.Under the Manage NGT Apps scree, click the Enable or Disable button to enable or disable self-service restore or volume snapshot service respectively.Click Confirm.The changes are saved and you can use the NGT services based on your selection.What to do nextYou can restore application details from the snapshots. For more details, see Restoring VM Details from Snapshots on a Nutanix Cluster. Uninstalling NGT AppsIf you do not want to recover application details after the host VM becomes unavailable, uninstall the NGT application. Perform the following procedure to uninstall NGT services for your application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to install NGT on.The Overview tab is displayed.Under Uninstalling NGT tab, click the Uninstall NGT Apps play button.A confirmation message appears to uninstall NGT.Click Uninstall.NGT Apps is uninstalled from the VM.Taking Snapshots on a Nutanix ClusterPerform the following procedure to take application-consistent or crash-consistent snapshots. Crash-consistent snapshots and application-consistent snapshots are used to capture and recover all of the VM and application level details. However, application-consistent snapshots can also capture all data stored in the memory and transactions in process.Before you beginEnsure that you have installed NGT Apps to take application-consistent snapshots.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to take snapshots.The Overview tab is displayed.Click Snapshot.The Snapshot screen appears.In the Snapshot name field, enter a name for the snapshot.Click the type of snapshot. You can select either Application consistent or Crash consistent or both.Note: You can take application-consistent snapshots after you have installed NGT Apps with VSS service enabled. For more information about snapshots, see the Nutanix Guest Tools section in the Prism Web Console GuideClick Save.The saved snapshots are available under Recovery Points tab.What to do nextYou can recover the VM details for an application from the captured snapshots. For more information about recovering application level information, see Restoring VM Details from Snapshots on a Nutanix Cluster.Taking Snapshots on a VMware PlatformA snapshot preserves the state and data of a virtual machine at a specific point in time. You can take a snapshot of a virtual machine at any time and revert to that snapshot to recreate the application from that time. For more information, see the VMware Documentation. Perform the following procedure to take a snapshot.About this taskNote: Ensure that the VMware Tool is installed and the VM is in powered on state to take the quiesce snapshots.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to take snapshots.The Overview tab is displayed.Click Snapshot.The Snapshot screen appears.In the Snapshot Name field, enter a name for the snapshot.Optionally, in the Snapshot Description field, enter a brief description about the snapshot.Optionally, click one of the following options.Snapshot VM's Memory: Use this option to capture the memory of the virtual machine and the power settings. Memory snapshots take longer to create, but allow reversion to a running virtual machine state as it was when the snapshot was taken Enable Snapshot Quiesce: Use this option to pause or alter the state of running processes on the virtual machine and take consistent and usable backup. When you quiesce a virtual machine, VMware Tools quiesce the file system in the virtual machine. The quiesce operation pauses or alters the state of running processes on the virtual machine, especially processes that might modify information stored on the disk during a restore operation.By default, Snapshot VM's Memory is selected. If you do not select any option, a crash-consistent snapshot is created, which you can use to reboot the virtual machine. For more information, see the VMware Documentation.Click Save.The saved snapshots are available under Snapshots tab.What to do nextYou can recover the VM details for an application from the captured snapshots. For more information about recovering application level information, see Restoring VM Details from Snapshots on a Nutanix Cluster.Taking Snapshot on an AWS PlatformAbout this taskYou can back up the data on your Amazon EBS volumes to Amazon S3 by taking point-in-time snapshots. Snapshots are incremental backups, which means that only the blocks on the device that have changed after your most recent snapshot are saved. For more information, see AWS Documentation. Perform the following procedure to take a snapshots on a AWS platform.Before you beginEnsure that the you have an AWS account with the privilege to take snapshot. For more information, see Configuring AWS User Account with Minimum Privilege and AWS Policy Privileges sections.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to take snapshots.The Overview tab is displayed.Click Snapshot.The  Save Snapshot screen appears.In the AMI Name field, enter a name for the snapshot.Optionally, in the AMI Description field, enter a brief description about the snapshot.Optionally, click the No Reboot check-box to avoid shutting down the Amazon EC2 instance before creating the image.Click Save.The saved snapshots are available under the AMI tab.Restoring VM Details from Snapshots on a Nutanix ClusterYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots.Before you beginEnsure that you have captured the snapshots for an application. For more details, see Taking Snapshots on a Nutanix Cluster.Note: A restored VM or a cloned VM does not have NGT service installed even if the snapshot or the source VM has NGT service installed.Restore operation for a VM fails if the snapshot is configured with static IP address and IP pool is not configured.When you perform a restore operation with a snapshot having static IP address configured, the restored VM comes up with a new IP address from the IP pool specified in IPAM. To ensure that the restored VM has the same static IP address as the old VM,remove the NIC that has this static IP address configured from the old VM, and attach the configuration to the new restored VM. If there is a failure during restore operation, perform an update operation on the VM to ensure that the VM is in valid state. ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to restore the VM details from the snapshots.The Overview tab is displayed.Click the Recovery Points tab.The Recovery Points tab lists all the snapshots taken for the applications.Click Restore next to a snapshot from which you want to restore the VM.A confirmation message appears to restore the VM details.Click Confirm.The application is restored from the snapshot in a new VM and the existing VM moves to power off state.Optionally, to delete the existing VM after restoring the application, click the Delete existing VM after restore check-box.Restoring VM Details from Snapshots on a VMware PlatformYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots.Before you beginEnsure that you have captured the snapshots for an application. For more details, see Taking Snapshots on a VMware Platform.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to restore the VM details from the snapshots.The Overview tab is displayed.Click the Snapshots tab.The Snapshots tab lists all the snapshots taken for the applications.Click Restore next to a snapshot from which you want to restore the VM.A confirmation message appears to restore the VM details.Click Confirm.The application is restored from the snapshot in the same VM.Restoring VM Details from Snapshots on an AWS PlatformYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots. Ensure that you have captured the snapshots for an application. Before you beginEnsure that you have captured the snapshots for an application. For more details, see Taking Snapshot on an AWS Platform.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to restore the VM details from the snapshots.The Overview tab is displayed.Click the AMIs tab.The AMIs tab lists all the snapshots taken for the applications.Click Restore next to a snapshot from which you want to restore the VM.A confirmation message appears to restore the VM details.Click Confirm Restore.The restore action creates a new VM from the snapshot that has the same configuration as the source application with a different IP address.Deleting Application SnapshotsPerform the following procedure to delete the snapshots taken for the VM under an application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to delete the snapshots.The Overview tab is displayed.Do one of the following.If your application is deployed in a Nutanix cluster, click the Recovery Points tab.If your application is deployed in a VMware platform, click the Snapshots tab.If your application is deployed in an AWS platform, click the AMI tab.Click the Delete button next to the snapshot you want to delete.Click Confirm.The snapshot is deleted.Creating an Image on a Nutanix ClusterAn image is a template for creating new instance or VM. Calm allows you to create images from an existing single or multi VM application running on a Nutanix platform. Perform the following procedure to create an image from an existing application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application from which you want to create an image.The Overview tab is displayed.Click Create Image.The Create Image screen appears.Click the check-box next to the disk from which you want to create an image.If the application has multiple disk images available, you can also select multiple disks. Under the Image Details section, type a name and a description for the new image in the Name and Description fields respectively.If you have selected multiple disk images, repeat the steps for all the Image Details sections.Click Save.The new image is created and available in the Image drop-down menu under the VM Configuration section. You can use the image while creating a single or multi VM application.Cloning of an ApplicationPerform the following procedure to make a clone of an application. The cloned application has the same VM configuration as the source application from which it is cloned.About this taskNote: You can make a clone of an application if you are using Nutanix, VMware, or AWS as your provider.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application on which you want to make a clone.The Overview tab is displayed.Click Clone.The Clone screen appears.In the Cloned Application Name field, enter a name for the cloned application.In the Description field, enter a brief description about the cloned application.Do one of the following.To clone the application, click Save.To go back to the previous screen, click Cancel.After you successfully cloned an application, you can view the link to the cloned application in the audit log of the source application.Note: In a Nutanix cluster, a restored VM or a cloned VM has NGT service installed if the snapshot or the source VM has NGT service installed.What to do nextClick the link of the cloned application to view the overview tab of the cloned application. To view the source application, click the Clone From field in the overview tab. Updating the VM Configuration of an Application on a Nutanix ClusterYou can edit the VM configuration parameters, for example, vCPU, Cores per vCPU, or memory details of an application. Perform the following procedure to edit an application.About this taskNote: If you want to edit an application after cloning from a source application, the edit operation fails if the source application has static IP address configured. When you edit an application, the CD-ROM attached to mount NGT services is removed.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to edit.From the Update drop-down menu, select Update VM Configuration or under the Manage tab, click Update VM Configuration.The Update screen is displayed.Under the VM Configuration section, you can update the following fields.vCPUsCore per vCPUMemory (GiB)Under Disks section, you can edit the following.To add another vDisk, click the + icon.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Enter the disk size of the vDisk in GiB.Note: You cannot decrease the vDisk size during editing an application.Under VGPUs section, you can edit the following.To add another VGPU, click the + icon.Select the vendor form the Vendor drop-down menu.Select the device ID from the Device ID drop-down menu.Select the mode of graphics from the Mode drop-down menu.Do one of the following.To save the edited application, click Update.To go back to the previous screen, click Cancel.The edited application is saved in the Application  tab.Updating the VM Configuration of an Application on a VMware PlatformYou can edit and update the properties of an application like VM configuration, controllers, disks, or network adapters running on a VMware platform. Perform the following procedure to edit an application running on a VMware platform. About this taskNote: If there is a mismatch of the NICs or Network setting count after updating an application and you try to clone the application, the cloned application fails. You cannot add or delete the application properties simultaneously.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to edit.From the Update drop-down menu, select Update VM Configuration or under the Manage tab, click Update VM Configuration.The Update screen is displayed.Under the VM Configuration section, you can update the following fields.vCPUsCore per vCPUMemory (GiB)Under the Controllers section, you can add, edit, or delete the SCSI or SATA controllers.Note: You cannot delete a controller if it is attached to a disk.Under Disks section, you can edit the following.To add a vDisk, click the + icon.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the adapter type from the Adapter Type drop-down menu.You can select IDE if you have selected the device type as CD-ROM.You can select either SCSI, IDE, or SATA if you have selected the device type as Disk.Enter the disk size of the vDisk in GiB.From the Location field, select the VM datastore to store the disk details.Note: You can also edit the disk size and disk mode. However, decreasing the disk size of a saved configuration is not allowed.You can delete a saved disk. However, you cannot add and delete the disks simultaneously.Under the Network Adapter section, use the + icon to add a network card and configure the following. From the Adapter Typefield, select the network adapter. For more information, see the VMware Documentation.From the Networks field, select the network.If you are updating the Network Adapter section, you can only change the Networks field. Do one of the following.To save the edited application, click Update.To go back to the previous screen, click Cancel.The edited application is saved in the Application  tab.Updating the VM Configuration of an Application on an AWS PlatformYou can edit and update the properties of an application like VM configuration, controllers, disks, or network adapters running on an AWS platform. Perform the following procedure to edit an application running on an AWS platform.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to edit.From the Update drop-down menu, select Update VM Configuration or under the Manage tab, click Update VM Configuration.The Update screen is displayed.Under the Network and Security section, you can update the instance type from the Instance Type drop-down menu.The Availability Zone, Machine Image, Region, Key Pairs, and VPC fields are automatically selected and you can not update these fields.To update the IAM role, select the role from the IAM Role drop-down menu.To enable the security group rule, select the Include Classic Security Group check-box.From the Security Groups  drop-down menu, select security groups.To add tags to the application, add the key and value pair in the Key and Value fields respectively.To update the storage of the application, enter the memory in GB in the Size(GiB) field.To change the volume type of the storage device, select the type from the Volume Type drop-down menu.Do one of the following.To save the edited application, click Update.To go back to the previous screen, click Cancel.The edited application is saved in the Application  tab.Updating Actions and Credentials of an ApplicationYou can add or update the credential, custom actions, post delete tasks, package uninstall tasks of an application from the Overview tab of an application. Perform the following procedure to update actions and credentials of an application.About this taskNote: For this release, support for credential or action update is not available for the applications running on Xi cloud. Dynamic variables are runtime editable by default, but you cannot mark variable as runtime editable if you add the variables while updating an application. ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to update the credential or actions.From the Update drop-down menu, select Update Actions and Credentials.The Update screen is displayed.In the Credentials and Connection area, click Edit.The Credentials and Connection page is displayed.To add a credential, click Add Credential and do the following.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH private key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.To delete an existing credential, click Delete against the credential.Note: You can also update the user name or password of an existing credential. However, if you have logged on as an operator, you can only update the password.Under Connection, to update the credential and check the logon status after creating the application, select the credential from the Credentials drop-down menu.You can update the credential to check the logon status only if you have enabled the Check log-in upon create field while configuring the blueprint.Optionally, to add a post delete task for the application, in the Post Deletearea, click Edit. For more information see Creating Post-delete Task.Optionally, to create a task to uninstall a package, click Edit next to the Package area and do the following.Click + Task.Enter the task name in the Task Name field.To create the type of task, select the type from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.To add variables to the post delete task, click the  Package Uninstall Variables tab.In the Variables pane, click the + icon to add variable typesIn the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are automatically filled.Select the Secret check-box if you want to hide the value of the variable. To save the package uninstall task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.You can delete a task only while adding a new task. If you are updating the existing task, you cannot delete the task.Optionally, to add another action to the application, click + Add Action next to the Actions area and do the following.Click + Add Task.The task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The task is created.To add another task, click Add Task in the task editor area.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the task, click the Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the task, click Done.To save the updated credentials and tasks for the application, click Update.Deleting an ApplicationYou can delete the unwanted applications from the Applications tab. Perform the following procedure to delete an application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Select the check-box against the application that you want to delete.The Action drop-down menu is displayed at the top of the Application page.Select Delete from the Action drop-down menu.Delete Application window is displayed.Click Confirm.The application is deleted from the Application tab.Executing User Level ActionsYou can define and create custom or user-level actions while configuring a blueprint. Perform the following procedure to run the user-level actions.Before you beginEnsure that you have created a custom action during configuring a blueprint.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to run a user-level action.The Overview tab is displayed.Under the Manage tab, click the action that is created by the user.The custom action starts running for the application.Executing System Level ActionsSystem-level actions are pre-defined actions that you can run on an application. Perform the following procedure to execute the system-level actions.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to execute a system generated action.The Overview tab is displayed.Under the Manage tab, click one of the following type of action. Create: Creates an application but cannot be performed once the blueprint is created.Start: Starts an application.Restart: Restarts an application.Stop: Stops an application.Delete: Deletes an application including the underlying VMs on the provider side.Soft Delete: Deletes the application from the Nutanix Calm environment but does not delete the VMs on the provider side.Install NGT Apps: Installs NGT services for your application. To install NGT, see Installing NGT Apps.Manage NGT Apps: Manages NGT services for your application . You can enable or disable app-consistent and crash-consistent snapshots. For more information, see Managing NGT Apps.Uninstall NGT Apps: Uninstalls NGT services from the VM. For more information, see Uninstalling NGT Apps.Brownfield Applications Tab UsageBrownfield applications are created to manage existing VMs that are currently not managed by Nutanix Calm. The Brownfield Applications page provides the following details about the draft brownfield applications.Name of the application.State of an application whether the application is in a running or in an error state.The count of the application.Time duration when was the application created.Last update of an Application.The associated projects name.You can create and launch a brownfield application blueprint from the blueprints tab. You need administrator privilege to create a brownfield application. For information about how to create brownfield application, see Creating Brownfield Application.Figure. Brownfield Applications TabClick to enlargeNote: Brownfield applications do not support to take a snapshot.Creating Brownfield ApplicationBrownfield applications are created to manage existing VMs that are currently not managed by Nutanix Calm. Perform the following procedure to create brownfield application.Launching Brownfield ApplicationYou must launch the configured brownfield applications to be managed by Nutranix Calm. Perform the following procedure to launch a brownfield application.Creating Brownfield ApplicationBrownfield applications are created to manage existing VMs that are currently not managed by Nutanix Calm. Perform the following procedure to create brownfield application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the Brownfield Applications tab.The Brownfield Application page is displayed.Click + Create Brownfield Application.The Brownfield Import window is displayed.Enter the blueprint application name in the Name field. Optionally, enter a description about the application in the Description field.Select a project from the Project drop-down menu.Click Proceed.The brownfield application editor page is displayed.To add a service, click + against the service.Enter the service name in the Service Name field.Select one of the following type of deployment.Greenfield: Select this option if all the existing VMs are manged by Nutanix.Brownfield: Select this option if the existing VMs are currently not managed by Nutanix.If you have selected Brownfield, then do the following.Select the VMs from the Select Machines drop-down menu.Select Add New Credential  from the Credential drop-down menu.Note: Ensure that the credential is same for all the VMs.Enter the credential name in the Credential Name field.Enter the user name in the Username field. Do one of the following.Select password from the Secret field and enter password in the Password field.Select key from the Secret field and enter or upload the key in the Key  field.Click Done.If you have selected Greenfield, then configure the VM, package, and service. To configure VM, package, and service refer to Configuring Multi-VM, Package, and Service.Click Save.The brownfield application is created and listed under the Brownfield Application list.What to do nextLaunch the brownfield application from the Applications tab. For more information, see Launching Brownfield Application.Launching Brownfield ApplicationYou must launch the configured brownfield applications to be managed by Nutranix Calm. Perform the following procedure to launch a brownfield application.Before you beginEnsure that you have created the brownfield applications. For more information, see Creating Brownfield Application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the Brownfield Applications tab.The Brownfield Application page is displayed.Click the brownfield application that you want to launch.The blueprint details page is displayed.Click Launch.The brownfield application page is displayed and the application is listed under the Applications tab.Library UsageThe Library tab lists all the published user-defined tasks and the created variable types to be used across multiple blueprints. Under the Library page, the Tasks tab provides the following details about a task.Task nameTask typeTask ownerCreated onLast updated onUnder the Library page, users can create custom variable types for added flexibility and utility. Beyond just string and integer data types, users can now create other data types such as Date/Time, list and multi-line string. List values can be defined as a static list of values or attach a script, for example, eScripts or HTTP tasks, to retrieve the values dynamically at runtime. To create a variable type, see Creating Variable Types.Figure.  LibraryClick to enlargeOperations Using Library TabFollowing are the operations, you can perform by using the Library tab.Creating Variable TypesPerform the following procedure to create variable types so that you can use these types of variables during blueprint creation. You can also share the created variable types across multiple projects.Deleting a Task from the Task LibraryYou can delete unwanted tasks from the Library. The deleted tasks can no longer be used in any project while configuring a blueprint. Perform the following procedure to delete a task from the task library.Adding Projects to a TaskYou can add tasks to a project so that you can use the tasks while configuring blueprints for the selected project. Perform the following procedure to add a project to a task from the library.Creating Variable TypesPerform the following procedure to create variable types so that you can use these types of variables during blueprint creation. You can also share the created variable types across multiple projects.ProcedureClick the Library iconon the left pane.Click the Variable Types tab.Under Variable Types page, click + Add Variable Types .The Create Variable Type  screen appears.From the Projects drop-down menu, select the project and click Done.Note: While creating a custom variable type, you must select a project. However, you can share the variable types with multiple other projects using Share option as explained in step 17 and 18.All the users of the same project can use the variable types while creating a blueprint.In the Name field, enter a name for the variable type.In the Description field, enter a brief description about the variable type.From the Select Base Type drop-down menu, select the base type for the variables. The base type defines the type of variable used while configuring a blueprint. You can select one of the following types of variable. StringIntegerListMulti-line stringDateTimeDate TimeIf you want to test the Regex values, click the Add Regex Validation check-box and then click Test Regex.Note: You can enter Regex values in PCRE format. For more details, see from http://pcre.org/.Test Regex screen appears.Provide the value for the Regex in the Value  field.To test the Regex expression, click Test Regex.Optionally, if you want to hide the value of the variables, select the Secret check-box.Select one of the following options for the variable value.PREDEFINED: Use this option to assign static values.ESCRIPT: Use this option to attach a script that is run to retrieve values dynamically at runtime. Script can return single or multiple values depending on the selected base data type.HTTP: Use this option to retrieve values dynamically from the defined HTTP end point. Result is processed and assigned to the variable based on the selected base data type.If you have selected the variable value type as PREDEFINED, enter the value for the variable in the Value field.To add multiple values for the variable, click + Add Option and enter values in the Option field. This field is only applicable for PREDEFINED values.Note: If you want to make any value as default, click Default against the value.If you have selected the variable value type as ESCRIPT, enter the eScript in the field.You can also upload the script from the library or from the computer by clicking the upload icon.You can also publish the script to the library by clicking the publish button.Note: You cannot add macros to eScripts.If you have selected Multiple Input (Array) checkbox with input type as eScript, then ensure that the script returns a list of values separated by comma. For example, CentOS, Ubuntu, Windows.If you have selected the variable type as HTTP, configure the following fields.Request URL: In the Request URL field, enter the URL of the server that you want to run the methods on.Request Method: In the Request Method drop-down menu, select one of the following request methods. The available options are GET, PUT, POST, and DELETE.Request Body: In the Request Body field, enter the PUT request. You can also upload the PUT request by clicking the upload icon.Content Type: In the Content Type drop-down menu, select the type of the output format. The available options are XML , JSON, and HTML.Connection Timeout (sec): In the Connection Timeout (sec) field, enter the timeout interval in seconds.Authentication: Optionally, if you have selected authentication type as BASIC, enter the user name and the password in the User name and Password fields respectively.SSL Certificate Verification: If you want to verify SSL certificate for the task, click the SSL Cerificate Verification field.Retry Count: Enter the number of attempts the system performs to create a task after each failure. By default, the retry count is zero. It implies that the task creation procedure stops after the first attempt.Retry Interval: Enter the time interval in seconds for each retry if the task fails.Headers: In the Header area, enter the HTTP header key and value in the Key and Value fields respectively. If you want to publish the HTTP header key and value pair as secret, click the Secrets fields.Response Code: Enter the response code for the selected response status.Response Status: Select either Success or Failure as the response status for the task.Set Response Path for Variable: Enter the variables from the specified response path. The example of json format is $.x.y and xml format is //x/y. For example, if the response path for variable is $.[*].display for response.[\n    {\n        \"display\": \"HTML Tutorial\",\n        \"url\": \"https://www.w3schools.com/html/default.asp\"\n    },\n    {\n        \"display\": \"CSS Tutorial\",\n        \"url\": \"https://www.w3schools.com/css/default.asp\"\n    },\n    {\n        \"display\": \"JavaScript Tutorial\",\n        \"url\": \"https://www.w3schools.com/js/default.asp\"\n    },\n    {\n        \"display\": \"jQuery Tutorial\",\n        \"url\": \"https://www.w3schools.com/jquery/default.asp\"\n    },\n    {\n        \"display\": \"SQL Tutorial\",\n        \"url\": \"https://www.w3schools.com/sql/default.asp\"\n    },\n    {\n        \"display\": \"PHP Tutorial\",\n        \"url\": \"https://www.w3schools.com/php/default.asp\"\n    },\n    {\n        \"display\": \"XML Tutorial\",\n        \"url\": \"https://www.w3schools.com/xml/default.asp\"\n    }\n]Then, during the launch time the drop-down options are [\"HTML Tutorial\",\"CSS Tutorial\",\"JavaScript Tutorial\",\"jQuery Tutorial\",\"SQL Tutorial\",\"PHP Tutorial\",\"XML Tutorial\"].Click Save.The Variable is saved to the Library.Optionally, if you want to share the variable type with other projects, click Share.The Share Variable Type screen appears.To share the saved variable with other projects, from the Select projects to share with drop-down menu, select the projects and click Done.What to do nextUse this variable type while define variables in a blueprint. For more details, see Blueprints Usage.Deleting a Task from the Task LibraryYou can delete unwanted tasks from the Library. The deleted tasks can no longer be used in any project while configuring a blueprint. Perform the following procedure to delete a task from the task library.ProcedureClick the Library iconon the left pane.The Tasks tab displays the list of all the published tasks.Select the task you want to delete.The task inspector panel appears.Click Delete.The task is deleted from the Library.Adding Projects to a TaskYou can add tasks to a project so that you can use the tasks while configuring blueprints for the selected project. Perform the following procedure to add a project to a task from the library.ProcedureClick the Library iconon the left pane.The Tasks tab displays the list of all the published tasks.Select the task that you want to assign to a project.The task inspector panel appears.Select project from the Project drop-down menu.Click Save.The task is added to the project.Runbook UsageRunbook is a framework to automate routine tasks and procedures which pan across multiple applications without the involvement of a blueprint or an application. For more information, see Runbooks Overview.After you click the Runbooks icon on the left pane, you can view the Runbooks and Execution History tabs. The following sections describe the detail usage of these tabs. Runbook Tab UsageThe Runbook tab displays the following details of all the available runbooks. Figure. RunbooksClick to enlargeTable 1. Runbook Field DescriptionFieldsDescriptionNameDisplays the name of the runbook.Project Displays the associated project with the runbook.StateDisplays whether the runbook is in active or inactive state.Execution HistoryDisplays the total number of executions of the runbook.Created ByDisplays the name of the runbook creator. Last Executed AtDisplays the time when the runbook was last executed.Last Updated AtDisplays the time when the runbook was last updated.You can also do the following actions in the Runbooks page.Create a new runbook. For more information, see Creating a Runbook.Search for a runbook by typing the name in the Search field. Upload a runbook from your local machine by clicking the Upload Runbook button. Delete a runbook. For more information, see Deleting a Runbook.Execution History Tab UsageThe Execution History tab displays the following details of all the runbooks executions.Figure. Execution HistoryClick to enlargeTable 2. Execution History Field DescriptionFieldsDescriptionNameDisplays a summary of the name, date, and time of the runbook that was executed.Runbook Name Displays the name of the runbook that was executed.Started AtDisplays the date and time of the runbook execution.Ended AtDisplays the date and time when the runbook execution was completed.Completed InDisplays the time duration for the runbook to complete the execution process. Executed ByDisplays the role who initiated the runbook execution.StateDisplays the following states of the runbook execution.Running: This status is displayed when the runbook execution is running.Success: This status is displayed after the runbook execution is successful.Error: This status is displayed after the runbook execution process encounters an error and the process is not successfully completed.Abort: This status is displayed if you have aborted the runbook execution process.You can search for a runbook by typing the name in the Search field. Creating a RunbookA runbook is a collection of tasks that you can define to run sequentially at different endpoints. Perform this procedure to create a runbook.Executing a RunbookPerform the following procedure to execute a runbook..Deleting a RunbookPerform the following procedure to delete a runbook.Creating a RunbookA runbook is a collection of tasks that you can define to run sequentially at different endpoints. Perform this procedure to create a runbook.ProcedureClick the Runbooks icon  on the left pane.Click Create Runbook.The Create Runbook page is displayed.In the Create Runbook page, do the following the respective fields.Name: Type a name for the runbook. Description: Type a brief description about the runbook.Project: From the Project drop-down menu, select a project that you want to add to the runbook. If you do not select any project, the default project is selected.Endpoint(Optional): Optionally, from the Endpoint drop-down menu, select a default endpoint. The default endpoint is used if no endpoint is selected at the task level. You can add an endpoint either in the Create Runbook page, or in the Editor tab, or in the Configuration tab.Click Proceed.The Editor  tab is displayed.In the Editor tab, click +Add Task and do the following.In the Task Name field, type a name for the task.From the Type drop-down menu, select the type of the task. You can select one of the following type of tasks.Execute: Use this task to run Shell, PowerShell, and eScript (custom python) scripts.Set Variable: Use this task to run a script and create variables.Delay: Use this task to set a delay interval between two tasks or actions.HTTP: Use this task type to do REST calls to an HTTP endpoint.While Loop: Use this task type to iterate over multiple tasks until the defined condition is met. Decision: Use this task type to define different flows/paths based on the exit condition.If you have selected the task type as Execute or Set Variable, do the following.In the Script Type drop-down menu, select one of the following type of script.ShellPowerShelleScriptFor shell, PowerShell, and eScript scripts, you can access the available list of macros by using @@{.Optionally, from the Endpoint drop-down menu, select an endpoint on which you want to run the task. You can also create an endpoint by selecting the Add New Endpoint option from the drop-down menu. For more information, see Creating an Endpoint.If no endpoint is selected, then the default endpoint for the runbook is used.Optionally, if you want to override the credential for the task, select an existing credential from the Credential drop-down menu.Note: The Credential field is not applicable if you have selected the script type as eScript. Optionally, if you want to create a new credential for the endpoint, select Add New Credential from the Credential drop-down menu, do the following in the indicated fields and click Done.Credential Name: Type a name for the credential in the Credential Name field. After the credential is saved, the new credential name is available for selection in the Credential drop-down menu.User Name: Type a user name in the User Name field.Secret Type: Select either Password or SSH Private Key  as the secret type.Password: If you have selected the secret type as Password, type the password.SSH Private Key : If you have selected the secret type as SSH Private Key, type or upload the SSH private key.In the Script panel, you can either enter or upload the script that you want to execute.If you want to test the script in Calm playground, click Test script.Nutanix Calm playground allows you to test a script by running and reviewing the output and making required changes.The Test Script page is displayed.Under the Authorization tab, enter the following fields.IP Address : Enter the IP address of the test machine.Port : Enter the port number of the test machine.Credential : Select the credential from the drop-down menu.User name : Enter a user name.Password : Enter a password.To save the details, click Done.Click Login and Test.The Test script page is displayed.You can also view your script in the Source Script field.Optionally, you can edit your script in the Source Script field.If you are using macros in your script, provide the variable values in the macro inspector panel and click Assign and Test.Click Test.The test result is displayed in the Output field.To go back to the previous screen, click Done.To publish this task to the task library, click Publish to Library.The task is published to the Library and you can browse and use the task while creating a runbook. If you have selected the task type as Delay, do the following.In the Sleep Interval field, enter the sleep time interval in seconds for the task.The delay task type is created. You can use the task type to set a delay interval between two tasks or actions.If you have selected the task type as HTTP, do the following.Optionally, select the endpoint where you want to execute the HTTP task from the Endpoint drop-down menu.In the Relative URL field, enter the URL of the server on which you want to run the methods.In the Request Method drop-down menu, select one of the following request methods.GET: Use this method to retrieve data from a specified resource.PUT: Use this method to send data to a server to update a resource. In the Request Body field, enter the PUT request. You can also upload the put request by clicking the upload icon.POST: Use this method to send data to a server to create a resource. In the Request Body field, enter the POST request. You can also upload the post request by clicking the upload icon.DELETE: Use this method to send data to a server to delete a resource. In the Request Body field, enter the DELETE request. You can also upload the delete request by clicking the upload icon. In the Content Type drop-down menu, select the type of the output format.The available options are XML , JSON, and HTML.In the Header area, enter the HTTP header key and value in the Key and Value fields respectively. If you want to publish the HTTP header key and value pair as secret, click the Secrets fields.In the Expected Response Options area, enter the details for the following fields:Response Status: Select either Success or Failure as the response status for the task.Response Code: Enter the response code for the selected response status.Note: If the response code is not defined, then by default all the 2xx response codes are marked as success and any other response codes are marked as failure.Set Variables from response: Enter the variables from the specified response path. The example of json format is $.x.y and xml format is //x/y. For more information about json path syntax, see http://jsonpath.com.Note: To retrieve the output format in HTML format, add a * in the syntax.If you want to test the script in the Calm playground, click Test script.Calm playground allows you to test a script by running and reviewing the output and making required changes.Click Test.The test result is displayed in the Output field.If you have selected the task type as While Loop, do the following in the indicated fields.Iterations: Type the number of times you want to iterate the task till the task meet a condition.Exit Condition: Select a condition after which the task iteration stops. The available options are as follows.Success: Select this option if you want to stop the task iteration after the status of the task is success.Failure: Select this option if you want stop the task iteration after the status of the task is failure.Don't care: Select this option if you want to continue the task iteration irrespective of the status of the task.Loop Variable: Enter a variable name that can be consumed to get the current iteration count in the children tasks of the while loop.If you have selected the task type as Decision, the task is further subdivided in to either a True or False condition. Repeat the steps from 7 to 12 for each condition.Optionally, if you want to add a credential, or variables, or an endpoint, click the Configuration tab.Optionally, to add a credential in the Configuration tab, click Add/Edit Credentials and do the following.If you want to use an existing credential, select the credential you want to use for the runbook.If you want to create a new credential for the runbook, click Add Credentials and do the following in the respective fields.Credential Name: Type a name for the credential in the Credential Name field.User Name: Type a user name in the User Name field.Secret Type: Select either Password or SSH Private Key  as the secret type.Password: If you have selected the secret type as Password, type the password.SSH Private Key : If you have selected the secret type as SSH Private Key, type or upload the SSH private key.Click Done.Note: The credential added in the Configuration tab overrides the credential added in the endpoint.Optionally, to add a credential in the Configuration tab, click Add/Edit Variable and do the following in the Variables page.If you want to use an existing variable, select the variable you want to use for the runbook.If you want to create a new variable, click Add Variable. For more information see, Creating Variable Types.Optionally, to add an endpoint, select the endpoint from the Endpoints drop-down menu.Note: The endpoint added in the Configuration tab supersedes the endpoint added in the Editor tab.Click SaveThe runbook is created and is available under the Runbooks tab.What to do nextYou can execute the runbook. For more information, see Executing a Runbook.Executing a RunbookPerform the following procedure to execute a runbook..Before you beginEnure that you have created a runbook.ProcedureClick the Runbooks icon  on the left pane.Click the runbook that you want to execute.Click Execute.The Execute Runbook page appears.Optionally, if you want to change the default endpoint for the execution, select an endpoint form the Endpoints drop-down menu.Optionally, if you want to update the added variable in the Runbook, click the respective variable field and edit the variable.Note: You can update the variable only if the variable is marked as runtime editable while adding the variable in the Runbook.Click Execute.The runbook execution starts and you are directed to the Runbook execution page. You can view all the executions in the Execution History tab. For more information, see Runbook Usage.Deleting a RunbookPerform the following procedure to delete a runbook.Before you beginYou must have the role of developer++.ProcedureClick the Runbooks icon  on the left pane.Click the runbook that you want to delete.From the Action drop-down menu, select Delete.The runbook is deleted from the runbook list.Endpoints UsageEndpoints are the target resources where the defined tasks in a runbook are run. The endpoints are communicated by using IP addresses, host names, port tuple, and different protocol attributes. After you click the Endpoints icon on the left pane, the endpoints page displays the following details. Figure. EndpointsClick to enlargeTable 1. Endpoints Field DescriptionFieldsDescriptionNameDisplays the name of the endpoint.Type Displays the type of the endpoint. The endpoint is either a Linux machine, or a Windows machine, or an HTTP endpoint DescriptionDisplays the description of the endpoint.ProjectDisplays the associated project of the endpoint.Created ByDisplays the name of the endpoint creator. StateDisplays whether the endpoint is active or inactive.Last Updated AtDisplays the time when the endpoint was last updated.You can create an endpoint by clicking the Create Endpoint button. You can also upload an endpoint from your local machine by clicking the Upload Endpoint. Creating an EndpointEndpoints are the target resources where the defined tasks in a runbook are run. Perform the following procedure to create an endpoint.Deleting an EndpointPerform the following procedure to delete a runbook.Creating an EndpointEndpoints are the target resources where the defined tasks in a runbook are run. Perform the following procedure to create an endpoint.ProcedureClick the Endpoints icon  on the left pane.Click Create Endpoint.The Create Endpoint page is displayed.In the Create Endpoint page, do the following in the respective fields.Name: Type a name for the endpoint.Description: Enter a brief description about the endpoint.Project: From the Project drop-down list, select the project you want to add to the endpoint. If you have not selected any project, the default project is added.Type: Select the type of the endpoint. You can select either Windows, or Linux, or HTTP as the endpoint type.If you have selected Windows as the endpoint type, do the following in the respective fields.IP Address: Enter the IP address to access the endpoint device. Connection Type: By default, the connection type is Powershell for Windows and this field is non editable. Connection protocol: Select the connection protocol to access the endpoint. You can select either HTTP or HTTPS. Port: Type the port number to access the endpoint.If you have selected Linux as the endpoint type, do the following in the respective fields.IP Address: Enter the IP address to access the endpoint device. Connection Type: By default, the connection type is SSH for Linux and this field is non editable. Port: Type the port number to access the endpoint.Optionally, if you want to add a credential to access the endpoint, do the following under Credential.In the Username field, type a username for the endpoint credential.From the Secret Type drop-down, select either one of the following.Password: Select this option if you want to use a password based authentication method.SSH Private Key: Select this option if you want to use a SSH key based authentication methodIf you have selected Password as the secret type, enter the password in the respective field.If you have selected SSH Private Key as the secret type, enter or upload the SSH private key in the respective field.Optionally, to protect the private key with a password, click Add Passphrase to add the password.If you have selected HTTP as the endpoint type, do the following.In the Base URL field, enter the base URL of the HTTP endpoint. A base URL is the consistent part of the endpoint URL.Optionally, to verify the URL of the HTTP endpoint with a TLS certificate, click the Verify TLS Certificate check-box. Use this option to securely access the endpoint.In the Retry Count field, enter the number of attempts the system performs to create a task after each failure.By default, the retry count is zero. It implies that the task creation procedure stops after the first attempt.In the Retry Interval field, enter the time interval in seconds for each retry if the task fails.In the Connection Timeout field, enter the time interval in seconds after which the connection attempt to the endpoint stops.Optionally, to add a authentication method to connect to an HTTP endpoint, select Basic from the Type  field and do the following.In the Username field, type a username to authenticate the endpoint.In the Password field, type a password to authenticate the endpoint.By default, the authentication method to access an HTTP endpoint is None.Click Save.The endpoint is saved. You can view the endpoint in the Endpoints page.What to do nextYou can add the endpoint to a runbook. For more details, see Creating a Runbook.Deleting an EndpointPerform the following procedure to delete a runbook.Before you beginYou must have the role of developer++.ProcedureClick the Endpoints icon  on the left pane.Click the endpoint that you want to delete.From the Action drop-down menu, select Delete.The end is deleted from the endpoints list.Taking Backup and Restoring Calm DataCalm allows you to take a backup of the entire Calm data to a specified location in your machine and restore the data to a new PC in case of PC failure. Perform the following procedure to take backup and restore Calm data.ProcedureLog on to the Calm container by using the SSH session and the run the following command.docker exec -it nucalm bashThe Calm data binary is available in the /home/calm/bin folder.In the SSH terminal, change the directory to the Calm container by running the following command. # cd /home/calm/binCreate a folders to store the backed up data.To take a backup of the Calm data, run the following command. # calmdata backup --dump-folder <folder>The default folder is located in /tmp/default path. Replace folder with the new folder.Note: Ensure that the directory created is empty and the backup directory has only calmdata tar file dumpTo restore the backed up Calm data, log onto the new Prism Central with the session and run the following command.# calmdata restore --dump-folder <folder> The default folder is located in /tmp/default path. Replace folder with the new folder.Note: Applications, blueprints, or projects which have been provisioned on the local Prism Element through the Prism Central might not work properly.", "Heading_Keywords": ["use", "nutanix", "calm"]}, {"Heading": "Marketplace Usage", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-marketplace-tab-intro-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The Marketplace tab displays a set of pre-seeded application blueprints that are available for your usage. The marketplace is a common platform for both the publisher and the consumer. The marketplace allows you to provision an application instantly. For more information, see Marketplace Overview.To see the video about publishing application blueprints from the marketplace, click here.Figure. MarketplaceClick to enlargeOperations Using Marketplace TabFollowing are the operations that you can perform by using Marketplace tab. Before using any operation in the Marketplace tab, ensure that you have enabled Marketplace Apps in the Settings tab. For more information, see Enabling Nutanix Marketplace Applications.Enabling Nutanix Marketplace ApplicationsYou can view and launch the marketplace applications after you enable them from the settings tab. Perform the following procedure to enable Nutanix Marketplace applications.Viewing Application DetailsBefore using an application, you can get the required information about the application blueprint by viewing the application details. Application details provide information such as application overview and application-level actions.Filtering Application BlueprintsPerform the following procedure to filter the application blueprints according to the category.Searching an Application BlueprintPerform the following procedure to search an application blueprint.Cloning an Application BlueprintYou can clone an application blueprint from a pre-seeded application blueprint. Perform the following procedure to clone an application blueprint.Launching a Marketplace ItemYou must launch a marketplace item to start using it. You can launch an application blueprint from the Marketplace Manager tab or from the Marketplace tab. Perform the following procedure to launch an application blueprint.Enabling Nutanix Marketplace ApplicationsYou can view and launch the marketplace applications after you enable them from the settings tab. Perform the following procedure to enable Nutanix Marketplace applications.ProcedureLog on to Prism Central as an administrator.Click Services > Calm.Click the Settings icon  on the left pane.Under the General tab, click the Nutanix Marketplace Apps toggle button. The application blueprints are available for usage under the Marketplace tab.What to do nextYou can launch the pre-seeded market place application. For more information, see Launching a Marketplace Item.Viewing Application DetailsBefore using an application, you can get the required information about the application blueprint by viewing the application details. Application details provide information such as application overview and application-level actions.ProcedureLog on to Prism Central as an administrator.Click Services > Calm.Click Marketplace icon  on the left pane.The Marketplace page is displayed.Click the application blueprint to view the application details.Figure. Application DetailsClick to enlargeThe Application Details page is displayed.Filtering Application BlueprintsPerform the following procedure to filter the application blueprints according to the category.ProcedureLog on to Prism Central as an administrator.Click Services > Calm.Click Marketplace icon  on the left pane.The Marketplace page is displayed. Click the application blueprints category drop-down menu and select the applications category that you want to view. The Marketplace page displays all the available applications according to the selected category. Searching an Application BlueprintPerform the following procedure to search an application blueprint.ProcedureLog on to Prism Central as an administrator.Click Services > Calm.Click Marketplace icon  on the left pane.The Marketplace page is displayed.Enter the name of the application that you want to search in the Search field. If the application is available in the marketplace, then the application is displayed in the Marketplace page.Cloning an Application BlueprintYou can clone an application blueprint from a pre-seeded application blueprint. Perform the following procedure to clone an application blueprint.ProcedureLog into Prism Central as an administrator.Click Services > Calm.Click Marketplace icon  on the left pane.The Marketplace page is displayed.Click the application blueprint that you want to clone.The Application details page is displayed.Click Clone.The application blueprint clone page is displayed.Enter the name of the cloned application blueprint.Select the project that you want to assign to the cloned application blueprint from the Project drop-down menu.Click Clone.The Blueprint tab lists the cloned application blueprint.Launching a Marketplace ItemYou must launch a marketplace item to start using it. You can launch an application blueprint from the Marketplace Manager tab or from the Marketplace tab. Perform the following procedure to launch an application blueprint.Before you beginEnsure that the marketplace items are enabled and published.ProcedureLog on to Prism Central as an administrator.Click Services > Calm.Click the Marketplace icon  on the left pane.The Marketplace page is displayed.Click the application that you want to launch.The Application Details page is displayed.Click Launch.The Launch Blueprint window is displayed.Select the project from the Project drop-down menu.Note: Ensure that you have configured the environment variable. Environment is mandatory to publish the applications into the marketplace. For more information, see Configuring Environments.Click Launch.The Application Blueprint launch window is displayed.Enter a name for the application in the Name of the Application field.Following are the rules for naming convention.The name of the blueprint can start with an alphanumeric character or an underscore.The name must have at least one character.Use only space, underscore, and dash as special characters.Do not end the name with a dash.Select an application profile.Note: Application profile provides different combinations of the service, package, and VM while configuring a blueprint. If the showback is enabled, the application profile also displays the service cost of the resources used for an application. You must select an application profile when you launch a blueprint. Expand the VM configuration field to verify the configuration of the VM.Expand the Credentials field to verify the credentials.If you do not specify credentials for an action, task, or configuration, use the default credentials. A blueprint must have at least one default credential.Click Create.The application blueprint is displayed under the Application tab.", "Heading_Keywords": ["marketplac", "usag"]}, {"Heading": "Enabling Nutanix Marketplace Applications", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-settings-enabling-marketplace-apps-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You can view and launch the marketplace applications after you enable them from the settings tab. Perform the following procedure to enable Nutanix Marketplace applications.ProcedureLog on to Prism Central as an administrator.Click Services > Calm.Click the Settings icon  on the left pane.Under the General tab, click the Nutanix Marketplace Apps toggle button. The application blueprints are available for usage under the Marketplace tab.What to do nextYou can launch the pre-seeded market place application. For more information, see Launching a Marketplace Item.", "Heading_Keywords": ["enabl", "nutanix", "marketplac", "applic"]}, {"Heading": "Viewing Application Details", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-marketplace-viewing-application-details-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Before using an application, you can get the required information about the application blueprint by viewing the application details. Application details provide information such as application overview and application-level actions.ProcedureLog on to Prism Central as an administrator.Click Services > Calm.Click Marketplace icon  on the left pane.The Marketplace page is displayed.Click the application blueprint to view the application details.Figure. Application DetailsClick to enlargeThe Application Details page is displayed.", "Heading_Keywords": ["view", "applic", "detail"]}, {"Heading": "Filtering Application Blueprints", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-marketplace-filtering-applications-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Perform the following procedure to filter the application blueprints according to the category.ProcedureLog on to Prism Central as an administrator.Click Services > Calm.Click Marketplace icon  on the left pane.The Marketplace page is displayed. Click the application blueprints category drop-down menu and select the applications category that you want to view. The Marketplace page displays all the available applications according to the selected category. ", "Heading_Keywords": ["filter", "applic", "blueprint"]}, {"Heading": "Searching an Application Blueprint", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-searching-application-blueprint-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Perform the following procedure to search an application blueprint.ProcedureLog on to Prism Central as an administrator.Click Services > Calm.Click Marketplace icon  on the left pane.The Marketplace page is displayed.Enter the name of the application that you want to search in the Search field. If the application is available in the marketplace, then the application is displayed in the Marketplace page.", "Heading_Keywords": ["search", "applic", "blueprint"]}, {"Heading": "Cloning an Application Blueprint", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-cloning-application-blueprint-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You can clone an application blueprint from a pre-seeded application blueprint. Perform the following procedure to clone an application blueprint.ProcedureLog into Prism Central as an administrator.Click Services > Calm.Click Marketplace icon  on the left pane.The Marketplace page is displayed.Click the application blueprint that you want to clone.The Application details page is displayed.Click Clone.The application blueprint clone page is displayed.Enter the name of the cloned application blueprint.Select the project that you want to assign to the cloned application blueprint from the Project drop-down menu.Click Clone.The Blueprint tab lists the cloned application blueprint.", "Heading_Keywords": ["clone", "applic", "blueprint"]}, {"Heading": "Launching a Marketplace Item", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-marketplace-launching-application-blueprint-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You must launch a marketplace item to start using it. You can launch an application blueprint from the Marketplace Manager tab or from the Marketplace tab. Perform the following procedure to launch an application blueprint.Before you beginEnsure that the marketplace items are enabled and published.ProcedureLog on to Prism Central as an administrator.Click Services > Calm.Click the Marketplace icon  on the left pane.The Marketplace page is displayed.Click the application that you want to launch.The Application Details page is displayed.Click Launch.The Launch Blueprint window is displayed.Select the project from the Project drop-down menu.Note: Ensure that you have configured the environment variable. Environment is mandatory to publish the applications into the marketplace. For more information, see Configuring Environments.Click Launch.The Application Blueprint launch window is displayed.Enter a name for the application in the Name of the Application field.Following are the rules for naming convention.The name of the blueprint can start with an alphanumeric character or an underscore.The name must have at least one character.Use only space, underscore, and dash as special characters.Do not end the name with a dash.Select an application profile.Note: Application profile provides different combinations of the service, package, and VM while configuring a blueprint. If the showback is enabled, the application profile also displays the service cost of the resources used for an application. You must select an application profile when you launch a blueprint. Expand the VM configuration field to verify the configuration of the VM.Expand the Credentials field to verify the credentials.If you do not specify credentials for an action, task, or configuration, use the default credentials. A blueprint must have at least one default credential.Click Create.The application blueprint is displayed under the Application tab.", "Heading_Keywords": ["launch", "marketplac", "item"]}, {"Heading": "Marketplace Manager Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-marketplace-manager-tab-intro-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The Marketplace Manager tab allows you to manage the list of custom blueprints and the marketplace application blueprints. You can view the list of published blueprints under the Marketplace Blueprints tab and the list of blueprints that are pending for approval under the Approval Pending tab. The marketplace manager page provides the following details about a blueprint. Name of the blueprint.Name of the entity who created the blueprint.The number of projects for which the blueprint is available.The category of the blueprint.Status of the blueprint.Figure. Marketplace ManagerClick to enlargeAfter you select a blueprint, the inspector panel displays the operations you can perform on the selected blueprint. The inspector panel also displays a brief overview of the blueprint and allows you to select the category and projects for the available blueprint.Figure. Blueprint Inspector PanelClick to enlargeUsing Marketplace Manager TabFollowing are the operations that you can perform by using the Marketplace Manager tab.Publishing a BlueprintIf you want to publish a blueprint to the Marketplace that is used by other users, submit the blueprint for approval and publish it from the 'Marketplace Manager > Approval Pending tab. Perform the following procedure to publish a blueprint to the Marketplace.Unpublishing a BlueprintIf you do not want to list a blueprint in the Marketplace, you can unpublish a blueprint. However, you can publish the blueprint again. Perform the following procedure to unpublish a blueprint.Deleting an Unpublished BlueprintYou can only delete unpublished blueprint. Perform the following procedure to delete an unpublished blueprint.Publishing a BlueprintIf you want to publish a blueprint to the Marketplace that is used by other users, submit the blueprint for approval and publish it from the 'Marketplace Manager > Approval Pending tab. Perform the following procedure to publish a blueprint to the Marketplace.Before you beginEnsure that you have configured and saved a blueprint. For more information, see Blueprints Usage.ProcedureClick Marketplace Manager tab.The Marketplace Manager page is displayed.Select the Approval Pending tab to get the list of all unpublished blueprints. A list of all the unpublished blueprints is displayed.Select the blueprint that you want to publish.The blueprint inspector panel appears.Click Approve.Select the category from the Category drop-down menu.Select one or more projects from the Projects Shared With drop-down menu.Click Apply.Click Publish.The Marketplace tab lists the published blueprints.What to do nextLaunch the published blueprint from the Marketplace tab. For more information, see Launching a Blueprint.Unpublishing a BlueprintIf you do not want to list a blueprint in the Marketplace, you can unpublish a blueprint. However, you can publish the blueprint again. Perform the following procedure to unpublish a blueprint.ProcedureClick Marketplace Manager tab.The Marketplace Blueprints tab is displayed listing all the published blueprints.Select the blueprint you want to unpublish.The blueprint inspector panel is displayed.Click Unpublish.The blueprint is unpublished but note that you can publish the blueprint again.Deleting an Unpublished BlueprintYou can only delete unpublished blueprint. Perform the following procedure to delete an unpublished blueprint.ProcedureClick the Marketplace Manager tab.The Marketplace Blueprints tab displays a list of all the published blueprints.Click Approval Pending.A list of all the approval pending blueprints is displayed.Select the blueprint that you want to delete.The blueprint inspector panel appears.Click the Delete icon.The blueprint is deleted and no longer available.", "Heading_Keywords": ["marketplac", "manag", "overview"]}, {"Heading": "Publishing a Blueprint", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-publishing-a-blueprint-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "If you want to publish a blueprint to the Marketplace that is used by other users, submit the blueprint for approval and publish it from the 'Marketplace Manager > Approval Pending tab. Perform the following procedure to publish a blueprint to the Marketplace.Before you beginEnsure that you have configured and saved a blueprint. For more information, see Blueprints Usage.ProcedureClick Marketplace Manager tab.The Marketplace Manager page is displayed.Select the Approval Pending tab to get the list of all unpublished blueprints. A list of all the unpublished blueprints is displayed.Select the blueprint that you want to publish.The blueprint inspector panel appears.Click Approve.Select the category from the Category drop-down menu.Select one or more projects from the Projects Shared With drop-down menu.Click Apply.Click Publish.The Marketplace tab lists the published blueprints.What to do nextLaunch the published blueprint from the Marketplace tab. For more information, see Launching a Blueprint.", "Heading_Keywords": ["publish", "blueprint"]}, {"Heading": "Unpublishing a Blueprint", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-unpublishing-blueprint-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "If you do not want to list a blueprint in the Marketplace, you can unpublish a blueprint. However, you can publish the blueprint again. Perform the following procedure to unpublish a blueprint.ProcedureClick Marketplace Manager tab.The Marketplace Blueprints tab is displayed listing all the published blueprints.Select the blueprint you want to unpublish.The blueprint inspector panel is displayed.Click Unpublish.The blueprint is unpublished but note that you can publish the blueprint again.", "Heading_Keywords": ["unpublish", "blueprint"]}, {"Heading": "Deleting an Unpublished Blueprint", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-deleting-unpublished-blueprints-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You can only delete unpublished blueprint. Perform the following procedure to delete an unpublished blueprint.ProcedureClick the Marketplace Manager tab.The Marketplace Blueprints tab displays a list of all the published blueprints.Click Approval Pending.A list of all the approval pending blueprints is displayed.Select the blueprint that you want to delete.The blueprint inspector panel appears.Click the Delete icon.The blueprint is deleted and no longer available.", "Heading_Keywords": ["delet", "unpublish", "blueprint"]}, {"Heading": "Blueprints Usage", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-blueprints-intro-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You can do the following actions by using the Blueprints tab.Create application blueprint for single and multi-VMPublish and launch blueprintsUpload existing blueprints from your local machineView the details of the created blueprintsEdit an existing blueprintCreate pre-create task before a service is provisionedCreate post-delete task after a service is provisionedTo see the video about using blueprint, click here.Figure. Blueprints TabClick to enlargeMulti-VM BlueprintsSingle VM BlueprintsBlueprints ManagementMulti-VM BlueprintsMulti-VM blueprint is a framework that you can use to create an instance, provision, and launch applications requiring multiple VMs. You can define the underlying infrastructure of the VMs, application details, and actions that are carried out on a blueprint until the termination of the application. You can create and configure multi-VM blueprints for the following providers.NutanixAWSVMwareGCPAzureCreating a Multi-VM BlueprintPerform the following steps to create a multi-VM blueprint.Adding a ServiceConfiguring Multi-VM, Package, and ServiceConfiguring Kubernetes Deployment, Containers, and ServicePerform the following procedure to configure Kubernetes Deployment, Containers, and Service.Setting up the Service Dependencies Dependencies are used to define the order in which tasks must get executed. Perform the following procedure to set up the service dependency. Dependencies are used to define the order in which tasks must get executed.Adding and Configuring an Application ProfilePerform the following procedure to add and configure an application profile. You must apply the application profile while launching a blueprint.Adding and Configuring Scale Out and Scale InPerform the following procedure to add and configure the Scale Out and Scale In task.Pre-create TasksPost-delete TasksCreating an ActionAn action is a set of operations that you can run on your application that are created as a result of running a blueprint. Perform the following procedure to create an action.Creating a Three-Tier ApplicationThe following procedure describes how to create a three-tier application by using Nutanix Calm. This procedure explains the creation of load balancer, web-application and database as services. The flow of creating services is load balancer, web-application, and database.Creating a Multi-VM BlueprintPerform the following steps to create a multi-VM blueprint.Before you beginEnsure that you have configured the provider for your blueprint and a project.ProcedureAdd a service. For more information, see Adding a Service.Configure VM, package, and service for your provider. For more information, see Configuring Multi-VM, Package, and Service.Set the service dependencies. For more information, see Setting up the Service Dependencies.Add and configure an application profile. For more information, see Adding and Configuring an Application Profile.(Optional) Add and configure Scale Out and Scale In. For more information, see Adding and Configuring Scale Out and Scale In.Create an action. For more information, see Creating an Action.Adding a ServiceAbout this taskServices are the virtual machine instances, existing machines or bare-metal machines, that you can provision and configure by using Nutanix Calm. You can either provision a single service instance or multiple services based on the topology of your application. A service exposes an IP address and ports on which the request is received. Perform the following procedure to add a service.ProcedureClick the Blueprint iconon the left pane.The Blueprint page is displayed.From the + Create Blueprint drop-down menu, select either Multi VM/Pod Blueprint or Single VM Blueprint.Blueprint Setup window is displayed.Enter the name of the blueprint in the Name field.Optionally, provide a description about the blueprint in the Description field.Select a project from the Project drop-down menu.Note: The available cloud options depend on the selected project. Click Proceed.Enter the blueprint name in the Name this blueprint field.Following are the rules for naming convention.The name of the blueprint can start with an alphanumeric character or an underscore.The name must have at least one character.Use only space, underscore, and dash as special characters.The name must not end with a dash.In the blueprint editor, to add a service, click + next to the Services.The service inspector panel is displayed.What to do nextConfigure the VM, package, and service. For more information, see Configuring Multi-VM, Package, and Service.Configuring Multi-VM, Package, and ServiceYou can define and configure the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application for a service provider.Configuring Nutanix and Existing Machine VM, Package, and ServicePerform the following procedure to configure multi-VM blueprints for Nutanix and existing machine. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a Nutanix platform.Configuring AWS VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for AWS. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a AWS platform.Configuring VMware VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for VMware. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a VMware platform.Configuring GCP VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for GCP. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Configuring Azure VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for Azure. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on an Azure platform.Configuring Xi VM, Package, and ServiceYou can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on Xi cloud provider. Perform the following procedure to configure a multi-VM blueprint that you want to deploy on a Xi Cloud platform.Configuring Nutanix and Existing Machine VM, Package, and ServicePerform the following procedure to configure multi-VM blueprints for Nutanix and existing machine. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a Nutanix platform.Before you beginEnsure that you have completed the pre-configuration requirements. For more information, see Creating a Multi-VM Blueprint.Ensure that you have created a project and configured an environment for Nutanix. For more information, see Creating a Project and Configuring Nutanix Environment sections.ProcedureEnter a name of the service in the Service Name field.Under the VM tab, in the Name field, enter a name for the VM.Select the platform from the Cloud drop-down menu.You can select either Existing Machine or Nutanix.Note: The cloud options depend on the selected project while creating the blueprint. If the Cloud type is Existing Machine, enter the IP address of the existing machine in the IP Address field and go to step 20.From the OS drop-down menu, select either Windows or Linux as the operating system.Optionally, if you have configured environment during project creation, click Clone from Environment and go to step 20.Note: When you clone the environment details from a project, all the VM details are auto-filled except the Credential field. For more information on configuring environment for Nutanix, see Configuring Nutanix Environment. You must add a credential before saving or launching the blueprint.In the VM Configuration panel, enter the name of the VM in the VM Name field. The service provider uses this name as the VM name.Select the image from the Image drop-down menu.All the images that are uploaded to the Prism Central are available for selection. For more information about image configuration, see Image Management section in the Prism Central guide.Select Device Type and Device Bus for the image.You can select either CD-ROM or Disk as the device type.You can select either IDE or SATA as the device bus for CD-ROM and SCSI or PCI as the device bus for Disk. Optionally, you can add another image by clicking the + icon.Select the Bootable check box against the image that you want to use to boot up the VM. Select one of the following firmwares to boot the VM.Legacy BIOS: Select legacy BIOS to boot the VM with legacy BIOS firmware.UEFI: Select UEFI to boot the VM with UEFI firmware. UEFI firmware supports larger hard drives, faster boot time, and provides more security features.In the vCPUs field, enter the required number of vCPUs for the VM.In the Cores per vCPU field, enter the number of cores per vCPU for the VM. In the Memory field, enter the required memory in GiB for the VM.Optionally, if you want to customize the default OS properties of the VM, select the Guest Customization check box and do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Select either CloudInIt or SysPrep type and enter the script in the Script panel.Note: Select Cloudinit for Linux and Sysprep for Windows. For Sysprep, you must use double back slash for all escape characters . For example, \\\\v.You can also upload the script by clicking the upload icon.For Sysprep script, click Join a Domain check box and configure the following fields. Domain Name: Enter the domain name of the Windows server. Credentials: From the Credentials drop-down menu, enter a credential for the Windows VM. You can also create new credentials. For more information, see step 22.DNS IP: Enter the IP address of the DNS server.DNS Search Path: Enter the DNS search path for the domain.To add a vDisk, click + vDisks and do the following.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Enter the size of the vDisk in GiB.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete, or edit vDisks while launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select categories from the Categories drop-down menu.Note: Categories field allows you to tag your VM to a defined category in the Prism Central. Based on the Prism Central configuration, the drop-down options are available.To add a network adapter, click the + icon next to the Network Adapters (NICS) field and select the subnet from the NIC field .The NIC drop-down options are available based on the cluster configuration.Note: If you have whitelisted the subnets during project creation, the whitelisted subnets are available for your selection. The cluster details are also displayed based on the selected subnets.To add a serial port to the VM, click the + icon next to the Serial Ports field. You can use serial ports to connect a physical port or a file on the VM.Under Connection, if you want to check the logon status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH private key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS. Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each logon failure.Under the Package tab, enter the package name in the Name field.Click one of the following:Configure install: To create a task to install a package.Configure uninstall: To create a task to uninstall a package.Click + Task.Enter the task name in the Task Name field.To reuse a task from the task library, do the following.Click Browse Library.Select the task from the task library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.To update the variable or macro names, click Apply.To copy the task, click Copy.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.In the blueprint editor, click the service and select Service. Enter the name of the service in the Service Name field.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variables or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. Click Save.The blueprint is saved and listed under blueprints tab.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Creating an Execute TaskYou can create the Execute task type to run eScripts on the VM. Perform the following procedure to create an Execute  task.Creating a Delay TaskYou can create a delay task type to set a time interval between two tasks or actions. Perform the following procedure to create a delay task.Creating an HTTP Task You can create HTTP task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. Perform the following procedure to create an HTTP task.Creating a Set Variable TaskYou can create set variable task type to change variables in a blueprint. Perform the following procedure to create a set variable task.Creating an Execute TaskYou can create the Execute task type to run eScripts on the VM. Perform the following procedure to create an Execute  task.Before you beginEnsure that you have selected the task type as Execute  while creating a blueprint. For more information, see Configuring Multi-VM, Package, and Service.ProcedureIn the Script Type drop-down menu, select one of the following:ShellPowerShelleScriptFor shell, PowerShell, and eScript scripts, you can access the available list of macros by using @@{.Note: You can use macro expansions for variables used for eScripts.You can either select Shell or eScript or Powershell. For sample eScripts, see Supported eScript Modules and Functions section and for sample Powershell scripts, see Sample Powershell Script section.If you have selected the script type as Shell or Powershell, do the following:In the Credential drop-down menu, select an existing credential or create a credential.To create a credential, from the Credential drop-down menu, select Add New Credential.Add a credential page is displayed.In the Add a Credential page, enter the details for the following fields.Credential name: Enter a credential name for future use.Secret Type: Select either Password or SSH Private Key to authenticate.User Name: Enter the user name for the service.Password: If you have selected the secret type as password, enter the service password.SSH Private Key: If you have selected the secret type as SSH private key, enter the key to authenticate.To use the credential as default, click the Use as default check-box.Do one of the following:To save the changes, click Save.To go back to the previous screen, click Cancel.Enter the install or uninstall script in the Script panel. For example, see Database Installation.You can also upload a script by clicking the upload icon.If you want to test the script in Nutanix Calm playground, click Test script.Nutanix Calm playground allows you to test a script by running and reviewing the output and making required changes.The Test Script page is displayed.Under Authorization tab, enter the following fields:IP Address : Enter the IP address of the test machine.Port : Enter the port number of the test machine.Credential : Select the credential from the drop-down menu.User name : Enter a user name.Password : Enter a password.To save the details, click Done.Click Login and Test.The Test script page is displayed.You can also view your script in the Source Script field.Optionally, you can edit your script in the Source Script field.If you are using macros in your script, provide the variable values in the macro inspector panel and click Assign and Test.Click Test.The test result is displayed in the Output field.To go back to the previous screen, click Done.If you have selected the script type as EScript, do the following:In the Script field, enter the script.You can also upload a script by clicking the upload icon.Click Test script.The Test Script page is displayed.You can also view your script in the Source Script field.If you are using macros in your script, provide the variable values in the macro inspector panel and click Assign and Test.To test the script, click Test.The test result is displayed in the Output field.To go back to the previous screen, click Done.To publish this task to the task library, click Publish to Library.The task is published to the Library and you can browse and use the task while creating a blueprint. Creating a Delay TaskYou can create a delay task type to set a time interval between two tasks or actions. Perform the following procedure to create a delay task.Before you beginEnsure that you have selected the task type as delay while configuring a blueprint. For more information, see Configuring Multi-VM, Package, and Service.ProcedureIn the Sleep Interval field, enter the sleep time interval in seconds for the task.The delay task type is created. You can use the task type to set a time interval between two tasks or actions.Creating an HTTP Task You can create HTTP task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. Perform the following procedure to create an HTTP task.About this taskNote: You can use macro expansions for variables used in an HTTP task.Before you beginEnsure that you have selected the task type as HTTP task while configuring a blueprint. For more information, see Configuring Multi-VM, Package, and Service.ProcedureIn the Request URL field, enter the URL of the server that you want to run the methods on.In the Request Method drop-down menu, select one of the following request methods.GET: Use this method to retrieve data from a specified resource.PUT: Use this method to send data to a server to update a resource. In the Request Body field, enter the PUT request. You can also upload the put request by clicking the upload icon.POST: Use this method to send data to a server to create a resource. In the Request Body field, enter the POST request. You can also upload the post request by clicking the upload icon.DELETE: Use this method to send data to a server to delete a resource. In the Request Body field, enter the DELETE request. You can also upload the delete request by clicking the upload icon. In the Content Type drop-down menu, select the type of the output format.The available options are XML , JSON, and HTML.In the Header area, enter the HTTP header key and value in the Key and Value fields respectively. If you want to publish the HTTP header key and value pair as secret, click the Secrets fields.In the Connection Time Out field, enter the timeout interval in seconds.Optionally, in the Authentication field, select Basic and do the following:In the Username field, enter the user name.In the Password field, enter the password.If you want to verify SSL certificate for the task, click the SSL Cerificate Verification field.If you want to use a proxy server as configured in the Prism Central, click the Use PC Proxy configuration. Note: Ensure that the Prism Central has the appropriate HTTP proxy configuration.In the Retry Count field, enter the number of attempts the system performs to create a task after each failure.By default, the retry count is zero. It implies that the task creation procedure stops after the first attempt.In the Retry Interval field, enter the time interval in seconds for each retry if the task fails.In the Expected Response Options area, enter the details for the following fields:Response Status: Select either Success or Failure as the response status for the task.Response Code: Enter the response code for the selected response status.Note: If the response code is not defined, then by default all the 2xx response codes are marked as success and any other response codes are marked as failure.Set Variables from response: Enter the variables from the specified response path. The example of json format is $.x.y and xml format is //x/y. For more information about json path syntax, see http://jsonpath.com.Note: To retrieve the output format in HTML format, add a * in the syntax.If you want to test the script in Nutanix Calm playground, click Test script.Nutanix Calm playground allows you to test a script by running and reviewing the output and making required changes.The Test Script page is displayed. You can also edit the fields described from step 1\u201311.Click Test.The test result is displayed in the Output field.To publish this task to the task library, click Publish to Library.The task is published to the Library and you can browse and use the task while creating a blueprint. Creating a Set Variable TaskYou can create set variable task type to change variables in a blueprint. Perform the following procedure to create a set variable task.Before you beginEnsure that you have selected the task type as Set Variable while configuring a blueprint. For more information, see Configuring Multi-VM, Package, and Service.ProcedureIn the Script Type drop-down menu, select one of the following:ShellPowershellEScriptFor Shell, Powershell, and EScript scripts, you can access the available list of macros by using @@{.You can either select Shell or EScript or Powershell. For sample Escripts, see Supported eScript Modules and Functions section and for sample Powershell scripts, see Sample Powershell Script section.Enter the install or uninstall script in the Script panel. For example, see Database Installation.In the Output field, enter the name of the variable that you have defined through the set variable task.If you are setting multiple variables, enter the variable name for each of the variables by clicking the Output field.To publish this task to the task library, click Publish to Library.The task is published to the Library and you can browse and use the task while creating a blueprint. Configuring AWS VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for AWS. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a AWS platform.Before you beginEnsure that you have completed the pre-configuration requirements. See Creating a Multi-VM Blueprint.Ensure that you have created a project and configured an environment for AWS. For more information, See Creating a Project and Configuring AWS Environment sections.ProcedureEnter a name of the service in the Service Name field.Under the VM tab, enter the name of the VM in the Name field.Select AWS from the Cloud drop-down menu. Note: The cloud options depend on the selected project while creating the blueprint. From the Account ID drop-down menu, select the account that you want to use for the blueprint.Optionally, if you have configured environment during project creation, click Clone from Environment and go to step 19.Note: When you clone the environment details from a project, all the VM details are auto filled except Credential field. For more information on configuring environment for AWS, see Configuring AWS Environment. You must add a credential before saving or launching the blueprint.Select the operating system from the OS drop-down menu.You can select either Windows or Linux.In the VM Configuration panel, enter the instance name of the VM in the Instance Name field. The service provider uses this name as the VM name. You can use Calm macros to provide a unique name to the VM. For example, vm-@@{calm_array_index}@@-@@{calm_time}@@.Select the Associate Public IP Address check-box to associate a public IP address with your AWS instance. Note: If the Associate Public IP Address is unselected, ensure that the AWS account and Calm are on the same network for the scripts to run.Select an AWS instance type from the Instance Type drop-down menu.Instance types comprise varying combinations of CPU, memory, storage, and networking capacity and give you the flexibility to choose the appropriate mix of resources for your applications. Each instance type includes one or more instance sizes, allowing you to scale your resources to the requirements of your target workload.The drop-down menu displays the instances that are available in the AWS account. For more information, see AWS documentation.Select the region from the Region drop-down menu and the configuring the following.Note: The drop-down menu displays the regions which are selected while configuring the AWS setting. Select the availability zone from the Availability Zone drop-down menu.An Availability Zone is one or more discrete data centers with redundant power, networking, and connectivity in an AWS region. Availability Zones allow you to operate production applications and databases that are more highly available, fault tolerant, and scalable than would be possible from a single data center.Select the machine image from the Machine Image  drop-down menu.An Amazon Machine Image is a special type of virtual appliance that is used to create a virtual machine within the Amazon Elastic Compute Cloud. It serves as the basic unit of deployment for services delivered using EC2.Select the IAM role from the IAM Role drop-down menu.An IAM role is an AWS Identity and Access Management entity with permissions to make AWS service requests.Select the key pairs from the Key Pairs  drop-down menu.A key pair (consisting of a private key and a public key) is a set of security credentials that you use to prove your identity when connecting to an instance.Select the VPC from the VPC  drop-down menu.Amazon Virtual Private Cloud (Amazon VPC) allows you to provision a logically isolated section of the AWS cloud where you can launch AWS resources in your defined virtual network.Enter the AWS tags in the AWS Tags field.AWS tags are key and value pair to manage, identify, organize, search for, and filter resources. You can create tags to categorize resources by purpose, owner, environment, or other criteria.Under the Storage section, configure the following to boot the AWS instance with the selected image.In the Device field, select the device to boot the AWS instance. The available options are based on the image you have selected.In the Size(GiB) field, enter the required size for the bootable device.In the Volume Type drop-down menu, select the volume type. You can select either General Purpose SSD, Provisioned IOPS SSD, and EBS Magnetic HDD.For more information on the volume types, see AWS documentation.Optionally, select the Delete on termination check-box to delete the storage when the instance is terminated.You can also add more secondary storages by clicking the + icon next to the Storage section.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create.Under Connection, If you want to check the log on status after creating the VM, click Check log-in upon create. Select a credential from the Credential drop-down menu for the VM. Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring CredentialSelect the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.Under the Package tab, enter the package name in the Name field.Click one of the following:Configure install: To create a task to install a package.Configure uninstall: To create a task to uninstall a package.Click + Task.Enter the task name in the Task Name field.Do one of the following.You can reuse an existing task and available as part of the task library. See step 20.You can create a task. See step 21.To reuse a task from the task library, do the following.Click Browse Library.Select the task from the task library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.To update the variable or macro names, click Apply.To copy the task, click Copy.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the execute type of task, see Creating an Execute Task.Set Variable: To create the set variable type of task, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay Task: To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.Click the Service tab and configure the following.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables section, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. Click Save.The blueprint is saved and listed under blueprints tab.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Configuring VMware VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for VMware. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a VMware platform.Before you beginEnsure that you complete the pre-configuration requirements. See Creating a Multi-VM Blueprint.Ensure that you have created a project and configured an environment for VMware. For more information, see Creating a Project and Configuring VMware Environment sections.You need licenses for both Compute and Storage distributed resource scheduler (DRS) in order to use the VMware DRS mode.Ensure that storage DRS is enabled and set to fully automated in vCenter.ProcedureUnder the VM tab, enter the name of the VM in the Name field.Select VMware from the Cloud drop-down menu. Note: The cloud options depend on the selected project while creating the blueprint. Select the operating system from the Operating System drop-down menu.You can select either Windows or Linux.In the VM Configuration panel, enter the instance name of the VM in the Instance Name field. The service provider uses this name as the VM name.Select DRS Mode check-box to enable load sharing and automatic VM placement.DRS (Distributed Resource Scheduler) is a utility that balances computing workloads with available resources in a virtualized environment. For more information about DRS mode, see the VMware documentation. Note: If the storage DRS is disabled in Vcenter, the blueprint provisioning fails. Select the cluster where you want to host your VM from the Cluster drop-down menu.This field is applicable only after you enable DRS mode.If you have not enabled DRS Mode, select the host name of the VM from the Host drop-down menu.The host name is the primary IP address used to access the VM.Select template from the Template drop-down menu.Templates allow you to create multiple virtual machines with the same characteristics, such as resources allocated to CPU and memory, or type of virtual hardware. Templates save time and avoid errors when configuring settings and other parameters to create new VMs. The VM template retrieves the drop-down options from the configured vCenter.Note: Install the VMware Tools on the Windows templates. For Linux VMs, install Open-vm-tools or VMware-tools and configure the Vmtoolsd service for automatic start-up.Support for Open-vm-tools version 10.1.10.63510 and above is available. When using Open-vm-tools, install Perl for the template.Do not use SysPrepped as the Windows template image.If you select a template that has unsupported version of VMware Tools, then a warning appears stating VMware tool or version is unsupported and could lead to VM issues.You can also edit the NIC type when you use a template.For more information, refer to VMware KBs.Select datastore cluster from the Storage Pod drop-down menu.The datastore clusters are referred as storage pod in vCenter. A datastore cluster is a collection of datastores with shared resources and a shared management interface. Note: This field is applicable only after you enable DRS Mode.Enter values for vCPUs,Cores per vCPU , and Memory fields.Under Controller, click + to add the type of controller.You can select either SCSI or SATA controller.Note: You can add up to four SCSI and four SATA controllers. Under vDisk, click + to add vDisk.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete or edit vDisks while launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.If you have selected CD-ROM as device type, you can select and mount ISO images available on all the datastore.To filter the list of ISO images, from the DataStore drop-down menu, select the datastore applicable to your region.From the ISO File Path drop-down menu, select the applicable path for the ISO image.Select the adapter type from the Adapter Type drop-down menu.You can select IDE for CD-ROM.You can select either SCSI, IDE, or SATA for Disk.Enter the size of the disk in GiB.In the Location field, select the VM datastore to store the disk details.If you want to add a controller to the vDisk, in the Controller drop-down menu, select the type of controller to attach the disk.Note: You can add either SCSI or SATA controllers. The available controllers for selection is dependent on the Adapter Type.In the Disk mode drop-down menu, select the type of the disk mode.The available options are as follows.Dependent: Dependent disk mode is the default disk mode for the vDisk.Independent - Persistent: Disks in independent persistent mode behave like conventional disks. All data written to a disk in persistent mode are written permanently to the disk.Independent - Nonpersistent: Changes to disks in nonpersistent mode are discarded when you power off or reset the virtual machine. With nonpersistent mode, you can restart the virtual machine with a virtual disk in the same state every time. Changes to the disk are written to and read from a redo log file that is deleted when you power off or reset.In the Device slot drop-down menu, select the slot to attach the disk.Optionally, if you want to customize the default OS properties of the VM, in the VM guest customization pane, do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Click the Enable check-box if you want to use guest customization.From the Predefined Guest Customization drop-down menu, select the guest customization.If you do not have any predefined customization available, select a type of customization.The available options are Cloud-init and Custom Specs.If you have selected Cloud-init, enter the script in the Script field.You can also upload the script by clicking the upload icon.If you have selected Custom specs, configure the network details for the VM:Hostname: Enter the hostname for the VM in the Hostname field. Domain: Enter the domain name in the Domain field that you want to assign to the VM.Timezone: Select timezone for the VM from the Timezone drop-down menu.Hardware clock UTC: Select Hardware clock UTC check-box to enable hardware clock UTC.+ Network Setting: To add a network configuration for the VM, click + Network Setting.DHCP: To automatically configure DHCP server, enable the DHCP check-box and skip to DNS setting.Setting Name: Enter a name for the network configuration you are adding to the VM. Settings name is the saved configuration of your network that you want to connect to your VM.IP Address: Enter the IP address in the IP Address field.Subnet Mask: Enter subnet mask IP address in the Subnet Mask field.Default Gateway: Enter the default gateway in the Default Gateway field.Alternative Gateway: Enter the alternative gateway in the Alternative Gateway field.DNS Primary: Under DNS Settings, enter DNS primary in the DNS Primary field.DNS Secondary: Enter DNS secondary in the DNS Secondary field.DNS Tertiary: Enter DNS tertiary in the DNS Tertiary field.Note: When you run guest customization scripts, Nutanix Calm runs the NIC mismatch validation. If NIC mismatch is found, you get a platform validation error. Under Connection, If you want to check the log on status after creating the VM, click Check log-in upon create. Select a credential from the Credential drop-down menu for the VM. Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring CredentialSelect address from the Address drop-down menu.You can select either Public IP address or private IP address.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS. Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system make after each logon failure.Under the Package tab, enter the package name in the Name field.Click one of the following:Configure install: To create a task to install a package.Configure uninstall: To create a task to uninstall a package.Click + Task.Enter the task name in the Task Name field.Do one of the following.You can reuse an existing task available as part of the task library. See step 32.You can create a task. See step 33.To reuse a task from the task library, do the following.Click Browse Library.Select the task from the task library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.To update the variable or macro names, click Apply.To copy the task, click Copy.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute type of task, see Creating an Execute Task.Set Variable: To create the set variable type of task, see Creating a Set Variable Task.HTTP Task: To create the HTTP task type, see Creating an HTTP Task.Delay Task: To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.In the blueprint editor, click the service and select Service. Enter the name of the service in the Service Name field.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are automatically filled.Select the Secret check-box if you want to hide the value of the variable. In the Port List pane, enter the name, protocol, and port number in the Name, Protocol, and Port fields.Click Save.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Supported VMware Guest Tools VersionsTo know the supported VMware guest tools versions, see the Supported VMware Guest Tools VersionsTo know the supported VMware guest tools versions, see the VMware Product Interoperability Matrices.Configuring GCP VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for GCP. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Before you beginEnsure that you complete the pre-configuration requirements. See Creating a Multi-VM Blueprint.Ensure that you have created a project and configured an environment for AWS. For more information, See Creating a Project and Configuring GCP Environment sections.ProcedureEnter a name of the service in the Service Name field.Under the VM tab, enter the name of the VM in the Name field.Select GCP from the Cloud drop-down menu. Note: The cloud options depend on the selected project while creating the blueprint. Optionally, if you have configured environment during project creation, click Clone from Environment and go to step 21.Note: When you clone the environment details from a project, all the VM details are automatically filled except the Credential field. For more information on configuring environment for GCP, see Configuring GCP Environment. You must add a credential before saving or launching the blueprint.Select the operating system from the OS drop-down menu.You can select either Windows or Linux.In the VM Configuration panel, enter the instance name of the VM in the Instance Name field. The service provider uses this name as the VM name.Select zone from the Zone drop-down menu.Select type of machine from the Machine type drop-down menu.Under the Disks section, click + against the Boot Disk field and configure the following:Select the type of storage from the Storage Type drop-down menu.The available options are as follows.pd-standard: Use this option if you want to use HDD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.pd-ssd: Use this option if you want to use SSD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.Select the image source from the Source Image drop-down menu.The images available for your selection are based on the selected zone. Enter the size of the disk in GB in the Size in GB field.Optionally, under the Disks section, click the Use Existing disk to use an existing disk configuration.Configure the Network section.You can configure either a Public or Private IP address.To configure a Public IP address, select the Associate Public IP address check- box and configure the following:Select the network from the Network drop-down menu.Select the sub network from the Subnetwork drop-down menu.Enter a name of the network in the Access configuration Name field.Select the access configuration type from the Access configuration type drop-down menu.To configure a private IP address, de-select the Associate Public IP address check- box and configure the following:Select the network from the Network drop-down menu.Select the sub network from the Subnetwork drop-down menu.Under the SSH Key, enter or upload the username key data in the Username field.Select Block project-wide SSH Keys to enable blocking project-wide SSH keys.Under Management pane, enter metadata in the Metadata field.Select security group from the Security Groups drop-down menu.Optionally, enter tags in the Tags field.Under API Access, enter the service account in the Service Account.Select either Default or Full Access.Under Connection, select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter username in the Username field.Select secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select address from the Address drop-down menu.If you have selected the Associate Public IP address check-box, you can select Public IP address .If you have de-selected Associate Public IP address check-box, you can select private IP address .Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS. Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login  script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login  script.In the Retries field, enter the number of logon attempts the system make after each logon failure.Under the Package tab, enter the package name in the Name field.Click one of the following:Configure install: To create a task to install a package.Configure uninstall: To create a task to uninstall a package.Click + Task.Enter the task name in the Task Name field.Do one of the following.You can reuse an existing task available as part of the task library. See step 27.You can create a task. See step 28.To reuse a task from the task library, do the following.Click Browse Library.Select the task from the task library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.To update the variable or macro names, click Apply.To copy the task, click Copy.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.In the blueprint editor, click the service and select Service. Enter the name of the service in the Service Name field.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. In the Port List pane, enter the name, protocol, and port number in the Name, Protocol, and Port fields.Click Save.The blueprint is saved and listed under blueprints tab.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Configuring Azure VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for Azure. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on an Azure platform.Before you beginEnsure that you have configured the following entities in the Azure account.Resource GroupAvailability setNetwork Security GroupVirtual NetworkVault CertificatesEnsure that you complete the pre-configuration requirements. See Creating a Multi-VM Blueprint.Ensure that you have created a project and configured an environment for Azure. For more information, see Creating a Project and Configuring Azure Environment sections.ProcedureEnter a name of the service in the Service Name field.Under the VM tab, enter the name of the VM in the Name field.Select Azure from the Cloud drop-down menu. Note: The cloud options depend on the selected project while creating the blueprint. Select the operating system from the Operating System drop-down menu.You can either select Windows or Linux.Optionally, click Clone from Environment to clone the environment settings into the blueprint editor.In the VM Configuration panel, enter the instance name of the VM in the Instance Name field. This field displays macro as suffix to ensure name uniqueness.The service provider uses this name as the VM name.Select the resource group from the Resource Group drop-down menu.Each resource in Azure must belong to a resource group. A resource group is simply a logical construct that groups multiple resources together so you can manage the resources as a single entity. For example, you can create or delete resources as a group that share a similar life cycle, such as the resources for an n-tier application.Optionally, to create a Resource Group, click the Create Resource Group check-box, and do the following in the respective fields. In the Name field, type a unique name for the resource group.In the Location drop-down menu, select the geographical location of the datacenter that you want to add to the resource group.Under Tags, enter a key and value pair in the Key and Value fields respectively. Tags are key and value pairs that enable you to categorize resources. You can apply a tag to multiple resource groups.If you want to automatically delete a resource group that has empty resources while deleting an application, click the Delete Empty Resource Group check-box. Optionally, select availability set from the Availability Set drop-down menu.An Availability Set is a logical grouping capability that you can use in Azure. The Availability Set ensures that the VM resources deployed within an Azure datacenter are isolated from each other to provide High Availability.Select geographical location of the datacenter from the Location drop-down menu.Select hardware profile as per your hardware requirements from the Hardware Profile drop-down menu.The maximum number of data disks and NICs depends upon the selected hardware profile. Refer to Azure documentation to view the sizes for Windows and linux VMs.Optionally, under Secrets, enter a unique vault ID in the Vault ID field.These certificates are installed on the VM.Optionally, under Certificates, enter the URL of the certificate config in the URL field. This is the URL of a certificate that you upload to the Key Vault as a secret.The URL of the certificate is the uploaded to the Key Vault as a secret.Enter store in the Store field. For Windows VMs, the Store field specifies the certificate store on the virtual machine to which the certificate is added. The specified certificate store is implicitly created in the LocalMachine account.For Linux VMs, the certificate file is placed under the /var/lib/waagent directory. The format of the file name is <UppercaseThumbprint>.crt for the X509 certificate and <UppercaseThumbpring>.prv for private key. Both of these files are .pem formatted.Optionally, select the Provision VM Agent check-box. Indicates whether virtual machine agent should be provisioned on the virtual machine. When this property is not specified in the request body, default behavior is to set the value to true. It ensures that the VM Agent is installed on the VM and the extensions can be added to the VM later.This check-box is applicable only for Windows VMs.Optionally, select Auto Updates check-box to indicate that VM is enabled for automatic updates. This check-box is applicable only for Windows VMs.Optionally, under Additional Unattended Content, select setting from the Setting Name.You can either select Auto Logon or First Logon Commands.Note: Guest customization is applicable only on images that allows or support guest customization.Enter or upload the xml content. See Sample Auto Logon and First Logon Scripts.Optionally, under WinRM Listeners, select the protocol from the Protocol drop-down menu.You can either select HTTP or HTTPS.Select the certificate URL from the Certificate URL drop-down menu.This field is only applicable when you select HTTPS as a protocol.Under Storage Profile, select the Use Custom Image check-box to use a custom VM image created in your subscription.From the Custom Image drop-down menu, select a custom image or publisher-offer-SKU-version.This field is available only when the Use Custom Image check-box is enabled.Under VM Image Details, select publisher from the Publisher drop-down menu.Select offer from the Offer drop-down menu.Select SKU from the SKU drop-down menu.Select version from the Version drop-down menu.The Use Managed Disks check-box is enabled by default.Note: This check-box cannot be disabled, that means all the created disks are managed disks.Managed Disks simplifies disk management by managing the storage accounts associated with the VM disks.Under OS Disk Details, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Select disk create option from the Disk Create Option drop-down menu.You can either select Attach or Empty or From Image.Under Data Disk, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Enter the size in GB in the Size field.Enter disk logical unit number (LUN) in the Disk LUN field.Note: The LUN value should be unique across data disk list.Under Network Profiles, add NICs as per your requirement. For each NIC, select security group from the Security Group drop-down menu.Select virtual network from the Virtual Network drop-down menu.Optionally, under Public IP Config, enter name in the Name field.Select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.Enter DNS label in the DNS Label field.Under Private IP Config, select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.If you select Static as Allocation Method, then enter the private IP address in the Ip Address field.Optionally, enter tags in the Tags field.Under Connection, select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter username in the Username field.Select secret type from the Secret Type drop-down menu.You can either select Password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH Private Key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want to use the credential as your default credential.Click Done.The selected or default credential is used as the default credential for the VM created by Azure.Key based credential is not allowed for Windows VMs.Username and password need to adhere to the complexity requirements of Azure.Select address from the Address drop-down menu.You can either select Public IP address or Private IP address for the NICs.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS. Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check-login script is invoked post VM start-up. It allows you to configure the delay time to allow guest-customisation script, IP, and all other services to come up before invoking the check-login script.Under the Package tab, enter the package name in the Name field.Click Configure install.Click + Task.Enter the task name in the Task Name field.Do one of the following.You can reuse a task that is already created and available as part of the library. See step 47.You can create a task. See step 48.To reuse a task from the library do the following.Click Browse Library.Select the task from the library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.Click Apply to update the variable or macro names.Click Copy to copy the task.To create a task, do the following.Select the type of task from the Type drop-down menu.You can either select Execute or Set Variable.Select the script from the Script Type drop-down menu.For Shell, PowerShell, and eScript scripts, you can access the available list of macros by using @@{.Note: Azure library SDK support is available for eScripts.You can either select Shell or eScript or Powershell. See Supported eScript Modules and Functions and Sample Powershell Script. Enter the install script in the Script panel. Enter the output in the Output field.Click Configure uninstall.Click + Task.Enter the task name in the Task Name field.Select the type of task from the Type drop-down menu.You can either select Execute or Set Variable.Select the script from the Script Type drop-down menu.For shell, PowerShell, and eScript scripts, you can access the available list of macros by using @@{.Note: Azure library SDK support is available for eScripts.You can either select Shell or eScript or Powershell. See Supported eScript Modules and Functions and Sample Powershell Script. Enter the output in the Output panel.  This field is only applicable if you have selected Set Variable from the Type drop-down menu.Click Publish to Library to publish this task to the task library.In the blueprint editor, click the service and select Service. Enter the name of the service in the Service Name field.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variables or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are automatically filled.Select the Secret check-box if you want to hide the value of the variable. In the Port List pane, enter the name, protocol, and port number in the Name, Protocol, and Port fields.Click Save.The blueprint is saved and listed under blueprints tab.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Azure TroubleshootingThe following section describes Azure troubleshooting.Azure TroubleshootingThe following section describes Azure troubleshooting.For settings save or verification failure, you can check the logs at the following location./home/calm/log/styx.log For application blueprints save failure, you can check the logs at the following locations./home/calm/log/hercules_*.log/home/calm/log/styx.logFor provisioning failure, you can check the logs at the following locations.Task logs on UI /home/epsilon/log/indra_*.log [Signature: Encountered ERROR]/home/epsilon/log/durga_*.log/home/epsilon/log/arjun_*.log/home/calm/log/hercules_*.log/home/calm/log/styx.logConfiguring Xi VM, Package, and ServiceYou can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on Xi cloud provider. Perform the following procedure to configure a multi-VM blueprint that you want to deploy on a Xi Cloud platform.Before you beginEnsure that you have configured DNS in the VPC section in the Xi Cloud dashboard in the Prism Central.ProcedureEnter a name of the service in the Service Name field.Under the VM tab, enter the name of the VM in the Name field.Select Xi from the Cloud drop-down menu. Note: The cloud options depend on the selected project while creating the blueprint. The Availability Zone  field is automatically filled.Select the operating system from the Operating System drop-down menu.You can either select Windows or Linux.In the VM Configuration panel, enter the instance name of the VM in the VM Name field. This field displays the macro as suffix to ensure name uniqueness.The service provider uses this name as the VM name.In the vCPUs field, enter the required number of vCPUs for the VM.In the Cores per vCPU field, enter the number of cores per vCPU for the VM. In the Memory field, enter the required memory in GiB for the VM.Optionally, if you want to customize the default OS properties of the VM, select the Guest Customization check box and do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Select either CloudInIt or SysPrep type and enter the script in the Script panel.Note: Select Cloudinit for Linux and Sysprep for Windows. For Sysprep, you must use double back slash for all escape characters . For example, \\\\v.You can also upload the script by clicking the upload icon.For Sysprep script, click Join a Domain check box and configure the following fields. Domain Name: Enter the domain name of the Windows server. Credentials: From the Credentials drop-down menu, enter a credential for the Windows VM. You can also create new credentials. For more information, see step 22.DNS IP: Enter the IP address of the DNS server.DNS Search Path: Enter the DNS search path for the domain.To add a vDisk, click + vDisks and do the following.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Enter the size of the vDisk in GiB.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete, or edit vDisks while launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select categories from the Categories drop-down menu.Note: Categories field allows you to tag your VM to a defined category in the Prism Central. Based on the Prism Central configuration, the drop-down options are available.Under the Network panel, select the VPC from the VPC drop-down menu. For more information about VPC, see Xi Infrastructure Service Admininistration Guide.Under Connection, if you want to check the logon status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH private key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS. Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each logon failure.Under the Package tab, enter the package name in the Name field.Click one of the following:Configure install: To create a task to install a package.Configure uninstall: To create a task to uninstall a package.Click + Task.Enter the task name in the Task Name field.Optionally, to reuse a task from the task library, do the following.Click Browse Library.Select the task from the task library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.To update the variable or macro names, click Apply.To copy the task, click Copy.If you want to create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.In the blueprint editor, click the service and select Service. Enter the name of the service in the Service Name field.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variables or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. Click Save.The blueprint is saved and listed under blueprints tab.Configuring Kubernetes Deployment, Containers, and ServicePerform the following procedure to configure Kubernetes Deployment, Containers, and Service.Before you beginEnsure that you have completed the pre-configuration requirements. See Creating a Multi-VM Blueprint.Ensure that the selected project has Kubernetes or GCP with GKE enabled or both as part of it.Refer Kubernetes Documentation to get detailed information about the kubernetes attributes and configuration.ProcedureTo add a service to the blueprint, see Configuring Multi-VM, Package, and Service.To add a Pod, click + against the Pod.A Pod is the basic execution unit of a Kubernetes application and the smallest and simplest unit in the Kubernetes object model that you create or deploy. A Pod represents processes running on your cluster.The Pod service inspector panel appears.Enter a name of the pod in the Pod Name field.Under the Deployment tab, select the account from the Account drop-down menu. All the accounts added to the project are available for selection.Optionally, edit the Calm deployment name in the Calm Deployment Name field.This filed is auto-populated.Optionally, edit the K8s deployment name in the K8s Deployment Name field.This filed is automatically populated.Enter namespace in the Namespace field.Namespace is a kubernetes field to use in environments with many users spread across multiple teams, or projects.Enter the number of replicas in the Replica field.Optionally, enter annotations in the Annotations field.You can use kubernetes annotations to attach arbitrary non-identifying metadata to objects.Enter selector in the Selectors field.The selector field defines how the Deployment finds which pods to manage.Enter label in the Label  field.Labels are key/value pairs that are attached to objects, such as pods. You can use Labels to specify identifying attributes of objects that are meaningful and relevant to users, but do not directly imply semantics to the core system. You can also use Labels to organize and to select subsets of objects. You can attach Labels to objects either at the creation time or later. Each object can have a set of key/value labels defined. Each key must be unique for a given object.Optionally, you can edit the pod name in the K8s Pod Name field.This field is auto-populated.Enter value of image pull secrets in the Image Pull Secrets field.You can provide the list of secret names (pre-configured in a Kubernetes cluster by using Kubernetes Docker secret object) to be use by Kubernetes cluster to pull the container images from registries that require authentication.Select DNS policy from the DNS Policy drop-down menu.Under Containers tab, optionally edit the Calm service name in the Calm Service Name field.Optionally, you can edit the K8s service name in the K8s Service Name field.This field is auto-populated.Enter arguments for the container in the Args field.Enter Docker image in the Image field.Select a value from the Image Pull Policy.You can either select Never or Always or IfNotPresent (default).Under Pre Stop Lifecycle, select an action.You can select None (default) or Exec or HTTP Get Action or TCP Socket.This hook is called immediately before a container is terminated. It is blocking, meaning it is synchronous, so it must complete before the call to delete the container can be sent. No parameters are passed to the handler.Under Post Stop Lifecycle, select an action.You can select None (default) or Exec or HTTP Get Action or TCP Socket.This hook runs immediately after a container is created. However, there is no guarantee that the hook runs before the container ENTRYPOINT. No parameters are passed to the handler.Under Container Port, enter the port number in the Port field.Enter name of the port in the Name field.Select protocol from the Protocol drop-down menu.You can either select TCP or UDP.Under Readiness Probe, enter command in the Command field.The kubelet uses readiness probes to know when a Container is ready to start accepting traffic. A pod is ready after all of its Containers are ready. One use of this signal is to control the pods used as backends for Services. When a pod is not ready, it is removed from Service load balancers.Under Resource Limit, enter the cores per CPU in the CPU field.When you specify a pod, you can optionally specify how much CPU and memory (RAM) each Container needs. CPU and memory are each a resource type. A resource type has a base unit. You can specify CPU in units of cores and memory in bytes.Enter the bytes of memory in the Memory field.Under Resource Request, enter the termination message path in the Termination Message Path field.Termination messages provide a way for containers to write information about fatal events to a location where you can easily retrieve and surface these events by tools like dashboards and monitoring software.Under Service tab, optionally you can edit the Calm Published Service Name field.Optionally, you can edit the K8s Service Name field.Select a service type from the Service Type drop-down menu. You can select one of the following.ClusterIP: Exposes the service on a cluster-internal IP. Choosing this value makes the Service only reachable from within the cluster. NodePort: Exposes the service on each node's IP at a static port (the NodePort). A ClusterIP Service, to which the NodePort Service routes, is automatically created. You'll be able to contact the NodePort Service, from outside the cluster, by requesting <NodeIP>:<NodePort>.LoadBalancer: Exposes the service externally using a cloud provider's load balancer. NodePort and ClusterIP Services, to which the external load balancer routes, are automatically created.Enter namespace in the Namespace field.You can use Namespaces in environments with many users spread across multiple teams, or projects.Enter label in the Label  field.Labels are key/value pairs that are attached to objects, such as pods. You can use Labels to specify identifying attributes of objects that are meaningful and relevant, but do not directly imply semantics to the core system. You can also use Labels to organize and select subsets of objects. You can attach Labels to objects at creation time and add or modify at any time. Each object can have a set of key/value labels defined. Each key must be unique for a given object.Enter selector in the Selectors field.The selector field defines how the Deployment finds which pods to manage.Under Port List, enter the port name in the Port Name field.Enter node port in the Node Port field.Enter port number in the Port field.Select protocol from the Protocol drop-down menu.You can either select TCP or UDP.Enter the target port in the Target Port field.To upload the POD specification file in .JSON or .YAML format from your local machine, click against the  icon next to the Pod Name field and upload the specification file.You can also download the POD specification file in .JSON or .YAML format.To edit the uploaded POD specification, click the Spec Editor toggle button and click Edit.The Script Editor page is displayed. You can edit the specification file in .YAML or .JSON format.To save the edited POD specification file, click Done.Click Save.The blueprint is saved and listed under blueprints tab.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Setting up the Service Dependencies Dependencies are used to define the order in which tasks must get executed. Perform the following procedure to set up the service dependency. Dependencies are used to define the order in which tasks must get executed.Before you beginEnsure that at least more than one service must be available. See Adding a Service.Ensure that you have completed the pre-configuration requirements. See Creating a Multi-VM Blueprint.ProcedureSelect the service. Select the dependency icon and drag to the service on which you want to create the dependency.Figure. Create DependencyClick to enlargeWhat to do nextConfigure the application profile. See Adding and Configuring an Application Profile.Adding and Configuring an Application ProfilePerform the following procedure to add and configure an application profile. You must apply the application profile while launching a blueprint.Before you beginEnsure that you have completed the pre-configuration requirements. See Creating a Multi-VM Blueprint.ProcedureClick + icon in the Application Profiles to create an application profile.In the Application Profiles panel, enter the name of the application profile in the Name field.Under the Variable List pane, enter the name and value of the variable. If you want to hide the variable value, check the Secret check-box.What to do nextYou must create an action. See Creating an Action.Adding and Configuring Scale Out and Scale InPerform the following procedure to add and configure the Scale Out and Scale In task.ProcedureAdd a service. See Adding a Service.Configure VM, Package and Service. See Configuring Nutanix and Existing Machine VM, Package, and Service.Add an Application profile. See Adding and Configuring an Application Profile.Under the Application Profile, click + against Actions.Click + Task.Enter the name of the task in the Task Name field.Select Scaling from the Type drop-down menu.Select the type from the Scaling Type drop-down menu.You can select either Scale In or Scale Out.Enter the number in the Scaling Count field.The Scaling out and Scaling in number should be less than the minimum and maximum number of replicas define for the service.Click Save.Click Launch. See Launching a Blueprint.Click Application.The Application page is displayed.Under the Application tab, click on the created application.Click Manage tab.Run the Scale in or Scale out task by clicking the play button.Pre-create TasksPre-create tasks are actions that are performed before a service is provisioned on a blueprint. For example, if you want to assign a static IP addresses to your VMs by using IPAM service, you can create and run a pre-create task to receive the IP addresses before the service is provisioned. It helps to restrict the broadcast traffic to receive the IP addresses for those VMs during the service provision.You can create the following types of pre-create tasks.Execute: Use this task type to run eScripts on a VM.Set variable: Use this task type to change variables in a task. HTTP: Use this task type to query REST calls from a URL. Delay: Use this task type to set a time interval between two tasks or actions.To create a pre-create task, see Creating a Pre-create Task.Creating a Pre-create TaskPerform the following procedure to create a pre-create tasks that are performed before a service is provisioned. Creating a Pre-create TaskPerform the following procedure to create a pre-create tasks that are performed before a service is provisioned. ProcedureIn a multi-VM blueprint editor page, click Pre-create in the VM pane.Select the service on which you want to create the pre-create task.Click + Task.The pre-create task inspector panel is displayed.Optionally, to use tasks from the library, click Browse Library. The Browse Task from Library page appears.In the Browse Task from Library page, click the task you want to use and click Select.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.What to do nextUse this pre-create task to perform the actions before the service is provisioned in a multi-VM blueprint.Post-delete TasksPost-delete tasks are actions that are performed after you delete a service on a multi-VM blueprint. For example, if you want to delete the assigned IP addresses from your VMs, you can create a post-delete task to delete the IP addresses after the service is deleted. It helps to restrict the broadcast traffic to delete the IP addresses for those VMs during the service provisioning.You can create the following types of post-delete tasks.Execute: Use this task type to run eScripts on the VM. Set variable: Use this task type to change variables in a task. HTTP: Use this task type to query REST calls from a URL. Delay: Use this task type to set a time interval between two tasks or actions. To create a post-delete task, see Creating Post-delete Task.Creating Post-delete TaskPerform the following procedure to create a task that is performed after a service is deleted.Creating Post-delete TaskPerform the following procedure to create a task that is performed after a service is deleted.ProcedureClick Post-delete in the VM pane.Select the service on which you want to create the task.Click + Task.The pre-create task inspector panel is displayed.Optionally, to use tasks from the Library, click Browse Library. The Browse Task from Library page appears.In the Browse Task from Library page, click the task you want to use and click Select.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task  type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The created post delete task is available in the VM pane.What to do nextUse this post-delete task to perform the actions after the service is deleted in a multi VM blueprint.Creating an ActionAn action is a set of operations that you can run on your application that are created as a result of running a blueprint. Perform the following procedure to create an action.Before you beginEnsure that at least one service must be available. See Adding a Service.Ensure that you have completed the pre-configuration requirements. See Creating a Multi-VM Blueprint.ProcedureTo create an action, click the + icon in the Actions pane.Select the service on which you want to create the task. Select + Action.The Task inspector panel is displayed.Enter the task name in the Task Name field.Select the action from the Service Actions drop-down menu.Click Save.Select + Task.In the Task panel, enter the name of the task in the Name field.Select the type of the task from the Type drop-down menu. You can select Execute or Set Variable.Select the script from the Script Type drop-down menu and enter the script in the Script field.You can select Shell or EScript.Note: To view the supported list of eScript modules and functions, refer to Supported eScript Modules and Functions.For the Shell and eScript scripts, you can access the available list of macros by using @@{.Enter the output of the script in the Output field. Click Save.Creating a Three-Tier ApplicationThe following procedure describes how to create a three-tier application by using Nutanix Calm. This procedure explains the creation of load balancer, web-application and database as services. The flow of creating services is load balancer, web-application, and database.ProcedureClick the Blueprint iconon the left pane.The Blueprint page is displayed.Click + Create Application Blueprint.Select a project window is displayed.Select the project from the Project drop-down menu.Note: The Cloud options available for the selection depends upon the project that is selected. Click Proceed.Enter the blueprint name in the name field.Following are the rules for naming convention.The name of the blueprint can start with an alphanumeric character or an underscore.The name should have at least one character.Only space, underscore and dash are allowed as special characters.The name should not end with a dash.Click + against the Services  to add a load balancer service.Enter load balancer in the Service Name field.Under the VM tab, enter the name of the VM in the Name field.Select the platform from the Cloud drop-down menu. You can select either Existing Machine or Nutanix or AWS or VMware or GCP.Note: The Cloud options available for the selection depends upon the project that is selected while creating the blueprint. Select the Operating System from the OS drop-down menu.You can select either Windows or Linux.Note: In case the Cloud type is Existing Machine then enter the IP address of the existing machine in the IP Address field and go to Step 26.In the VM Configuration panel, enter the name of the VM in the VM Name field. This name will be used as VM name by the service provider.Select the image from the Image drop-down menu.You can add another image by clicking the + icon. Select the Bootable check-box against the image which you want to use to boot up the VM. Note: The drop-down menu displays the images that are available in the cluster.Select the device from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either SCSI, IDE, PCI or SATA.Enter the number of vCPUs in the vCPUs field.Enter the number of cores per vCPU in the Cores per vCPU field.Enter the required memory in GiB in the Memory field.If customization is required, select the Guest Customization check-box.Select either CloudInIt or SysPrep type.Select CloudInIt for Linux or select SysPrep for Windows.Note: In case of SysPrep, all escape characters need to use double backslash. For example, \\\\v.Enter the script in the Script panel.For example.#cloud-config packages:\n- git\n- vimYou can upload the script by clicking the upload icon.Click + vDisks to add a vDisk.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either SCSI, IDE, PCI or SATA.Enter the size in GiB.Select categories from the Categories drop-down menu.Note: Categories drop-down menu is available only for Nutanix. The drop-down options are populated as configured in the Prism Central.Click + Network Adapters (NICS) to add a network adapter.Select the VGPUS from the VGPUS drop-down menu.This field is applicable only when the VGPUS is configured in the cluster.Select the NIC from the NIC drop-down menu.The NIC drop-down options are populated from the configured cluster.In the Connection panel, enter the credentials.The Address field is populated by default.Select the Check log-in upon create check-box, if you want to check the log in after creation. Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH the connection port is 22 and for Powershell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest-customisation script, IP and all other services to come up before invoking the check login script.Under the Package tab, enter the package name in the Name field.Click Configure install.Click + Task.Enter the task name in the Task Name field.Select the type of task from the Type drop-down menu.You can either select Execute or Set Variable.Select the script type from the Script Type drop-down menu.For the Shell and Escript scripts, you can access the available list of macros by using @@{.You can select either Shell or EScript. See Supported eScript Modules and Functions. Enter the install script in the Script panel. See Load Balancer Installation.Enter the output in the Output field.Click Configure uninstall.Click + Task.Enter the task name in the Task Name field.Select the type of task from the Type drop-down menu.You can either select Execute or Set Variable.Select the script type from the Script Type drop-down menu.For the Shell and Escript scripts, you can access the available list of macros by using @@{.You can select either Shell or EScript. See Supported eScript Modules and Functions. Enter the uninstall script in the Script panel. See Load Balancer Uninstallation.Above the Service tab, enter the name of the service.In the Deployment Configuration pane, enter the number of minimum and maximum service replicas that you want to create in the Min and Max fields.The Min and Max defines the Scale In and Scale Out actions. The Scale In and Scale Out actions cannot scale beyond the defined Min and Max number.In case of an array of three VMs, the minimum number should be defined as three.In the Variables pane, enter the name and value of the Variable in Name and Value field.Select the Secret check-box if you want to hide the value of the variable. In the Port List pane, enter the name, protocol, and port number in the Name, Protocol, and Port fields.Repeat Step 6 to Step 48 to create the web-application service and database service.For installing web-application service, see Web-Application Installation.For uninstalling web-application service, see Web-Application Uninstallation.For installing database service, see Database Installation.For uninstalling database service, see Database Uninstallation.Create dependency from load balancer service to web-application service. See Setting up the Service Dependencies.Create dependency from web-application service to database service.Under the Variable List pane, enter the name and value of the variable. Click + icon in the Actions pane to create an action.Select the service on which the task needs to be created. In the Task panel, enter the name of the task in the Name field.Select the type of the task from the Type drop-down menu.You can select Execute or Set Variable.Select the script from the Script Type drop-down menu and enter the script in the Script field.You can select Shell or EScript.For the Shell and Escript scripts, you can access the available list of macros by using @@{.Enter the output of the script in the Output field. Click Save to save the blueprint.Click Launch.The Launch Blueprint window is displayed.Enter a name for the application in the Name of the Application field.Following are the rules for naming convention.The name of the blueprint can start with an alphanumeric character or an underscore.The name should have at least one character.Only space, underscore and dash are allowed as special characters.The name should not end with a dash.Select an application profile.Expand the VM configuration to verify the configuration of the VM.Expand the Credentials to verify the credentials.In case credentials are not specified for action, task or configuration then the default credentials are used. A blueprint needs to have at least one default credential. Click Create.The application blueprint is shown under the Application tab.Single VM BlueprintsSingle VM blueprint is a framework that you can use to create an instance, provision, and launch applications requiring only a single VM. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application. You can create and configure single VM blueprints for the following providers.Nutanix: For more information to create single VM blueprint for Nutanix, see Configuring Single VM Blueprint for Nutanix.AWS: For more information to create single VM blueprint for AWS, see Configuring Single VM Blueprint for AWS.VMware: For more information to create single VM blueprint for VMware, see Configuring Single VM Blueprint for VMware.GCP: For more information to create single VM blueprint for GCP, see Configuring Single VM Blueprint for GCP.Azure: For more information to create single VM blueprint for Azure, see Configuring Single VM Blueprint for Azure.Configuring Single VM Blueprint for NutanixPerform the following procedure to configure single VM blueprint for Nutanix. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a Nutanix platform.Configuring Single VM Blueprint for AWS Perform the following procedure to configure single VM blueprint for AWS. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on an AWS platform.Configuring Single VM Blueprint for VMwarePerform the following procedure to configure single VM blueprint for VMware. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a VMware platform.Configuring Single VM Blueprint for GCPPerform the following procedure to configure single VM blueprint for GCP. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Configuring Single VM Blueprint for AzurePerform the following procedure to configure single VM blueprint for Azure. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Configuring Single VM Blueprint for Xi CloudYou can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on Xi Cloud provider. Perform the following procedure to configure a single VM blueprint that you want to deploy on a Xi Cloud platform.Configuring Single VM Blueprint for NutanixPerform the following procedure to configure single VM blueprint for Nutanix. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a Nutanix platform.Before you beginEnsure that you have created a project and configured an environment for Nutanix. For more information, see Creating a Project and Configuring Nutanix Environment sections.Note: The Prism web console (also known as Prism Element) must be registered with the Prism Central.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.Click VM Details.The VM Details page is displayed.In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select Nutanix.The cloud options available for the selection depends on the selected project. Ensure that the selected project has Nutanix as the provider.From the Operating System drop-down menu, select either Linux or Windows.Optionally, if you have configured environment during project creation, click Clone from Environment and go to step 12.Note: When you clone the environment details from a project, all the VM details are automatically filled. For more information about environment configuration for Nutanix, see Configuring Nutanix Environment. Click Variables.The Variables page is displayed.Click the + icon to add a variable to the project.Enter a name for the variable in the Name  field.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Click VM Configuration.The VM Configuration page is displayed.In the VM Configuration page, configure the following. Optionally, under General Configuration panel, edit VM name in the VM Name field. Enter the number of vCPUs for the VM in the vCPUs field.Enter the number of cores per vCPU for the VM in the Cores per vCPU field.Enter the required memory of the VM in GiB in the Memory field.Optionally, if you want to customize the default OS properties of the VM, select the Guest Customization check-box and do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Select Cloudinit for Linux or select Sysprep for Windows.Note: For Sysprep, use all escape characters with a double backslash. For example, \\\\v.For Sysprep script, click Join a Domain check box and configure the following fields.Domain Name: Enter the domain name of Windows server. Credentials: From the Credentials drop-down menu, enter a credential for the Windows VM. You can also create new credentials. For more information, see step 22.DNS IP: Enter the IP address of the DNS server.DNS Search Path: Enter the DNS search path for the domain.Select the image from the Nutanix Image drop-down menu.All the images that are uploaded to the Prism Central are available for selection. For more information about image configuration, see Image Management section in the Prism Central guide.You can also add another image by clicking the + icon.Note: The drop-down menu displays the images that are available in the cluster.Select the device from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Select the Bootable check box against the image that you want to use to start the VM.Select one of the following firmware to boot the VM.Legacy BIOS: Select legacy BIOS to boot the VM with legacy BIOS firmware.UEFI: Select UEFI to boot the VM with UEFI firmware. UEFI firmware supports larger hard drives, faster boot time, and provides more security features.(For GPU-enabled clusters only) To configure a vGPU, click the + icon.From the Vendor drop-down menu, select the GPU vendor.From the Device ID drop-down menu, select the device ID of the GPU.From the Mode drop-down menu, select the GPU mode.To add a vDisk, click the + icon.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete or edit vDisks while launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Enter the size in GiB.Select categories from the Categories drop-down menu.Note: Categories field allows you to tag your VM to a defined category in the Prism Central. Based on the Prism Central configuration, the drop-down options are available.If you want to protect your application by a protection policy, select the category which you had created in the Prism Central.To add a network adapter, click the + sign against the Network Adapters (NICS).Select the NIC from the NIC drop-down menu.The NIC drop-down options are available based on the cluster configuration.Note: If you have whitelisted the subnets during project creation, the whitelisted subnets are available for your selection. The cluster details are also displayed based on the selected subnets.Optionally, click Advanced Options and perform the steps from 16 to 27.The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click the Check log-in upon create check box. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS.Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.What to do nextYou can use the blueprint to model your application. For more information, see Blueprints Management.Configuring Single VM Blueprint for AWS Perform the following procedure to configure single VM blueprint for AWS. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on an AWS platform.Before you beginEnsure that you have created a project and configured an environment for AWS. For more information, see Creating a Project and Configuring AWS Environment sections.Note: The Prism web console (also known as Prism Element) must be registered with a Prism Central.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.The cloud options available for the selection depends on the selected project. Ensure that the selected project has AWS as the provider.Click VM Details.The VM Details page is displayed.Optionally, if you have configured environment during project creation, click Clone from Environment and go to step 12.Note: When you clone the environment details from a project, all the VM details are auto filled. For more information about envirment configuration for AWS, see Configuring AWS Environment. In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select AWS.From the Account Id drop-down menu, select the account ID for AWS .From the Operating System drop-down menu, select either Linux or Windows.Click Variables.The Variables page is displayed.Click the + icon to add a variable to the project.Enter a name for the variable in the Name  field.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Click VM Configuration.The VM Configuration page is displayed.In the VM Configuration page, configure the following. In the Instance Name field, enter the instance name for the VM.The service provider uses this name as the VM name.To assign a public IP address to the instance, select Associate Public IP Address check-box.If the Associate Public IP Address check-box is not selected, ensure that Calm and AWS are in the same private network for scripts to run.Select an instance type from the Instance Type drop-down menu.Select region from the Region drop-down menu.Select availability zone from the Availability Zone  drop-down menu.Select machine image from the Machine Image  drop-down menu.Select IAM role from the IAM Role drop-down menu.Select key pairs from the Key Pairs drop-down menu.Select VPC from the VPC drop-down menu.Select Include Classic Security Group check-box to enable security group rules.Select security groups from the Security Groups  drop-down menu.Select subnet from the Subnet drop-down menu.Enter or upload AWS user data in the User Data field.Enter AWS tags in the AWS Tags field.Under storage section, enter size (GiB) and select Volume Type.Select Delete on Termination check-box to delete secondary storage data.Optionally, click Advanced Options and perform the steps from 16 to 27.The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.What to do nextYou can use the blueprint for application deployment. For more information, see Blueprints Management.Configuring Single VM Blueprint for VMwarePerform the following procedure to configure single VM blueprint for VMware. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a VMware platform.Before you beginEnsure that you have created a project and configured an environment for VMware. For more information, see Creating a Project and Configuring VMware Environment sections.You need licenses for both Compute and Storage distributed resource scheduler (DRS) in order to use the VMware DRS Mode.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.The cloud options available for the selection depends on the selected project. Ensure that the selected project has VMware.Click VM Details.The VM Details page is displayed.In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select VMware.From the Operating System drop-down menu, select either Linux or Windows.Click Variables.The Variables page is displayed.Click the + icon to add a variable to the project.Enter a name for the variable in the Name  field.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Click the VM Configuration tab.The VM Configuration page is displayed.In the VM Configuration page, configure the following. Select DRS Mode check-box to enable load sharing and automatic VM placement.DRS (Distributed Resource Scheduler) is a utility that balances computing workloads with available resources in a virtualized environment. For more information about DRS mode, see the VMware documentation. Select the cluster where you want to host your VM from the Cluster drop-down menu.This field is applicable only after you enable DRS Mode.If you have not enabled DRS Mode, select the host name of the VM from the Host drop-down menu.The host name is the primary IP address used to access the VM.Select template from the Template drop-down menu.Templates allow you to create multiple virtual machines with the same characteristics, such as resources allocated to CPU and memory, or type of virtual hardware. Templates save time and avoid errors when configuring settings and other parameters to create new VMs. The VM template retrieves the drop-down options from the configured vCenter.Note: Install the VMware Tools on the Windows templates. For Linux VMs, install Open-vm-tools or VMware-tools and configure the Vmtoolsd service for automatic start-up.Support for Open-vm-tools version 10.1.10.63510 and above is available. When using Open-vm-tools, install Perl for the template. Do not use SysPrepped as the Windows template image.If you select a template that has unsupported version of VMware Tools, then a warning appears stating VMware tool or version is unsupported and could lead to VM issues.You can also edit the NIC type when you use a template.For more information, refer to VMware KBs.Select datastore cluster from the Storage Pod drop-down menu.The datastore clusters are referred as storage pod in vCenter. A datastore cluster is a collection of datastores with shared resources and a shared management interface. Note: This field is applicable only after you enable DRS Mode.Enter the instance name of the VM in the Instance Name field. The service provider uses this name as the VM name.Enter values for vCPUs,Cores per vCPU , and Memory fields.If you have selected a VMware template to create a VM, add a virtual SCSI controller for the template. To add a SCSI controller, select the controller and bus sharing types from the Controller Type and Bus Sharing drop-down menu.For more information about controller and bus sharing types, see VMware documentation.Under Controller, click + icon to add the type of controller.You can select either SCSI or SATA controller.Note: You can add up to four SCSI and four SATA controllers. Under vDisk, click the + icon to add vDisks.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete, or edit vDisks during launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. You can select either CD-ROM or Disk.Select the adapter type from the Adapter Type drop-down menu.You can select IDE for CD-ROM.You can select either SCSI, IDE, or SATA for Disk.Enter the size of the disk in GiB.In the Location field, select the disk location.If you want to add a controller to the vDisk, in the Controller drop-down menu, select the type of controller to attach the disk.Note: You can add either SCSI or SATA controllers. The available controllers for selection is dependent on the Adapter Type.In the Disk mode drop-down menu, select the type of the disk mode.The available options are as follows.Dependent: Dependent disk mode is the default disk mode for the vDisk.Independent - Persistent: Disks in persistent mode behave like conventional disks on your physical computer. All data written to a disk in persistent mode are written permanently to the disk.Independent - Nonpersistent: Changes to disks in nonpersistent mode are discarded when you power off or reset the virtual machine. With nonpersistent mode, you can restart the virtual machine with a virtual disk in the same state every time. Changes to the disk are written to and read from a redo log file that is deleted when you power off or reset.In the Device slot drop-down menu, select the slot to attach the disk.If you have selected Custom specs, enter the details for the VM in the following fields:Hostname: Enter the hostname in the Hostname field.Domain: Enter the domain in the Domain field.Timezone: Select timezone from the Timezone drop-down menu.Hardware clock UTC: Select Hardware clock UTC check-box to enable hardware clock UTC.Network Setting: To add network setting, click the +  icon.DHCP: To automatically configure DHCP server, enable the DHCP check-box and skip to DNS setting.Setting Name: Enter a name for the network configuration you are adding to the VM. Settings name is the saved configuration of your network that you want to connect to your VM.IP Address: Enter the IP address in the IP Address field.Subnet Mask: Enter subnet mask IP address in the Subnet Mask field.Default Gateway: Enter the default gateway in the Default Gateway field.Alternative Gateway: Enter the alternative gateway in the Alternative Gateway field.DNS Primary: Under DNS Settings, enter DNS primary in the DNS Primary field.DNS Secondary: Enter DNS secondary in the DNS Secondary field.DNS Tertiary: Enter DNS tertiary in the DNS Tertiary field.DNS Search Path: Enter DNS search path name in the DNS Search Path field.Note: You can launch a single VM blueprint without a NIC or network adapter with VMware provider.If you have selected Cloud-init, enter the script in the Script field.You can also upload the script by clicking the upload icon.If you do not have any predefined customization available, select a type of customization.The available options are Cloud-init and Custom Specs.From the Predefined Guest Customization drop-down menu, select the guest customization.Click the Enable check-box if you want to use guest customization.Optionally, click Advanced Options and perform the steps from 15 to 26 .The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.What to do nextYou can use the blueprint for application deployment. For more information, see Blueprints Management.Configuring Single VM Blueprint for GCPPerform the following procedure to configure single VM blueprint for GCP. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Before you beginEnsure that you have created a project and configured an environment for GCP. For more information, See Creating a Project and Configuring GCP Environment sections.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.The cloud options available for the selection depends on the selected project. Ensure that the selected project has GCP.Click VM Details.The VM Details page is displayed.In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select GCP.From the Operating System drop-down menu, select either Linux or Windows.Click Variables.The Variables page is displayed.Click the + icon to add a variable to the project.Enter a name for the variable in the Name  field.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Click VM Configuration.The VM Configuration page is displayed.In the VM Configuration page, configure the following. Under VM Configuration panel, optionally you can edit VM name in the Instance Name field. Select zone from the Zone drop-down menu.Select type of machine from the Machine type drop-down menu.Under the Disks section, to add a disk, click the + icon.You can also make the added vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete or edit vDisks during launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select the type of storage from the Storage Type drop-down menu.The available options are as follows.pd-standard: Use this option if you want to use HDD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.pd-ssd: Use this option if you want to use SSD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.Select the image source from the Source Image drop-down menu.The images available for your selection are based on the selected zone. Enter the size of the disk in GB in the Size in GB field.Optionally, under the Disks section, click the Use Existing disk to use an existing disk configuration.Optionally, under the Disks section, click the Delete when instance is deleted to delete the disk configuration after the instance is deleted.Under Networking section, click the + icon to add networking details to the VM.To configure a Public IP address, select the Associate Public IP address check- box and configure the following fields.Network: Select the network from the Network drop-down menu.Subnetwork: Select the sub network from the Subnetwork drop-down menu.Access configuration Name: Enter a name of the network in the Access configuration Name field.Access configuration Type: Select the access configuration type from the Access configuration type drop-down menu.Under the SSH Key, enter or upload the username key data in the Username field.Select Block project-wide SSH Keys to enable blocking project-wide SSH keys.Under Management pane, enter metadata in the Metadata field.Select network tags from the Network Tags drop-down menu.Network tags are text attributes you can add to VM instances. These tags allow you to make firewall rules and routes applicable to specific VM instances. Optionally, to add a label to the VM, enter a key and a value in the Key and Value fields respectively.A label is a key-value pair that helps you organize the VMs created with GCP as the provider. You can attach a label to each resource, then filter the resources based on their labels.Under API Access, enter the service account in the Service Account field.Select either Default or Full Access.Optionally, click Advanced Options and perform the steps from 15 to 26.The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.What to do nextYou can use the blueprint to model your application. For more information, see Blueprints Management.Configuring Single VM Blueprint for AzurePerform the following procedure to configure single VM blueprint for Azure. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Before you beginEnsure that you have created a project and configured an environment for Azure. For more information, see Creating a Project and Configuring Azure Environment sections.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.The cloud options available for the selection depends on the selected project. Ensure that the selected project has Azure.Click VM Details.The VM Details page is displayed.In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select Azure.From the Operating System drop-down menu, select either Linux or Windows.Click Variables.The Variables page is displayed.Click the + icon to add a variable to the project.Enter a name for the variable in the Name  field.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Click VM Configuration.The VM Configuration page is displayed.In the VM Configuration page, configure the following. Under VM Configuration panel, optionally you can edit VM name in the Instance Name field. Select the resource group from the Resource Group drop-down menu.Each resource in Azure must belong to a resource group. A resource group is simply a logical construct that groups multiple resources together so you can manage the resources as a single entity. For example, you can create or delete resources as a group that share a similar life cycle, such as the resources for an n-tier application.Optionally, to create a Resource Group, click the Create Resource Group check-box, and do the following in the respective fields. In the Name field, type a unique name for the resource group.In the Location drop-down menu, select the geographical location of the datacenter that you want to add to the resource group.Under Tags, enter a key and value pair in the Key and Value fields respectively. Tags are key and value pairs that enable you to categorize resources. You can apply a tag to multiple resource groups.If you want to automatically delete a resource group that has empty resources while deleting an application, click the Delete Empty Resource Group check-box. Optionally, select availability set from the Availability Set drop-down menu.An Availability Set is a logical grouping capability that you can use in Azure. It ensures that the VM resources deployed within an Azure datacenter are isolated from each other to provide high availability.Select geographical location of the datacenter from the Location drop-down menu.Select hardware profile according to your hardware requirements from the Hardware Profile drop-down menu.The maximum number of data disks and NICs depends upon the selected hardware profile. For more information, see Azure documentation.Optionally, under Secrets, enter a unique vault ID in the Vault ID field.These certificates are installed on the VM.Optionally, under Certificates, click the + icon and enter the URL of the certificate config in the URL field. This is the URL of a certificate that you upload to the Key Vault as a secret.Under Admin Credentials sections, enter the username in the Username field.Select secret type from the Secret Type drop-down menu.You can either select either Password or SSH Private Key.Do one of the following.If you have selected password, then enter the password in the Password field.If you have selected SSH Private Key then enter or upload the SSH Private Key in the SSH Private Key field.You can use the selected or default credential as the default credential for the VM.You cannot use key based credential for Windows VMs.Username and password must adhere to the complexity requirements of Azure.Optionally, select Auto Updates check-box to indicate that the VM is enabled for automatic updates. This check-box is applicable only for Windows VMs.Optionally, select the Provision VM Agent check-box. Indicates whether virtual machine agent should be provisioned on the virtual machine. When this property is not specified in the request body, default behavior is to set it to true. This ensures that the VM Agent is installed on the VM and the extensions can be added to the VM later.This check-box is applicable only for Windows VMs.Optionally, under Additional Unattended Content, select setting from the Setting Name.You can either select Auto Logon or First Logon Commands.Note: Guest customization is applicable only on images that allows or support guest customization.Enter or upload the xml content. See Sample Auto Logon and First Logon Scripts.Optionally, under WinRM Listeners, select the protocol from the Protocol drop-down menu.You can either select HTTP or HTTPS.Enter or upload the xml content. See Sample Auto Logon and First Logon Scripts.Select the certificate URL from the Certificate URL drop-down menu.This field is only applicable when you select HTTPS as a protocol.Under Storage Profile, select the Use Custom Image check-box to use a custom VM image created in your subscription.Under VM Image Details, select publisher from the Publisher drop-down menu.The Use Managed Disks check-box is enabled by default.Note: This check-box cannot be disabled and all created disks are managed disks.Managed Disks simplifies disk management by managing the storage accounts associated with the VM disks.Under OS Disk Details, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.This field is available only when the Use Custom Image check-box is enabled.Under VM Image Details, select publisher from the Publisher drop-down menu.The Use Managed Disks check-box is enabled by default.Note: This check-box cannot be disabled and all created disks are managed disks.Managed Disks simplifies disk management by managing the storage accounts associated with the VM disks.Under OS Disk Details, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Select disk create option from the Disk Create Option drop-down menu.You can either select Attach or Empty or From Image.Under Data Disk, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Enter the size in GB in the Size field.Enter disk logical unit number (LUN) in the Disk LUN field.Note: The LUN value must be unique across data disk list.Under Network Profiles, add NICs as per your requirement. For each NIC, select security group from the Security Group drop-down menu.Select virtual network from the Virtual Network drop-down menu.Optionally, under Public IP Config, enter name in the Name field.Select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.Enter DNS label in the DNS Label field.Under Private IP Config, select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.If you select Static as Allocation Method, then enter the private IP address in the IP Address field.Optionally, enter tags in the Tags field.Optionally, click Advanced Options and perform the steps from 15 to 26.The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.To add variables to the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.What to do nextYou can use the blueprint to model your application. For more information, see Blueprints Management.Configuring Single VM Blueprint for Xi CloudYou can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on Xi Cloud provider. Perform the following procedure to configure a single VM blueprint that you want to deploy on a Xi Cloud platform.Before you beginEnsure that you have configured DNS in the VPC in the Xi cloud dashboard in the Prism Central.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.Click VM Details.The VM Details page is displayed.In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select Xi.The cloud options available for the selection depends on the selected project. Ensure that the selected project has Xi as the provider.The Availability Zone  field is automatically filled.From the Operating System drop-down menu, select either Linux or Windows.Click VM Configuration.The VM Configuration page is displayed.In the VM Configuration page, configure the following. Optionally, under General Configuration panel, edit VM name in the VM Name field. Enter the number of vCPUs for the VM in the vCPUs field.Enter the number of cores per vCPU for the VM in the Cores per vCPU field.Enter the required memory of the VM in GiB in the Memory field.Optionally, if you want to customize the default OS properties of the VM, select the Guest Customization check-box and do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Select Cloudinit for Linux or select Sysprep for Windows.Note: For Sysprep, use all escape characters with a double backslash. For example, \\\\v.For Sysprep script, click Join a Domain check box and configure the following fields.Domain Name: Enter the domain name of Windows server. Credentials: From the Credentials drop-down menu, enter a credential for the Windows VM. You can also create new credentials. For more information, see step 22.DNS IP: Enter the IP address of the DNS server.DNS Search Path: Enter the DNS search path for the domain.Select the image from the Image drop-down menu.All the images that are uploaded to the Prism Central are available for selection. For more information about image configuration, see Image Management section in the Prism Central guide.You can also add another image by clicking the + icon.Note: The drop-down menu displays the images that are available in the cluster.Select the device from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Select the Bootable check box against the image that you want to use to start the VM.To add a vDisk, click the + icon.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete or edit vDisks while launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Enter the size in GiB.Select categories from the Categories drop-down menu.Note: Categories field allows you to tag your VM to a defined category in the Prism Central. Based on the Prism Central configuration, the drop-down options are available.If you want to protect your application by a protection policy, select the category which you had created in the Prism Central.Under the Network panel, select the VPC from the VPC drop-down menu. For more information about VPC, see Xi Infrastructure Service Admininistration Guide.Optionally, click Advanced Options and perform the steps from 11 to 22.The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click the Check log-in upon create check box. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS.Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.Blueprints ManagementAfter you configure a blueprint, you can publish, unpublish, launch, or delete a blueprint.Publishing a blueprint allows you to make the blueprint available at Marketplace, so that other users can use the published blueprint. Unpublishing a blueprint allows you to remove the blueprint from the Marketplace.Launching a blueprint allows you to deploy your application on the blueprint and start using it.Publishing a BlueprintAfter you configure a blueprint, you must publish and get an approval from the administrator before making the blueprint available at Marketplace. Perform the following procedure to publish a blueprint to the Marketplace Manager.Launching a BlueprintYou must launch the blueprint to deploy an application on the blueprint and start using the application. Perform the following procedure to launch an application.Uploading a BlueprintYou can also upload configured blueprints to the Blueprints tab. Perform the following procedure to upload a blueprint.Downloading a BlueprintYou can also download a configured blueprint to your local machine and use it later. Perform the following procedure to download a blueprint.Configuring a BlueprintPerform the following procedure to configure a blueprint.Viewing a BlueprintPerform the following procedure to view a blueprint.Editing a BlueprintYou can edit a configured blueprint from the blueprints tab. Perform the following procedure to edit a blueprint.Deleting a BlueprintPerform the following procedure to delete a blueprint.Viewing Blueprint ErrorIf you have configured wrong details in your blueprint, you can view the error message while saving or publishing a blueprint. Perform the following procedure to view blueprint error message.Recovering Deleted BlueprintsYou can recover the deleted application blueprints within a time period of 90 days after you delete an application blueprint. This chapter describes the procedure to recover a deleted blueprint.Publishing a BlueprintAfter you configure a blueprint, you must publish and get an approval from the administrator before making the blueprint available at Marketplace. Perform the following procedure to publish a blueprint to the Marketplace Manager.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Click the blueprint that you want to publish.The blueprint editor page is displayed.Click Publish.Figure. Publish Blueprint windowClick to enlargeThe Publish Blueprint window is displayed.If the blueprint is getting published for the first time, select New marketplace item and do the following.To publish the blueprint with secret variables, click the Publish with Secrets toggle-button.Enter the version number in the Initial Version field.Note: Ensure that the version number is in the x.x.x format.Enter the blueprint description in the Description field.If you want to revise a published blueprint version, select New version of an existing marketplace item and do the following.To publish the blueprint with secret variables, enable the Publish with Secrets button.Select the already published blueprint from the Marketplace Item drop-down menu.Enter the version number in the Initial Version field.Note: Ensure that the version number is in the x.x.x format.Enter the blueprint description in the Description field.Enter the log changes in the Change Log field.If you want to upload an icon for the blueprint, click Change. Click Upload from computer to browse and select an image from your local machine.Click Open.Provide a name to the image in the Name of the Icon field.Click the right icon.Click Select & Continue.Note: User with administrator role can only upload an icon.Optionally, if you want to select an icon, already available in a blueprint, click the right icon.Optionally, to delete an icon, click the delete icon.Click Submit for Approval.The published blueprint is available under Marketplace Manager, Approval Pending  tab.What to do nextAfter your blueprint is approved from the administrator, you can launch the blueprint for other users to use. For more information, see Launching a Blueprint.Launching a BlueprintYou must launch the blueprint to deploy an application on the blueprint and start using the application. Perform the following procedure to launch an application.ProcedureClick the Blueprint iconon the left pane. The Blueprint page is displayed.Click the blueprint that you want to launch.The blueprint details page is displayed.Click Launch.The blueprint launch page is displayed.Enter Application name in the Name of the Application field.Select the application profile from the Application Profile field.In case, any of the fields are marked runtime while creating the blueprint, those fields are editable and displayed here. To view the runtime variables, expand the service under VM Configurations.Click Create.The system validates the provided platform-specific data against the selected provider and if the validation fails, an error message appears. To know more about the validation error, see Platform Validation Errors.If the validation is successful, the application is available under the Application tab.Platform Validation ErrorsWhen you enter the platform data that is invalid for a provider while creating a blueprint, you get a validation error. The following table details the invalid platform data for each provider.Platform Validation ErrorsWhen you enter the platform data that is invalid for a provider while creating a blueprint, you get a validation error. The following table details the invalid platform data for each provider.ProvidersInvalid Platform DataNutanixImage, NIC List, and Categories.GCPZone, Machine Type, Disk Type, Network, SubNetwork, Disk Type, Disk Source, Image, Zone, and Blank Disk.AWSVpc, Security Groups, and Subnets.VMwareNetwork name, NIC Type, NIC settings mismatch, Host, Template, Datastore, Datacenter, Storage Pod, and cluster.AzureImage details (publisher, offer, sku, version), Custom image, Resource group, Availability Set Id, NIC List, Network Security group, Virtual Network Name, and Subnet Name.Uploading a BlueprintYou can also upload configured blueprints to the Blueprints tab. Perform the following procedure to upload a blueprint.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Click Upload Blueprint.The browser window is displayed.Browse to the location of the saved blueprint and select the blueprint.Do one of the following.Double-click the selected blueprint.Select and click Open.Figure. Upload BlueprintClick to enlargeThe Upload Blueprint window is displayed.Enter the name of the blueprint in the Blueprint Name field. Select the project from the Project drop-down menu.Click Upload.The blueprint is uploaded and available for use.Note: You must provide the credentials password or key of the blueprint.Downloading a BlueprintYou can also download a configured blueprint to your local machine and use it later. Perform the following procedure to download a blueprint.Before you beginEnsure that at least one blueprint must be available.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Do one of the following.Click the blueprint that you want to download and click Download.Select the blueprint that you want to download and Action > Download.The Download Blueprint dialog box appears.Optionally, if you want to download the blueprint with the credentials and secrets used in the blueprint, click the check box in the Download Blueprint dialog box.In the Enter Passphrase field, type a password.The Enter Passphrase field is a mandatory field and is activated only after you have clicked the check box to download the blueprint with credentials and secrets.Click Continue.The blueprint is downloaded to your local machine.Configuring a BlueprintPerform the following procedure to configure a blueprint.About this taskProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Click the blueprint that you want to configure.The blueprint editor page is displayed.Click Configure.The Blueprint Configuration window is displayed.In the Blueprint Name field, enter a name of the blueprint.In the Blueprint Description field, enter a brief description about the blueprint.Click + against the Downloadable Image Configuration field and configure the following:In the Package Name field, enter the name of the package.In the Description field, enter a brief description about the package.In the Image Name field, enter the name of the image.In the Image Type drop-down menu, select the type of image.In the Architecture drop-down menu, select the architecture.In the Source URI field, enter the source URI to download the image.Note: VMware supports only OVA format.In the Product Name field, enter the name of the product.In the Product Version field, enter the version of the product.Click one of the following:To save the configuration, click Save.To go back to the previous screen, click Back.Viewing a BlueprintPerform the following procedure to view a blueprint.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Click the blueprint that you want to view the details of.The selected blueprints details are displayed.Editing a BlueprintYou can edit a configured blueprint from the blueprints tab. Perform the following procedure to edit a blueprint.ProcedureClick the Blueprint iconon the left pane. The Blueprint page is displayed.Click the blueprint that you want to edit.The blueprint details page is displayed.Make the necessary edits in the layers (Services, Actions, and Application Profiles).Note: You cannot delete System level actions.Click Save.The updated blueprint is saved and listed in the blueprints tab. Deleting a BlueprintPerform the following procedure to delete a blueprint.ProcedureClick the Blueprint iconon the left pane. The Blueprint page is displayed.Select the listed blueprint that you want to delete.Click Actions > Delete.Click Yes to confirm.The blueprint is deleted. Viewing Blueprint ErrorIf you have configured wrong details in your blueprint, you can view the error message while saving or publishing a blueprint. Perform the following procedure to view blueprint error message.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Click the blueprint that you want to view the details.The selected blueprint details are displayed. If there is any error in the blueprint, then the error is denoted by !. Click !.Figure. Blueprint ErrorClick to enlargeThe blueprint errors are displayed.Recovering Deleted BlueprintsYou can recover the deleted application blueprints within a time period of 90 days after you delete an application blueprint. This chapter describes the procedure to recover a deleted blueprint.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.In the search filter field, enter State:Deleted and press Enter.You can view the list of all deleted blueprints based on the 90 days retention period.Click the blueprint that you want to recover.From the Action drop-down menu, select Clone.The Clone Blueprint page appears.In the Blueprint Name field, enter a name for the blueprint and click Clone.The name is used as the blueprint name after recovery.A clone of the deleted blueprint is created and you can view the recovered blueprint in the blueprints page with the new name.", "Heading_Keywords": ["blueprint", "usag"]}, {"Heading": "Multi-VM Blueprints", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-multi-vm-blueprints.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Multi-VM blueprint is a framework that you can use to create an instance, provision, and launch applications requiring multiple VMs. You can define the underlying infrastructure of the VMs, application details, and actions that are carried out on a blueprint until the termination of the application. You can create and configure multi-VM blueprints for the following providers.NutanixAWSVMwareGCPAzureCreating a Multi-VM BlueprintPerform the following steps to create a multi-VM blueprint.Adding a ServiceConfiguring Multi-VM, Package, and ServiceConfiguring Kubernetes Deployment, Containers, and ServicePerform the following procedure to configure Kubernetes Deployment, Containers, and Service.Setting up the Service Dependencies Dependencies are used to define the order in which tasks must get executed. Perform the following procedure to set up the service dependency. Dependencies are used to define the order in which tasks must get executed.Adding and Configuring an Application ProfilePerform the following procedure to add and configure an application profile. You must apply the application profile while launching a blueprint.Adding and Configuring Scale Out and Scale InPerform the following procedure to add and configure the Scale Out and Scale In task.Pre-create TasksPost-delete TasksCreating an ActionAn action is a set of operations that you can run on your application that are created as a result of running a blueprint. Perform the following procedure to create an action.Creating a Three-Tier ApplicationThe following procedure describes how to create a three-tier application by using Nutanix Calm. This procedure explains the creation of load balancer, web-application and database as services. The flow of creating services is load balancer, web-application, and database.Creating a Multi-VM BlueprintPerform the following steps to create a multi-VM blueprint.Before you beginEnsure that you have configured the provider for your blueprint and a project.ProcedureAdd a service. For more information, see Adding a Service.Configure VM, package, and service for your provider. For more information, see Configuring Multi-VM, Package, and Service.Set the service dependencies. For more information, see Setting up the Service Dependencies.Add and configure an application profile. For more information, see Adding and Configuring an Application Profile.(Optional) Add and configure Scale Out and Scale In. For more information, see Adding and Configuring Scale Out and Scale In.Create an action. For more information, see Creating an Action.Adding a ServiceAbout this taskServices are the virtual machine instances, existing machines or bare-metal machines, that you can provision and configure by using Nutanix Calm. You can either provision a single service instance or multiple services based on the topology of your application. A service exposes an IP address and ports on which the request is received. Perform the following procedure to add a service.ProcedureClick the Blueprint iconon the left pane.The Blueprint page is displayed.From the + Create Blueprint drop-down menu, select either Multi VM/Pod Blueprint or Single VM Blueprint.Blueprint Setup window is displayed.Enter the name of the blueprint in the Name field.Optionally, provide a description about the blueprint in the Description field.Select a project from the Project drop-down menu.Note: The available cloud options depend on the selected project. Click Proceed.Enter the blueprint name in the Name this blueprint field.Following are the rules for naming convention.The name of the blueprint can start with an alphanumeric character or an underscore.The name must have at least one character.Use only space, underscore, and dash as special characters.The name must not end with a dash.In the blueprint editor, to add a service, click + next to the Services.The service inspector panel is displayed.What to do nextConfigure the VM, package, and service. For more information, see Configuring Multi-VM, Package, and Service.Configuring Multi-VM, Package, and ServiceYou can define and configure the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application for a service provider.Configuring Nutanix and Existing Machine VM, Package, and ServicePerform the following procedure to configure multi-VM blueprints for Nutanix and existing machine. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a Nutanix platform.Configuring AWS VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for AWS. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a AWS platform.Configuring VMware VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for VMware. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a VMware platform.Configuring GCP VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for GCP. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Configuring Azure VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for Azure. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on an Azure platform.Configuring Xi VM, Package, and ServiceYou can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on Xi cloud provider. Perform the following procedure to configure a multi-VM blueprint that you want to deploy on a Xi Cloud platform.Configuring Nutanix and Existing Machine VM, Package, and ServicePerform the following procedure to configure multi-VM blueprints for Nutanix and existing machine. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a Nutanix platform.Before you beginEnsure that you have completed the pre-configuration requirements. For more information, see Creating a Multi-VM Blueprint.Ensure that you have created a project and configured an environment for Nutanix. For more information, see Creating a Project and Configuring Nutanix Environment sections.ProcedureEnter a name of the service in the Service Name field.Under the VM tab, in the Name field, enter a name for the VM.Select the platform from the Cloud drop-down menu.You can select either Existing Machine or Nutanix.Note: The cloud options depend on the selected project while creating the blueprint. If the Cloud type is Existing Machine, enter the IP address of the existing machine in the IP Address field and go to step 20.From the OS drop-down menu, select either Windows or Linux as the operating system.Optionally, if you have configured environment during project creation, click Clone from Environment and go to step 20.Note: When you clone the environment details from a project, all the VM details are auto-filled except the Credential field. For more information on configuring environment for Nutanix, see Configuring Nutanix Environment. You must add a credential before saving or launching the blueprint.In the VM Configuration panel, enter the name of the VM in the VM Name field. The service provider uses this name as the VM name.Select the image from the Image drop-down menu.All the images that are uploaded to the Prism Central are available for selection. For more information about image configuration, see Image Management section in the Prism Central guide.Select Device Type and Device Bus for the image.You can select either CD-ROM or Disk as the device type.You can select either IDE or SATA as the device bus for CD-ROM and SCSI or PCI as the device bus for Disk. Optionally, you can add another image by clicking the + icon.Select the Bootable check box against the image that you want to use to boot up the VM. Select one of the following firmwares to boot the VM.Legacy BIOS: Select legacy BIOS to boot the VM with legacy BIOS firmware.UEFI: Select UEFI to boot the VM with UEFI firmware. UEFI firmware supports larger hard drives, faster boot time, and provides more security features.In the vCPUs field, enter the required number of vCPUs for the VM.In the Cores per vCPU field, enter the number of cores per vCPU for the VM. In the Memory field, enter the required memory in GiB for the VM.Optionally, if you want to customize the default OS properties of the VM, select the Guest Customization check box and do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Select either CloudInIt or SysPrep type and enter the script in the Script panel.Note: Select Cloudinit for Linux and Sysprep for Windows. For Sysprep, you must use double back slash for all escape characters . For example, \\\\v.You can also upload the script by clicking the upload icon.For Sysprep script, click Join a Domain check box and configure the following fields. Domain Name: Enter the domain name of the Windows server. Credentials: From the Credentials drop-down menu, enter a credential for the Windows VM. You can also create new credentials. For more information, see step 22.DNS IP: Enter the IP address of the DNS server.DNS Search Path: Enter the DNS search path for the domain.To add a vDisk, click + vDisks and do the following.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Enter the size of the vDisk in GiB.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete, or edit vDisks while launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select categories from the Categories drop-down menu.Note: Categories field allows you to tag your VM to a defined category in the Prism Central. Based on the Prism Central configuration, the drop-down options are available.To add a network adapter, click the + icon next to the Network Adapters (NICS) field and select the subnet from the NIC field .The NIC drop-down options are available based on the cluster configuration.Note: If you have whitelisted the subnets during project creation, the whitelisted subnets are available for your selection. The cluster details are also displayed based on the selected subnets.To add a serial port to the VM, click the + icon next to the Serial Ports field. You can use serial ports to connect a physical port or a file on the VM.Under Connection, if you want to check the logon status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH private key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS. Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each logon failure.Under the Package tab, enter the package name in the Name field.Click one of the following:Configure install: To create a task to install a package.Configure uninstall: To create a task to uninstall a package.Click + Task.Enter the task name in the Task Name field.To reuse a task from the task library, do the following.Click Browse Library.Select the task from the task library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.To update the variable or macro names, click Apply.To copy the task, click Copy.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.In the blueprint editor, click the service and select Service. Enter the name of the service in the Service Name field.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variables or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. Click Save.The blueprint is saved and listed under blueprints tab.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Creating an Execute TaskYou can create the Execute task type to run eScripts on the VM. Perform the following procedure to create an Execute  task.Creating a Delay TaskYou can create a delay task type to set a time interval between two tasks or actions. Perform the following procedure to create a delay task.Creating an HTTP Task You can create HTTP task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. Perform the following procedure to create an HTTP task.Creating a Set Variable TaskYou can create set variable task type to change variables in a blueprint. Perform the following procedure to create a set variable task.Creating an Execute TaskYou can create the Execute task type to run eScripts on the VM. Perform the following procedure to create an Execute  task.Before you beginEnsure that you have selected the task type as Execute  while creating a blueprint. For more information, see Configuring Multi-VM, Package, and Service.ProcedureIn the Script Type drop-down menu, select one of the following:ShellPowerShelleScriptFor shell, PowerShell, and eScript scripts, you can access the available list of macros by using @@{.Note: You can use macro expansions for variables used for eScripts.You can either select Shell or eScript or Powershell. For sample eScripts, see Supported eScript Modules and Functions section and for sample Powershell scripts, see Sample Powershell Script section.If you have selected the script type as Shell or Powershell, do the following:In the Credential drop-down menu, select an existing credential or create a credential.To create a credential, from the Credential drop-down menu, select Add New Credential.Add a credential page is displayed.In the Add a Credential page, enter the details for the following fields.Credential name: Enter a credential name for future use.Secret Type: Select either Password or SSH Private Key to authenticate.User Name: Enter the user name for the service.Password: If you have selected the secret type as password, enter the service password.SSH Private Key: If you have selected the secret type as SSH private key, enter the key to authenticate.To use the credential as default, click the Use as default check-box.Do one of the following:To save the changes, click Save.To go back to the previous screen, click Cancel.Enter the install or uninstall script in the Script panel. For example, see Database Installation.You can also upload a script by clicking the upload icon.If you want to test the script in Nutanix Calm playground, click Test script.Nutanix Calm playground allows you to test a script by running and reviewing the output and making required changes.The Test Script page is displayed.Under Authorization tab, enter the following fields:IP Address : Enter the IP address of the test machine.Port : Enter the port number of the test machine.Credential : Select the credential from the drop-down menu.User name : Enter a user name.Password : Enter a password.To save the details, click Done.Click Login and Test.The Test script page is displayed.You can also view your script in the Source Script field.Optionally, you can edit your script in the Source Script field.If you are using macros in your script, provide the variable values in the macro inspector panel and click Assign and Test.Click Test.The test result is displayed in the Output field.To go back to the previous screen, click Done.If you have selected the script type as EScript, do the following:In the Script field, enter the script.You can also upload a script by clicking the upload icon.Click Test script.The Test Script page is displayed.You can also view your script in the Source Script field.If you are using macros in your script, provide the variable values in the macro inspector panel and click Assign and Test.To test the script, click Test.The test result is displayed in the Output field.To go back to the previous screen, click Done.To publish this task to the task library, click Publish to Library.The task is published to the Library and you can browse and use the task while creating a blueprint. Creating a Delay TaskYou can create a delay task type to set a time interval between two tasks or actions. Perform the following procedure to create a delay task.Before you beginEnsure that you have selected the task type as delay while configuring a blueprint. For more information, see Configuring Multi-VM, Package, and Service.ProcedureIn the Sleep Interval field, enter the sleep time interval in seconds for the task.The delay task type is created. You can use the task type to set a time interval between two tasks or actions.Creating an HTTP Task You can create HTTP task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. Perform the following procedure to create an HTTP task.About this taskNote: You can use macro expansions for variables used in an HTTP task.Before you beginEnsure that you have selected the task type as HTTP task while configuring a blueprint. For more information, see Configuring Multi-VM, Package, and Service.ProcedureIn the Request URL field, enter the URL of the server that you want to run the methods on.In the Request Method drop-down menu, select one of the following request methods.GET: Use this method to retrieve data from a specified resource.PUT: Use this method to send data to a server to update a resource. In the Request Body field, enter the PUT request. You can also upload the put request by clicking the upload icon.POST: Use this method to send data to a server to create a resource. In the Request Body field, enter the POST request. You can also upload the post request by clicking the upload icon.DELETE: Use this method to send data to a server to delete a resource. In the Request Body field, enter the DELETE request. You can also upload the delete request by clicking the upload icon. In the Content Type drop-down menu, select the type of the output format.The available options are XML , JSON, and HTML.In the Header area, enter the HTTP header key and value in the Key and Value fields respectively. If you want to publish the HTTP header key and value pair as secret, click the Secrets fields.In the Connection Time Out field, enter the timeout interval in seconds.Optionally, in the Authentication field, select Basic and do the following:In the Username field, enter the user name.In the Password field, enter the password.If you want to verify SSL certificate for the task, click the SSL Cerificate Verification field.If you want to use a proxy server as configured in the Prism Central, click the Use PC Proxy configuration. Note: Ensure that the Prism Central has the appropriate HTTP proxy configuration.In the Retry Count field, enter the number of attempts the system performs to create a task after each failure.By default, the retry count is zero. It implies that the task creation procedure stops after the first attempt.In the Retry Interval field, enter the time interval in seconds for each retry if the task fails.In the Expected Response Options area, enter the details for the following fields:Response Status: Select either Success or Failure as the response status for the task.Response Code: Enter the response code for the selected response status.Note: If the response code is not defined, then by default all the 2xx response codes are marked as success and any other response codes are marked as failure.Set Variables from response: Enter the variables from the specified response path. The example of json format is $.x.y and xml format is //x/y. For more information about json path syntax, see http://jsonpath.com.Note: To retrieve the output format in HTML format, add a * in the syntax.If you want to test the script in Nutanix Calm playground, click Test script.Nutanix Calm playground allows you to test a script by running and reviewing the output and making required changes.The Test Script page is displayed. You can also edit the fields described from step 1\u201311.Click Test.The test result is displayed in the Output field.To publish this task to the task library, click Publish to Library.The task is published to the Library and you can browse and use the task while creating a blueprint. Creating a Set Variable TaskYou can create set variable task type to change variables in a blueprint. Perform the following procedure to create a set variable task.Before you beginEnsure that you have selected the task type as Set Variable while configuring a blueprint. For more information, see Configuring Multi-VM, Package, and Service.ProcedureIn the Script Type drop-down menu, select one of the following:ShellPowershellEScriptFor Shell, Powershell, and EScript scripts, you can access the available list of macros by using @@{.You can either select Shell or EScript or Powershell. For sample Escripts, see Supported eScript Modules and Functions section and for sample Powershell scripts, see Sample Powershell Script section.Enter the install or uninstall script in the Script panel. For example, see Database Installation.In the Output field, enter the name of the variable that you have defined through the set variable task.If you are setting multiple variables, enter the variable name for each of the variables by clicking the Output field.To publish this task to the task library, click Publish to Library.The task is published to the Library and you can browse and use the task while creating a blueprint. Configuring AWS VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for AWS. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a AWS platform.Before you beginEnsure that you have completed the pre-configuration requirements. See Creating a Multi-VM Blueprint.Ensure that you have created a project and configured an environment for AWS. For more information, See Creating a Project and Configuring AWS Environment sections.ProcedureEnter a name of the service in the Service Name field.Under the VM tab, enter the name of the VM in the Name field.Select AWS from the Cloud drop-down menu. Note: The cloud options depend on the selected project while creating the blueprint. From the Account ID drop-down menu, select the account that you want to use for the blueprint.Optionally, if you have configured environment during project creation, click Clone from Environment and go to step 19.Note: When you clone the environment details from a project, all the VM details are auto filled except Credential field. For more information on configuring environment for AWS, see Configuring AWS Environment. You must add a credential before saving or launching the blueprint.Select the operating system from the OS drop-down menu.You can select either Windows or Linux.In the VM Configuration panel, enter the instance name of the VM in the Instance Name field. The service provider uses this name as the VM name. You can use Calm macros to provide a unique name to the VM. For example, vm-@@{calm_array_index}@@-@@{calm_time}@@.Select the Associate Public IP Address check-box to associate a public IP address with your AWS instance. Note: If the Associate Public IP Address is unselected, ensure that the AWS account and Calm are on the same network for the scripts to run.Select an AWS instance type from the Instance Type drop-down menu.Instance types comprise varying combinations of CPU, memory, storage, and networking capacity and give you the flexibility to choose the appropriate mix of resources for your applications. Each instance type includes one or more instance sizes, allowing you to scale your resources to the requirements of your target workload.The drop-down menu displays the instances that are available in the AWS account. For more information, see AWS documentation.Select the region from the Region drop-down menu and the configuring the following.Note: The drop-down menu displays the regions which are selected while configuring the AWS setting. Select the availability zone from the Availability Zone drop-down menu.An Availability Zone is one or more discrete data centers with redundant power, networking, and connectivity in an AWS region. Availability Zones allow you to operate production applications and databases that are more highly available, fault tolerant, and scalable than would be possible from a single data center.Select the machine image from the Machine Image  drop-down menu.An Amazon Machine Image is a special type of virtual appliance that is used to create a virtual machine within the Amazon Elastic Compute Cloud. It serves as the basic unit of deployment for services delivered using EC2.Select the IAM role from the IAM Role drop-down menu.An IAM role is an AWS Identity and Access Management entity with permissions to make AWS service requests.Select the key pairs from the Key Pairs  drop-down menu.A key pair (consisting of a private key and a public key) is a set of security credentials that you use to prove your identity when connecting to an instance.Select the VPC from the VPC  drop-down menu.Amazon Virtual Private Cloud (Amazon VPC) allows you to provision a logically isolated section of the AWS cloud where you can launch AWS resources in your defined virtual network.Enter the AWS tags in the AWS Tags field.AWS tags are key and value pair to manage, identify, organize, search for, and filter resources. You can create tags to categorize resources by purpose, owner, environment, or other criteria.Under the Storage section, configure the following to boot the AWS instance with the selected image.In the Device field, select the device to boot the AWS instance. The available options are based on the image you have selected.In the Size(GiB) field, enter the required size for the bootable device.In the Volume Type drop-down menu, select the volume type. You can select either General Purpose SSD, Provisioned IOPS SSD, and EBS Magnetic HDD.For more information on the volume types, see AWS documentation.Optionally, select the Delete on termination check-box to delete the storage when the instance is terminated.You can also add more secondary storages by clicking the + icon next to the Storage section.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create.Under Connection, If you want to check the log on status after creating the VM, click Check log-in upon create. Select a credential from the Credential drop-down menu for the VM. Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring CredentialSelect the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.Under the Package tab, enter the package name in the Name field.Click one of the following:Configure install: To create a task to install a package.Configure uninstall: To create a task to uninstall a package.Click + Task.Enter the task name in the Task Name field.Do one of the following.You can reuse an existing task and available as part of the task library. See step 20.You can create a task. See step 21.To reuse a task from the task library, do the following.Click Browse Library.Select the task from the task library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.To update the variable or macro names, click Apply.To copy the task, click Copy.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the execute type of task, see Creating an Execute Task.Set Variable: To create the set variable type of task, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay Task: To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.Click the Service tab and configure the following.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables section, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. Click Save.The blueprint is saved and listed under blueprints tab.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Configuring VMware VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for VMware. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a VMware platform.Before you beginEnsure that you complete the pre-configuration requirements. See Creating a Multi-VM Blueprint.Ensure that you have created a project and configured an environment for VMware. For more information, see Creating a Project and Configuring VMware Environment sections.You need licenses for both Compute and Storage distributed resource scheduler (DRS) in order to use the VMware DRS mode.Ensure that storage DRS is enabled and set to fully automated in vCenter.ProcedureUnder the VM tab, enter the name of the VM in the Name field.Select VMware from the Cloud drop-down menu. Note: The cloud options depend on the selected project while creating the blueprint. Select the operating system from the Operating System drop-down menu.You can select either Windows or Linux.In the VM Configuration panel, enter the instance name of the VM in the Instance Name field. The service provider uses this name as the VM name.Select DRS Mode check-box to enable load sharing and automatic VM placement.DRS (Distributed Resource Scheduler) is a utility that balances computing workloads with available resources in a virtualized environment. For more information about DRS mode, see the VMware documentation. Note: If the storage DRS is disabled in Vcenter, the blueprint provisioning fails. Select the cluster where you want to host your VM from the Cluster drop-down menu.This field is applicable only after you enable DRS mode.If you have not enabled DRS Mode, select the host name of the VM from the Host drop-down menu.The host name is the primary IP address used to access the VM.Select template from the Template drop-down menu.Templates allow you to create multiple virtual machines with the same characteristics, such as resources allocated to CPU and memory, or type of virtual hardware. Templates save time and avoid errors when configuring settings and other parameters to create new VMs. The VM template retrieves the drop-down options from the configured vCenter.Note: Install the VMware Tools on the Windows templates. For Linux VMs, install Open-vm-tools or VMware-tools and configure the Vmtoolsd service for automatic start-up.Support for Open-vm-tools version 10.1.10.63510 and above is available. When using Open-vm-tools, install Perl for the template.Do not use SysPrepped as the Windows template image.If you select a template that has unsupported version of VMware Tools, then a warning appears stating VMware tool or version is unsupported and could lead to VM issues.You can also edit the NIC type when you use a template.For more information, refer to VMware KBs.Select datastore cluster from the Storage Pod drop-down menu.The datastore clusters are referred as storage pod in vCenter. A datastore cluster is a collection of datastores with shared resources and a shared management interface. Note: This field is applicable only after you enable DRS Mode.Enter values for vCPUs,Cores per vCPU , and Memory fields.Under Controller, click + to add the type of controller.You can select either SCSI or SATA controller.Note: You can add up to four SCSI and four SATA controllers. Under vDisk, click + to add vDisk.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete or edit vDisks while launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.If you have selected CD-ROM as device type, you can select and mount ISO images available on all the datastore.To filter the list of ISO images, from the DataStore drop-down menu, select the datastore applicable to your region.From the ISO File Path drop-down menu, select the applicable path for the ISO image.Select the adapter type from the Adapter Type drop-down menu.You can select IDE for CD-ROM.You can select either SCSI, IDE, or SATA for Disk.Enter the size of the disk in GiB.In the Location field, select the VM datastore to store the disk details.If you want to add a controller to the vDisk, in the Controller drop-down menu, select the type of controller to attach the disk.Note: You can add either SCSI or SATA controllers. The available controllers for selection is dependent on the Adapter Type.In the Disk mode drop-down menu, select the type of the disk mode.The available options are as follows.Dependent: Dependent disk mode is the default disk mode for the vDisk.Independent - Persistent: Disks in independent persistent mode behave like conventional disks. All data written to a disk in persistent mode are written permanently to the disk.Independent - Nonpersistent: Changes to disks in nonpersistent mode are discarded when you power off or reset the virtual machine. With nonpersistent mode, you can restart the virtual machine with a virtual disk in the same state every time. Changes to the disk are written to and read from a redo log file that is deleted when you power off or reset.In the Device slot drop-down menu, select the slot to attach the disk.Optionally, if you want to customize the default OS properties of the VM, in the VM guest customization pane, do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Click the Enable check-box if you want to use guest customization.From the Predefined Guest Customization drop-down menu, select the guest customization.If you do not have any predefined customization available, select a type of customization.The available options are Cloud-init and Custom Specs.If you have selected Cloud-init, enter the script in the Script field.You can also upload the script by clicking the upload icon.If you have selected Custom specs, configure the network details for the VM:Hostname: Enter the hostname for the VM in the Hostname field. Domain: Enter the domain name in the Domain field that you want to assign to the VM.Timezone: Select timezone for the VM from the Timezone drop-down menu.Hardware clock UTC: Select Hardware clock UTC check-box to enable hardware clock UTC.+ Network Setting: To add a network configuration for the VM, click + Network Setting.DHCP: To automatically configure DHCP server, enable the DHCP check-box and skip to DNS setting.Setting Name: Enter a name for the network configuration you are adding to the VM. Settings name is the saved configuration of your network that you want to connect to your VM.IP Address: Enter the IP address in the IP Address field.Subnet Mask: Enter subnet mask IP address in the Subnet Mask field.Default Gateway: Enter the default gateway in the Default Gateway field.Alternative Gateway: Enter the alternative gateway in the Alternative Gateway field.DNS Primary: Under DNS Settings, enter DNS primary in the DNS Primary field.DNS Secondary: Enter DNS secondary in the DNS Secondary field.DNS Tertiary: Enter DNS tertiary in the DNS Tertiary field.Note: When you run guest customization scripts, Nutanix Calm runs the NIC mismatch validation. If NIC mismatch is found, you get a platform validation error. Under Connection, If you want to check the log on status after creating the VM, click Check log-in upon create. Select a credential from the Credential drop-down menu for the VM. Optionally, to add a credential for the Nutanix environment, click Credential + and configure the credential. For more information, see Configuring CredentialSelect address from the Address drop-down menu.You can select either Public IP address or private IP address.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS. Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system make after each logon failure.Under the Package tab, enter the package name in the Name field.Click one of the following:Configure install: To create a task to install a package.Configure uninstall: To create a task to uninstall a package.Click + Task.Enter the task name in the Task Name field.Do one of the following.You can reuse an existing task available as part of the task library. See step 32.You can create a task. See step 33.To reuse a task from the task library, do the following.Click Browse Library.Select the task from the task library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.To update the variable or macro names, click Apply.To copy the task, click Copy.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute type of task, see Creating an Execute Task.Set Variable: To create the set variable type of task, see Creating a Set Variable Task.HTTP Task: To create the HTTP task type, see Creating an HTTP Task.Delay Task: To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.In the blueprint editor, click the service and select Service. Enter the name of the service in the Service Name field.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are automatically filled.Select the Secret check-box if you want to hide the value of the variable. In the Port List pane, enter the name, protocol, and port number in the Name, Protocol, and Port fields.Click Save.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Supported VMware Guest Tools VersionsTo know the supported VMware guest tools versions, see the Supported VMware Guest Tools VersionsTo know the supported VMware guest tools versions, see the VMware Product Interoperability Matrices.Configuring GCP VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for GCP. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Before you beginEnsure that you complete the pre-configuration requirements. See Creating a Multi-VM Blueprint.Ensure that you have created a project and configured an environment for AWS. For more information, See Creating a Project and Configuring GCP Environment sections.ProcedureEnter a name of the service in the Service Name field.Under the VM tab, enter the name of the VM in the Name field.Select GCP from the Cloud drop-down menu. Note: The cloud options depend on the selected project while creating the blueprint. Optionally, if you have configured environment during project creation, click Clone from Environment and go to step 21.Note: When you clone the environment details from a project, all the VM details are automatically filled except the Credential field. For more information on configuring environment for GCP, see Configuring GCP Environment. You must add a credential before saving or launching the blueprint.Select the operating system from the OS drop-down menu.You can select either Windows or Linux.In the VM Configuration panel, enter the instance name of the VM in the Instance Name field. The service provider uses this name as the VM name.Select zone from the Zone drop-down menu.Select type of machine from the Machine type drop-down menu.Under the Disks section, click + against the Boot Disk field and configure the following:Select the type of storage from the Storage Type drop-down menu.The available options are as follows.pd-standard: Use this option if you want to use HDD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.pd-ssd: Use this option if you want to use SSD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.Select the image source from the Source Image drop-down menu.The images available for your selection are based on the selected zone. Enter the size of the disk in GB in the Size in GB field.Optionally, under the Disks section, click the Use Existing disk to use an existing disk configuration.Configure the Network section.You can configure either a Public or Private IP address.To configure a Public IP address, select the Associate Public IP address check- box and configure the following:Select the network from the Network drop-down menu.Select the sub network from the Subnetwork drop-down menu.Enter a name of the network in the Access configuration Name field.Select the access configuration type from the Access configuration type drop-down menu.To configure a private IP address, de-select the Associate Public IP address check- box and configure the following:Select the network from the Network drop-down menu.Select the sub network from the Subnetwork drop-down menu.Under the SSH Key, enter or upload the username key data in the Username field.Select Block project-wide SSH Keys to enable blocking project-wide SSH keys.Under Management pane, enter metadata in the Metadata field.Select security group from the Security Groups drop-down menu.Optionally, enter tags in the Tags field.Under API Access, enter the service account in the Service Account.Select either Default or Full Access.Under Connection, select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter username in the Username field.Select secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select address from the Address drop-down menu.If you have selected the Associate Public IP address check-box, you can select Public IP address .If you have de-selected Associate Public IP address check-box, you can select private IP address .Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS. Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login  script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login  script.In the Retries field, enter the number of logon attempts the system make after each logon failure.Under the Package tab, enter the package name in the Name field.Click one of the following:Configure install: To create a task to install a package.Configure uninstall: To create a task to uninstall a package.Click + Task.Enter the task name in the Task Name field.Do one of the following.You can reuse an existing task available as part of the task library. See step 27.You can create a task. See step 28.To reuse a task from the task library, do the following.Click Browse Library.Select the task from the task library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.To update the variable or macro names, click Apply.To copy the task, click Copy.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.In the blueprint editor, click the service and select Service. Enter the name of the service in the Service Name field.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. In the Port List pane, enter the name, protocol, and port number in the Name, Protocol, and Port fields.Click Save.The blueprint is saved and listed under blueprints tab.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Configuring Azure VM, Package, and ServicePerform the following procedure to configure multi-VM blueprint for Azure. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on an Azure platform.Before you beginEnsure that you have configured the following entities in the Azure account.Resource GroupAvailability setNetwork Security GroupVirtual NetworkVault CertificatesEnsure that you complete the pre-configuration requirements. See Creating a Multi-VM Blueprint.Ensure that you have created a project and configured an environment for Azure. For more information, see Creating a Project and Configuring Azure Environment sections.ProcedureEnter a name of the service in the Service Name field.Under the VM tab, enter the name of the VM in the Name field.Select Azure from the Cloud drop-down menu. Note: The cloud options depend on the selected project while creating the blueprint. Select the operating system from the Operating System drop-down menu.You can either select Windows or Linux.Optionally, click Clone from Environment to clone the environment settings into the blueprint editor.In the VM Configuration panel, enter the instance name of the VM in the Instance Name field. This field displays macro as suffix to ensure name uniqueness.The service provider uses this name as the VM name.Select the resource group from the Resource Group drop-down menu.Each resource in Azure must belong to a resource group. A resource group is simply a logical construct that groups multiple resources together so you can manage the resources as a single entity. For example, you can create or delete resources as a group that share a similar life cycle, such as the resources for an n-tier application.Optionally, to create a Resource Group, click the Create Resource Group check-box, and do the following in the respective fields. In the Name field, type a unique name for the resource group.In the Location drop-down menu, select the geographical location of the datacenter that you want to add to the resource group.Under Tags, enter a key and value pair in the Key and Value fields respectively. Tags are key and value pairs that enable you to categorize resources. You can apply a tag to multiple resource groups.If you want to automatically delete a resource group that has empty resources while deleting an application, click the Delete Empty Resource Group check-box. Optionally, select availability set from the Availability Set drop-down menu.An Availability Set is a logical grouping capability that you can use in Azure. The Availability Set ensures that the VM resources deployed within an Azure datacenter are isolated from each other to provide High Availability.Select geographical location of the datacenter from the Location drop-down menu.Select hardware profile as per your hardware requirements from the Hardware Profile drop-down menu.The maximum number of data disks and NICs depends upon the selected hardware profile. Refer to Azure documentation to view the sizes for Windows and linux VMs.Optionally, under Secrets, enter a unique vault ID in the Vault ID field.These certificates are installed on the VM.Optionally, under Certificates, enter the URL of the certificate config in the URL field. This is the URL of a certificate that you upload to the Key Vault as a secret.The URL of the certificate is the uploaded to the Key Vault as a secret.Enter store in the Store field. For Windows VMs, the Store field specifies the certificate store on the virtual machine to which the certificate is added. The specified certificate store is implicitly created in the LocalMachine account.For Linux VMs, the certificate file is placed under the /var/lib/waagent directory. The format of the file name is <UppercaseThumbprint>.crt for the X509 certificate and <UppercaseThumbpring>.prv for private key. Both of these files are .pem formatted.Optionally, select the Provision VM Agent check-box. Indicates whether virtual machine agent should be provisioned on the virtual machine. When this property is not specified in the request body, default behavior is to set the value to true. It ensures that the VM Agent is installed on the VM and the extensions can be added to the VM later.This check-box is applicable only for Windows VMs.Optionally, select Auto Updates check-box to indicate that VM is enabled for automatic updates. This check-box is applicable only for Windows VMs.Optionally, under Additional Unattended Content, select setting from the Setting Name.You can either select Auto Logon or First Logon Commands.Note: Guest customization is applicable only on images that allows or support guest customization.Enter or upload the xml content. See Sample Auto Logon and First Logon Scripts.Optionally, under WinRM Listeners, select the protocol from the Protocol drop-down menu.You can either select HTTP or HTTPS.Select the certificate URL from the Certificate URL drop-down menu.This field is only applicable when you select HTTPS as a protocol.Under Storage Profile, select the Use Custom Image check-box to use a custom VM image created in your subscription.From the Custom Image drop-down menu, select a custom image or publisher-offer-SKU-version.This field is available only when the Use Custom Image check-box is enabled.Under VM Image Details, select publisher from the Publisher drop-down menu.Select offer from the Offer drop-down menu.Select SKU from the SKU drop-down menu.Select version from the Version drop-down menu.The Use Managed Disks check-box is enabled by default.Note: This check-box cannot be disabled, that means all the created disks are managed disks.Managed Disks simplifies disk management by managing the storage accounts associated with the VM disks.Under OS Disk Details, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Select disk create option from the Disk Create Option drop-down menu.You can either select Attach or Empty or From Image.Under Data Disk, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Enter the size in GB in the Size field.Enter disk logical unit number (LUN) in the Disk LUN field.Note: The LUN value should be unique across data disk list.Under Network Profiles, add NICs as per your requirement. For each NIC, select security group from the Security Group drop-down menu.Select virtual network from the Virtual Network drop-down menu.Optionally, under Public IP Config, enter name in the Name field.Select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.Enter DNS label in the DNS Label field.Under Private IP Config, select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.If you select Static as Allocation Method, then enter the private IP address in the Ip Address field.Optionally, enter tags in the Tags field.Under Connection, select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter username in the Username field.Select secret type from the Secret Type drop-down menu.You can either select Password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH Private Key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want to use the credential as your default credential.Click Done.The selected or default credential is used as the default credential for the VM created by Azure.Key based credential is not allowed for Windows VMs.Username and password need to adhere to the complexity requirements of Azure.Select address from the Address drop-down menu.You can either select Public IP address or Private IP address for the NICs.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS. Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check-login script is invoked post VM start-up. It allows you to configure the delay time to allow guest-customisation script, IP, and all other services to come up before invoking the check-login script.Under the Package tab, enter the package name in the Name field.Click Configure install.Click + Task.Enter the task name in the Task Name field.Do one of the following.You can reuse a task that is already created and available as part of the library. See step 47.You can create a task. See step 48.To reuse a task from the library do the following.Click Browse Library.Select the task from the library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.Click Apply to update the variable or macro names.Click Copy to copy the task.To create a task, do the following.Select the type of task from the Type drop-down menu.You can either select Execute or Set Variable.Select the script from the Script Type drop-down menu.For Shell, PowerShell, and eScript scripts, you can access the available list of macros by using @@{.Note: Azure library SDK support is available for eScripts.You can either select Shell or eScript or Powershell. See Supported eScript Modules and Functions and Sample Powershell Script. Enter the install script in the Script panel. Enter the output in the Output field.Click Configure uninstall.Click + Task.Enter the task name in the Task Name field.Select the type of task from the Type drop-down menu.You can either select Execute or Set Variable.Select the script from the Script Type drop-down menu.For shell, PowerShell, and eScript scripts, you can access the available list of macros by using @@{.Note: Azure library SDK support is available for eScripts.You can either select Shell or eScript or Powershell. See Supported eScript Modules and Functions and Sample Powershell Script. Enter the output in the Output panel.  This field is only applicable if you have selected Set Variable from the Type drop-down menu.Click Publish to Library to publish this task to the task library.In the blueprint editor, click the service and select Service. Enter the name of the service in the Service Name field.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variables or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are automatically filled.Select the Secret check-box if you want to hide the value of the variable. In the Port List pane, enter the name, protocol, and port number in the Name, Protocol, and Port fields.Click Save.The blueprint is saved and listed under blueprints tab.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Azure TroubleshootingThe following section describes Azure troubleshooting.Azure TroubleshootingThe following section describes Azure troubleshooting.For settings save or verification failure, you can check the logs at the following location./home/calm/log/styx.log For application blueprints save failure, you can check the logs at the following locations./home/calm/log/hercules_*.log/home/calm/log/styx.logFor provisioning failure, you can check the logs at the following locations.Task logs on UI /home/epsilon/log/indra_*.log [Signature: Encountered ERROR]/home/epsilon/log/durga_*.log/home/epsilon/log/arjun_*.log/home/calm/log/hercules_*.log/home/calm/log/styx.logConfiguring Xi VM, Package, and ServiceYou can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on Xi cloud provider. Perform the following procedure to configure a multi-VM blueprint that you want to deploy on a Xi Cloud platform.Before you beginEnsure that you have configured DNS in the VPC section in the Xi Cloud dashboard in the Prism Central.ProcedureEnter a name of the service in the Service Name field.Under the VM tab, enter the name of the VM in the Name field.Select Xi from the Cloud drop-down menu. Note: The cloud options depend on the selected project while creating the blueprint. The Availability Zone  field is automatically filled.Select the operating system from the Operating System drop-down menu.You can either select Windows or Linux.In the VM Configuration panel, enter the instance name of the VM in the VM Name field. This field displays the macro as suffix to ensure name uniqueness.The service provider uses this name as the VM name.In the vCPUs field, enter the required number of vCPUs for the VM.In the Cores per vCPU field, enter the number of cores per vCPU for the VM. In the Memory field, enter the required memory in GiB for the VM.Optionally, if you want to customize the default OS properties of the VM, select the Guest Customization check box and do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Select either CloudInIt or SysPrep type and enter the script in the Script panel.Note: Select Cloudinit for Linux and Sysprep for Windows. For Sysprep, you must use double back slash for all escape characters . For example, \\\\v.You can also upload the script by clicking the upload icon.For Sysprep script, click Join a Domain check box and configure the following fields. Domain Name: Enter the domain name of the Windows server. Credentials: From the Credentials drop-down menu, enter a credential for the Windows VM. You can also create new credentials. For more information, see step 22.DNS IP: Enter the IP address of the DNS server.DNS Search Path: Enter the DNS search path for the domain.To add a vDisk, click + vDisks and do the following.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Enter the size of the vDisk in GiB.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete, or edit vDisks while launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select categories from the Categories drop-down menu.Note: Categories field allows you to tag your VM to a defined category in the Prism Central. Based on the Prism Central configuration, the drop-down options are available.Under the Network panel, select the VPC from the VPC drop-down menu. For more information about VPC, see Xi Infrastructure Service Admininistration Guide.Under Connection, if you want to check the logon status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH private key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS. Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each logon failure.Under the Package tab, enter the package name in the Name field.Click one of the following:Configure install: To create a task to install a package.Configure uninstall: To create a task to uninstall a package.Click + Task.Enter the task name in the Task Name field.Optionally, to reuse a task from the task library, do the following.Click Browse Library.Select the task from the task library.When you select a task, the task inspector panel displays the selected task details.Click Select.Optionally, edit the variable or macro names as per your blueprint.The variable or macro names used in the task can be generic, you can update them with corresponding variable or macro names as per your blueprint.To update the variable or macro names, click Apply.To copy the task, click Copy.If you want to create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.In the blueprint editor, click the service and select Service. Enter the name of the service in the Service Name field.In the Deployment Configuration pane, enter the number of default, minimum and maximum service replicas that you want to create in the Default, Min, and Max fields respectively.The Min and Max fields define the scale-in and scale-out actions. The scale-in and scale-out actions cannot scale beyond the defined minimum and maximum numbers. The default field defines the number of default replicas the service creates.If there is an array of three VMs, define the minimum number as three.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variables or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. Click Save.The blueprint is saved and listed under blueprints tab.Configuring Kubernetes Deployment, Containers, and ServicePerform the following procedure to configure Kubernetes Deployment, Containers, and Service.Before you beginEnsure that you have completed the pre-configuration requirements. See Creating a Multi-VM Blueprint.Ensure that the selected project has Kubernetes or GCP with GKE enabled or both as part of it.Refer Kubernetes Documentation to get detailed information about the kubernetes attributes and configuration.ProcedureTo add a service to the blueprint, see Configuring Multi-VM, Package, and Service.To add a Pod, click + against the Pod.A Pod is the basic execution unit of a Kubernetes application and the smallest and simplest unit in the Kubernetes object model that you create or deploy. A Pod represents processes running on your cluster.The Pod service inspector panel appears.Enter a name of the pod in the Pod Name field.Under the Deployment tab, select the account from the Account drop-down menu. All the accounts added to the project are available for selection.Optionally, edit the Calm deployment name in the Calm Deployment Name field.This filed is auto-populated.Optionally, edit the K8s deployment name in the K8s Deployment Name field.This filed is automatically populated.Enter namespace in the Namespace field.Namespace is a kubernetes field to use in environments with many users spread across multiple teams, or projects.Enter the number of replicas in the Replica field.Optionally, enter annotations in the Annotations field.You can use kubernetes annotations to attach arbitrary non-identifying metadata to objects.Enter selector in the Selectors field.The selector field defines how the Deployment finds which pods to manage.Enter label in the Label  field.Labels are key/value pairs that are attached to objects, such as pods. You can use Labels to specify identifying attributes of objects that are meaningful and relevant to users, but do not directly imply semantics to the core system. You can also use Labels to organize and to select subsets of objects. You can attach Labels to objects either at the creation time or later. Each object can have a set of key/value labels defined. Each key must be unique for a given object.Optionally, you can edit the pod name in the K8s Pod Name field.This field is auto-populated.Enter value of image pull secrets in the Image Pull Secrets field.You can provide the list of secret names (pre-configured in a Kubernetes cluster by using Kubernetes Docker secret object) to be use by Kubernetes cluster to pull the container images from registries that require authentication.Select DNS policy from the DNS Policy drop-down menu.Under Containers tab, optionally edit the Calm service name in the Calm Service Name field.Optionally, you can edit the K8s service name in the K8s Service Name field.This field is auto-populated.Enter arguments for the container in the Args field.Enter Docker image in the Image field.Select a value from the Image Pull Policy.You can either select Never or Always or IfNotPresent (default).Under Pre Stop Lifecycle, select an action.You can select None (default) or Exec or HTTP Get Action or TCP Socket.This hook is called immediately before a container is terminated. It is blocking, meaning it is synchronous, so it must complete before the call to delete the container can be sent. No parameters are passed to the handler.Under Post Stop Lifecycle, select an action.You can select None (default) or Exec or HTTP Get Action or TCP Socket.This hook runs immediately after a container is created. However, there is no guarantee that the hook runs before the container ENTRYPOINT. No parameters are passed to the handler.Under Container Port, enter the port number in the Port field.Enter name of the port in the Name field.Select protocol from the Protocol drop-down menu.You can either select TCP or UDP.Under Readiness Probe, enter command in the Command field.The kubelet uses readiness probes to know when a Container is ready to start accepting traffic. A pod is ready after all of its Containers are ready. One use of this signal is to control the pods used as backends for Services. When a pod is not ready, it is removed from Service load balancers.Under Resource Limit, enter the cores per CPU in the CPU field.When you specify a pod, you can optionally specify how much CPU and memory (RAM) each Container needs. CPU and memory are each a resource type. A resource type has a base unit. You can specify CPU in units of cores and memory in bytes.Enter the bytes of memory in the Memory field.Under Resource Request, enter the termination message path in the Termination Message Path field.Termination messages provide a way for containers to write information about fatal events to a location where you can easily retrieve and surface these events by tools like dashboards and monitoring software.Under Service tab, optionally you can edit the Calm Published Service Name field.Optionally, you can edit the K8s Service Name field.Select a service type from the Service Type drop-down menu. You can select one of the following.ClusterIP: Exposes the service on a cluster-internal IP. Choosing this value makes the Service only reachable from within the cluster. NodePort: Exposes the service on each node's IP at a static port (the NodePort). A ClusterIP Service, to which the NodePort Service routes, is automatically created. You'll be able to contact the NodePort Service, from outside the cluster, by requesting <NodeIP>:<NodePort>.LoadBalancer: Exposes the service externally using a cloud provider's load balancer. NodePort and ClusterIP Services, to which the external load balancer routes, are automatically created.Enter namespace in the Namespace field.You can use Namespaces in environments with many users spread across multiple teams, or projects.Enter label in the Label  field.Labels are key/value pairs that are attached to objects, such as pods. You can use Labels to specify identifying attributes of objects that are meaningful and relevant, but do not directly imply semantics to the core system. You can also use Labels to organize and select subsets of objects. You can attach Labels to objects at creation time and add or modify at any time. Each object can have a set of key/value labels defined. Each key must be unique for a given object.Enter selector in the Selectors field.The selector field defines how the Deployment finds which pods to manage.Under Port List, enter the port name in the Port Name field.Enter node port in the Node Port field.Enter port number in the Port field.Select protocol from the Protocol drop-down menu.You can either select TCP or UDP.Enter the target port in the Target Port field.To upload the POD specification file in .JSON or .YAML format from your local machine, click against the  icon next to the Pod Name field and upload the specification file.You can also download the POD specification file in .JSON or .YAML format.To edit the uploaded POD specification, click the Spec Editor toggle button and click Edit.The Script Editor page is displayed. You can edit the specification file in .YAML or .JSON format.To save the edited POD specification file, click Done.Click Save.The blueprint is saved and listed under blueprints tab.What to do nextDefine the service dependencies. See Setting up the Service Dependencies.Setting up the Service Dependencies Dependencies are used to define the order in which tasks must get executed. Perform the following procedure to set up the service dependency. Dependencies are used to define the order in which tasks must get executed.Before you beginEnsure that at least more than one service must be available. See Adding a Service.Ensure that you have completed the pre-configuration requirements. See Creating a Multi-VM Blueprint.ProcedureSelect the service. Select the dependency icon and drag to the service on which you want to create the dependency.Figure. Create DependencyClick to enlargeWhat to do nextConfigure the application profile. See Adding and Configuring an Application Profile.Adding and Configuring an Application ProfilePerform the following procedure to add and configure an application profile. You must apply the application profile while launching a blueprint.Before you beginEnsure that you have completed the pre-configuration requirements. See Creating a Multi-VM Blueprint.ProcedureClick + icon in the Application Profiles to create an application profile.In the Application Profiles panel, enter the name of the application profile in the Name field.Under the Variable List pane, enter the name and value of the variable. If you want to hide the variable value, check the Secret check-box.What to do nextYou must create an action. See Creating an Action.Adding and Configuring Scale Out and Scale InPerform the following procedure to add and configure the Scale Out and Scale In task.ProcedureAdd a service. See Adding a Service.Configure VM, Package and Service. See Configuring Nutanix and Existing Machine VM, Package, and Service.Add an Application profile. See Adding and Configuring an Application Profile.Under the Application Profile, click + against Actions.Click + Task.Enter the name of the task in the Task Name field.Select Scaling from the Type drop-down menu.Select the type from the Scaling Type drop-down menu.You can select either Scale In or Scale Out.Enter the number in the Scaling Count field.The Scaling out and Scaling in number should be less than the minimum and maximum number of replicas define for the service.Click Save.Click Launch. See Launching a Blueprint.Click Application.The Application page is displayed.Under the Application tab, click on the created application.Click Manage tab.Run the Scale in or Scale out task by clicking the play button.Pre-create TasksPre-create tasks are actions that are performed before a service is provisioned on a blueprint. For example, if you want to assign a static IP addresses to your VMs by using IPAM service, you can create and run a pre-create task to receive the IP addresses before the service is provisioned. It helps to restrict the broadcast traffic to receive the IP addresses for those VMs during the service provision.You can create the following types of pre-create tasks.Execute: Use this task type to run eScripts on a VM.Set variable: Use this task type to change variables in a task. HTTP: Use this task type to query REST calls from a URL. Delay: Use this task type to set a time interval between two tasks or actions.To create a pre-create task, see Creating a Pre-create Task.Creating a Pre-create TaskPerform the following procedure to create a pre-create tasks that are performed before a service is provisioned. Creating a Pre-create TaskPerform the following procedure to create a pre-create tasks that are performed before a service is provisioned. ProcedureIn a multi-VM blueprint editor page, click Pre-create in the VM pane.Select the service on which you want to create the pre-create task.Click + Task.The pre-create task inspector panel is displayed.Optionally, to use tasks from the library, click Browse Library. The Browse Task from Library page appears.In the Browse Task from Library page, click the task you want to use and click Select.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.What to do nextUse this pre-create task to perform the actions before the service is provisioned in a multi-VM blueprint.Post-delete TasksPost-delete tasks are actions that are performed after you delete a service on a multi-VM blueprint. For example, if you want to delete the assigned IP addresses from your VMs, you can create a post-delete task to delete the IP addresses after the service is deleted. It helps to restrict the broadcast traffic to delete the IP addresses for those VMs during the service provisioning.You can create the following types of post-delete tasks.Execute: Use this task type to run eScripts on the VM. Set variable: Use this task type to change variables in a task. HTTP: Use this task type to query REST calls from a URL. Delay: Use this task type to set a time interval between two tasks or actions. To create a post-delete task, see Creating Post-delete Task.Creating Post-delete TaskPerform the following procedure to create a task that is performed after a service is deleted.Creating Post-delete TaskPerform the following procedure to create a task that is performed after a service is deleted.ProcedureClick Post-delete in the VM pane.Select the service on which you want to create the task.Click + Task.The pre-create task inspector panel is displayed.Optionally, to use tasks from the Library, click Browse Library. The Browse Task from Library page appears.In the Browse Task from Library page, click the task you want to use and click Select.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task  type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The created post delete task is available in the VM pane.What to do nextUse this post-delete task to perform the actions after the service is deleted in a multi VM blueprint.Creating an ActionAn action is a set of operations that you can run on your application that are created as a result of running a blueprint. Perform the following procedure to create an action.Before you beginEnsure that at least one service must be available. See Adding a Service.Ensure that you have completed the pre-configuration requirements. See Creating a Multi-VM Blueprint.ProcedureTo create an action, click the + icon in the Actions pane.Select the service on which you want to create the task. Select + Action.The Task inspector panel is displayed.Enter the task name in the Task Name field.Select the action from the Service Actions drop-down menu.Click Save.Select + Task.In the Task panel, enter the name of the task in the Name field.Select the type of the task from the Type drop-down menu. You can select Execute or Set Variable.Select the script from the Script Type drop-down menu and enter the script in the Script field.You can select Shell or EScript.Note: To view the supported list of eScript modules and functions, refer to Supported eScript Modules and Functions.For the Shell and eScript scripts, you can access the available list of macros by using @@{.Enter the output of the script in the Output field. Click Save.Creating a Three-Tier ApplicationThe following procedure describes how to create a three-tier application by using Nutanix Calm. This procedure explains the creation of load balancer, web-application and database as services. The flow of creating services is load balancer, web-application, and database.ProcedureClick the Blueprint iconon the left pane.The Blueprint page is displayed.Click + Create Application Blueprint.Select a project window is displayed.Select the project from the Project drop-down menu.Note: The Cloud options available for the selection depends upon the project that is selected. Click Proceed.Enter the blueprint name in the name field.Following are the rules for naming convention.The name of the blueprint can start with an alphanumeric character or an underscore.The name should have at least one character.Only space, underscore and dash are allowed as special characters.The name should not end with a dash.Click + against the Services  to add a load balancer service.Enter load balancer in the Service Name field.Under the VM tab, enter the name of the VM in the Name field.Select the platform from the Cloud drop-down menu. You can select either Existing Machine or Nutanix or AWS or VMware or GCP.Note: The Cloud options available for the selection depends upon the project that is selected while creating the blueprint. Select the Operating System from the OS drop-down menu.You can select either Windows or Linux.Note: In case the Cloud type is Existing Machine then enter the IP address of the existing machine in the IP Address field and go to Step 26.In the VM Configuration panel, enter the name of the VM in the VM Name field. This name will be used as VM name by the service provider.Select the image from the Image drop-down menu.You can add another image by clicking the + icon. Select the Bootable check-box against the image which you want to use to boot up the VM. Note: The drop-down menu displays the images that are available in the cluster.Select the device from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either SCSI, IDE, PCI or SATA.Enter the number of vCPUs in the vCPUs field.Enter the number of cores per vCPU in the Cores per vCPU field.Enter the required memory in GiB in the Memory field.If customization is required, select the Guest Customization check-box.Select either CloudInIt or SysPrep type.Select CloudInIt for Linux or select SysPrep for Windows.Note: In case of SysPrep, all escape characters need to use double backslash. For example, \\\\v.Enter the script in the Script panel.For example.#cloud-config packages:\n- git\n- vimYou can upload the script by clicking the upload icon.Click + vDisks to add a vDisk.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either SCSI, IDE, PCI or SATA.Enter the size in GiB.Select categories from the Categories drop-down menu.Note: Categories drop-down menu is available only for Nutanix. The drop-down options are populated as configured in the Prism Central.Click + Network Adapters (NICS) to add a network adapter.Select the VGPUS from the VGPUS drop-down menu.This field is applicable only when the VGPUS is configured in the cluster.Select the NIC from the NIC drop-down menu.The NIC drop-down options are populated from the configured cluster.In the Connection panel, enter the credentials.The Address field is populated by default.Select the Check log-in upon create check-box, if you want to check the log in after creation. Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH the connection port is 22 and for Powershell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest-customisation script, IP and all other services to come up before invoking the check login script.Under the Package tab, enter the package name in the Name field.Click Configure install.Click + Task.Enter the task name in the Task Name field.Select the type of task from the Type drop-down menu.You can either select Execute or Set Variable.Select the script type from the Script Type drop-down menu.For the Shell and Escript scripts, you can access the available list of macros by using @@{.You can select either Shell or EScript. See Supported eScript Modules and Functions. Enter the install script in the Script panel. See Load Balancer Installation.Enter the output in the Output field.Click Configure uninstall.Click + Task.Enter the task name in the Task Name field.Select the type of task from the Type drop-down menu.You can either select Execute or Set Variable.Select the script type from the Script Type drop-down menu.For the Shell and Escript scripts, you can access the available list of macros by using @@{.You can select either Shell or EScript. See Supported eScript Modules and Functions. Enter the uninstall script in the Script panel. See Load Balancer Uninstallation.Above the Service tab, enter the name of the service.In the Deployment Configuration pane, enter the number of minimum and maximum service replicas that you want to create in the Min and Max fields.The Min and Max defines the Scale In and Scale Out actions. The Scale In and Scale Out actions cannot scale beyond the defined Min and Max number.In case of an array of three VMs, the minimum number should be defined as three.In the Variables pane, enter the name and value of the Variable in Name and Value field.Select the Secret check-box if you want to hide the value of the variable. In the Port List pane, enter the name, protocol, and port number in the Name, Protocol, and Port fields.Repeat Step 6 to Step 48 to create the web-application service and database service.For installing web-application service, see Web-Application Installation.For uninstalling web-application service, see Web-Application Uninstallation.For installing database service, see Database Installation.For uninstalling database service, see Database Uninstallation.Create dependency from load balancer service to web-application service. See Setting up the Service Dependencies.Create dependency from web-application service to database service.Under the Variable List pane, enter the name and value of the variable. Click + icon in the Actions pane to create an action.Select the service on which the task needs to be created. In the Task panel, enter the name of the task in the Name field.Select the type of the task from the Type drop-down menu.You can select Execute or Set Variable.Select the script from the Script Type drop-down menu and enter the script in the Script field.You can select Shell or EScript.For the Shell and Escript scripts, you can access the available list of macros by using @@{.Enter the output of the script in the Output field. Click Save to save the blueprint.Click Launch.The Launch Blueprint window is displayed.Enter a name for the application in the Name of the Application field.Following are the rules for naming convention.The name of the blueprint can start with an alphanumeric character or an underscore.The name should have at least one character.Only space, underscore and dash are allowed as special characters.The name should not end with a dash.Select an application profile.Expand the VM configuration to verify the configuration of the VM.Expand the Credentials to verify the credentials.In case credentials are not specified for action, task or configuration then the default credentials are used. A blueprint needs to have at least one default credential. Click Create.The application blueprint is shown under the Application tab.", "Heading_Keywords": ["multi", "vm", "blueprint"]}, {"Heading": "Single VM Blueprints", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-configuring-single-vm-blueprints-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Single VM blueprint is a framework that you can use to create an instance, provision, and launch applications requiring only a single VM. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application. You can create and configure single VM blueprints for the following providers.Nutanix: For more information to create single VM blueprint for Nutanix, see Configuring Single VM Blueprint for Nutanix.AWS: For more information to create single VM blueprint for AWS, see Configuring Single VM Blueprint for AWS.VMware: For more information to create single VM blueprint for VMware, see Configuring Single VM Blueprint for VMware.GCP: For more information to create single VM blueprint for GCP, see Configuring Single VM Blueprint for GCP.Azure: For more information to create single VM blueprint for Azure, see Configuring Single VM Blueprint for Azure.Configuring Single VM Blueprint for NutanixPerform the following procedure to configure single VM blueprint for Nutanix. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a Nutanix platform.Configuring Single VM Blueprint for AWS Perform the following procedure to configure single VM blueprint for AWS. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on an AWS platform.Configuring Single VM Blueprint for VMwarePerform the following procedure to configure single VM blueprint for VMware. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a VMware platform.Configuring Single VM Blueprint for GCPPerform the following procedure to configure single VM blueprint for GCP. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Configuring Single VM Blueprint for AzurePerform the following procedure to configure single VM blueprint for Azure. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Configuring Single VM Blueprint for Xi CloudYou can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on Xi Cloud provider. Perform the following procedure to configure a single VM blueprint that you want to deploy on a Xi Cloud platform.Configuring Single VM Blueprint for NutanixPerform the following procedure to configure single VM blueprint for Nutanix. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a Nutanix platform.Before you beginEnsure that you have created a project and configured an environment for Nutanix. For more information, see Creating a Project and Configuring Nutanix Environment sections.Note: The Prism web console (also known as Prism Element) must be registered with the Prism Central.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.Click VM Details.The VM Details page is displayed.In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select Nutanix.The cloud options available for the selection depends on the selected project. Ensure that the selected project has Nutanix as the provider.From the Operating System drop-down menu, select either Linux or Windows.Optionally, if you have configured environment during project creation, click Clone from Environment and go to step 12.Note: When you clone the environment details from a project, all the VM details are automatically filled. For more information about environment configuration for Nutanix, see Configuring Nutanix Environment. Click Variables.The Variables page is displayed.Click the + icon to add a variable to the project.Enter a name for the variable in the Name  field.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Click VM Configuration.The VM Configuration page is displayed.In the VM Configuration page, configure the following. Optionally, under General Configuration panel, edit VM name in the VM Name field. Enter the number of vCPUs for the VM in the vCPUs field.Enter the number of cores per vCPU for the VM in the Cores per vCPU field.Enter the required memory of the VM in GiB in the Memory field.Optionally, if you want to customize the default OS properties of the VM, select the Guest Customization check-box and do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Select Cloudinit for Linux or select Sysprep for Windows.Note: For Sysprep, use all escape characters with a double backslash. For example, \\\\v.For Sysprep script, click Join a Domain check box and configure the following fields.Domain Name: Enter the domain name of Windows server. Credentials: From the Credentials drop-down menu, enter a credential for the Windows VM. You can also create new credentials. For more information, see step 22.DNS IP: Enter the IP address of the DNS server.DNS Search Path: Enter the DNS search path for the domain.Select the image from the Nutanix Image drop-down menu.All the images that are uploaded to the Prism Central are available for selection. For more information about image configuration, see Image Management section in the Prism Central guide.You can also add another image by clicking the + icon.Note: The drop-down menu displays the images that are available in the cluster.Select the device from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Select the Bootable check box against the image that you want to use to start the VM.Select one of the following firmware to boot the VM.Legacy BIOS: Select legacy BIOS to boot the VM with legacy BIOS firmware.UEFI: Select UEFI to boot the VM with UEFI firmware. UEFI firmware supports larger hard drives, faster boot time, and provides more security features.(For GPU-enabled clusters only) To configure a vGPU, click the + icon.From the Vendor drop-down menu, select the GPU vendor.From the Device ID drop-down menu, select the device ID of the GPU.From the Mode drop-down menu, select the GPU mode.To add a vDisk, click the + icon.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete or edit vDisks while launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Enter the size in GiB.Select categories from the Categories drop-down menu.Note: Categories field allows you to tag your VM to a defined category in the Prism Central. Based on the Prism Central configuration, the drop-down options are available.If you want to protect your application by a protection policy, select the category which you had created in the Prism Central.To add a network adapter, click the + sign against the Network Adapters (NICS).Select the NIC from the NIC drop-down menu.The NIC drop-down options are available based on the cluster configuration.Note: If you have whitelisted the subnets during project creation, the whitelisted subnets are available for your selection. The cluster details are also displayed based on the selected subnets.Optionally, click Advanced Options and perform the steps from 16 to 27.The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click the Check log-in upon create check box. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS.Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.What to do nextYou can use the blueprint to model your application. For more information, see Blueprints Management.Configuring Single VM Blueprint for AWS Perform the following procedure to configure single VM blueprint for AWS. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on an AWS platform.Before you beginEnsure that you have created a project and configured an environment for AWS. For more information, see Creating a Project and Configuring AWS Environment sections.Note: The Prism web console (also known as Prism Element) must be registered with a Prism Central.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.The cloud options available for the selection depends on the selected project. Ensure that the selected project has AWS as the provider.Click VM Details.The VM Details page is displayed.Optionally, if you have configured environment during project creation, click Clone from Environment and go to step 12.Note: When you clone the environment details from a project, all the VM details are auto filled. For more information about envirment configuration for AWS, see Configuring AWS Environment. In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select AWS.From the Account Id drop-down menu, select the account ID for AWS .From the Operating System drop-down menu, select either Linux or Windows.Click Variables.The Variables page is displayed.Click the + icon to add a variable to the project.Enter a name for the variable in the Name  field.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Click VM Configuration.The VM Configuration page is displayed.In the VM Configuration page, configure the following. In the Instance Name field, enter the instance name for the VM.The service provider uses this name as the VM name.To assign a public IP address to the instance, select Associate Public IP Address check-box.If the Associate Public IP Address check-box is not selected, ensure that Calm and AWS are in the same private network for scripts to run.Select an instance type from the Instance Type drop-down menu.Select region from the Region drop-down menu.Select availability zone from the Availability Zone  drop-down menu.Select machine image from the Machine Image  drop-down menu.Select IAM role from the IAM Role drop-down menu.Select key pairs from the Key Pairs drop-down menu.Select VPC from the VPC drop-down menu.Select Include Classic Security Group check-box to enable security group rules.Select security groups from the Security Groups  drop-down menu.Select subnet from the Subnet drop-down menu.Enter or upload AWS user data in the User Data field.Enter AWS tags in the AWS Tags field.Under storage section, enter size (GiB) and select Volume Type.Select Delete on Termination check-box to delete secondary storage data.Optionally, click Advanced Options and perform the steps from 16 to 27.The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.What to do nextYou can use the blueprint for application deployment. For more information, see Blueprints Management.Configuring Single VM Blueprint for VMwarePerform the following procedure to configure single VM blueprint for VMware. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a VMware platform.Before you beginEnsure that you have created a project and configured an environment for VMware. For more information, see Creating a Project and Configuring VMware Environment sections.You need licenses for both Compute and Storage distributed resource scheduler (DRS) in order to use the VMware DRS Mode.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.The cloud options available for the selection depends on the selected project. Ensure that the selected project has VMware.Click VM Details.The VM Details page is displayed.In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select VMware.From the Operating System drop-down menu, select either Linux or Windows.Click Variables.The Variables page is displayed.Click the + icon to add a variable to the project.Enter a name for the variable in the Name  field.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Click the VM Configuration tab.The VM Configuration page is displayed.In the VM Configuration page, configure the following. Select DRS Mode check-box to enable load sharing and automatic VM placement.DRS (Distributed Resource Scheduler) is a utility that balances computing workloads with available resources in a virtualized environment. For more information about DRS mode, see the VMware documentation. Select the cluster where you want to host your VM from the Cluster drop-down menu.This field is applicable only after you enable DRS Mode.If you have not enabled DRS Mode, select the host name of the VM from the Host drop-down menu.The host name is the primary IP address used to access the VM.Select template from the Template drop-down menu.Templates allow you to create multiple virtual machines with the same characteristics, such as resources allocated to CPU and memory, or type of virtual hardware. Templates save time and avoid errors when configuring settings and other parameters to create new VMs. The VM template retrieves the drop-down options from the configured vCenter.Note: Install the VMware Tools on the Windows templates. For Linux VMs, install Open-vm-tools or VMware-tools and configure the Vmtoolsd service for automatic start-up.Support for Open-vm-tools version 10.1.10.63510 and above is available. When using Open-vm-tools, install Perl for the template. Do not use SysPrepped as the Windows template image.If you select a template that has unsupported version of VMware Tools, then a warning appears stating VMware tool or version is unsupported and could lead to VM issues.You can also edit the NIC type when you use a template.For more information, refer to VMware KBs.Select datastore cluster from the Storage Pod drop-down menu.The datastore clusters are referred as storage pod in vCenter. A datastore cluster is a collection of datastores with shared resources and a shared management interface. Note: This field is applicable only after you enable DRS Mode.Enter the instance name of the VM in the Instance Name field. The service provider uses this name as the VM name.Enter values for vCPUs,Cores per vCPU , and Memory fields.If you have selected a VMware template to create a VM, add a virtual SCSI controller for the template. To add a SCSI controller, select the controller and bus sharing types from the Controller Type and Bus Sharing drop-down menu.For more information about controller and bus sharing types, see VMware documentation.Under Controller, click + icon to add the type of controller.You can select either SCSI or SATA controller.Note: You can add up to four SCSI and four SATA controllers. Under vDisk, click the + icon to add vDisks.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete, or edit vDisks during launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. You can select either CD-ROM or Disk.Select the adapter type from the Adapter Type drop-down menu.You can select IDE for CD-ROM.You can select either SCSI, IDE, or SATA for Disk.Enter the size of the disk in GiB.In the Location field, select the disk location.If you want to add a controller to the vDisk, in the Controller drop-down menu, select the type of controller to attach the disk.Note: You can add either SCSI or SATA controllers. The available controllers for selection is dependent on the Adapter Type.In the Disk mode drop-down menu, select the type of the disk mode.The available options are as follows.Dependent: Dependent disk mode is the default disk mode for the vDisk.Independent - Persistent: Disks in persistent mode behave like conventional disks on your physical computer. All data written to a disk in persistent mode are written permanently to the disk.Independent - Nonpersistent: Changes to disks in nonpersistent mode are discarded when you power off or reset the virtual machine. With nonpersistent mode, you can restart the virtual machine with a virtual disk in the same state every time. Changes to the disk are written to and read from a redo log file that is deleted when you power off or reset.In the Device slot drop-down menu, select the slot to attach the disk.If you have selected Custom specs, enter the details for the VM in the following fields:Hostname: Enter the hostname in the Hostname field.Domain: Enter the domain in the Domain field.Timezone: Select timezone from the Timezone drop-down menu.Hardware clock UTC: Select Hardware clock UTC check-box to enable hardware clock UTC.Network Setting: To add network setting, click the +  icon.DHCP: To automatically configure DHCP server, enable the DHCP check-box and skip to DNS setting.Setting Name: Enter a name for the network configuration you are adding to the VM. Settings name is the saved configuration of your network that you want to connect to your VM.IP Address: Enter the IP address in the IP Address field.Subnet Mask: Enter subnet mask IP address in the Subnet Mask field.Default Gateway: Enter the default gateway in the Default Gateway field.Alternative Gateway: Enter the alternative gateway in the Alternative Gateway field.DNS Primary: Under DNS Settings, enter DNS primary in the DNS Primary field.DNS Secondary: Enter DNS secondary in the DNS Secondary field.DNS Tertiary: Enter DNS tertiary in the DNS Tertiary field.DNS Search Path: Enter DNS search path name in the DNS Search Path field.Note: You can launch a single VM blueprint without a NIC or network adapter with VMware provider.If you have selected Cloud-init, enter the script in the Script field.You can also upload the script by clicking the upload icon.If you do not have any predefined customization available, select a type of customization.The available options are Cloud-init and Custom Specs.From the Predefined Guest Customization drop-down menu, select the guest customization.Click the Enable check-box if you want to use guest customization.Optionally, click Advanced Options and perform the steps from 15 to 26 .The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.What to do nextYou can use the blueprint for application deployment. For more information, see Blueprints Management.Configuring Single VM Blueprint for GCPPerform the following procedure to configure single VM blueprint for GCP. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Before you beginEnsure that you have created a project and configured an environment for GCP. For more information, See Creating a Project and Configuring GCP Environment sections.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.The cloud options available for the selection depends on the selected project. Ensure that the selected project has GCP.Click VM Details.The VM Details page is displayed.In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select GCP.From the Operating System drop-down menu, select either Linux or Windows.Click Variables.The Variables page is displayed.Click the + icon to add a variable to the project.Enter a name for the variable in the Name  field.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Click VM Configuration.The VM Configuration page is displayed.In the VM Configuration page, configure the following. Under VM Configuration panel, optionally you can edit VM name in the Instance Name field. Select zone from the Zone drop-down menu.Select type of machine from the Machine type drop-down menu.Under the Disks section, to add a disk, click the + icon.You can also make the added vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete or edit vDisks during launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select the type of storage from the Storage Type drop-down menu.The available options are as follows.pd-standard: Use this option if you want to use HDD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.pd-ssd: Use this option if you want to use SSD drives as your persistent disk. The persistent disk types are durable network storage devices that your instances can access like physical disks in a desktop or a server. The data on each disk is distributed across several physical disks.Select the image source from the Source Image drop-down menu.The images available for your selection are based on the selected zone. Enter the size of the disk in GB in the Size in GB field.Optionally, under the Disks section, click the Use Existing disk to use an existing disk configuration.Optionally, under the Disks section, click the Delete when instance is deleted to delete the disk configuration after the instance is deleted.Under Networking section, click the + icon to add networking details to the VM.To configure a Public IP address, select the Associate Public IP address check- box and configure the following fields.Network: Select the network from the Network drop-down menu.Subnetwork: Select the sub network from the Subnetwork drop-down menu.Access configuration Name: Enter a name of the network in the Access configuration Name field.Access configuration Type: Select the access configuration type from the Access configuration type drop-down menu.Under the SSH Key, enter or upload the username key data in the Username field.Select Block project-wide SSH Keys to enable blocking project-wide SSH keys.Under Management pane, enter metadata in the Metadata field.Select network tags from the Network Tags drop-down menu.Network tags are text attributes you can add to VM instances. These tags allow you to make firewall rules and routes applicable to specific VM instances. Optionally, to add a label to the VM, enter a key and a value in the Key and Value fields respectively.A label is a key-value pair that helps you organize the VMs created with GCP as the provider. You can attach a label to each resource, then filter the resources based on their labels.Under API Access, enter the service account in the Service Account field.Select either Default or Full Access.Optionally, click Advanced Options and perform the steps from 15 to 26.The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.What to do nextYou can use the blueprint to model your application. For more information, see Blueprints Management.Configuring Single VM Blueprint for AzurePerform the following procedure to configure single VM blueprint for Azure. You can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on a GCP platform.Before you beginEnsure that you have created a project and configured an environment for Azure. For more information, see Creating a Project and Configuring Azure Environment sections.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.The cloud options available for the selection depends on the selected project. Ensure that the selected project has Azure.Click VM Details.The VM Details page is displayed.In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select Azure.From the Operating System drop-down menu, select either Linux or Windows.Click Variables.The Variables page is displayed.Click the + icon to add a variable to the project.Enter a name for the variable in the Name  field.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Click VM Configuration.The VM Configuration page is displayed.In the VM Configuration page, configure the following. Under VM Configuration panel, optionally you can edit VM name in the Instance Name field. Select the resource group from the Resource Group drop-down menu.Each resource in Azure must belong to a resource group. A resource group is simply a logical construct that groups multiple resources together so you can manage the resources as a single entity. For example, you can create or delete resources as a group that share a similar life cycle, such as the resources for an n-tier application.Optionally, to create a Resource Group, click the Create Resource Group check-box, and do the following in the respective fields. In the Name field, type a unique name for the resource group.In the Location drop-down menu, select the geographical location of the datacenter that you want to add to the resource group.Under Tags, enter a key and value pair in the Key and Value fields respectively. Tags are key and value pairs that enable you to categorize resources. You can apply a tag to multiple resource groups.If you want to automatically delete a resource group that has empty resources while deleting an application, click the Delete Empty Resource Group check-box. Optionally, select availability set from the Availability Set drop-down menu.An Availability Set is a logical grouping capability that you can use in Azure. It ensures that the VM resources deployed within an Azure datacenter are isolated from each other to provide high availability.Select geographical location of the datacenter from the Location drop-down menu.Select hardware profile according to your hardware requirements from the Hardware Profile drop-down menu.The maximum number of data disks and NICs depends upon the selected hardware profile. For more information, see Azure documentation.Optionally, under Secrets, enter a unique vault ID in the Vault ID field.These certificates are installed on the VM.Optionally, under Certificates, click the + icon and enter the URL of the certificate config in the URL field. This is the URL of a certificate that you upload to the Key Vault as a secret.Under Admin Credentials sections, enter the username in the Username field.Select secret type from the Secret Type drop-down menu.You can either select either Password or SSH Private Key.Do one of the following.If you have selected password, then enter the password in the Password field.If you have selected SSH Private Key then enter or upload the SSH Private Key in the SSH Private Key field.You can use the selected or default credential as the default credential for the VM.You cannot use key based credential for Windows VMs.Username and password must adhere to the complexity requirements of Azure.Optionally, select Auto Updates check-box to indicate that the VM is enabled for automatic updates. This check-box is applicable only for Windows VMs.Optionally, select the Provision VM Agent check-box. Indicates whether virtual machine agent should be provisioned on the virtual machine. When this property is not specified in the request body, default behavior is to set it to true. This ensures that the VM Agent is installed on the VM and the extensions can be added to the VM later.This check-box is applicable only for Windows VMs.Optionally, under Additional Unattended Content, select setting from the Setting Name.You can either select Auto Logon or First Logon Commands.Note: Guest customization is applicable only on images that allows or support guest customization.Enter or upload the xml content. See Sample Auto Logon and First Logon Scripts.Optionally, under WinRM Listeners, select the protocol from the Protocol drop-down menu.You can either select HTTP or HTTPS.Enter or upload the xml content. See Sample Auto Logon and First Logon Scripts.Select the certificate URL from the Certificate URL drop-down menu.This field is only applicable when you select HTTPS as a protocol.Under Storage Profile, select the Use Custom Image check-box to use a custom VM image created in your subscription.Under VM Image Details, select publisher from the Publisher drop-down menu.The Use Managed Disks check-box is enabled by default.Note: This check-box cannot be disabled and all created disks are managed disks.Managed Disks simplifies disk management by managing the storage accounts associated with the VM disks.Under OS Disk Details, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.This field is available only when the Use Custom Image check-box is enabled.Under VM Image Details, select publisher from the Publisher drop-down menu.The Use Managed Disks check-box is enabled by default.Note: This check-box cannot be disabled and all created disks are managed disks.Managed Disks simplifies disk management by managing the storage accounts associated with the VM disks.Under OS Disk Details, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Select disk create option from the Disk Create Option drop-down menu.You can either select Attach or Empty or From Image.Under Data Disk, select storage type from the Storage Type drop-down menu.You can either select Standard or Premium.Select disk storage account from the Disk Storage drop-down menu.Select disk caching type from the Disk Caching Type drop-down menu.You can either select None or Read-only or Read write.Enter the size in GB in the Size field.Enter disk logical unit number (LUN) in the Disk LUN field.Note: The LUN value must be unique across data disk list.Under Network Profiles, add NICs as per your requirement. For each NIC, select security group from the Security Group drop-down menu.Select virtual network from the Virtual Network drop-down menu.Optionally, under Public IP Config, enter name in the Name field.Select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.Enter DNS label in the DNS Label field.Under Private IP Config, select allocation method from the Allocation Method drop-down menu.You can either select Static or Dynamic.If you select Static as Allocation Method, then enter the private IP address in the IP Address field.Optionally, enter tags in the Tags field.Optionally, click Advanced Options and perform the steps from 15 to 26.The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.To add variables to the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click Check log-in upon create. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Powershell for Windows.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.For Execute and Set Variable tasks, you can use endpoints as targets for script execution. For more information, see Endpoints Usage.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.What to do nextYou can use the blueprint to model your application. For more information, see Blueprints Management.Configuring Single VM Blueprint for Xi CloudYou can define the underlying infrastructure of the VM, application details, and actions that are carried out on a blueprint until the termination of the application on Xi Cloud provider. Perform the following procedure to configure a single VM blueprint that you want to deploy on a Xi Cloud platform.Before you beginEnsure that you have configured DNS in the VPC in the Xi cloud dashboard in the Prism Central.ProcedureClick the Blueprint iconon the left pane.Click + Create Blueprint > Single VM Blueprint.The Blueprint Settings page is displayed.In the Blueprint Settings page, configure the following fields.In the Name field, enter a name for the blueprint.Optionally, in the Description field, enter a brief description about the blueprint.From the Project drop-down menu, select a project.Click VM Details.The VM Details page is displayed.In the VM Details page, configure the following fields.In the Name field, enter a name for the VM.From the Cloud drop-down menu, select Xi.The cloud options available for the selection depends on the selected project. Ensure that the selected project has Xi as the provider.The Availability Zone  field is automatically filled.From the Operating System drop-down menu, select either Linux or Windows.Click VM Configuration.The VM Configuration page is displayed.In the VM Configuration page, configure the following. Optionally, under General Configuration panel, edit VM name in the VM Name field. Enter the number of vCPUs for the VM in the vCPUs field.Enter the number of cores per vCPU for the VM in the Cores per vCPU field.Enter the required memory of the VM in GiB in the Memory field.Optionally, if you want to customize the default OS properties of the VM, select the Guest Customization check-box and do the following.Guest customization allows you to upload custom scripts to modify the properties of the OS of the VM.Select Cloudinit for Linux or select Sysprep for Windows.Note: For Sysprep, use all escape characters with a double backslash. For example, \\\\v.For Sysprep script, click Join a Domain check box and configure the following fields.Domain Name: Enter the domain name of Windows server. Credentials: From the Credentials drop-down menu, enter a credential for the Windows VM. You can also create new credentials. For more information, see step 22.DNS IP: Enter the IP address of the DNS server.DNS Search Path: Enter the DNS search path for the domain.Select the image from the Image drop-down menu.All the images that are uploaded to the Prism Central are available for selection. For more information about image configuration, see Image Management section in the Prism Central guide.You can also add another image by clicking the + icon.Note: The drop-down menu displays the images that are available in the cluster.Select the device from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Select the Bootable check box against the image that you want to use to start the VM.To add a vDisk, click the + icon.You can also make the vDisks as runtime editable. If you have marked the vDisk attribute as runtime editable, you can add, delete or edit vDisks while launching the blueprint. For more information about runtime editable attributes, see Runtime Variables Overview. Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Enter the size in GiB.Select categories from the Categories drop-down menu.Note: Categories field allows you to tag your VM to a defined category in the Prism Central. Based on the Prism Central configuration, the drop-down options are available.If you want to protect your application by a protection policy, select the category which you had created in the Prism Central.Under the Network panel, select the VPC from the VPC drop-down menu. For more information about VPC, see Xi Infrastructure Service Admininistration Guide.Optionally, click Advanced Options and perform the steps from 11 to 22.The Advanced Options  page allows you to do the following.To check the log on status of the VM after provisioning the blueprint.To add pre-create and post-delete tasks in the blueprint.To add packages and actions in the blueprint.In the Credentials section, click Add/Edit Credentials and select one of the VM credential to install packages and actions.The Credentials page lists all the credentials used in the VM Configuration section.If you have not configured any credential, click Add Credentials and do the following.Enter a name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Under Connection, if you want to check the log on status after creating the VM, click the Check log-in upon create check box. Select Add New Credential  from the Credential drop-down menu and do the following.Select Add New Credential  from the Credential drop-down menu.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH Private Key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.Select Use as default check-box, if you want this credential as the default credential.Click Done.Select the connection from the Connection Type drop-down menu.Select SSH for Linux or select Windows (Powershell) for Windows.The Connection Port field is automatically populated depending upon the selected Connection Type.For SSH, the connection port is 22 and for PowerShell the connection port is 5985 or 5986.From the Connection Protocol drop-down menu, select either HTTP or HTTPS.Note: The Connection Protocol field is available only after you have selected the connection type as Windows (Powershell).For HTTP, the default connection port is 5985 and for HTTPS, the default port is 5986.The Connection Port field is populated by default depending upon the selected Connection Type.For SSH, the connection port is 22 and for power shell the connection port is 5985.Enter the delay in seconds in the Delay field.Delay timer defines the time period when the check login script is invoked post VM start-up. It allows you to configure the delay time to allow guest customization script, IP, and all other services to come up before invoking the check login script.In the Retries field, enter the number of logon attempts the system performs after each log on failure.To add a pre create task to the VM, click Edit next to the Pre VM create tasks field and do the following.Click + Add Task.The pre-create task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The pre-created task is created.To add another task, click the Pre create button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the pre create task, click the Pre create Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To add a post delete task to the VM, click Edit next to the Post VM Delete tasks field and do the following.Click + Add Task.The post-delete task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The post delete task is created.To add another task, click the Post Delete button.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the post delete task, click the Post Delete Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Under the Packages section, to install or uninstall a package, do the following.Click the Edit button next to the Package Install or Package Uninstall field respectively.Click the Task button.Enter the task name in the Task Name field.To create a task, select the type of task from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.To add variables to the post delete task, click the  Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the blueprint, click App variables and do the following.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the pre create task, click Done.Click Save.The blueprint is listed under the Blueprint tab.", "Heading_Keywords": ["singl", "vm", "blueprint"]}, {"Heading": "Blueprints Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-blueprint-management-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "After you configure a blueprint, you can publish, unpublish, launch, or delete a blueprint.Publishing a blueprint allows you to make the blueprint available at Marketplace, so that other users can use the published blueprint. Unpublishing a blueprint allows you to remove the blueprint from the Marketplace.Launching a blueprint allows you to deploy your application on the blueprint and start using it.Publishing a BlueprintAfter you configure a blueprint, you must publish and get an approval from the administrator before making the blueprint available at Marketplace. Perform the following procedure to publish a blueprint to the Marketplace Manager.Launching a BlueprintYou must launch the blueprint to deploy an application on the blueprint and start using the application. Perform the following procedure to launch an application.Uploading a BlueprintYou can also upload configured blueprints to the Blueprints tab. Perform the following procedure to upload a blueprint.Downloading a BlueprintYou can also download a configured blueprint to your local machine and use it later. Perform the following procedure to download a blueprint.Configuring a BlueprintPerform the following procedure to configure a blueprint.Viewing a BlueprintPerform the following procedure to view a blueprint.Editing a BlueprintYou can edit a configured blueprint from the blueprints tab. Perform the following procedure to edit a blueprint.Deleting a BlueprintPerform the following procedure to delete a blueprint.Viewing Blueprint ErrorIf you have configured wrong details in your blueprint, you can view the error message while saving or publishing a blueprint. Perform the following procedure to view blueprint error message.Recovering Deleted BlueprintsYou can recover the deleted application blueprints within a time period of 90 days after you delete an application blueprint. This chapter describes the procedure to recover a deleted blueprint.Publishing a BlueprintAfter you configure a blueprint, you must publish and get an approval from the administrator before making the blueprint available at Marketplace. Perform the following procedure to publish a blueprint to the Marketplace Manager.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Click the blueprint that you want to publish.The blueprint editor page is displayed.Click Publish.Figure. Publish Blueprint windowClick to enlargeThe Publish Blueprint window is displayed.If the blueprint is getting published for the first time, select New marketplace item and do the following.To publish the blueprint with secret variables, click the Publish with Secrets toggle-button.Enter the version number in the Initial Version field.Note: Ensure that the version number is in the x.x.x format.Enter the blueprint description in the Description field.If you want to revise a published blueprint version, select New version of an existing marketplace item and do the following.To publish the blueprint with secret variables, enable the Publish with Secrets button.Select the already published blueprint from the Marketplace Item drop-down menu.Enter the version number in the Initial Version field.Note: Ensure that the version number is in the x.x.x format.Enter the blueprint description in the Description field.Enter the log changes in the Change Log field.If you want to upload an icon for the blueprint, click Change. Click Upload from computer to browse and select an image from your local machine.Click Open.Provide a name to the image in the Name of the Icon field.Click the right icon.Click Select & Continue.Note: User with administrator role can only upload an icon.Optionally, if you want to select an icon, already available in a blueprint, click the right icon.Optionally, to delete an icon, click the delete icon.Click Submit for Approval.The published blueprint is available under Marketplace Manager, Approval Pending  tab.What to do nextAfter your blueprint is approved from the administrator, you can launch the blueprint for other users to use. For more information, see Launching a Blueprint.Launching a BlueprintYou must launch the blueprint to deploy an application on the blueprint and start using the application. Perform the following procedure to launch an application.ProcedureClick the Blueprint iconon the left pane. The Blueprint page is displayed.Click the blueprint that you want to launch.The blueprint details page is displayed.Click Launch.The blueprint launch page is displayed.Enter Application name in the Name of the Application field.Select the application profile from the Application Profile field.In case, any of the fields are marked runtime while creating the blueprint, those fields are editable and displayed here. To view the runtime variables, expand the service under VM Configurations.Click Create.The system validates the provided platform-specific data against the selected provider and if the validation fails, an error message appears. To know more about the validation error, see Platform Validation Errors.If the validation is successful, the application is available under the Application tab.Platform Validation ErrorsWhen you enter the platform data that is invalid for a provider while creating a blueprint, you get a validation error. The following table details the invalid platform data for each provider.Platform Validation ErrorsWhen you enter the platform data that is invalid for a provider while creating a blueprint, you get a validation error. The following table details the invalid platform data for each provider.ProvidersInvalid Platform DataNutanixImage, NIC List, and Categories.GCPZone, Machine Type, Disk Type, Network, SubNetwork, Disk Type, Disk Source, Image, Zone, and Blank Disk.AWSVpc, Security Groups, and Subnets.VMwareNetwork name, NIC Type, NIC settings mismatch, Host, Template, Datastore, Datacenter, Storage Pod, and cluster.AzureImage details (publisher, offer, sku, version), Custom image, Resource group, Availability Set Id, NIC List, Network Security group, Virtual Network Name, and Subnet Name.Uploading a BlueprintYou can also upload configured blueprints to the Blueprints tab. Perform the following procedure to upload a blueprint.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Click Upload Blueprint.The browser window is displayed.Browse to the location of the saved blueprint and select the blueprint.Do one of the following.Double-click the selected blueprint.Select and click Open.Figure. Upload BlueprintClick to enlargeThe Upload Blueprint window is displayed.Enter the name of the blueprint in the Blueprint Name field. Select the project from the Project drop-down menu.Click Upload.The blueprint is uploaded and available for use.Note: You must provide the credentials password or key of the blueprint.Downloading a BlueprintYou can also download a configured blueprint to your local machine and use it later. Perform the following procedure to download a blueprint.Before you beginEnsure that at least one blueprint must be available.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Do one of the following.Click the blueprint that you want to download and click Download.Select the blueprint that you want to download and Action > Download.The Download Blueprint dialog box appears.Optionally, if you want to download the blueprint with the credentials and secrets used in the blueprint, click the check box in the Download Blueprint dialog box.In the Enter Passphrase field, type a password.The Enter Passphrase field is a mandatory field and is activated only after you have clicked the check box to download the blueprint with credentials and secrets.Click Continue.The blueprint is downloaded to your local machine.Configuring a BlueprintPerform the following procedure to configure a blueprint.About this taskProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Click the blueprint that you want to configure.The blueprint editor page is displayed.Click Configure.The Blueprint Configuration window is displayed.In the Blueprint Name field, enter a name of the blueprint.In the Blueprint Description field, enter a brief description about the blueprint.Click + against the Downloadable Image Configuration field and configure the following:In the Package Name field, enter the name of the package.In the Description field, enter a brief description about the package.In the Image Name field, enter the name of the image.In the Image Type drop-down menu, select the type of image.In the Architecture drop-down menu, select the architecture.In the Source URI field, enter the source URI to download the image.Note: VMware supports only OVA format.In the Product Name field, enter the name of the product.In the Product Version field, enter the version of the product.Click one of the following:To save the configuration, click Save.To go back to the previous screen, click Back.Viewing a BlueprintPerform the following procedure to view a blueprint.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Click the blueprint that you want to view the details of.The selected blueprints details are displayed.Editing a BlueprintYou can edit a configured blueprint from the blueprints tab. Perform the following procedure to edit a blueprint.ProcedureClick the Blueprint iconon the left pane. The Blueprint page is displayed.Click the blueprint that you want to edit.The blueprint details page is displayed.Make the necessary edits in the layers (Services, Actions, and Application Profiles).Note: You cannot delete System level actions.Click Save.The updated blueprint is saved and listed in the blueprints tab. Deleting a BlueprintPerform the following procedure to delete a blueprint.ProcedureClick the Blueprint iconon the left pane. The Blueprint page is displayed.Select the listed blueprint that you want to delete.Click Actions > Delete.Click Yes to confirm.The blueprint is deleted. Viewing Blueprint ErrorIf you have configured wrong details in your blueprint, you can view the error message while saving or publishing a blueprint. Perform the following procedure to view blueprint error message.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.Click the blueprint that you want to view the details.The selected blueprint details are displayed. If there is any error in the blueprint, then the error is denoted by !. Click !.Figure. Blueprint ErrorClick to enlargeThe blueprint errors are displayed.Recovering Deleted BlueprintsYou can recover the deleted application blueprints within a time period of 90 days after you delete an application blueprint. This chapter describes the procedure to recover a deleted blueprint.ProcedureClick the Blueprint iconon the left pane. The Blueprint page displays the list of all the available blueprints.In the search filter field, enter State:Deleted and press Enter.You can view the list of all deleted blueprints based on the 90 days retention period.Click the blueprint that you want to recover.From the Action drop-down menu, select Clone.The Clone Blueprint page appears.In the Blueprint Name field, enter a name for the blueprint and click Clone.The name is used as the blueprint name after recovery.A clone of the deleted blueprint is created and you can view the recovered blueprint in the blueprints page with the new name.", "Heading_Keywords": ["blueprint", "manag"]}, {"Heading": "Applications Usage", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nucalm-applications-intro-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The Applications tab displays the list of all the published applications under the Application tab and the list of brownfield applications under the Brownfield Applications tab as displayed in the following figure. Figure. Applications TabClick to enlargeApplication Tab UsageBrownfield Applications Tab UsageApplication Tab UsageThe Application page provides the following details about an application.Name of the application.Source blueprint of the application.State of an application whether the application is in a running or in an error state.Application creation time.Name of the application owner.Time duration when the application was created.Date of the last update of the application.The cost of an application for last 30 days.Following are the different application level actions.CreateStartRestartStopDeleteSoft deleteInstall NGT applicationsManage NGT applicationsUninstall NGT applicationsCreate, restore, and delete snapshotsCloning an applicationCreate action cannot be performed after the blueprint is created. All other application level actions barring create can be performed according to the application state.You can get details about an application by clicking the application as shown in the following figure. The application page consists of the following tabs.Note: Advanced application actions like creating, restoring, or deleting snapshots, editing, or cloning of an application for single VM blueprint are available for Nutanix, VMware, and AWS providers.Figure. Application Page Click to enlargeThe application page displays the following states of the application based on the actions you perform on the Manage tab.Provisioning: This state is displayed when you start an application.Running: This state is displayed if the application is deployed and running after the provisioning state.Stopping: This state is displayed if you have initiated an operation to stop the application.Stopped: This state is displayed after the application is stopped.Restarting: This state is displayed if you have initiated an operation to restart the application after the application is stopped.Deleting: This state is displayed if you have initiated an operation to delete the application.Deleted: This state is displayed after you have deleted the application.Busy: This state is displayed if you have installed the NGT services on the VMs of an application.Updating: This state is displayed if you are editing an application.Error: This state is displayed if the application goes to error state due to any action you have performed in the Manage tab.Failover-in-progress: This state is displayed if you have initiated a failover operation on Prism Central for the protected VMs of an application. Failover-failed: This state is displayed if the failover operation for the VMs has failed. The failure state may occur mainly because of the following conditions.If there is any error from the Prism CentralIf there is no NIC attached to the VM when you configure the recovery plan for the protected VMNote: The Failover-in-progress and Failover-failed states are only applicable for the applications running on the Nutanix platform.Overview TabManage TabMetrics TabRecovery Points TabSnapshots TabAMIs TabServices TabAudit TabAdvanced Application ActionsExecuting User Level ActionsYou can define and create custom or user-level actions while configuring a blueprint. Perform the following procedure to run the user-level actions.Executing System Level ActionsSystem-level actions are pre-defined actions that you can run on an application. Perform the following procedure to execute the system-level actions.Overview TabThe Overview tab comprises of the following panels.Application DescriptionVariablesCost SummaryApp SummaryApp StatusVM InfoTable 1. Overview TabPanelDescriptionApplication DescriptionDisplays the application description.VariablesDisplays the variable list used to create the blueprint. You can also copy the variables by clicking the copy icon next to the variable.Cost SummaryDisplays the total cost, current cost for each hour, and the cost incurred in a month for the resources running in the blueprint. The cost summary panel also displays a graphical representation of the incurred cost.Note: The Cost Summary panel is applicable for Nutanix and VMware providers.App SummaryDisplays the following application details.Application UUID: Displays a unique identification code for the application. UUID is automatically generated after the application is created and in running state.Blueprint: Displays the blueprint from which the application is created.Cloud: Displays the cloud provider icon that hosts the application.Project: Displays the project that is added to the application.Owner: Displays the role of the user.Created On: Displays the date and time when the application was created.Last Updated On: Displays the date and time when the application was last updated.App StatusThis panel displays the summary of virtual machines (VMs). The panel displays the number of VMs that are in the following state.OnBusyErrorOffVM infoThis panel displays the following VM details of the application.Name: Displays the VM name.IP Address: Displays the IP address of the VM.Image: Displays the image from which the VM is created.vCPUs: Displays the number of vCPU allocated to the VM.Cores: Displays the number of cores allocated to the VM.Memory: Displays the total memory allocated to the VM.Network Adapter: Displays the network adapters used in the VM. You can use the down arrow key to view the details of the network adapter.Categories: Displays the categories added to the VMs. You can use the down arrow key to view the details of the network adapter.Manage TabThe Manage  tab lists the system generated and user-created actions that can be performed on the application as shown in the following figure. When you click any of the listed actions, the action dependencies are displayed in the editor. Figure. Manage TabClick to enlargeThe following system-generated actions can be performed on an application.Create: Creates an application but cannot be performed once the blueprint is created.Start: Starts an application.Restart: Restarts an application.Stop: Stops an application.Delete: Deletes an application including the underlying VMs on the provider side.Soft Delete: Deletes the application from the Nutanix Calm environment but does not delete the VMs on the provider side.Install NGT: Installs NGT service on your VM. To install NGT on your VM, see Installing NGT Apps.Manage NGT: Manages NGT services for your application. You can enable or disable SSR or VSS services. The self-service restore (SSR) allows virtual machine administrators to do a self-service recovery from the Nutanix data protection snapshots with minimal administrator intervention. For more information, see Self-Service Restore section in the Prism Web Console Guide. Volume Shadow Copy Service (VSS; also known as Shadow Copy or Volume Snapshot Service) creates an application-consistent snapshot for a VM and is limited to consistency groups consisting of a single VM.Uninstall NGT: Uninstalls NGT services from the VM. For more information, see Uninstalling NGT Apps.Nutanix guest tools (NGT) is a software bundle that you can install in a guest virtual machine (Microsoft Windows or Linux) to enable the advanced functionalities provided by Nutanix. For more information on NGT, see the Nutanix Guest Tool section in the Prism Web Console Guide.Note: NGT services are only applicable for single VM applications running with Nutanix as provider.For Kubernetes, the start, stop, and restart actions are disabled.The action performed on an application is also displayed in the inspector panel. To view the detailed course of the action, click action.Metrics TabThe Metrics tab allows you to view performance metrics of the VM. The Metrics tab displays a section on the left with a list of metrics. Note: Metrics tab is only applicable for single VM blueprint running with Nutanix as provider.The identified anomalies are based on VM behavioral machine-learning capabilities.Clicking a metric displays a graph on the right. (Some metrics have multiple graphs.) The graph is a rolling time interval performance or usage monitor. The baseline range (based on the machine-learning algorithm) appears as a blue band in the graph. Placing the cursor anywhere on the horizontal axis displays the current value. To set the time interval (last 24 hours, last week, last 21 days), select the duration from the pull-down list on the right. Note: The machine-learning algorithm uses 21 days of data to monitor performance. A graph does not appear for less than 21 days of data.To create an alert for this VM based on either behavioral anomalies or status thresholds, click the Set Alerts link above the graph.The following table describes the available metrics. Table 1. Metrics Tab FieldsMetricDescriptionCPU usageDisplays the percentage of CPU capacity currently the VM is using (0\u2013100%). CPU ready TimeDisplays the current, high, and low percentage of CPU ready time (0\u2013100%).Memory usageDisplays the percentage of memory capacity currently the VM is using (0\u2013100%). I/O BandwidthDisplays separate graphs for total, write (only), and read (only) I/O bandwidth used per second (Mbps or KBps) for physical disk requests by the VM.I/O LatencyDisplays separate graphs for total, write, and read average I/O latency (in milliseconds) for physical disk requests by the VM.IOPSDisplays separate graphs for total, write, and read I/O operations per second (IOPS) for the VM.UsageDisplays separate graphs for current, snapshot, and shared storage usage (in GiBs) by the VM.Working set sizeDisplays separate graphs for total, write, and read storage usage (in GiBs) for the VM working set size.Network packets droppedDisplays separate graphs for the number of transmitted and received packets dropped.Network bytesDisplays separate graphs for the amount of transmitted and received bytes (in GiBs).Recovery Points TabThe Recovery Points tab allows you to view the captured snapshots, restore applications from snapshots, and delete the snapshots for an application. Note: This tab is only applicable for single VM blueprints running with Nutanix as the provider.Table 1. Recovery Points Tab FieldsFieldsDescriptionNameDisplays the name of the snapshots. Creation TimeDisplays the date and time of the snapshot creation.LocationDisplays the location where the snapshot was taken. Expiration TimeDisplays the expiration time of the snapshot.Recovery Point Type Displays whether the snapshot type is application-consistent or crash-consistent.Snapshots TabThe Snapshot tab allows you to view the captured snapshots, restore applications from snapshots, and delete the snapshots for an application. Note: This tab is only applicable for single VM blueprints running with VMware as the provider.Table 1. Recovery Points Tab FieldsFieldsDescriptionIDDisplays the ID of the snapshots. Snapshot IDs are unique and automatically generated when you take a snapshot.NameDisplays the name of the snapshot.DescriptionDisplays the description of the snapshot. ParentDisplays the parent blueprint application from which the snapshot is taken.Creation TimeDisplays the date and time when the snapshot is taken.AMIs TabThe AMIs tab allows you to view the captured snapshots, restore applications from snapshots, and delete the snapshots for an application. Note: This tab is only applicable for single VM blueprints running with AWS as the provider.Table 1. Recovery Points Tab FieldsFieldsDescriptionIDDisplays the ID of the snapshots. Snapshot IDs are unique and automatically generated when you take a snapshot.NameDisplays the name of the snapshot.DescriptionDisplays the description of the snapshot. Creation TimeDisplays the date and time when the snapshot is taken.Services TabThe Services tab lists the included services in the application as displayed in the following figure. You can select the service to view the configuration details in the service inspector panel.Note: Service tab is only applicable for multi-VM applications.Figure. Services TabClick to enlargeAccessing Web SSH ConsolePerform the following procedure to run shell commands on a web SSH console for a service.Accessing Web SSH ConsolePerform the following procedure to run shell commands on a web SSH console for a service.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application.The Overview tab is displayed.Under the Service tab, click the service.Click Open Terminal.Figure. Web SSH ConsoleClick to enlargeThe web SSH console is displayed.Audit TabThe Audit tab lists the action or actions that are performed on an application as displayed in the following figure. To view the detailed course of the action, click action.Figure. Audit TabClick to enlargeAdvanced Application ActionsNutanix Calm allows you to use advanced actions for applications running on single VM blueprints with Nutanix as provider. The advanced actions include the following.Using snapshotsCloning an applicationUsing NGT functionalitiesLaunching consoleInstalling NGT AppsNutanix Guest Tools (NGT) is a software bundle that you can install in a guest virtual machine (Microsoft Windows or Linux) to enable the advanced functionality provided by Nutanix. For more information about NGT, see the Nutanix Guest Tool  section in the Prism Web Console Guide. Perform the following procedure to install NGT services on your VM. NGT services are only applicable for AHV clusters.Managing NGT AppsAfter you install NGT service on a VM, you can either enable or disable VSS and SSR services by using the Manage NGT Apps play button. To know more VSS and SSR services, see the Nutanix Guest Tools section in the Prism Web Console Guide.Uninstalling NGT AppsIf you do not want to recover application details after the host VM becomes unavailable, uninstall the NGT application. Perform the following procedure to uninstall NGT services for your application.Taking Snapshots on a Nutanix ClusterPerform the following procedure to take application-consistent or crash-consistent snapshots. Crash-consistent snapshots and application-consistent snapshots are used to capture and recover all of the VM and application level details. However, application-consistent snapshots can also capture all data stored in the memory and transactions in process.Taking Snapshots on a VMware PlatformA snapshot preserves the state and data of a virtual machine at a specific point in time. You can take a snapshot of a virtual machine at any time and revert to that snapshot to recreate the application from that time. For more information, see the VMware Documentation. Perform the following procedure to take a snapshot.Taking Snapshot on an AWS PlatformRestoring VM Details from Snapshots on a Nutanix ClusterYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots.Restoring VM Details from Snapshots on a VMware PlatformYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots.Restoring VM Details from Snapshots on an AWS PlatformYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots. Ensure that you have captured the snapshots for an application. Deleting Application SnapshotsPerform the following procedure to delete the snapshots taken for the VM under an application.Creating an Image on a Nutanix ClusterAn image is a template for creating new instance or VM. Calm allows you to create images from an existing single or multi VM application running on a Nutanix platform. Perform the following procedure to create an image from an existing application.Cloning of an ApplicationPerform the following procedure to make a clone of an application. The cloned application has the same VM configuration as the source application from which it is cloned.Updating the VM Configuration of an Application on a Nutanix ClusterYou can edit the VM configuration parameters, for example, vCPU, Cores per vCPU, or memory details of an application. Perform the following procedure to edit an application.Updating the VM Configuration of an Application on a VMware PlatformYou can edit and update the properties of an application like VM configuration, controllers, disks, or network adapters running on a VMware platform. Perform the following procedure to edit an application running on a VMware platform. Updating the VM Configuration of an Application on an AWS PlatformYou can edit and update the properties of an application like VM configuration, controllers, disks, or network adapters running on an AWS platform. Perform the following procedure to edit an application running on an AWS platform.Updating Actions and Credentials of an ApplicationYou can add or update the credential, custom actions, post delete tasks, package uninstall tasks of an application from the Overview tab of an application. Perform the following procedure to update actions and credentials of an application.Deleting an ApplicationYou can delete the unwanted applications from the Applications tab. Perform the following procedure to delete an application.Installing NGT AppsNutanix Guest Tools (NGT) is a software bundle that you can install in a guest virtual machine (Microsoft Windows or Linux) to enable the advanced functionality provided by Nutanix. For more information about NGT, see the Nutanix Guest Tool  section in the Prism Web Console Guide. Perform the following procedure to install NGT services on your VM. NGT services are only applicable for AHV clusters.Before you beginEnsure that NGT requirements and limitations are met. For more information, see the Nutanix Guest Tools Requirements and Limitations section in Prism Web Console Guide.Ensure that you have configured the cluster virtual IP address.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to install NGT on.The Overview tab is displayed.Under Manage tab, click the Install NGT Apps play button.The Install NGT Apps screen appears.Optionally, to restore desired files from the VM, click the Enable Self Service Restore (SSR) check box.The self-service restore (SSR) allows virtual machine administrators to do a self-service recovery from the Nutanix data protection snapshots with minimal administrator intervention. For more information, see Self-Service Restore section in the Prism Web Console Guide.The Self-Service Restore feature is enabled for the VM.Optionally, to enable VSS, click the Enable Volume Snapshot Service (VSS) check box. Volume Shadow Copy Service (VSS; also known as Shadow Copy or Volume Snapshot Service) creates an application-consistent snapshot for a VM and is limited to consistency groups consisting of a single VM. Enabling VSS allows you to take application-consistent snapshots.Do one of the following:To restart the VM after NGT installation, click Restart as soon as the install is completed.To skip the restart of the VM after VM installation, click Skip restart.Click Enter Credentials and do the following.In the User name field, enter user name.In the Password field, enter the password.Do one of the following.To install NGT, click Done.To mount the NGT on the VM and install it later, click Skip and Mount.If NGT is already mounted on a VM, to unmount the NGT from the VM, click Unmount. To cancel NGT installation, click Cancel.What to do nextAfter you install NGT, you can take application-consistent or crash-consistent snapshots. For more information, see Taking Snapshots on a Nutanix Cluster.Managing NGT AppsAfter you install NGT service on a VM, you can either enable or disable VSS and SSR services by using the Manage NGT Apps play button. To know more VSS and SSR services, see the Nutanix Guest Tools section in the Prism Web Console Guide.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application on which you want to manage NGT services.The Overview tab is displayed.Under Manage tab, click the Manage NGT Apps play button.The Manage NGT Apps screen appears.Under the Manage NGT Apps scree, click the Enable or Disable button to enable or disable self-service restore or volume snapshot service respectively.Click Confirm.The changes are saved and you can use the NGT services based on your selection.What to do nextYou can restore application details from the snapshots. For more details, see Restoring VM Details from Snapshots on a Nutanix Cluster. Uninstalling NGT AppsIf you do not want to recover application details after the host VM becomes unavailable, uninstall the NGT application. Perform the following procedure to uninstall NGT services for your application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to install NGT on.The Overview tab is displayed.Under Uninstalling NGT tab, click the Uninstall NGT Apps play button.A confirmation message appears to uninstall NGT.Click Uninstall.NGT Apps is uninstalled from the VM.Taking Snapshots on a Nutanix ClusterPerform the following procedure to take application-consistent or crash-consistent snapshots. Crash-consistent snapshots and application-consistent snapshots are used to capture and recover all of the VM and application level details. However, application-consistent snapshots can also capture all data stored in the memory and transactions in process.Before you beginEnsure that you have installed NGT Apps to take application-consistent snapshots.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to take snapshots.The Overview tab is displayed.Click Snapshot.The Snapshot screen appears.In the Snapshot name field, enter a name for the snapshot.Click the type of snapshot. You can select either Application consistent or Crash consistent or both.Note: You can take application-consistent snapshots after you have installed NGT Apps with VSS service enabled. For more information about snapshots, see the Nutanix Guest Tools section in the Prism Web Console GuideClick Save.The saved snapshots are available under Recovery Points tab.What to do nextYou can recover the VM details for an application from the captured snapshots. For more information about recovering application level information, see Restoring VM Details from Snapshots on a Nutanix Cluster.Taking Snapshots on a VMware PlatformA snapshot preserves the state and data of a virtual machine at a specific point in time. You can take a snapshot of a virtual machine at any time and revert to that snapshot to recreate the application from that time. For more information, see the VMware Documentation. Perform the following procedure to take a snapshot.About this taskNote: Ensure that the VMware Tool is installed and the VM is in powered on state to take the quiesce snapshots.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to take snapshots.The Overview tab is displayed.Click Snapshot.The Snapshot screen appears.In the Snapshot Name field, enter a name for the snapshot.Optionally, in the Snapshot Description field, enter a brief description about the snapshot.Optionally, click one of the following options.Snapshot VM's Memory: Use this option to capture the memory of the virtual machine and the power settings. Memory snapshots take longer to create, but allow reversion to a running virtual machine state as it was when the snapshot was taken Enable Snapshot Quiesce: Use this option to pause or alter the state of running processes on the virtual machine and take consistent and usable backup. When you quiesce a virtual machine, VMware Tools quiesce the file system in the virtual machine. The quiesce operation pauses or alters the state of running processes on the virtual machine, especially processes that might modify information stored on the disk during a restore operation.By default, Snapshot VM's Memory is selected. If you do not select any option, a crash-consistent snapshot is created, which you can use to reboot the virtual machine. For more information, see the VMware Documentation.Click Save.The saved snapshots are available under Snapshots tab.What to do nextYou can recover the VM details for an application from the captured snapshots. For more information about recovering application level information, see Restoring VM Details from Snapshots on a Nutanix Cluster.Taking Snapshot on an AWS PlatformAbout this taskYou can back up the data on your Amazon EBS volumes to Amazon S3 by taking point-in-time snapshots. Snapshots are incremental backups, which means that only the blocks on the device that have changed after your most recent snapshot are saved. For more information, see AWS Documentation. Perform the following procedure to take a snapshots on a AWS platform.Before you beginEnsure that the you have an AWS account with the privilege to take snapshot. For more information, see Configuring AWS User Account with Minimum Privilege and AWS Policy Privileges sections.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to take snapshots.The Overview tab is displayed.Click Snapshot.The  Save Snapshot screen appears.In the AMI Name field, enter a name for the snapshot.Optionally, in the AMI Description field, enter a brief description about the snapshot.Optionally, click the No Reboot check-box to avoid shutting down the Amazon EC2 instance before creating the image.Click Save.The saved snapshots are available under the AMI tab.Restoring VM Details from Snapshots on a Nutanix ClusterYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots.Before you beginEnsure that you have captured the snapshots for an application. For more details, see Taking Snapshots on a Nutanix Cluster.Note: A restored VM or a cloned VM does not have NGT service installed even if the snapshot or the source VM has NGT service installed.Restore operation for a VM fails if the snapshot is configured with static IP address and IP pool is not configured.When you perform a restore operation with a snapshot having static IP address configured, the restored VM comes up with a new IP address from the IP pool specified in IPAM. To ensure that the restored VM has the same static IP address as the old VM,remove the NIC that has this static IP address configured from the old VM, and attach the configuration to the new restored VM. If there is a failure during restore operation, perform an update operation on the VM to ensure that the VM is in valid state. ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to restore the VM details from the snapshots.The Overview tab is displayed.Click the Recovery Points tab.The Recovery Points tab lists all the snapshots taken for the applications.Click Restore next to a snapshot from which you want to restore the VM.A confirmation message appears to restore the VM details.Click Confirm.The application is restored from the snapshot in a new VM and the existing VM moves to power off state.Optionally, to delete the existing VM after restoring the application, click the Delete existing VM after restore check-box.Restoring VM Details from Snapshots on a VMware PlatformYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots.Before you beginEnsure that you have captured the snapshots for an application. For more details, see Taking Snapshots on a VMware Platform.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to restore the VM details from the snapshots.The Overview tab is displayed.Click the Snapshots tab.The Snapshots tab lists all the snapshots taken for the applications.Click Restore next to a snapshot from which you want to restore the VM.A confirmation message appears to restore the VM details.Click Confirm.The application is restored from the snapshot in the same VM.Restoring VM Details from Snapshots on an AWS PlatformYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots. Ensure that you have captured the snapshots for an application. Before you beginEnsure that you have captured the snapshots for an application. For more details, see Taking Snapshot on an AWS Platform.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to restore the VM details from the snapshots.The Overview tab is displayed.Click the AMIs tab.The AMIs tab lists all the snapshots taken for the applications.Click Restore next to a snapshot from which you want to restore the VM.A confirmation message appears to restore the VM details.Click Confirm Restore.The restore action creates a new VM from the snapshot that has the same configuration as the source application with a different IP address.Deleting Application SnapshotsPerform the following procedure to delete the snapshots taken for the VM under an application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to delete the snapshots.The Overview tab is displayed.Do one of the following.If your application is deployed in a Nutanix cluster, click the Recovery Points tab.If your application is deployed in a VMware platform, click the Snapshots tab.If your application is deployed in an AWS platform, click the AMI tab.Click the Delete button next to the snapshot you want to delete.Click Confirm.The snapshot is deleted.Creating an Image on a Nutanix ClusterAn image is a template for creating new instance or VM. Calm allows you to create images from an existing single or multi VM application running on a Nutanix platform. Perform the following procedure to create an image from an existing application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application from which you want to create an image.The Overview tab is displayed.Click Create Image.The Create Image screen appears.Click the check-box next to the disk from which you want to create an image.If the application has multiple disk images available, you can also select multiple disks. Under the Image Details section, type a name and a description for the new image in the Name and Description fields respectively.If you have selected multiple disk images, repeat the steps for all the Image Details sections.Click Save.The new image is created and available in the Image drop-down menu under the VM Configuration section. You can use the image while creating a single or multi VM application.Cloning of an ApplicationPerform the following procedure to make a clone of an application. The cloned application has the same VM configuration as the source application from which it is cloned.About this taskNote: You can make a clone of an application if you are using Nutanix, VMware, or AWS as your provider.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application on which you want to make a clone.The Overview tab is displayed.Click Clone.The Clone screen appears.In the Cloned Application Name field, enter a name for the cloned application.In the Description field, enter a brief description about the cloned application.Do one of the following.To clone the application, click Save.To go back to the previous screen, click Cancel.After you successfully cloned an application, you can view the link to the cloned application in the audit log of the source application.Note: In a Nutanix cluster, a restored VM or a cloned VM has NGT service installed if the snapshot or the source VM has NGT service installed.What to do nextClick the link of the cloned application to view the overview tab of the cloned application. To view the source application, click the Clone From field in the overview tab. Updating the VM Configuration of an Application on a Nutanix ClusterYou can edit the VM configuration parameters, for example, vCPU, Cores per vCPU, or memory details of an application. Perform the following procedure to edit an application.About this taskNote: If you want to edit an application after cloning from a source application, the edit operation fails if the source application has static IP address configured. When you edit an application, the CD-ROM attached to mount NGT services is removed.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to edit.From the Update drop-down menu, select Update VM Configuration or under the Manage tab, click Update VM Configuration.The Update screen is displayed.Under the VM Configuration section, you can update the following fields.vCPUsCore per vCPUMemory (GiB)Under Disks section, you can edit the following.To add another vDisk, click the + icon.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Enter the disk size of the vDisk in GiB.Note: You cannot decrease the vDisk size during editing an application.Under VGPUs section, you can edit the following.To add another VGPU, click the + icon.Select the vendor form the Vendor drop-down menu.Select the device ID from the Device ID drop-down menu.Select the mode of graphics from the Mode drop-down menu.Do one of the following.To save the edited application, click Update.To go back to the previous screen, click Cancel.The edited application is saved in the Application  tab.Updating the VM Configuration of an Application on a VMware PlatformYou can edit and update the properties of an application like VM configuration, controllers, disks, or network adapters running on a VMware platform. Perform the following procedure to edit an application running on a VMware platform. About this taskNote: If there is a mismatch of the NICs or Network setting count after updating an application and you try to clone the application, the cloned application fails. You cannot add or delete the application properties simultaneously.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to edit.From the Update drop-down menu, select Update VM Configuration or under the Manage tab, click Update VM Configuration.The Update screen is displayed.Under the VM Configuration section, you can update the following fields.vCPUsCore per vCPUMemory (GiB)Under the Controllers section, you can add, edit, or delete the SCSI or SATA controllers.Note: You cannot delete a controller if it is attached to a disk.Under Disks section, you can edit the following.To add a vDisk, click the + icon.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the adapter type from the Adapter Type drop-down menu.You can select IDE if you have selected the device type as CD-ROM.You can select either SCSI, IDE, or SATA if you have selected the device type as Disk.Enter the disk size of the vDisk in GiB.From the Location field, select the VM datastore to store the disk details.Note: You can also edit the disk size and disk mode. However, decreasing the disk size of a saved configuration is not allowed.You can delete a saved disk. However, you cannot add and delete the disks simultaneously.Under the Network Adapter section, use the + icon to add a network card and configure the following. From the Adapter Typefield, select the network adapter. For more information, see the VMware Documentation.From the Networks field, select the network.If you are updating the Network Adapter section, you can only change the Networks field. Do one of the following.To save the edited application, click Update.To go back to the previous screen, click Cancel.The edited application is saved in the Application  tab.Updating the VM Configuration of an Application on an AWS PlatformYou can edit and update the properties of an application like VM configuration, controllers, disks, or network adapters running on an AWS platform. Perform the following procedure to edit an application running on an AWS platform.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to edit.From the Update drop-down menu, select Update VM Configuration or under the Manage tab, click Update VM Configuration.The Update screen is displayed.Under the Network and Security section, you can update the instance type from the Instance Type drop-down menu.The Availability Zone, Machine Image, Region, Key Pairs, and VPC fields are automatically selected and you can not update these fields.To update the IAM role, select the role from the IAM Role drop-down menu.To enable the security group rule, select the Include Classic Security Group check-box.From the Security Groups  drop-down menu, select security groups.To add tags to the application, add the key and value pair in the Key and Value fields respectively.To update the storage of the application, enter the memory in GB in the Size(GiB) field.To change the volume type of the storage device, select the type from the Volume Type drop-down menu.Do one of the following.To save the edited application, click Update.To go back to the previous screen, click Cancel.The edited application is saved in the Application  tab.Updating Actions and Credentials of an ApplicationYou can add or update the credential, custom actions, post delete tasks, package uninstall tasks of an application from the Overview tab of an application. Perform the following procedure to update actions and credentials of an application.About this taskNote: For this release, support for credential or action update is not available for the applications running on Xi cloud. Dynamic variables are runtime editable by default, but you cannot mark variable as runtime editable if you add the variables while updating an application. ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to update the credential or actions.From the Update drop-down menu, select Update Actions and Credentials.The Update screen is displayed.In the Credentials and Connection area, click Edit.The Credentials and Connection page is displayed.To add a credential, click Add Credential and do the following.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH private key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.To delete an existing credential, click Delete against the credential.Note: You can also update the user name or password of an existing credential. However, if you have logged on as an operator, you can only update the password.Under Connection, to update the credential and check the logon status after creating the application, select the credential from the Credentials drop-down menu.You can update the credential to check the logon status only if you have enabled the Check log-in upon create field while configuring the blueprint.Optionally, to add a post delete task for the application, in the Post Deletearea, click Edit. For more information see Creating Post-delete Task.Optionally, to create a task to uninstall a package, click Edit next to the Package area and do the following.Click + Task.Enter the task name in the Task Name field.To create the type of task, select the type from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.To add variables to the post delete task, click the  Package Uninstall Variables tab.In the Variables pane, click the + icon to add variable typesIn the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are automatically filled.Select the Secret check-box if you want to hide the value of the variable. To save the package uninstall task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.You can delete a task only while adding a new task. If you are updating the existing task, you cannot delete the task.Optionally, to add another action to the application, click + Add Action next to the Actions area and do the following.Click + Add Task.The task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The task is created.To add another task, click Add Task in the task editor area.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the task, click the Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the task, click Done.To save the updated credentials and tasks for the application, click Update.Deleting an ApplicationYou can delete the unwanted applications from the Applications tab. Perform the following procedure to delete an application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Select the check-box against the application that you want to delete.The Action drop-down menu is displayed at the top of the Application page.Select Delete from the Action drop-down menu.Delete Application window is displayed.Click Confirm.The application is deleted from the Application tab.Executing User Level ActionsYou can define and create custom or user-level actions while configuring a blueprint. Perform the following procedure to run the user-level actions.Before you beginEnsure that you have created a custom action during configuring a blueprint.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to run a user-level action.The Overview tab is displayed.Under the Manage tab, click the action that is created by the user.The custom action starts running for the application.Executing System Level ActionsSystem-level actions are pre-defined actions that you can run on an application. Perform the following procedure to execute the system-level actions.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to execute a system generated action.The Overview tab is displayed.Under the Manage tab, click one of the following type of action. Create: Creates an application but cannot be performed once the blueprint is created.Start: Starts an application.Restart: Restarts an application.Stop: Stops an application.Delete: Deletes an application including the underlying VMs on the provider side.Soft Delete: Deletes the application from the Nutanix Calm environment but does not delete the VMs on the provider side.Install NGT Apps: Installs NGT services for your application. To install NGT, see Installing NGT Apps.Manage NGT Apps: Manages NGT services for your application . You can enable or disable app-consistent and crash-consistent snapshots. For more information, see Managing NGT Apps.Uninstall NGT Apps: Uninstalls NGT services from the VM. For more information, see Uninstalling NGT Apps.Brownfield Applications Tab UsageBrownfield applications are created to manage existing VMs that are currently not managed by Nutanix Calm. The Brownfield Applications page provides the following details about the draft brownfield applications.Name of the application.State of an application whether the application is in a running or in an error state.The count of the application.Time duration when was the application created.Last update of an Application.The associated projects name.You can create and launch a brownfield application blueprint from the blueprints tab. You need administrator privilege to create a brownfield application. For information about how to create brownfield application, see Creating Brownfield Application.Figure. Brownfield Applications TabClick to enlargeNote: Brownfield applications do not support to take a snapshot.Creating Brownfield ApplicationBrownfield applications are created to manage existing VMs that are currently not managed by Nutanix Calm. Perform the following procedure to create brownfield application.Launching Brownfield ApplicationYou must launch the configured brownfield applications to be managed by Nutranix Calm. Perform the following procedure to launch a brownfield application.Creating Brownfield ApplicationBrownfield applications are created to manage existing VMs that are currently not managed by Nutanix Calm. Perform the following procedure to create brownfield application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the Brownfield Applications tab.The Brownfield Application page is displayed.Click + Create Brownfield Application.The Brownfield Import window is displayed.Enter the blueprint application name in the Name field. Optionally, enter a description about the application in the Description field.Select a project from the Project drop-down menu.Click Proceed.The brownfield application editor page is displayed.To add a service, click + against the service.Enter the service name in the Service Name field.Select one of the following type of deployment.Greenfield: Select this option if all the existing VMs are manged by Nutanix.Brownfield: Select this option if the existing VMs are currently not managed by Nutanix.If you have selected Brownfield, then do the following.Select the VMs from the Select Machines drop-down menu.Select Add New Credential  from the Credential drop-down menu.Note: Ensure that the credential is same for all the VMs.Enter the credential name in the Credential Name field.Enter the user name in the Username field. Do one of the following.Select password from the Secret field and enter password in the Password field.Select key from the Secret field and enter or upload the key in the Key  field.Click Done.If you have selected Greenfield, then configure the VM, package, and service. To configure VM, package, and service refer to Configuring Multi-VM, Package, and Service.Click Save.The brownfield application is created and listed under the Brownfield Application list.What to do nextLaunch the brownfield application from the Applications tab. For more information, see Launching Brownfield Application.Launching Brownfield ApplicationYou must launch the configured brownfield applications to be managed by Nutranix Calm. Perform the following procedure to launch a brownfield application.Before you beginEnsure that you have created the brownfield applications. For more information, see Creating Brownfield Application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the Brownfield Applications tab.The Brownfield Application page is displayed.Click the brownfield application that you want to launch.The blueprint details page is displayed.Click Launch.The brownfield application page is displayed and the application is listed under the Applications tab.", "Heading_Keywords": ["applic", "usag"]}, {"Heading": "Application Tab Usage", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-application-tab-usage-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The Application page provides the following details about an application.Name of the application.Source blueprint of the application.State of an application whether the application is in a running or in an error state.Application creation time.Name of the application owner.Time duration when the application was created.Date of the last update of the application.The cost of an application for last 30 days.Following are the different application level actions.CreateStartRestartStopDeleteSoft deleteInstall NGT applicationsManage NGT applicationsUninstall NGT applicationsCreate, restore, and delete snapshotsCloning an applicationCreate action cannot be performed after the blueprint is created. All other application level actions barring create can be performed according to the application state.You can get details about an application by clicking the application as shown in the following figure. The application page consists of the following tabs.Note: Advanced application actions like creating, restoring, or deleting snapshots, editing, or cloning of an application for single VM blueprint are available for Nutanix, VMware, and AWS providers.Figure. Application Page Click to enlargeThe application page displays the following states of the application based on the actions you perform on the Manage tab.Provisioning: This state is displayed when you start an application.Running: This state is displayed if the application is deployed and running after the provisioning state.Stopping: This state is displayed if you have initiated an operation to stop the application.Stopped: This state is displayed after the application is stopped.Restarting: This state is displayed if you have initiated an operation to restart the application after the application is stopped.Deleting: This state is displayed if you have initiated an operation to delete the application.Deleted: This state is displayed after you have deleted the application.Busy: This state is displayed if you have installed the NGT services on the VMs of an application.Updating: This state is displayed if you are editing an application.Error: This state is displayed if the application goes to error state due to any action you have performed in the Manage tab.Failover-in-progress: This state is displayed if you have initiated a failover operation on Prism Central for the protected VMs of an application. Failover-failed: This state is displayed if the failover operation for the VMs has failed. The failure state may occur mainly because of the following conditions.If there is any error from the Prism CentralIf there is no NIC attached to the VM when you configure the recovery plan for the protected VMNote: The Failover-in-progress and Failover-failed states are only applicable for the applications running on the Nutanix platform.Overview TabManage TabMetrics TabRecovery Points TabSnapshots TabAMIs TabServices TabAudit TabAdvanced Application ActionsExecuting User Level ActionsYou can define and create custom or user-level actions while configuring a blueprint. Perform the following procedure to run the user-level actions.Executing System Level ActionsSystem-level actions are pre-defined actions that you can run on an application. Perform the following procedure to execute the system-level actions.Overview TabThe Overview tab comprises of the following panels.Application DescriptionVariablesCost SummaryApp SummaryApp StatusVM InfoTable 1. Overview TabPanelDescriptionApplication DescriptionDisplays the application description.VariablesDisplays the variable list used to create the blueprint. You can also copy the variables by clicking the copy icon next to the variable.Cost SummaryDisplays the total cost, current cost for each hour, and the cost incurred in a month for the resources running in the blueprint. The cost summary panel also displays a graphical representation of the incurred cost.Note: The Cost Summary panel is applicable for Nutanix and VMware providers.App SummaryDisplays the following application details.Application UUID: Displays a unique identification code for the application. UUID is automatically generated after the application is created and in running state.Blueprint: Displays the blueprint from which the application is created.Cloud: Displays the cloud provider icon that hosts the application.Project: Displays the project that is added to the application.Owner: Displays the role of the user.Created On: Displays the date and time when the application was created.Last Updated On: Displays the date and time when the application was last updated.App StatusThis panel displays the summary of virtual machines (VMs). The panel displays the number of VMs that are in the following state.OnBusyErrorOffVM infoThis panel displays the following VM details of the application.Name: Displays the VM name.IP Address: Displays the IP address of the VM.Image: Displays the image from which the VM is created.vCPUs: Displays the number of vCPU allocated to the VM.Cores: Displays the number of cores allocated to the VM.Memory: Displays the total memory allocated to the VM.Network Adapter: Displays the network adapters used in the VM. You can use the down arrow key to view the details of the network adapter.Categories: Displays the categories added to the VMs. You can use the down arrow key to view the details of the network adapter.Manage TabThe Manage  tab lists the system generated and user-created actions that can be performed on the application as shown in the following figure. When you click any of the listed actions, the action dependencies are displayed in the editor. Figure. Manage TabClick to enlargeThe following system-generated actions can be performed on an application.Create: Creates an application but cannot be performed once the blueprint is created.Start: Starts an application.Restart: Restarts an application.Stop: Stops an application.Delete: Deletes an application including the underlying VMs on the provider side.Soft Delete: Deletes the application from the Nutanix Calm environment but does not delete the VMs on the provider side.Install NGT: Installs NGT service on your VM. To install NGT on your VM, see Installing NGT Apps.Manage NGT: Manages NGT services for your application. You can enable or disable SSR or VSS services. The self-service restore (SSR) allows virtual machine administrators to do a self-service recovery from the Nutanix data protection snapshots with minimal administrator intervention. For more information, see Self-Service Restore section in the Prism Web Console Guide. Volume Shadow Copy Service (VSS; also known as Shadow Copy or Volume Snapshot Service) creates an application-consistent snapshot for a VM and is limited to consistency groups consisting of a single VM.Uninstall NGT: Uninstalls NGT services from the VM. For more information, see Uninstalling NGT Apps.Nutanix guest tools (NGT) is a software bundle that you can install in a guest virtual machine (Microsoft Windows or Linux) to enable the advanced functionalities provided by Nutanix. For more information on NGT, see the Nutanix Guest Tool section in the Prism Web Console Guide.Note: NGT services are only applicable for single VM applications running with Nutanix as provider.For Kubernetes, the start, stop, and restart actions are disabled.The action performed on an application is also displayed in the inspector panel. To view the detailed course of the action, click action.Metrics TabThe Metrics tab allows you to view performance metrics of the VM. The Metrics tab displays a section on the left with a list of metrics. Note: Metrics tab is only applicable for single VM blueprint running with Nutanix as provider.The identified anomalies are based on VM behavioral machine-learning capabilities.Clicking a metric displays a graph on the right. (Some metrics have multiple graphs.) The graph is a rolling time interval performance or usage monitor. The baseline range (based on the machine-learning algorithm) appears as a blue band in the graph. Placing the cursor anywhere on the horizontal axis displays the current value. To set the time interval (last 24 hours, last week, last 21 days), select the duration from the pull-down list on the right. Note: The machine-learning algorithm uses 21 days of data to monitor performance. A graph does not appear for less than 21 days of data.To create an alert for this VM based on either behavioral anomalies or status thresholds, click the Set Alerts link above the graph.The following table describes the available metrics. Table 1. Metrics Tab FieldsMetricDescriptionCPU usageDisplays the percentage of CPU capacity currently the VM is using (0\u2013100%). CPU ready TimeDisplays the current, high, and low percentage of CPU ready time (0\u2013100%).Memory usageDisplays the percentage of memory capacity currently the VM is using (0\u2013100%). I/O BandwidthDisplays separate graphs for total, write (only), and read (only) I/O bandwidth used per second (Mbps or KBps) for physical disk requests by the VM.I/O LatencyDisplays separate graphs for total, write, and read average I/O latency (in milliseconds) for physical disk requests by the VM.IOPSDisplays separate graphs for total, write, and read I/O operations per second (IOPS) for the VM.UsageDisplays separate graphs for current, snapshot, and shared storage usage (in GiBs) by the VM.Working set sizeDisplays separate graphs for total, write, and read storage usage (in GiBs) for the VM working set size.Network packets droppedDisplays separate graphs for the number of transmitted and received packets dropped.Network bytesDisplays separate graphs for the amount of transmitted and received bytes (in GiBs).Recovery Points TabThe Recovery Points tab allows you to view the captured snapshots, restore applications from snapshots, and delete the snapshots for an application. Note: This tab is only applicable for single VM blueprints running with Nutanix as the provider.Table 1. Recovery Points Tab FieldsFieldsDescriptionNameDisplays the name of the snapshots. Creation TimeDisplays the date and time of the snapshot creation.LocationDisplays the location where the snapshot was taken. Expiration TimeDisplays the expiration time of the snapshot.Recovery Point Type Displays whether the snapshot type is application-consistent or crash-consistent.Snapshots TabThe Snapshot tab allows you to view the captured snapshots, restore applications from snapshots, and delete the snapshots for an application. Note: This tab is only applicable for single VM blueprints running with VMware as the provider.Table 1. Recovery Points Tab FieldsFieldsDescriptionIDDisplays the ID of the snapshots. Snapshot IDs are unique and automatically generated when you take a snapshot.NameDisplays the name of the snapshot.DescriptionDisplays the description of the snapshot. ParentDisplays the parent blueprint application from which the snapshot is taken.Creation TimeDisplays the date and time when the snapshot is taken.AMIs TabThe AMIs tab allows you to view the captured snapshots, restore applications from snapshots, and delete the snapshots for an application. Note: This tab is only applicable for single VM blueprints running with AWS as the provider.Table 1. Recovery Points Tab FieldsFieldsDescriptionIDDisplays the ID of the snapshots. Snapshot IDs are unique and automatically generated when you take a snapshot.NameDisplays the name of the snapshot.DescriptionDisplays the description of the snapshot. Creation TimeDisplays the date and time when the snapshot is taken.Services TabThe Services tab lists the included services in the application as displayed in the following figure. You can select the service to view the configuration details in the service inspector panel.Note: Service tab is only applicable for multi-VM applications.Figure. Services TabClick to enlargeAccessing Web SSH ConsolePerform the following procedure to run shell commands on a web SSH console for a service.Accessing Web SSH ConsolePerform the following procedure to run shell commands on a web SSH console for a service.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application.The Overview tab is displayed.Under the Service tab, click the service.Click Open Terminal.Figure. Web SSH ConsoleClick to enlargeThe web SSH console is displayed.Audit TabThe Audit tab lists the action or actions that are performed on an application as displayed in the following figure. To view the detailed course of the action, click action.Figure. Audit TabClick to enlargeAdvanced Application ActionsNutanix Calm allows you to use advanced actions for applications running on single VM blueprints with Nutanix as provider. The advanced actions include the following.Using snapshotsCloning an applicationUsing NGT functionalitiesLaunching consoleInstalling NGT AppsNutanix Guest Tools (NGT) is a software bundle that you can install in a guest virtual machine (Microsoft Windows or Linux) to enable the advanced functionality provided by Nutanix. For more information about NGT, see the Nutanix Guest Tool  section in the Prism Web Console Guide. Perform the following procedure to install NGT services on your VM. NGT services are only applicable for AHV clusters.Managing NGT AppsAfter you install NGT service on a VM, you can either enable or disable VSS and SSR services by using the Manage NGT Apps play button. To know more VSS and SSR services, see the Nutanix Guest Tools section in the Prism Web Console Guide.Uninstalling NGT AppsIf you do not want to recover application details after the host VM becomes unavailable, uninstall the NGT application. Perform the following procedure to uninstall NGT services for your application.Taking Snapshots on a Nutanix ClusterPerform the following procedure to take application-consistent or crash-consistent snapshots. Crash-consistent snapshots and application-consistent snapshots are used to capture and recover all of the VM and application level details. However, application-consistent snapshots can also capture all data stored in the memory and transactions in process.Taking Snapshots on a VMware PlatformA snapshot preserves the state and data of a virtual machine at a specific point in time. You can take a snapshot of a virtual machine at any time and revert to that snapshot to recreate the application from that time. For more information, see the VMware Documentation. Perform the following procedure to take a snapshot.Taking Snapshot on an AWS PlatformRestoring VM Details from Snapshots on a Nutanix ClusterYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots.Restoring VM Details from Snapshots on a VMware PlatformYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots.Restoring VM Details from Snapshots on an AWS PlatformYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots. Ensure that you have captured the snapshots for an application. Deleting Application SnapshotsPerform the following procedure to delete the snapshots taken for the VM under an application.Creating an Image on a Nutanix ClusterAn image is a template for creating new instance or VM. Calm allows you to create images from an existing single or multi VM application running on a Nutanix platform. Perform the following procedure to create an image from an existing application.Cloning of an ApplicationPerform the following procedure to make a clone of an application. The cloned application has the same VM configuration as the source application from which it is cloned.Updating the VM Configuration of an Application on a Nutanix ClusterYou can edit the VM configuration parameters, for example, vCPU, Cores per vCPU, or memory details of an application. Perform the following procedure to edit an application.Updating the VM Configuration of an Application on a VMware PlatformYou can edit and update the properties of an application like VM configuration, controllers, disks, or network adapters running on a VMware platform. Perform the following procedure to edit an application running on a VMware platform. Updating the VM Configuration of an Application on an AWS PlatformYou can edit and update the properties of an application like VM configuration, controllers, disks, or network adapters running on an AWS platform. Perform the following procedure to edit an application running on an AWS platform.Updating Actions and Credentials of an ApplicationYou can add or update the credential, custom actions, post delete tasks, package uninstall tasks of an application from the Overview tab of an application. Perform the following procedure to update actions and credentials of an application.Deleting an ApplicationYou can delete the unwanted applications from the Applications tab. Perform the following procedure to delete an application.Installing NGT AppsNutanix Guest Tools (NGT) is a software bundle that you can install in a guest virtual machine (Microsoft Windows or Linux) to enable the advanced functionality provided by Nutanix. For more information about NGT, see the Nutanix Guest Tool  section in the Prism Web Console Guide. Perform the following procedure to install NGT services on your VM. NGT services are only applicable for AHV clusters.Before you beginEnsure that NGT requirements and limitations are met. For more information, see the Nutanix Guest Tools Requirements and Limitations section in Prism Web Console Guide.Ensure that you have configured the cluster virtual IP address.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to install NGT on.The Overview tab is displayed.Under Manage tab, click the Install NGT Apps play button.The Install NGT Apps screen appears.Optionally, to restore desired files from the VM, click the Enable Self Service Restore (SSR) check box.The self-service restore (SSR) allows virtual machine administrators to do a self-service recovery from the Nutanix data protection snapshots with minimal administrator intervention. For more information, see Self-Service Restore section in the Prism Web Console Guide.The Self-Service Restore feature is enabled for the VM.Optionally, to enable VSS, click the Enable Volume Snapshot Service (VSS) check box. Volume Shadow Copy Service (VSS; also known as Shadow Copy or Volume Snapshot Service) creates an application-consistent snapshot for a VM and is limited to consistency groups consisting of a single VM. Enabling VSS allows you to take application-consistent snapshots.Do one of the following:To restart the VM after NGT installation, click Restart as soon as the install is completed.To skip the restart of the VM after VM installation, click Skip restart.Click Enter Credentials and do the following.In the User name field, enter user name.In the Password field, enter the password.Do one of the following.To install NGT, click Done.To mount the NGT on the VM and install it later, click Skip and Mount.If NGT is already mounted on a VM, to unmount the NGT from the VM, click Unmount. To cancel NGT installation, click Cancel.What to do nextAfter you install NGT, you can take application-consistent or crash-consistent snapshots. For more information, see Taking Snapshots on a Nutanix Cluster.Managing NGT AppsAfter you install NGT service on a VM, you can either enable or disable VSS and SSR services by using the Manage NGT Apps play button. To know more VSS and SSR services, see the Nutanix Guest Tools section in the Prism Web Console Guide.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application on which you want to manage NGT services.The Overview tab is displayed.Under Manage tab, click the Manage NGT Apps play button.The Manage NGT Apps screen appears.Under the Manage NGT Apps scree, click the Enable or Disable button to enable or disable self-service restore or volume snapshot service respectively.Click Confirm.The changes are saved and you can use the NGT services based on your selection.What to do nextYou can restore application details from the snapshots. For more details, see Restoring VM Details from Snapshots on a Nutanix Cluster. Uninstalling NGT AppsIf you do not want to recover application details after the host VM becomes unavailable, uninstall the NGT application. Perform the following procedure to uninstall NGT services for your application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to install NGT on.The Overview tab is displayed.Under Uninstalling NGT tab, click the Uninstall NGT Apps play button.A confirmation message appears to uninstall NGT.Click Uninstall.NGT Apps is uninstalled from the VM.Taking Snapshots on a Nutanix ClusterPerform the following procedure to take application-consistent or crash-consistent snapshots. Crash-consistent snapshots and application-consistent snapshots are used to capture and recover all of the VM and application level details. However, application-consistent snapshots can also capture all data stored in the memory and transactions in process.Before you beginEnsure that you have installed NGT Apps to take application-consistent snapshots.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to take snapshots.The Overview tab is displayed.Click Snapshot.The Snapshot screen appears.In the Snapshot name field, enter a name for the snapshot.Click the type of snapshot. You can select either Application consistent or Crash consistent or both.Note: You can take application-consistent snapshots after you have installed NGT Apps with VSS service enabled. For more information about snapshots, see the Nutanix Guest Tools section in the Prism Web Console GuideClick Save.The saved snapshots are available under Recovery Points tab.What to do nextYou can recover the VM details for an application from the captured snapshots. For more information about recovering application level information, see Restoring VM Details from Snapshots on a Nutanix Cluster.Taking Snapshots on a VMware PlatformA snapshot preserves the state and data of a virtual machine at a specific point in time. You can take a snapshot of a virtual machine at any time and revert to that snapshot to recreate the application from that time. For more information, see the VMware Documentation. Perform the following procedure to take a snapshot.About this taskNote: Ensure that the VMware Tool is installed and the VM is in powered on state to take the quiesce snapshots.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to take snapshots.The Overview tab is displayed.Click Snapshot.The Snapshot screen appears.In the Snapshot Name field, enter a name for the snapshot.Optionally, in the Snapshot Description field, enter a brief description about the snapshot.Optionally, click one of the following options.Snapshot VM's Memory: Use this option to capture the memory of the virtual machine and the power settings. Memory snapshots take longer to create, but allow reversion to a running virtual machine state as it was when the snapshot was taken Enable Snapshot Quiesce: Use this option to pause or alter the state of running processes on the virtual machine and take consistent and usable backup. When you quiesce a virtual machine, VMware Tools quiesce the file system in the virtual machine. The quiesce operation pauses or alters the state of running processes on the virtual machine, especially processes that might modify information stored on the disk during a restore operation.By default, Snapshot VM's Memory is selected. If you do not select any option, a crash-consistent snapshot is created, which you can use to reboot the virtual machine. For more information, see the VMware Documentation.Click Save.The saved snapshots are available under Snapshots tab.What to do nextYou can recover the VM details for an application from the captured snapshots. For more information about recovering application level information, see Restoring VM Details from Snapshots on a Nutanix Cluster.Taking Snapshot on an AWS PlatformAbout this taskYou can back up the data on your Amazon EBS volumes to Amazon S3 by taking point-in-time snapshots. Snapshots are incremental backups, which means that only the blocks on the device that have changed after your most recent snapshot are saved. For more information, see AWS Documentation. Perform the following procedure to take a snapshots on a AWS platform.Before you beginEnsure that the you have an AWS account with the privilege to take snapshot. For more information, see Configuring AWS User Account with Minimum Privilege and AWS Policy Privileges sections.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to take snapshots.The Overview tab is displayed.Click Snapshot.The  Save Snapshot screen appears.In the AMI Name field, enter a name for the snapshot.Optionally, in the AMI Description field, enter a brief description about the snapshot.Optionally, click the No Reboot check-box to avoid shutting down the Amazon EC2 instance before creating the image.Click Save.The saved snapshots are available under the AMI tab.Restoring VM Details from Snapshots on a Nutanix ClusterYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots.Before you beginEnsure that you have captured the snapshots for an application. For more details, see Taking Snapshots on a Nutanix Cluster.Note: A restored VM or a cloned VM does not have NGT service installed even if the snapshot or the source VM has NGT service installed.Restore operation for a VM fails if the snapshot is configured with static IP address and IP pool is not configured.When you perform a restore operation with a snapshot having static IP address configured, the restored VM comes up with a new IP address from the IP pool specified in IPAM. To ensure that the restored VM has the same static IP address as the old VM,remove the NIC that has this static IP address configured from the old VM, and attach the configuration to the new restored VM. If there is a failure during restore operation, perform an update operation on the VM to ensure that the VM is in valid state. ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to restore the VM details from the snapshots.The Overview tab is displayed.Click the Recovery Points tab.The Recovery Points tab lists all the snapshots taken for the applications.Click Restore next to a snapshot from which you want to restore the VM.A confirmation message appears to restore the VM details.Click Confirm.The application is restored from the snapshot in a new VM and the existing VM moves to power off state.Optionally, to delete the existing VM after restoring the application, click the Delete existing VM after restore check-box.Restoring VM Details from Snapshots on a VMware PlatformYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots.Before you beginEnsure that you have captured the snapshots for an application. For more details, see Taking Snapshots on a VMware Platform.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to restore the VM details from the snapshots.The Overview tab is displayed.Click the Snapshots tab.The Snapshots tab lists all the snapshots taken for the applications.Click Restore next to a snapshot from which you want to restore the VM.A confirmation message appears to restore the VM details.Click Confirm.The application is restored from the snapshot in the same VM.Restoring VM Details from Snapshots on an AWS PlatformYou can restore the VM details of an application after the host VM becomes unavailable. Perform the following procedure to restore an application from the snapshots. Ensure that you have captured the snapshots for an application. Before you beginEnsure that you have captured the snapshots for an application. For more details, see Taking Snapshot on an AWS Platform.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to restore the VM details from the snapshots.The Overview tab is displayed.Click the AMIs tab.The AMIs tab lists all the snapshots taken for the applications.Click Restore next to a snapshot from which you want to restore the VM.A confirmation message appears to restore the VM details.Click Confirm Restore.The restore action creates a new VM from the snapshot that has the same configuration as the source application with a different IP address.Deleting Application SnapshotsPerform the following procedure to delete the snapshots taken for the VM under an application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to delete the snapshots.The Overview tab is displayed.Do one of the following.If your application is deployed in a Nutanix cluster, click the Recovery Points tab.If your application is deployed in a VMware platform, click the Snapshots tab.If your application is deployed in an AWS platform, click the AMI tab.Click the Delete button next to the snapshot you want to delete.Click Confirm.The snapshot is deleted.Creating an Image on a Nutanix ClusterAn image is a template for creating new instance or VM. Calm allows you to create images from an existing single or multi VM application running on a Nutanix platform. Perform the following procedure to create an image from an existing application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application from which you want to create an image.The Overview tab is displayed.Click Create Image.The Create Image screen appears.Click the check-box next to the disk from which you want to create an image.If the application has multiple disk images available, you can also select multiple disks. Under the Image Details section, type a name and a description for the new image in the Name and Description fields respectively.If you have selected multiple disk images, repeat the steps for all the Image Details sections.Click Save.The new image is created and available in the Image drop-down menu under the VM Configuration section. You can use the image while creating a single or multi VM application.Cloning of an ApplicationPerform the following procedure to make a clone of an application. The cloned application has the same VM configuration as the source application from which it is cloned.About this taskNote: You can make a clone of an application if you are using Nutanix, VMware, or AWS as your provider.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application on which you want to make a clone.The Overview tab is displayed.Click Clone.The Clone screen appears.In the Cloned Application Name field, enter a name for the cloned application.In the Description field, enter a brief description about the cloned application.Do one of the following.To clone the application, click Save.To go back to the previous screen, click Cancel.After you successfully cloned an application, you can view the link to the cloned application in the audit log of the source application.Note: In a Nutanix cluster, a restored VM or a cloned VM has NGT service installed if the snapshot or the source VM has NGT service installed.What to do nextClick the link of the cloned application to view the overview tab of the cloned application. To view the source application, click the Clone From field in the overview tab. Updating the VM Configuration of an Application on a Nutanix ClusterYou can edit the VM configuration parameters, for example, vCPU, Cores per vCPU, or memory details of an application. Perform the following procedure to edit an application.About this taskNote: If you want to edit an application after cloning from a source application, the edit operation fails if the source application has static IP address configured. When you edit an application, the CD-ROM attached to mount NGT services is removed.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to edit.From the Update drop-down menu, select Update VM Configuration or under the Manage tab, click Update VM Configuration.The Update screen is displayed.Under the VM Configuration section, you can update the following fields.vCPUsCore per vCPUMemory (GiB)Under Disks section, you can edit the following.To add another vDisk, click the + icon.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the device bus from the Device Bus drop-down menu.You can select either IDE or SATA for CD-ROM.You can select either SCSI, IDE, PCI, or SATA for Disk.Enter the disk size of the vDisk in GiB.Note: You cannot decrease the vDisk size during editing an application.Under VGPUs section, you can edit the following.To add another VGPU, click the + icon.Select the vendor form the Vendor drop-down menu.Select the device ID from the Device ID drop-down menu.Select the mode of graphics from the Mode drop-down menu.Do one of the following.To save the edited application, click Update.To go back to the previous screen, click Cancel.The edited application is saved in the Application  tab.Updating the VM Configuration of an Application on a VMware PlatformYou can edit and update the properties of an application like VM configuration, controllers, disks, or network adapters running on a VMware platform. Perform the following procedure to edit an application running on a VMware platform. About this taskNote: If there is a mismatch of the NICs or Network setting count after updating an application and you try to clone the application, the cloned application fails. You cannot add or delete the application properties simultaneously.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to edit.From the Update drop-down menu, select Update VM Configuration or under the Manage tab, click Update VM Configuration.The Update screen is displayed.Under the VM Configuration section, you can update the following fields.vCPUsCore per vCPUMemory (GiB)Under the Controllers section, you can add, edit, or delete the SCSI or SATA controllers.Note: You cannot delete a controller if it is attached to a disk.Under Disks section, you can edit the following.To add a vDisk, click the + icon.Select the device type from the Device Type drop-down menu.You can select either CD-ROM or Disk.Select the adapter type from the Adapter Type drop-down menu.You can select IDE if you have selected the device type as CD-ROM.You can select either SCSI, IDE, or SATA if you have selected the device type as Disk.Enter the disk size of the vDisk in GiB.From the Location field, select the VM datastore to store the disk details.Note: You can also edit the disk size and disk mode. However, decreasing the disk size of a saved configuration is not allowed.You can delete a saved disk. However, you cannot add and delete the disks simultaneously.Under the Network Adapter section, use the + icon to add a network card and configure the following. From the Adapter Typefield, select the network adapter. For more information, see the VMware Documentation.From the Networks field, select the network.If you are updating the Network Adapter section, you can only change the Networks field. Do one of the following.To save the edited application, click Update.To go back to the previous screen, click Cancel.The edited application is saved in the Application  tab.Updating the VM Configuration of an Application on an AWS PlatformYou can edit and update the properties of an application like VM configuration, controllers, disks, or network adapters running on an AWS platform. Perform the following procedure to edit an application running on an AWS platform.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to edit.From the Update drop-down menu, select Update VM Configuration or under the Manage tab, click Update VM Configuration.The Update screen is displayed.Under the Network and Security section, you can update the instance type from the Instance Type drop-down menu.The Availability Zone, Machine Image, Region, Key Pairs, and VPC fields are automatically selected and you can not update these fields.To update the IAM role, select the role from the IAM Role drop-down menu.To enable the security group rule, select the Include Classic Security Group check-box.From the Security Groups  drop-down menu, select security groups.To add tags to the application, add the key and value pair in the Key and Value fields respectively.To update the storage of the application, enter the memory in GB in the Size(GiB) field.To change the volume type of the storage device, select the type from the Volume Type drop-down menu.Do one of the following.To save the edited application, click Update.To go back to the previous screen, click Cancel.The edited application is saved in the Application  tab.Updating Actions and Credentials of an ApplicationYou can add or update the credential, custom actions, post delete tasks, package uninstall tasks of an application from the Overview tab of an application. Perform the following procedure to update actions and credentials of an application.About this taskNote: For this release, support for credential or action update is not available for the applications running on Xi cloud. Dynamic variables are runtime editable by default, but you cannot mark variable as runtime editable if you add the variables while updating an application. ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application for which you want to update the credential or actions.From the Update drop-down menu, select Update Actions and Credentials.The Update screen is displayed.In the Credentials and Connection area, click Edit.The Credentials and Connection page is displayed.To add a credential, click Add Credential and do the following.In the Add Credential window, enter name of the credential in the Credential Name.Enter user name in the Username field.Select the secret type from the Secret Type drop-down menu.You can either select password or SSH private key.Do one of the following.If you have selected password, enter the password in the Password field.If you have selected SSH Private Key, enter or upload the SSH private key in the SSH Private Key field.Optionally, if the private key is password protected, click +Add Passphrase to provide the password.To delete an existing credential, click Delete against the credential.Note: You can also update the user name or password of an existing credential. However, if you have logged on as an operator, you can only update the password.Under Connection, to update the credential and check the logon status after creating the application, select the credential from the Credentials drop-down menu.You can update the credential to check the logon status only if you have enabled the Check log-in upon create field while configuring the blueprint.Optionally, to add a post delete task for the application, in the Post Deletearea, click Edit. For more information see Creating Post-delete Task.Optionally, to create a task to uninstall a package, click Edit next to the Package area and do the following.Click + Task.Enter the task name in the Task Name field.To create the type of task, select the type from the Type drop-down menu.The available options are:Execute: To create the Execute task type, see Creating an Execute Task.Set Variable: To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: To create the HTTP Task type, see Creating an HTTP Task.Delay : To create the Delay task type, see Creating a Delay Task.To add variables to the post delete task, click the  Package Uninstall Variables tab.In the Variables pane, click the + icon to add variable typesIn the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are automatically filled.Select the Secret check-box if you want to hide the value of the variable. To save the package uninstall task, click Done.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.You can delete a task only while adding a new task. If you are updating the existing task, you cannot delete the task.Optionally, to add another action to the application, click + Add Action next to the Actions area and do the following.Click + Add Task.The task inspector panel is displayed.In the task inspector panel, click the Task button.Enter the task name in the Task Name field.Select the type of tasks from the Type drop-down menu.The available options are:Execute: Use this task type to run eScripts on the VM. To create the Execute task type, see Creating an Execute Task.Set Variable: Use this task to change variables in a blueprint. To create the Set Variable task type, see Creating a Set Variable Task.HTTP Task: Use this task type to query REST calls from a URL. An HTTP task supports GET, PUT, POST, and DELETE methods. To create the HTTP Task type, see Creating an HTTP Task.Delay : Use this task type to set a time interval between two tasks or actions. To create the Delay task type, see Creating a Delay Task.The task is created.To add another task, click Add Task in the task editor area.To establish a connection between tasks, click Add Connector and use the arrow to create connection between tasks.To delete a task, click the Delete button next to the task.To add variables to the task, click the Variables tab.In the Variables pane, click the + icon to add variable types in your blueprint.In the Name field, enter a name for the variable.From the Data Types drop-down list, select one of the base type variable or import a custom library variable type.If you have selected a base type variable, configure all the variable parameters. For more information about configuring variable parameters, see Creating Variable Types.If you have imported a custom variable type, all the variable parameters are auto filled.Select the Secret check-box if you want to hide the value of the variable. To save the task, click Done.To save the updated credentials and tasks for the application, click Update.Deleting an ApplicationYou can delete the unwanted applications from the Applications tab. Perform the following procedure to delete an application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Select the check-box against the application that you want to delete.The Action drop-down menu is displayed at the top of the Application page.Select Delete from the Action drop-down menu.Delete Application window is displayed.Click Confirm.The application is deleted from the Application tab.Executing User Level ActionsYou can define and create custom or user-level actions while configuring a blueprint. Perform the following procedure to run the user-level actions.Before you beginEnsure that you have created a custom action during configuring a blueprint.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to run a user-level action.The Overview tab is displayed.Under the Manage tab, click the action that is created by the user.The custom action starts running for the application.Executing System Level ActionsSystem-level actions are pre-defined actions that you can run on an application. Perform the following procedure to execute the system-level actions.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the application that you want to execute a system generated action.The Overview tab is displayed.Under the Manage tab, click one of the following type of action. Create: Creates an application but cannot be performed once the blueprint is created.Start: Starts an application.Restart: Restarts an application.Stop: Stops an application.Delete: Deletes an application including the underlying VMs on the provider side.Soft Delete: Deletes the application from the Nutanix Calm environment but does not delete the VMs on the provider side.Install NGT Apps: Installs NGT services for your application. To install NGT, see Installing NGT Apps.Manage NGT Apps: Manages NGT services for your application . You can enable or disable app-consistent and crash-consistent snapshots. For more information, see Managing NGT Apps.Uninstall NGT Apps: Uninstalls NGT services from the VM. For more information, see Uninstalling NGT Apps.", "Heading_Keywords": ["applic", "tab", "usag"]}, {"Heading": "Brownfield Applications Tab Usage", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-brownfield-applications-tab-usage-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Brownfield applications are created to manage existing VMs that are currently not managed by Nutanix Calm. The Brownfield Applications page provides the following details about the draft brownfield applications.Name of the application.State of an application whether the application is in a running or in an error state.The count of the application.Time duration when was the application created.Last update of an Application.The associated projects name.You can create and launch a brownfield application blueprint from the blueprints tab. You need administrator privilege to create a brownfield application. For information about how to create brownfield application, see Creating Brownfield Application.Figure. Brownfield Applications TabClick to enlargeNote: Brownfield applications do not support to take a snapshot.Creating Brownfield ApplicationBrownfield applications are created to manage existing VMs that are currently not managed by Nutanix Calm. Perform the following procedure to create brownfield application.Launching Brownfield ApplicationYou must launch the configured brownfield applications to be managed by Nutranix Calm. Perform the following procedure to launch a brownfield application.Creating Brownfield ApplicationBrownfield applications are created to manage existing VMs that are currently not managed by Nutanix Calm. Perform the following procedure to create brownfield application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the Brownfield Applications tab.The Brownfield Application page is displayed.Click + Create Brownfield Application.The Brownfield Import window is displayed.Enter the blueprint application name in the Name field. Optionally, enter a description about the application in the Description field.Select a project from the Project drop-down menu.Click Proceed.The brownfield application editor page is displayed.To add a service, click + against the service.Enter the service name in the Service Name field.Select one of the following type of deployment.Greenfield: Select this option if all the existing VMs are manged by Nutanix.Brownfield: Select this option if the existing VMs are currently not managed by Nutanix.If you have selected Brownfield, then do the following.Select the VMs from the Select Machines drop-down menu.Select Add New Credential  from the Credential drop-down menu.Note: Ensure that the credential is same for all the VMs.Enter the credential name in the Credential Name field.Enter the user name in the Username field. Do one of the following.Select password from the Secret field and enter password in the Password field.Select key from the Secret field and enter or upload the key in the Key  field.Click Done.If you have selected Greenfield, then configure the VM, package, and service. To configure VM, package, and service refer to Configuring Multi-VM, Package, and Service.Click Save.The brownfield application is created and listed under the Brownfield Application list.What to do nextLaunch the brownfield application from the Applications tab. For more information, see Launching Brownfield Application.Launching Brownfield ApplicationYou must launch the configured brownfield applications to be managed by Nutranix Calm. Perform the following procedure to launch a brownfield application.Before you beginEnsure that you have created the brownfield applications. For more information, see Creating Brownfield Application.ProcedureClick the Applications iconon the left pane.The Applications page is displayed.Click the Brownfield Applications tab.The Brownfield Application page is displayed.Click the brownfield application that you want to launch.The blueprint details page is displayed.Click Launch.The brownfield application page is displayed and the application is listed under the Applications tab.", "Heading_Keywords": ["brownfield", "applic", "tab", "usag"]}, {"Heading": "Library Usage", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-task-library-usage-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The Library tab lists all the published user-defined tasks and the created variable types to be used across multiple blueprints. Under the Library page, the Tasks tab provides the following details about a task.Task nameTask typeTask ownerCreated onLast updated onUnder the Library page, users can create custom variable types for added flexibility and utility. Beyond just string and integer data types, users can now create other data types such as Date/Time, list and multi-line string. List values can be defined as a static list of values or attach a script, for example, eScripts or HTTP tasks, to retrieve the values dynamically at runtime. To create a variable type, see Creating Variable Types.Figure.  LibraryClick to enlargeOperations Using Library TabFollowing are the operations, you can perform by using the Library tab.Creating Variable TypesPerform the following procedure to create variable types so that you can use these types of variables during blueprint creation. You can also share the created variable types across multiple projects.Deleting a Task from the Task LibraryYou can delete unwanted tasks from the Library. The deleted tasks can no longer be used in any project while configuring a blueprint. Perform the following procedure to delete a task from the task library.Adding Projects to a TaskYou can add tasks to a project so that you can use the tasks while configuring blueprints for the selected project. Perform the following procedure to add a project to a task from the library.Creating Variable TypesPerform the following procedure to create variable types so that you can use these types of variables during blueprint creation. You can also share the created variable types across multiple projects.ProcedureClick the Library iconon the left pane.Click the Variable Types tab.Under Variable Types page, click + Add Variable Types .The Create Variable Type  screen appears.From the Projects drop-down menu, select the project and click Done.Note: While creating a custom variable type, you must select a project. However, you can share the variable types with multiple other projects using Share option as explained in step 17 and 18.All the users of the same project can use the variable types while creating a blueprint.In the Name field, enter a name for the variable type.In the Description field, enter a brief description about the variable type.From the Select Base Type drop-down menu, select the base type for the variables. The base type defines the type of variable used while configuring a blueprint. You can select one of the following types of variable. StringIntegerListMulti-line stringDateTimeDate TimeIf you want to test the Regex values, click the Add Regex Validation check-box and then click Test Regex.Note: You can enter Regex values in PCRE format. For more details, see from http://pcre.org/.Test Regex screen appears.Provide the value for the Regex in the Value  field.To test the Regex expression, click Test Regex.Optionally, if you want to hide the value of the variables, select the Secret check-box.Select one of the following options for the variable value.PREDEFINED: Use this option to assign static values.ESCRIPT: Use this option to attach a script that is run to retrieve values dynamically at runtime. Script can return single or multiple values depending on the selected base data type.HTTP: Use this option to retrieve values dynamically from the defined HTTP end point. Result is processed and assigned to the variable based on the selected base data type.If you have selected the variable value type as PREDEFINED, enter the value for the variable in the Value field.To add multiple values for the variable, click + Add Option and enter values in the Option field. This field is only applicable for PREDEFINED values.Note: If you want to make any value as default, click Default against the value.If you have selected the variable value type as ESCRIPT, enter the eScript in the field.You can also upload the script from the library or from the computer by clicking the upload icon.You can also publish the script to the library by clicking the publish button.Note: You cannot add macros to eScripts.If you have selected Multiple Input (Array) checkbox with input type as eScript, then ensure that the script returns a list of values separated by comma. For example, CentOS, Ubuntu, Windows.If you have selected the variable type as HTTP, configure the following fields.Request URL: In the Request URL field, enter the URL of the server that you want to run the methods on.Request Method: In the Request Method drop-down menu, select one of the following request methods. The available options are GET, PUT, POST, and DELETE.Request Body: In the Request Body field, enter the PUT request. You can also upload the PUT request by clicking the upload icon.Content Type: In the Content Type drop-down menu, select the type of the output format. The available options are XML , JSON, and HTML.Connection Timeout (sec): In the Connection Timeout (sec) field, enter the timeout interval in seconds.Authentication: Optionally, if you have selected authentication type as BASIC, enter the user name and the password in the User name and Password fields respectively.SSL Certificate Verification: If you want to verify SSL certificate for the task, click the SSL Cerificate Verification field.Retry Count: Enter the number of attempts the system performs to create a task after each failure. By default, the retry count is zero. It implies that the task creation procedure stops after the first attempt.Retry Interval: Enter the time interval in seconds for each retry if the task fails.Headers: In the Header area, enter the HTTP header key and value in the Key and Value fields respectively. If you want to publish the HTTP header key and value pair as secret, click the Secrets fields.Response Code: Enter the response code for the selected response status.Response Status: Select either Success or Failure as the response status for the task.Set Response Path for Variable: Enter the variables from the specified response path. The example of json format is $.x.y and xml format is //x/y. For example, if the response path for variable is $.[*].display for response.[\n    {\n        \"display\": \"HTML Tutorial\",\n        \"url\": \"https://www.w3schools.com/html/default.asp\"\n    },\n    {\n        \"display\": \"CSS Tutorial\",\n        \"url\": \"https://www.w3schools.com/css/default.asp\"\n    },\n    {\n        \"display\": \"JavaScript Tutorial\",\n        \"url\": \"https://www.w3schools.com/js/default.asp\"\n    },\n    {\n        \"display\": \"jQuery Tutorial\",\n        \"url\": \"https://www.w3schools.com/jquery/default.asp\"\n    },\n    {\n        \"display\": \"SQL Tutorial\",\n        \"url\": \"https://www.w3schools.com/sql/default.asp\"\n    },\n    {\n        \"display\": \"PHP Tutorial\",\n        \"url\": \"https://www.w3schools.com/php/default.asp\"\n    },\n    {\n        \"display\": \"XML Tutorial\",\n        \"url\": \"https://www.w3schools.com/xml/default.asp\"\n    }\n]Then, during the launch time the drop-down options are [\"HTML Tutorial\",\"CSS Tutorial\",\"JavaScript Tutorial\",\"jQuery Tutorial\",\"SQL Tutorial\",\"PHP Tutorial\",\"XML Tutorial\"].Click Save.The Variable is saved to the Library.Optionally, if you want to share the variable type with other projects, click Share.The Share Variable Type screen appears.To share the saved variable with other projects, from the Select projects to share with drop-down menu, select the projects and click Done.What to do nextUse this variable type while define variables in a blueprint. For more details, see Blueprints Usage.Deleting a Task from the Task LibraryYou can delete unwanted tasks from the Library. The deleted tasks can no longer be used in any project while configuring a blueprint. Perform the following procedure to delete a task from the task library.ProcedureClick the Library iconon the left pane.The Tasks tab displays the list of all the published tasks.Select the task you want to delete.The task inspector panel appears.Click Delete.The task is deleted from the Library.Adding Projects to a TaskYou can add tasks to a project so that you can use the tasks while configuring blueprints for the selected project. Perform the following procedure to add a project to a task from the library.ProcedureClick the Library iconon the left pane.The Tasks tab displays the list of all the published tasks.Select the task that you want to assign to a project.The task inspector panel appears.Select project from the Project drop-down menu.Click Save.The task is added to the project.", "Heading_Keywords": ["librari", "usag"]}, {"Heading": "Creating Variable Types", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-creating-variable-types.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Perform the following procedure to create variable types so that you can use these types of variables during blueprint creation. You can also share the created variable types across multiple projects.ProcedureClick the Library iconon the left pane.Click the Variable Types tab.Under Variable Types page, click + Add Variable Types .The Create Variable Type  screen appears.From the Projects drop-down menu, select the project and click Done.Note: While creating a custom variable type, you must select a project. However, you can share the variable types with multiple other projects using Share option as explained in step 17 and 18.All the users of the same project can use the variable types while creating a blueprint.In the Name field, enter a name for the variable type.In the Description field, enter a brief description about the variable type.From the Select Base Type drop-down menu, select the base type for the variables. The base type defines the type of variable used while configuring a blueprint. You can select one of the following types of variable. StringIntegerListMulti-line stringDateTimeDate TimeIf you want to test the Regex values, click the Add Regex Validation check-box and then click Test Regex.Note: You can enter Regex values in PCRE format. For more details, see from http://pcre.org/.Test Regex screen appears.Provide the value for the Regex in the Value  field.To test the Regex expression, click Test Regex.Optionally, if you want to hide the value of the variables, select the Secret check-box.Select one of the following options for the variable value.PREDEFINED: Use this option to assign static values.ESCRIPT: Use this option to attach a script that is run to retrieve values dynamically at runtime. Script can return single or multiple values depending on the selected base data type.HTTP: Use this option to retrieve values dynamically from the defined HTTP end point. Result is processed and assigned to the variable based on the selected base data type.If you have selected the variable value type as PREDEFINED, enter the value for the variable in the Value field.To add multiple values for the variable, click + Add Option and enter values in the Option field. This field is only applicable for PREDEFINED values.Note: If you want to make any value as default, click Default against the value.If you have selected the variable value type as ESCRIPT, enter the eScript in the field.You can also upload the script from the library or from the computer by clicking the upload icon.You can also publish the script to the library by clicking the publish button.Note: You cannot add macros to eScripts.If you have selected Multiple Input (Array) checkbox with input type as eScript, then ensure that the script returns a list of values separated by comma. For example, CentOS, Ubuntu, Windows.If you have selected the variable type as HTTP, configure the following fields.Request URL: In the Request URL field, enter the URL of the server that you want to run the methods on.Request Method: In the Request Method drop-down menu, select one of the following request methods. The available options are GET, PUT, POST, and DELETE.Request Body: In the Request Body field, enter the PUT request. You can also upload the PUT request by clicking the upload icon.Content Type: In the Content Type drop-down menu, select the type of the output format. The available options are XML , JSON, and HTML.Connection Timeout (sec): In the Connection Timeout (sec) field, enter the timeout interval in seconds.Authentication: Optionally, if you have selected authentication type as BASIC, enter the user name and the password in the User name and Password fields respectively.SSL Certificate Verification: If you want to verify SSL certificate for the task, click the SSL Cerificate Verification field.Retry Count: Enter the number of attempts the system performs to create a task after each failure. By default, the retry count is zero. It implies that the task creation procedure stops after the first attempt.Retry Interval: Enter the time interval in seconds for each retry if the task fails.Headers: In the Header area, enter the HTTP header key and value in the Key and Value fields respectively. If you want to publish the HTTP header key and value pair as secret, click the Secrets fields.Response Code: Enter the response code for the selected response status.Response Status: Select either Success or Failure as the response status for the task.Set Response Path for Variable: Enter the variables from the specified response path. The example of json format is $.x.y and xml format is //x/y. For example, if the response path for variable is $.[*].display for response.[\n    {\n        \"display\": \"HTML Tutorial\",\n        \"url\": \"https://www.w3schools.com/html/default.asp\"\n    },\n    {\n        \"display\": \"CSS Tutorial\",\n        \"url\": \"https://www.w3schools.com/css/default.asp\"\n    },\n    {\n        \"display\": \"JavaScript Tutorial\",\n        \"url\": \"https://www.w3schools.com/js/default.asp\"\n    },\n    {\n        \"display\": \"jQuery Tutorial\",\n        \"url\": \"https://www.w3schools.com/jquery/default.asp\"\n    },\n    {\n        \"display\": \"SQL Tutorial\",\n        \"url\": \"https://www.w3schools.com/sql/default.asp\"\n    },\n    {\n        \"display\": \"PHP Tutorial\",\n        \"url\": \"https://www.w3schools.com/php/default.asp\"\n    },\n    {\n        \"display\": \"XML Tutorial\",\n        \"url\": \"https://www.w3schools.com/xml/default.asp\"\n    }\n]Then, during the launch time the drop-down options are [\"HTML Tutorial\",\"CSS Tutorial\",\"JavaScript Tutorial\",\"jQuery Tutorial\",\"SQL Tutorial\",\"PHP Tutorial\",\"XML Tutorial\"].Click Save.The Variable is saved to the Library.Optionally, if you want to share the variable type with other projects, click Share.The Share Variable Type screen appears.To share the saved variable with other projects, from the Select projects to share with drop-down menu, select the projects and click Done.What to do nextUse this variable type while define variables in a blueprint. For more details, see Blueprints Usage.", "Heading_Keywords": ["creat", "variabl", "type"]}, {"Heading": "Deleting a Task from the Task Library", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-deleting-task-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You can delete unwanted tasks from the Library. The deleted tasks can no longer be used in any project while configuring a blueprint. Perform the following procedure to delete a task from the task library.ProcedureClick the Library iconon the left pane.The Tasks tab displays the list of all the published tasks.Select the task you want to delete.The task inspector panel appears.Click Delete.The task is deleted from the Library.", "Heading_Keywords": ["delet", "task", "task", "librari"]}, {"Heading": "Adding Projects to a Task", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-adding-projects-to-task-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "You can add tasks to a project so that you can use the tasks while configuring blueprints for the selected project. Perform the following procedure to add a project to a task from the library.ProcedureClick the Library iconon the left pane.The Tasks tab displays the list of all the published tasks.Select the task that you want to assign to a project.The task inspector panel appears.Select project from the Project drop-down menu.Click Save.The task is added to the project.", "Heading_Keywords": ["ad", "project", "task"]}, {"Heading": "Runbook Usage", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-runbook-usage-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Runbook is a framework to automate routine tasks and procedures which pan across multiple applications without the involvement of a blueprint or an application. For more information, see Runbooks Overview.After you click the Runbooks icon on the left pane, you can view the Runbooks and Execution History tabs. The following sections describe the detail usage of these tabs. Runbook Tab UsageThe Runbook tab displays the following details of all the available runbooks. Figure. RunbooksClick to enlargeTable 1. Runbook Field DescriptionFieldsDescriptionNameDisplays the name of the runbook.Project Displays the associated project with the runbook.StateDisplays whether the runbook is in active or inactive state.Execution HistoryDisplays the total number of executions of the runbook.Created ByDisplays the name of the runbook creator. Last Executed AtDisplays the time when the runbook was last executed.Last Updated AtDisplays the time when the runbook was last updated.You can also do the following actions in the Runbooks page.Create a new runbook. For more information, see Creating a Runbook.Search for a runbook by typing the name in the Search field. Upload a runbook from your local machine by clicking the Upload Runbook button. Delete a runbook. For more information, see Deleting a Runbook.Execution History Tab UsageThe Execution History tab displays the following details of all the runbooks executions.Figure. Execution HistoryClick to enlargeTable 2. Execution History Field DescriptionFieldsDescriptionNameDisplays a summary of the name, date, and time of the runbook that was executed.Runbook Name Displays the name of the runbook that was executed.Started AtDisplays the date and time of the runbook execution.Ended AtDisplays the date and time when the runbook execution was completed.Completed InDisplays the time duration for the runbook to complete the execution process. Executed ByDisplays the role who initiated the runbook execution.StateDisplays the following states of the runbook execution.Running: This status is displayed when the runbook execution is running.Success: This status is displayed after the runbook execution is successful.Error: This status is displayed after the runbook execution process encounters an error and the process is not successfully completed.Abort: This status is displayed if you have aborted the runbook execution process.You can search for a runbook by typing the name in the Search field. Creating a RunbookA runbook is a collection of tasks that you can define to run sequentially at different endpoints. Perform this procedure to create a runbook.Executing a RunbookPerform the following procedure to execute a runbook..Deleting a RunbookPerform the following procedure to delete a runbook.Creating a RunbookA runbook is a collection of tasks that you can define to run sequentially at different endpoints. Perform this procedure to create a runbook.ProcedureClick the Runbooks icon  on the left pane.Click Create Runbook.The Create Runbook page is displayed.In the Create Runbook page, do the following the respective fields.Name: Type a name for the runbook. Description: Type a brief description about the runbook.Project: From the Project drop-down menu, select a project that you want to add to the runbook. If you do not select any project, the default project is selected.Endpoint(Optional): Optionally, from the Endpoint drop-down menu, select a default endpoint. The default endpoint is used if no endpoint is selected at the task level. You can add an endpoint either in the Create Runbook page, or in the Editor tab, or in the Configuration tab.Click Proceed.The Editor  tab is displayed.In the Editor tab, click +Add Task and do the following.In the Task Name field, type a name for the task.From the Type drop-down menu, select the type of the task. You can select one of the following type of tasks.Execute: Use this task to run Shell, PowerShell, and eScript (custom python) scripts.Set Variable: Use this task to run a script and create variables.Delay: Use this task to set a delay interval between two tasks or actions.HTTP: Use this task type to do REST calls to an HTTP endpoint.While Loop: Use this task type to iterate over multiple tasks until the defined condition is met. Decision: Use this task type to define different flows/paths based on the exit condition.If you have selected the task type as Execute or Set Variable, do the following.In the Script Type drop-down menu, select one of the following type of script.ShellPowerShelleScriptFor shell, PowerShell, and eScript scripts, you can access the available list of macros by using @@{.Optionally, from the Endpoint drop-down menu, select an endpoint on which you want to run the task. You can also create an endpoint by selecting the Add New Endpoint option from the drop-down menu. For more information, see Creating an Endpoint.If no endpoint is selected, then the default endpoint for the runbook is used.Optionally, if you want to override the credential for the task, select an existing credential from the Credential drop-down menu.Note: The Credential field is not applicable if you have selected the script type as eScript. Optionally, if you want to create a new credential for the endpoint, select Add New Credential from the Credential drop-down menu, do the following in the indicated fields and click Done.Credential Name: Type a name for the credential in the Credential Name field. After the credential is saved, the new credential name is available for selection in the Credential drop-down menu.User Name: Type a user name in the User Name field.Secret Type: Select either Password or SSH Private Key  as the secret type.Password: If you have selected the secret type as Password, type the password.SSH Private Key : If you have selected the secret type as SSH Private Key, type or upload the SSH private key.In the Script panel, you can either enter or upload the script that you want to execute.If you want to test the script in Calm playground, click Test script.Nutanix Calm playground allows you to test a script by running and reviewing the output and making required changes.The Test Script page is displayed.Under the Authorization tab, enter the following fields.IP Address : Enter the IP address of the test machine.Port : Enter the port number of the test machine.Credential : Select the credential from the drop-down menu.User name : Enter a user name.Password : Enter a password.To save the details, click Done.Click Login and Test.The Test script page is displayed.You can also view your script in the Source Script field.Optionally, you can edit your script in the Source Script field.If you are using macros in your script, provide the variable values in the macro inspector panel and click Assign and Test.Click Test.The test result is displayed in the Output field.To go back to the previous screen, click Done.To publish this task to the task library, click Publish to Library.The task is published to the Library and you can browse and use the task while creating a runbook. If you have selected the task type as Delay, do the following.In the Sleep Interval field, enter the sleep time interval in seconds for the task.The delay task type is created. You can use the task type to set a delay interval between two tasks or actions.If you have selected the task type as HTTP, do the following.Optionally, select the endpoint where you want to execute the HTTP task from the Endpoint drop-down menu.In the Relative URL field, enter the URL of the server on which you want to run the methods.In the Request Method drop-down menu, select one of the following request methods.GET: Use this method to retrieve data from a specified resource.PUT: Use this method to send data to a server to update a resource. In the Request Body field, enter the PUT request. You can also upload the put request by clicking the upload icon.POST: Use this method to send data to a server to create a resource. In the Request Body field, enter the POST request. You can also upload the post request by clicking the upload icon.DELETE: Use this method to send data to a server to delete a resource. In the Request Body field, enter the DELETE request. You can also upload the delete request by clicking the upload icon. In the Content Type drop-down menu, select the type of the output format.The available options are XML , JSON, and HTML.In the Header area, enter the HTTP header key and value in the Key and Value fields respectively. If you want to publish the HTTP header key and value pair as secret, click the Secrets fields.In the Expected Response Options area, enter the details for the following fields:Response Status: Select either Success or Failure as the response status for the task.Response Code: Enter the response code for the selected response status.Note: If the response code is not defined, then by default all the 2xx response codes are marked as success and any other response codes are marked as failure.Set Variables from response: Enter the variables from the specified response path. The example of json format is $.x.y and xml format is //x/y. For more information about json path syntax, see http://jsonpath.com.Note: To retrieve the output format in HTML format, add a * in the syntax.If you want to test the script in the Calm playground, click Test script.Calm playground allows you to test a script by running and reviewing the output and making required changes.Click Test.The test result is displayed in the Output field.If you have selected the task type as While Loop, do the following in the indicated fields.Iterations: Type the number of times you want to iterate the task till the task meet a condition.Exit Condition: Select a condition after which the task iteration stops. The available options are as follows.Success: Select this option if you want to stop the task iteration after the status of the task is success.Failure: Select this option if you want stop the task iteration after the status of the task is failure.Don't care: Select this option if you want to continue the task iteration irrespective of the status of the task.Loop Variable: Enter a variable name that can be consumed to get the current iteration count in the children tasks of the while loop.If you have selected the task type as Decision, the task is further subdivided in to either a True or False condition. Repeat the steps from 7 to 12 for each condition.Optionally, if you want to add a credential, or variables, or an endpoint, click the Configuration tab.Optionally, to add a credential in the Configuration tab, click Add/Edit Credentials and do the following.If you want to use an existing credential, select the credential you want to use for the runbook.If you want to create a new credential for the runbook, click Add Credentials and do the following in the respective fields.Credential Name: Type a name for the credential in the Credential Name field.User Name: Type a user name in the User Name field.Secret Type: Select either Password or SSH Private Key  as the secret type.Password: If you have selected the secret type as Password, type the password.SSH Private Key : If you have selected the secret type as SSH Private Key, type or upload the SSH private key.Click Done.Note: The credential added in the Configuration tab overrides the credential added in the endpoint.Optionally, to add a credential in the Configuration tab, click Add/Edit Variable and do the following in the Variables page.If you want to use an existing variable, select the variable you want to use for the runbook.If you want to create a new variable, click Add Variable. For more information see, Creating Variable Types.Optionally, to add an endpoint, select the endpoint from the Endpoints drop-down menu.Note: The endpoint added in the Configuration tab supersedes the endpoint added in the Editor tab.Click SaveThe runbook is created and is available under the Runbooks tab.What to do nextYou can execute the runbook. For more information, see Executing a Runbook.Executing a RunbookPerform the following procedure to execute a runbook..Before you beginEnure that you have created a runbook.ProcedureClick the Runbooks icon  on the left pane.Click the runbook that you want to execute.Click Execute.The Execute Runbook page appears.Optionally, if you want to change the default endpoint for the execution, select an endpoint form the Endpoints drop-down menu.Optionally, if you want to update the added variable in the Runbook, click the respective variable field and edit the variable.Note: You can update the variable only if the variable is marked as runtime editable while adding the variable in the Runbook.Click Execute.The runbook execution starts and you are directed to the Runbook execution page. You can view all the executions in the Execution History tab. For more information, see Runbook Usage.Deleting a RunbookPerform the following procedure to delete a runbook.Before you beginYou must have the role of developer++.ProcedureClick the Runbooks icon  on the left pane.Click the runbook that you want to delete.From the Action drop-down menu, select Delete.The runbook is deleted from the runbook list.", "Heading_Keywords": ["runbook", "usag"]}, {"Heading": "Creating a Runbook", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-creating-a-runbook-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "A runbook is a collection of tasks that you can define to run sequentially at different endpoints. Perform this procedure to create a runbook.ProcedureClick the Runbooks icon  on the left pane.Click Create Runbook.The Create Runbook page is displayed.In the Create Runbook page, do the following the respective fields.Name: Type a name for the runbook. Description: Type a brief description about the runbook.Project: From the Project drop-down menu, select a project that you want to add to the runbook. If you do not select any project, the default project is selected.Endpoint(Optional): Optionally, from the Endpoint drop-down menu, select a default endpoint. The default endpoint is used if no endpoint is selected at the task level. You can add an endpoint either in the Create Runbook page, or in the Editor tab, or in the Configuration tab.Click Proceed.The Editor  tab is displayed.In the Editor tab, click +Add Task and do the following.In the Task Name field, type a name for the task.From the Type drop-down menu, select the type of the task. You can select one of the following type of tasks.Execute: Use this task to run Shell, PowerShell, and eScript (custom python) scripts.Set Variable: Use this task to run a script and create variables.Delay: Use this task to set a delay interval between two tasks or actions.HTTP: Use this task type to do REST calls to an HTTP endpoint.While Loop: Use this task type to iterate over multiple tasks until the defined condition is met. Decision: Use this task type to define different flows/paths based on the exit condition.If you have selected the task type as Execute or Set Variable, do the following.In the Script Type drop-down menu, select one of the following type of script.ShellPowerShelleScriptFor shell, PowerShell, and eScript scripts, you can access the available list of macros by using @@{.Optionally, from the Endpoint drop-down menu, select an endpoint on which you want to run the task. You can also create an endpoint by selecting the Add New Endpoint option from the drop-down menu. For more information, see Creating an Endpoint.If no endpoint is selected, then the default endpoint for the runbook is used.Optionally, if you want to override the credential for the task, select an existing credential from the Credential drop-down menu.Note: The Credential field is not applicable if you have selected the script type as eScript. Optionally, if you want to create a new credential for the endpoint, select Add New Credential from the Credential drop-down menu, do the following in the indicated fields and click Done.Credential Name: Type a name for the credential in the Credential Name field. After the credential is saved, the new credential name is available for selection in the Credential drop-down menu.User Name: Type a user name in the User Name field.Secret Type: Select either Password or SSH Private Key  as the secret type.Password: If you have selected the secret type as Password, type the password.SSH Private Key : If you have selected the secret type as SSH Private Key, type or upload the SSH private key.In the Script panel, you can either enter or upload the script that you want to execute.If you want to test the script in Calm playground, click Test script.Nutanix Calm playground allows you to test a script by running and reviewing the output and making required changes.The Test Script page is displayed.Under the Authorization tab, enter the following fields.IP Address : Enter the IP address of the test machine.Port : Enter the port number of the test machine.Credential : Select the credential from the drop-down menu.User name : Enter a user name.Password : Enter a password.To save the details, click Done.Click Login and Test.The Test script page is displayed.You can also view your script in the Source Script field.Optionally, you can edit your script in the Source Script field.If you are using macros in your script, provide the variable values in the macro inspector panel and click Assign and Test.Click Test.The test result is displayed in the Output field.To go back to the previous screen, click Done.To publish this task to the task library, click Publish to Library.The task is published to the Library and you can browse and use the task while creating a runbook. If you have selected the task type as Delay, do the following.In the Sleep Interval field, enter the sleep time interval in seconds for the task.The delay task type is created. You can use the task type to set a delay interval between two tasks or actions.If you have selected the task type as HTTP, do the following.Optionally, select the endpoint where you want to execute the HTTP task from the Endpoint drop-down menu.In the Relative URL field, enter the URL of the server on which you want to run the methods.In the Request Method drop-down menu, select one of the following request methods.GET: Use this method to retrieve data from a specified resource.PUT: Use this method to send data to a server to update a resource. In the Request Body field, enter the PUT request. You can also upload the put request by clicking the upload icon.POST: Use this method to send data to a server to create a resource. In the Request Body field, enter the POST request. You can also upload the post request by clicking the upload icon.DELETE: Use this method to send data to a server to delete a resource. In the Request Body field, enter the DELETE request. You can also upload the delete request by clicking the upload icon. In the Content Type drop-down menu, select the type of the output format.The available options are XML , JSON, and HTML.In the Header area, enter the HTTP header key and value in the Key and Value fields respectively. If you want to publish the HTTP header key and value pair as secret, click the Secrets fields.In the Expected Response Options area, enter the details for the following fields:Response Status: Select either Success or Failure as the response status for the task.Response Code: Enter the response code for the selected response status.Note: If the response code is not defined, then by default all the 2xx response codes are marked as success and any other response codes are marked as failure.Set Variables from response: Enter the variables from the specified response path. The example of json format is $.x.y and xml format is //x/y. For more information about json path syntax, see http://jsonpath.com.Note: To retrieve the output format in HTML format, add a * in the syntax.If you want to test the script in the Calm playground, click Test script.Calm playground allows you to test a script by running and reviewing the output and making required changes.Click Test.The test result is displayed in the Output field.If you have selected the task type as While Loop, do the following in the indicated fields.Iterations: Type the number of times you want to iterate the task till the task meet a condition.Exit Condition: Select a condition after which the task iteration stops. The available options are as follows.Success: Select this option if you want to stop the task iteration after the status of the task is success.Failure: Select this option if you want stop the task iteration after the status of the task is failure.Don't care: Select this option if you want to continue the task iteration irrespective of the status of the task.Loop Variable: Enter a variable name that can be consumed to get the current iteration count in the children tasks of the while loop.If you have selected the task type as Decision, the task is further subdivided in to either a True or False condition. Repeat the steps from 7 to 12 for each condition.Optionally, if you want to add a credential, or variables, or an endpoint, click the Configuration tab.Optionally, to add a credential in the Configuration tab, click Add/Edit Credentials and do the following.If you want to use an existing credential, select the credential you want to use for the runbook.If you want to create a new credential for the runbook, click Add Credentials and do the following in the respective fields.Credential Name: Type a name for the credential in the Credential Name field.User Name: Type a user name in the User Name field.Secret Type: Select either Password or SSH Private Key  as the secret type.Password: If you have selected the secret type as Password, type the password.SSH Private Key : If you have selected the secret type as SSH Private Key, type or upload the SSH private key.Click Done.Note: The credential added in the Configuration tab overrides the credential added in the endpoint.Optionally, to add a credential in the Configuration tab, click Add/Edit Variable and do the following in the Variables page.If you want to use an existing variable, select the variable you want to use for the runbook.If you want to create a new variable, click Add Variable. For more information see, Creating Variable Types.Optionally, to add an endpoint, select the endpoint from the Endpoints drop-down menu.Note: The endpoint added in the Configuration tab supersedes the endpoint added in the Editor tab.Click SaveThe runbook is created and is available under the Runbooks tab.What to do nextYou can execute the runbook. For more information, see Executing a Runbook.", "Heading_Keywords": ["creat", "runbook"]}, {"Heading": "Executing a Runbook", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-executing-a-runbook-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Perform the following procedure to execute a runbook..Before you beginEnure that you have created a runbook.ProcedureClick the Runbooks icon  on the left pane.Click the runbook that you want to execute.Click Execute.The Execute Runbook page appears.Optionally, if you want to change the default endpoint for the execution, select an endpoint form the Endpoints drop-down menu.Optionally, if you want to update the added variable in the Runbook, click the respective variable field and edit the variable.Note: You can update the variable only if the variable is marked as runtime editable while adding the variable in the Runbook.Click Execute.The runbook execution starts and you are directed to the Runbook execution page. You can view all the executions in the Execution History tab. For more information, see Runbook Usage.", "Heading_Keywords": ["execut", "runbook"]}, {"Heading": "Deleting a Runbook", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-deleting-a-runbook-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Perform the following procedure to delete a runbook.Before you beginYou must have the role of developer++.ProcedureClick the Runbooks icon  on the left pane.Click the runbook that you want to delete.From the Action drop-down menu, select Delete.The runbook is deleted from the runbook list.", "Heading_Keywords": ["delet", "runbook"]}, {"Heading": "Endpoints Usage", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-endpoints-usage-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Endpoints are the target resources where the defined tasks in a runbook are run. The endpoints are communicated by using IP addresses, host names, port tuple, and different protocol attributes. After you click the Endpoints icon on the left pane, the endpoints page displays the following details. Figure. EndpointsClick to enlargeTable 1. Endpoints Field DescriptionFieldsDescriptionNameDisplays the name of the endpoint.Type Displays the type of the endpoint. The endpoint is either a Linux machine, or a Windows machine, or an HTTP endpoint DescriptionDisplays the description of the endpoint.ProjectDisplays the associated project of the endpoint.Created ByDisplays the name of the endpoint creator. StateDisplays whether the endpoint is active or inactive.Last Updated AtDisplays the time when the endpoint was last updated.You can create an endpoint by clicking the Create Endpoint button. You can also upload an endpoint from your local machine by clicking the Upload Endpoint. Creating an EndpointEndpoints are the target resources where the defined tasks in a runbook are run. Perform the following procedure to create an endpoint.Deleting an EndpointPerform the following procedure to delete a runbook.Creating an EndpointEndpoints are the target resources where the defined tasks in a runbook are run. Perform the following procedure to create an endpoint.ProcedureClick the Endpoints icon  on the left pane.Click Create Endpoint.The Create Endpoint page is displayed.In the Create Endpoint page, do the following in the respective fields.Name: Type a name for the endpoint.Description: Enter a brief description about the endpoint.Project: From the Project drop-down list, select the project you want to add to the endpoint. If you have not selected any project, the default project is added.Type: Select the type of the endpoint. You can select either Windows, or Linux, or HTTP as the endpoint type.If you have selected Windows as the endpoint type, do the following in the respective fields.IP Address: Enter the IP address to access the endpoint device. Connection Type: By default, the connection type is Powershell for Windows and this field is non editable. Connection protocol: Select the connection protocol to access the endpoint. You can select either HTTP or HTTPS. Port: Type the port number to access the endpoint.If you have selected Linux as the endpoint type, do the following in the respective fields.IP Address: Enter the IP address to access the endpoint device. Connection Type: By default, the connection type is SSH for Linux and this field is non editable. Port: Type the port number to access the endpoint.Optionally, if you want to add a credential to access the endpoint, do the following under Credential.In the Username field, type a username for the endpoint credential.From the Secret Type drop-down, select either one of the following.Password: Select this option if you want to use a password based authentication method.SSH Private Key: Select this option if you want to use a SSH key based authentication methodIf you have selected Password as the secret type, enter the password in the respective field.If you have selected SSH Private Key as the secret type, enter or upload the SSH private key in the respective field.Optionally, to protect the private key with a password, click Add Passphrase to add the password.If you have selected HTTP as the endpoint type, do the following.In the Base URL field, enter the base URL of the HTTP endpoint. A base URL is the consistent part of the endpoint URL.Optionally, to verify the URL of the HTTP endpoint with a TLS certificate, click the Verify TLS Certificate check-box. Use this option to securely access the endpoint.In the Retry Count field, enter the number of attempts the system performs to create a task after each failure.By default, the retry count is zero. It implies that the task creation procedure stops after the first attempt.In the Retry Interval field, enter the time interval in seconds for each retry if the task fails.In the Connection Timeout field, enter the time interval in seconds after which the connection attempt to the endpoint stops.Optionally, to add a authentication method to connect to an HTTP endpoint, select Basic from the Type  field and do the following.In the Username field, type a username to authenticate the endpoint.In the Password field, type a password to authenticate the endpoint.By default, the authentication method to access an HTTP endpoint is None.Click Save.The endpoint is saved. You can view the endpoint in the Endpoints page.What to do nextYou can add the endpoint to a runbook. For more details, see Creating a Runbook.Deleting an EndpointPerform the following procedure to delete a runbook.Before you beginYou must have the role of developer++.ProcedureClick the Endpoints icon  on the left pane.Click the endpoint that you want to delete.From the Action drop-down menu, select Delete.The end is deleted from the endpoints list.", "Heading_Keywords": ["endpoint", "usag"]}, {"Heading": "Creating an Endpoint", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-creating-an-endpoint-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Endpoints are the target resources where the defined tasks in a runbook are run. Perform the following procedure to create an endpoint.ProcedureClick the Endpoints icon  on the left pane.Click Create Endpoint.The Create Endpoint page is displayed.In the Create Endpoint page, do the following in the respective fields.Name: Type a name for the endpoint.Description: Enter a brief description about the endpoint.Project: From the Project drop-down list, select the project you want to add to the endpoint. If you have not selected any project, the default project is added.Type: Select the type of the endpoint. You can select either Windows, or Linux, or HTTP as the endpoint type.If you have selected Windows as the endpoint type, do the following in the respective fields.IP Address: Enter the IP address to access the endpoint device. Connection Type: By default, the connection type is Powershell for Windows and this field is non editable. Connection protocol: Select the connection protocol to access the endpoint. You can select either HTTP or HTTPS. Port: Type the port number to access the endpoint.If you have selected Linux as the endpoint type, do the following in the respective fields.IP Address: Enter the IP address to access the endpoint device. Connection Type: By default, the connection type is SSH for Linux and this field is non editable. Port: Type the port number to access the endpoint.Optionally, if you want to add a credential to access the endpoint, do the following under Credential.In the Username field, type a username for the endpoint credential.From the Secret Type drop-down, select either one of the following.Password: Select this option if you want to use a password based authentication method.SSH Private Key: Select this option if you want to use a SSH key based authentication methodIf you have selected Password as the secret type, enter the password in the respective field.If you have selected SSH Private Key as the secret type, enter or upload the SSH private key in the respective field.Optionally, to protect the private key with a password, click Add Passphrase to add the password.If you have selected HTTP as the endpoint type, do the following.In the Base URL field, enter the base URL of the HTTP endpoint. A base URL is the consistent part of the endpoint URL.Optionally, to verify the URL of the HTTP endpoint with a TLS certificate, click the Verify TLS Certificate check-box. Use this option to securely access the endpoint.In the Retry Count field, enter the number of attempts the system performs to create a task after each failure.By default, the retry count is zero. It implies that the task creation procedure stops after the first attempt.In the Retry Interval field, enter the time interval in seconds for each retry if the task fails.In the Connection Timeout field, enter the time interval in seconds after which the connection attempt to the endpoint stops.Optionally, to add a authentication method to connect to an HTTP endpoint, select Basic from the Type  field and do the following.In the Username field, type a username to authenticate the endpoint.In the Password field, type a password to authenticate the endpoint.By default, the authentication method to access an HTTP endpoint is None.Click Save.The endpoint is saved. You can view the endpoint in the Endpoints page.What to do nextYou can add the endpoint to a runbook. For more details, see Creating a Runbook.", "Heading_Keywords": ["creat", "endpoint"]}, {"Heading": "Deleting an Endpoint", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-deleting-an-endpoint-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Perform the following procedure to delete a runbook.Before you beginYou must have the role of developer++.ProcedureClick the Endpoints icon  on the left pane.Click the endpoint that you want to delete.From the Action drop-down menu, select Delete.The end is deleted from the endpoints list.", "Heading_Keywords": ["delet", "endpoint"]}, {"Heading": "Taking Backup and Restoring Calm Data", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-taking-backup-and-restoring-calm-data-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Calm allows you to take a backup of the entire Calm data to a specified location in your machine and restore the data to a new PC in case of PC failure. Perform the following procedure to take backup and restore Calm data.ProcedureLog on to the Calm container by using the SSH session and the run the following command.docker exec -it nucalm bashThe Calm data binary is available in the /home/calm/bin folder.In the SSH terminal, change the directory to the Calm container by running the following command. # cd /home/calm/binCreate a folders to store the backed up data.To take a backup of the Calm data, run the following command. # calmdata backup --dump-folder <folder>The default folder is located in /tmp/default path. Replace folder with the new folder.Note: Ensure that the directory created is empty and the backup directory has only calmdata tar file dumpTo restore the backed up Calm data, log onto the new Prism Central with the session and run the following command.# calmdata restore --dump-folder <folder> The default folder is located in /tmp/default path. Replace folder with the new folder.Note: Applications, blueprints, or projects which have been provisioned on the local Prism Element through the Prism Central might not work properly.", "Heading_Keywords": ["take", "backup", "restor", "calm", "data"]}, {"Heading": "Nutanix Calm Sample Scripts", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nutanix-calm-sample-scripts.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "This section provides sample scripts used in Nutanix Calm. Sample ScriptsSupported eScript Modules and FunctionsSample Powershell ScriptFollowing is a sample powershell  script.Sample Auto Logon and First Logon ScriptsSample Guest Customization Scripts for VMware and GCP ServicesSample ScriptsThis section provides sample scripts for installing and uninstalling services.Note: The following sample scripts are applicable for CentOS Linux only. For any other Linux distributions, you must customize the scripts.Load Balancer InstallationLoad Balancer UninstallationWeb-Application InstallationWeb-Application UninstallationDatabase InstallationDatabase UninstallationConfiguring Non-Managed AHV NetworkFollowing sections provide the sample scripts of Cloudinit  and SysPrep to configure static IP address range for non-managed AHV network.Load Balancer InstallationUse the following install script to install load balancer service.#!/bin/bash\nset -ex\n\nyum update -y\nyum install -y haproxy\n\n#!/bin/bash\nset -ex\necho \"global\n  log 127.0.0.1 local0\n  log 127.0.0.1 local1 notice\n  maxconn 4096\n  quiet\n  user haproxy\n  group haproxy\n\ndefaults\n  log     global\n  mode    http\n  retries 3\n  timeout client 50s\n  timeout connect 5s\n  timeout server 50s\n  option dontlognull\n  option httplog\n  option redispatch\n  balance  roundrobin\n\n# Set up application listeners here.\n\nlisten admin\n  bind 127.0.0.1:22002\n  mode http\n  stats uri /\n\n\nfrontend http\n  maxconn 2000\n  bind 0.0.0.0:80\n  default_backend servers-http\n\n\nbackend servers-http\" | tee /etc/haproxy/haproxy.cfg\n\nhosts=$(echo \"@@{App01Service.address}@@,@@{App02Service.address}@@\" | tr \",\" \"\\n\")\n\nport=80\nfor host in $hosts\ndo\n   echo \"  server host-${host} ${host}:${port} weight 1 maxconn 100 check\" | tee -a /etc/haproxy/haproxy.cfg\ndone\n\nsystemctl daemon-reload\nsystemctl restart haproxy\n\nfirewall-cmd --add-service=http --zone=public --permanent\nfirewall-cmd --reloadLoad Balancer UninstallationUse the following uninstall script to uninstall the load balancer service.yum -y erase haproxyWeb-Application InstallationUse the following install script to install web-application service.#!/bin/bash\nyum update -y\n\nrpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm\n\n\nyum install -y nginx php56w-fpm php56w-cli php56w-mcrypt php56w-mysql php56w-mbstring php56w-dom git\nmkdir -p /var/www/laravel\n\necho \"server {\n        listen   80 default_server;\n        listen [::]:80 default_server ipv6only=on;\n\n        root /var/www/laravel/public/;\n        index index.php index.html index.htm;\n\n        location / {\n             try_files \\$uri \\$uri/ /index.php?\\$query_string;\n        }\n\n        # pass the PHP scripts to FastCGI server listening on /var/run/php5-fpm.sock\n        location ~ \\.php$ {\n                try_files \\$uri /index.php =404;\n                fastcgi_split_path_info ^(.+\\.php)(/.+)\\$;\n                fastcgi_pass 127.0.0.1:9000;\n                fastcgi_index index.php;\n                fastcgi_param SCRIPT_FILENAME \\$document_root\\$fastcgi_script_name;\n                include fastcgi_params;\n        }\n}\" | tee /etc/nginx/conf.d/laravel.conf\nsed -i 's/80 default_server/80/g' /etc/nginx/nginx.conf\nif `grep \"cgi.fix_pathinfo\" /etc/php.ini` ; then\n  sed -i 's/cgi.fix_pathinfo=1/cgi.fix_pathinfo=0/' /etc/php.ini\nelse\n  sed -i 's/;cgi.fix_pathinfo=1/cgi.fix_pathinfo=0/' /etc/php.ini\nfi\n#sudo php5enmod mcrypt\nsystemctl restart php-fpm\nsystemctl restart nginx\nif [ ! -e /usr/local/bin/composer ]\nthen\n  curl -sS https://getcomposer.org/installer | php\n  mv composer.phar /usr/local/bin/composer\n  chmod +x /usr/local/bin/composer\nfi\ngit clone https://github.com/ideadevice/quickstart-basic.git /var/www/laravel\nsed -i 's/DB_HOST=.*/DB_HOST=@@{DBService.address}@@/' /var/www/laravel/.env\n#if [ \"@@{calm_array_index}@@\" == \"0\" ]; then\nsudo su - -c \"cd /var/www/laravel; composer install ; php artisan migrate\"\n#fi\nchown -R nginx:nginx /var/www/laravel\nchmod -R 777 /var/www/laravel/\nsystemctl restart nginx\nfirewall-cmd --add-service=http --zone=public --permanent\nfirewall-cmd --reloadWeb-Application UninstallationUse the following uninstall script to uninstall the web-application service.rm -rf /var/www/laravel\nyum erase -y nginx Database InstallationUse the following install script to install database service.#!/bin/bash\nset -ex\n\nyum update -y\nplatform_version=`sed 's/^.\\+ release \\([.0-9]\\+\\).*/\\1/' /etc/redhat-release | cut -d. -f1`\n\nif [ $platform_version -eq 7 ];then\n  if [ \"@@{DBService.MYSQL_VERSION}@@\" == \"5.5\" ];then\n    mysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm\"\n  elif [ \"@@{DBService.MYSQL_VERSION}@@\" == \"5.6\" ];then\n  \nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\n  elif [ \"@@{DBService.MYSQL_VERSION}@@\" == \"5.7\" ];then\n    mysql_repo_package=\"https://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm\"\n  fi\nelse\n  echo \"Version Not supported\"\nfi\n\nyum install -y $mysql_repo_package\nyum update -y\n\nyum install -y mysql-community-server.x86_64\n\n/bin/systemctl start mysqld\n\n#Mysql secure installation\nmysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{DBService.MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\nfirewall-cmd --add-service=mysql --permanent\nfirewall-cmd --reload\n\nmysql -u root -p\"@@{DBService.MYSQL_PASSWORD}@@\"<<-EOF\nCREATE DATABASE homestead;\nGRANT ALL PRIVILEGES ON homestead.* TO 'homestead'@'%' identified by 'secret';\nFLUSH PRIVILEGES;\nEOFDatabase UninstallationUse the following uninstall script to uninstall database service.set -ex\nyum remove -y mysql-community-server.x86_64Configuring Non-Managed AHV NetworkFollowing sections provide the sample scripts of Cloudinit  and SysPrep to configure static IP address range for non-managed AHV network.Cloudinit Script for LinuxNote: You can assign static IP for non-managed network only if the disk image contains a network card set for static IP. If the NIC is configured for DHCP in disk image, you cannot assign static IP.#cloud-config\ncloud_config_modules: \n  - resolv_conf\n  - runcmd\nwrite_files:\n  - path: /etc/sysconfig/network-scripts/ifcfg-eth0\n    content: |\n      IPADDR=10.136.103.226\n      NETMASK=255.255.255.0\n      GATEWAY=10.136.103.1\n      BOOTPROTO=none\n      ONBOOT=yes\n      DEVICE=eth0\n\nruncmd:\n  - [ifdown, eth0]\n  - [ifup, eth0]\n  \nmanage_resolv_conf: true\nresolv_conf:\n  nameservers: ['8.8.4.4', '8.8.8.8']\n  searchdomains:\n    - foo.example.com\n    - bar.example.com\n  domain: example.com\n  options:\n    rotate: true\n    timeout: 1SysPrep Script for Windows<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <ComputerName>Windows2016</ComputerName>\n         <RegisteredOrganization>Nutanix</RegisteredOrganization>\n         <RegisteredOwner>Acropolis</RegisteredOwner>\n         <TimeZone>UTC</TimeZone>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-UnattendedJoin\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Identification>\n            <Credentials>\n               <Domain>contoso.com</Domain>\n               <Password>secret</Password>\n               <Username>Administrator</Username>\n            </Credentials>\n            <JoinDomain>contoso.com</JoinDomain>\n            <UnsecureJoin>false</UnsecureJoin>\n         </Identification>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">\n               <Identifier>Ethernet</Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>false</DhcpEnabled>\n                  <RouterDiscoveryEnabled>true</RouterDiscoveryEnabled>\n                  <Metric>30</Metric>\n               </Ipv4Settings>\n               <UnicastIpAddresses>\n                  <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">10.0.0.2/24</IpAddress>\n               </UnicastIpAddresses>\n               <Routes>\n                  <Route wcm:action=\"add\">\n                     <Identifier>10</Identifier>\n                     <Metric>20</Metric>\n                     <NextHopAddress>10.0.0.1</NextHopAddress>\n                     <Prefix>0.0.0.0/0</Prefix>\n                  </Route>\n               </Routes>\n            </Interface>\n         </Interfaces>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UseDomainNameDevolution>true</UseDomainNameDevolution>\n         <DNSDomain>contoso.com</DNSDomain>\n         <Interfaces>\n            <Interface wcm:action=\"add\">\n               <Identifier>Ethernet</Identifier>\n               <DNSDomain>contoso.com</DNSDomain>\n               <DNSServerSearchOrder>\n                  <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">10.0.0.254</IpAddress>\n               </DNSServerSearchOrder>\n               <EnableAdapterDomainNameRegistration>true</EnableAdapterDomainNameRegistration>\n               <DisableDynamicUpdate>true</DisableDynamicUpdate>\n            </Interface>\n         </Interfaces>\n      </component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false</fDenyTSConnections>\n      </component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0</UserAuthentication>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true</Active>\n               <Profile>all</Profile>\n               <Group>@FirewallAPI.dll,-28752</Group>\n            </FirewallGroup>\n         </FirewallGroups>\n      </component>\n   </settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>secret</Value>\n               <PlainText>true</PlainText>\n            </AdministratorPassword>\n         </UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>secret</Value>\n               <PlainText>true</PlainText>\n            </Password>\n            <Enabled>true</Enabled>\n            <Username>Administrator</Username>\n         </AutoLogon>\n         <FirstLogonCommands>\n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe /c netsh firewall add portopening TCP 5985 \"Port 5985\"</CommandLine>\n               <Description>Win RM port open</Description>\n               <Order>1</Order>\n               <RequiresUserInput>true</RequiresUserInput>\n            </SynchronousCommand>\n         </FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true</HideEULAPage>\n            <SkipMachineOOBE>true</SkipMachineOOBE>\n         </OOBE>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>en-US</InputLocale>\n         <SystemLocale>en-US</SystemLocale>\n         <UILanguageFallback>en-us</UILanguageFallback>\n         <UILanguage>en-US</UILanguage>\n         <UserLocale>en-US</UserLocale>\n      </component>\n   </settings>\n</unattend>Supported eScript Modules and FunctionsThe following eScript modules are supported.Table 1. Supported eScript ModulesModuleModule supported asdatetime _datetime re re difflib difflib base64 base64 pprint pprint pformat pformat simplejson jsonujson ujson yaml yaml Uuid uuid requestsrequestsboto3boto3azureazureThe example displays the usage of boto3 module.import boto3\nec2 = boto3.client('ec2', aws_access_key_id='{}', aws_secret_access_key='{}', region_name='us-east-1')\nprint ec2.describe_regions()The following example displays the usage of Azure module.# subscription_id macro contains your Azure Subscription ID\n# client_id macro contains your Client ID\n# tenant macro contains you Tenant ID\nfrom azure.common.credentials import ServicePrincipalCredentials\nfrom azure.mgmt.resource import ResourceManagementClient\ncredentials = ServicePrincipalCredentials(\n    client_id=@@{client_id}@@,\n    secret='secret',\n    tenant=@@{tenant}@@\n)\nclient = ResourceManagementClient(credentials, @@{subscription_id}@@)\nfor item in client.resource_groups.list():\n    print(item)The following eScript functions are supported.urlreq The API exposes REST interface as a set of objects. This action is implemented using python requests module.urlreq(url, verb='GET', auth=None, c=None, user=None, passwd=None, params=None,\nheaders=None, timeout=None, send_form_encoded_data=True, allow_redirects=True,\ncookies=None, verify=True, proxies=None)requests.Response object is returned.Table 2. ArgumentsArgumentsDescriptionurlstring, url to requestverbstring, verb is GET by default. POST, HEAD, PUT, PATCH, and DELETE are other valid entries.authstring (optional), BASIC and DIGEST are the valid entries.For authentication purpose, the order is as follows.username and password is authenticated by using user and passwd fields.username and password is authenticated by using name of credential supplied using c field.username and password is authenticated by using credential attached to the task.userstring (optional), username used for authentication.passwdstring (optional), password used for authentication.paramsdict (optional), if verb is GET, HEAD or DELETE, parameters are sent in the query string for the request otherwise they are sent in the body of the request.headersdict (optional), Dictionary of HTTP headers needs to be send along with the request.timeoutinteger (optional), you can configure requests to stop waiting for a response after a given number of seconds with the timeout parameter. timeout only elects the connection process itself, not the downloading of the response body.send_form_encoded_databoolean (optional), = True by default. If False, parameters dict is first dumped using simplejson.dumps() and then passed as a string.allow_redirectsboolean (optional), = True by default. Specifies whether redirects should be allowed or not.cookiesdict (optional), cookies dict to be sent along with the request.verifyboolean (optional), = True by default. Specifies whether SSL certificates should be verified or not.proxiesdict (optional), Dictionary mapping protocol to the URL of the proxyRules for authentication in order of priority.If they are not None, use user and passwd fields.If c is not None, authenticate username and password from the credential name supplied.If the above two criteria does not match, username and password are authenticated by using the credential attached to the task.For exampleparams = {'limit': 1}\nheaders = {'content-type': 'application/octet-stream'}\nr = urlreq(url, verb=\"GET\", auth=\"BASIC\", c='somecred', params=params, headers=headers)\nr = urlreq(url, verb=\"POST\", auth=\"BASIC\", user=\"user\", passwd=\"pass\", params=params)exit The exit function is an alias for sys.exit of python standard library.exit(exitcode)For exampleexit(0)sleep The sleep function is an alias for time.sleep.sleep(num_of_secs)For examplesleep(10)_construct_random_password The _construct_random_password API generates a random password and returns it._construct_random_password(lower, upper=None, numCaps=0, numLetters=0,\nnumDigits=0, numPuncs=0, startwith=None, caps=None, letters=None,\ndigits=None, puncs=None)Returns: StringTable 3. ArgumentsArgumentDescriptionlowerinteger, minimum number of characters in the password.upperinteger (optional), maximum number of characters in the password. If upper is not defined, then the password returned will always be as per lower, else the length can vary between lower and upper (both included).numCapsinteger (optional), minimum number of capital letters that must be there in password.numLettersinteger (optional), minimum number of letters that must be there in password.numDigitsinteger (optional), minimum number of digits that must be there in password.numPuncsinteger (optional), minimum number of punctuation alphabets that must be there in password.startwithstring (optional), password returned starts with one of the characters provided in startwith string.capsstring (optional), default = 'A-Z'. This can be overridden.lettersstring (optional), default = 'a-zA-Z'. This can be overridden.digitsstring (optional), default = '0-9'. This can be overridden.puncsstring (optional), default = '!@#$%^&'. This can be overridden.Note: numCaps + numLetters + numDigits + numPuncs + 1 (if startwith is defined) must not be greater than upper._is_bad_password The _is_bad_password function checks whether the password is correct or not. _is_bad_password(password, reserved, dictionary=True, numCaps=0, numPuncs=0, \\numDigits=0, minLen=5)For example _is_bad_password(\"Abcd@123\")_randomchoose The _randomchoose function is used to get a random character from a string._randomchoose(string)For example_randomchoose(\"adsadrer\")_shuffle The _shuffle function is used to shuffle the sequence._shuffle(sequence)For example_shuffle(a)get_sql_handleThe get_sql_handle function enables you to remotely connect and manage SQL Servers. It is implemented by using python pymssql module.get_sql_handle(server, username, password, database='', timeout=0, login_timeout=60, charset='UTF-8', as_dict=False, host='', appname=None, port='1433', conn_properties=None, autocommit=False, tds_version=None)Returns pymssql.Connection objectTable 4. ArgumentsArgumentDescriptionserver (str) database host user (str) database user to connect as password (str) user\u2019s passworddatabase (str)The database to initialize the connection with. By default SQL Server selects the database which is set as default for specific user timeout (int) query timeout in seconds, default 0 (no timeout)login_timeout (int)timeout for connection and login in seconds, default is 60 secondscharset (str)character set with which to connect to the databaseFor exampleusername=\"dbuser\"\n  password=\"myP@ssworD\"\n  server=\"10.10.10.10\"\n  port=\"1433\"\n  \n  cnxn = get_sql_handle(server, username, password, port=port, autocommit=True)\n  cursor = cnxn.cursor()\n  \n  # List all databases\n  cursor.execute(\"\"\"\n    SELECT Name from sys.Databases;\n  \"\"\")\n  for row in cursor:\n    print row[0]\n\n    cnxn.close()To refer to the video about supported eScripts, click here.EScript Sample ScriptThe following is a EScript sample script.JWT Usage Sample ScriptThe following is a sample jwt usage script.EScript Sample ScriptThe following is a EScript sample script.Note: Ensure that your script starts with  #script.#script\n\naccount_name = \"@@{ACCOUNT_NAME}@@\"\navaitrix_ip = \"@@{address}@@\"\nnew_test_password = \"@@{NEW_TEST_PASSWORD}@@\"\nvpc_name = \"Test\"\n\napi_url = 'https://{0}/v1/api'.format(avaitrix_ip)\n#print api_url\n\n\ndef setconfig(api_url, payload):\n  r = urlreq(api_url, verb='POST', auth=\"BASIC\", user='admin', passwd='passwd', params=payload, verify=False)\n  resp = json.loads(r.content)\n  if resp['return']:\n    return resp\n  else:\n    print \"Post request failed\", r.content\n    exit(1)\n\nprint \"Get the session ID for making API operations\"\npayload = {'action': 'login', 'username': 'admin', 'password': new_test_password}\napi_url1 = api_url + \"?action=login&username=admin&password=\"+ new_avaitrix_password\ncid = setconfig(api_url=api_url1, payload=payload)\ncid = cid['CID']\nprint cid\n\nprint \"Delete the gateway\"\npayload = {'CID': cid,\n  'action': 'delete_container',\n  'account_name': account_name,\n  'cloud_type': 1,\n  'gw_name': vpc_name\n  }\napi_url1 = api_url + \"?CID=\"+cid+\"&action=delete_container&account_name=\"+account_name+\"&cloud_type=1&gw_name=\"+vpc_name\nprint setconfig(api_url=api_url1,payload=payload)\n\nprint \"Delete the aws account\"\n\npayload = {'CID': cid,\n  'action': 'delete_account_profile',\n  'account_name': account_name\n  }\napi_url1 = api_url + \"?CID=\"+cid+\"&action=delete_account_profile&account_name=\"+account_name\nprint setconfig(api_url=api_url1,payload=payload)\nJWT Usage Sample ScriptThe following is a sample jwt usage script.Note: Ensure that your script starts with  #script.#script\njwt = '@@{calm_jwt}@@'\n\npayload = {}\napi_url = 'https://localhost:9440/api/nutanix/v3/apps/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\n    print resp\n    exit(0)\nelse:\n    print \"Post request failed\", r.content\n    exit(1)Sample Powershell ScriptFollowing is a sample powershell  script.Install-PackageProvider -Name NuGet -Force\nInstall-Module DockerMsftProvider -Force\nInstall-Package Docker -ProviderName DockerMsftProvider -ForceSample Auto Logon and First Logon ScriptsSample Auto Logon ScriptFollowing is the sample guest customization script for Azure service.<AutoLogon>\n  <Password>\n    <Value>@@{user.secret}@@</Value>\n    <PlainText>true</PlainText>\n  </Password>\n  <Enabled>true</Enabled>\n  <Username>@@{user.username}@@</Username>\n</AutoLogon> Sample First Logon ScriptFollowing is the sample guest customization script for Azure service.<FirstLogonCommands>\n    <SynchronousCommand>\n    <CommandLine>cmd.exe /c powershell -Command get-host</CommandLine>\n    <Order>1</Order>\n    </SynchronousCommand>\n</FirstLogonCommands>Sample Guest Customization Scripts for VMware and GCP ServicesFollowing is the sample guest customization script for VMware service.cmd.exe /c winrm quickconfig -q\ncmd.exe /c winrm set winrm/config/service/auth @{Basic=\"true\"}\npowershell -Command \"enable-psremoting -Force\"\npowershell -Command \"Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Force\"\nFollowing is the sample guest customization script for GCP service.#! /bin/bash\\napt-get update\\napt-get install -y apache2\\ncat <<EOF > /var/www/html/index.html\\n<html><body><h1>Hello World</h1>\\n<p>This page was created from a simple startup script!</p>\\n</body></html>\\nEOF", "Heading_Keywords": ["nutanix", "calm", "sampl", "script"]}, {"Heading": "Sample Scripts", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-blueprint-sample-scripts-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "This section provides sample scripts for installing and uninstalling services.Note: The following sample scripts are applicable for CentOS Linux only. For any other Linux distributions, you must customize the scripts.Load Balancer InstallationLoad Balancer UninstallationWeb-Application InstallationWeb-Application UninstallationDatabase InstallationDatabase UninstallationConfiguring Non-Managed AHV NetworkFollowing sections provide the sample scripts of Cloudinit  and SysPrep to configure static IP address range for non-managed AHV network.Load Balancer InstallationUse the following install script to install load balancer service.#!/bin/bash\nset -ex\n\nyum update -y\nyum install -y haproxy\n\n#!/bin/bash\nset -ex\necho \"global\n  log 127.0.0.1 local0\n  log 127.0.0.1 local1 notice\n  maxconn 4096\n  quiet\n  user haproxy\n  group haproxy\n\ndefaults\n  log     global\n  mode    http\n  retries 3\n  timeout client 50s\n  timeout connect 5s\n  timeout server 50s\n  option dontlognull\n  option httplog\n  option redispatch\n  balance  roundrobin\n\n# Set up application listeners here.\n\nlisten admin\n  bind 127.0.0.1:22002\n  mode http\n  stats uri /\n\n\nfrontend http\n  maxconn 2000\n  bind 0.0.0.0:80\n  default_backend servers-http\n\n\nbackend servers-http\" | tee /etc/haproxy/haproxy.cfg\n\nhosts=$(echo \"@@{App01Service.address}@@,@@{App02Service.address}@@\" | tr \",\" \"\\n\")\n\nport=80\nfor host in $hosts\ndo\n   echo \"  server host-${host} ${host}:${port} weight 1 maxconn 100 check\" | tee -a /etc/haproxy/haproxy.cfg\ndone\n\nsystemctl daemon-reload\nsystemctl restart haproxy\n\nfirewall-cmd --add-service=http --zone=public --permanent\nfirewall-cmd --reloadLoad Balancer UninstallationUse the following uninstall script to uninstall the load balancer service.yum -y erase haproxyWeb-Application InstallationUse the following install script to install web-application service.#!/bin/bash\nyum update -y\n\nrpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm\n\n\nyum install -y nginx php56w-fpm php56w-cli php56w-mcrypt php56w-mysql php56w-mbstring php56w-dom git\nmkdir -p /var/www/laravel\n\necho \"server {\n        listen   80 default_server;\n        listen [::]:80 default_server ipv6only=on;\n\n        root /var/www/laravel/public/;\n        index index.php index.html index.htm;\n\n        location / {\n             try_files \\$uri \\$uri/ /index.php?\\$query_string;\n        }\n\n        # pass the PHP scripts to FastCGI server listening on /var/run/php5-fpm.sock\n        location ~ \\.php$ {\n                try_files \\$uri /index.php =404;\n                fastcgi_split_path_info ^(.+\\.php)(/.+)\\$;\n                fastcgi_pass 127.0.0.1:9000;\n                fastcgi_index index.php;\n                fastcgi_param SCRIPT_FILENAME \\$document_root\\$fastcgi_script_name;\n                include fastcgi_params;\n        }\n}\" | tee /etc/nginx/conf.d/laravel.conf\nsed -i 's/80 default_server/80/g' /etc/nginx/nginx.conf\nif `grep \"cgi.fix_pathinfo\" /etc/php.ini` ; then\n  sed -i 's/cgi.fix_pathinfo=1/cgi.fix_pathinfo=0/' /etc/php.ini\nelse\n  sed -i 's/;cgi.fix_pathinfo=1/cgi.fix_pathinfo=0/' /etc/php.ini\nfi\n#sudo php5enmod mcrypt\nsystemctl restart php-fpm\nsystemctl restart nginx\nif [ ! -e /usr/local/bin/composer ]\nthen\n  curl -sS https://getcomposer.org/installer | php\n  mv composer.phar /usr/local/bin/composer\n  chmod +x /usr/local/bin/composer\nfi\ngit clone https://github.com/ideadevice/quickstart-basic.git /var/www/laravel\nsed -i 's/DB_HOST=.*/DB_HOST=@@{DBService.address}@@/' /var/www/laravel/.env\n#if [ \"@@{calm_array_index}@@\" == \"0\" ]; then\nsudo su - -c \"cd /var/www/laravel; composer install ; php artisan migrate\"\n#fi\nchown -R nginx:nginx /var/www/laravel\nchmod -R 777 /var/www/laravel/\nsystemctl restart nginx\nfirewall-cmd --add-service=http --zone=public --permanent\nfirewall-cmd --reloadWeb-Application UninstallationUse the following uninstall script to uninstall the web-application service.rm -rf /var/www/laravel\nyum erase -y nginx Database InstallationUse the following install script to install database service.#!/bin/bash\nset -ex\n\nyum update -y\nplatform_version=`sed 's/^.\\+ release \\([.0-9]\\+\\).*/\\1/' /etc/redhat-release | cut -d. -f1`\n\nif [ $platform_version -eq 7 ];then\n  if [ \"@@{DBService.MYSQL_VERSION}@@\" == \"5.5\" ];then\n    mysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm\"\n  elif [ \"@@{DBService.MYSQL_VERSION}@@\" == \"5.6\" ];then\n  \nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\n  elif [ \"@@{DBService.MYSQL_VERSION}@@\" == \"5.7\" ];then\n    mysql_repo_package=\"https://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm\"\n  fi\nelse\n  echo \"Version Not supported\"\nfi\n\nyum install -y $mysql_repo_package\nyum update -y\n\nyum install -y mysql-community-server.x86_64\n\n/bin/systemctl start mysqld\n\n#Mysql secure installation\nmysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{DBService.MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\nfirewall-cmd --add-service=mysql --permanent\nfirewall-cmd --reload\n\nmysql -u root -p\"@@{DBService.MYSQL_PASSWORD}@@\"<<-EOF\nCREATE DATABASE homestead;\nGRANT ALL PRIVILEGES ON homestead.* TO 'homestead'@'%' identified by 'secret';\nFLUSH PRIVILEGES;\nEOFDatabase UninstallationUse the following uninstall script to uninstall database service.set -ex\nyum remove -y mysql-community-server.x86_64Configuring Non-Managed AHV NetworkFollowing sections provide the sample scripts of Cloudinit  and SysPrep to configure static IP address range for non-managed AHV network.Cloudinit Script for LinuxNote: You can assign static IP for non-managed network only if the disk image contains a network card set for static IP. If the NIC is configured for DHCP in disk image, you cannot assign static IP.#cloud-config\ncloud_config_modules: \n  - resolv_conf\n  - runcmd\nwrite_files:\n  - path: /etc/sysconfig/network-scripts/ifcfg-eth0\n    content: |\n      IPADDR=10.136.103.226\n      NETMASK=255.255.255.0\n      GATEWAY=10.136.103.1\n      BOOTPROTO=none\n      ONBOOT=yes\n      DEVICE=eth0\n\nruncmd:\n  - [ifdown, eth0]\n  - [ifup, eth0]\n  \nmanage_resolv_conf: true\nresolv_conf:\n  nameservers: ['8.8.4.4', '8.8.8.8']\n  searchdomains:\n    - foo.example.com\n    - bar.example.com\n  domain: example.com\n  options:\n    rotate: true\n    timeout: 1SysPrep Script for Windows<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <ComputerName>Windows2016</ComputerName>\n         <RegisteredOrganization>Nutanix</RegisteredOrganization>\n         <RegisteredOwner>Acropolis</RegisteredOwner>\n         <TimeZone>UTC</TimeZone>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-UnattendedJoin\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Identification>\n            <Credentials>\n               <Domain>contoso.com</Domain>\n               <Password>secret</Password>\n               <Username>Administrator</Username>\n            </Credentials>\n            <JoinDomain>contoso.com</JoinDomain>\n            <UnsecureJoin>false</UnsecureJoin>\n         </Identification>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">\n               <Identifier>Ethernet</Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>false</DhcpEnabled>\n                  <RouterDiscoveryEnabled>true</RouterDiscoveryEnabled>\n                  <Metric>30</Metric>\n               </Ipv4Settings>\n               <UnicastIpAddresses>\n                  <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">10.0.0.2/24</IpAddress>\n               </UnicastIpAddresses>\n               <Routes>\n                  <Route wcm:action=\"add\">\n                     <Identifier>10</Identifier>\n                     <Metric>20</Metric>\n                     <NextHopAddress>10.0.0.1</NextHopAddress>\n                     <Prefix>0.0.0.0/0</Prefix>\n                  </Route>\n               </Routes>\n            </Interface>\n         </Interfaces>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UseDomainNameDevolution>true</UseDomainNameDevolution>\n         <DNSDomain>contoso.com</DNSDomain>\n         <Interfaces>\n            <Interface wcm:action=\"add\">\n               <Identifier>Ethernet</Identifier>\n               <DNSDomain>contoso.com</DNSDomain>\n               <DNSServerSearchOrder>\n                  <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">10.0.0.254</IpAddress>\n               </DNSServerSearchOrder>\n               <EnableAdapterDomainNameRegistration>true</EnableAdapterDomainNameRegistration>\n               <DisableDynamicUpdate>true</DisableDynamicUpdate>\n            </Interface>\n         </Interfaces>\n      </component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false</fDenyTSConnections>\n      </component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0</UserAuthentication>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true</Active>\n               <Profile>all</Profile>\n               <Group>@FirewallAPI.dll,-28752</Group>\n            </FirewallGroup>\n         </FirewallGroups>\n      </component>\n   </settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>secret</Value>\n               <PlainText>true</PlainText>\n            </AdministratorPassword>\n         </UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>secret</Value>\n               <PlainText>true</PlainText>\n            </Password>\n            <Enabled>true</Enabled>\n            <Username>Administrator</Username>\n         </AutoLogon>\n         <FirstLogonCommands>\n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe /c netsh firewall add portopening TCP 5985 \"Port 5985\"</CommandLine>\n               <Description>Win RM port open</Description>\n               <Order>1</Order>\n               <RequiresUserInput>true</RequiresUserInput>\n            </SynchronousCommand>\n         </FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true</HideEULAPage>\n            <SkipMachineOOBE>true</SkipMachineOOBE>\n         </OOBE>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>en-US</InputLocale>\n         <SystemLocale>en-US</SystemLocale>\n         <UILanguageFallback>en-us</UILanguageFallback>\n         <UILanguage>en-US</UILanguage>\n         <UserLocale>en-US</UserLocale>\n      </component>\n   </settings>\n</unattend>", "Heading_Keywords": ["sampl", "script"]}, {"Heading": "Load Balancer Installation", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-blueprint-service-load-balancer-install-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Use the following install script to install load balancer service.#!/bin/bash\nset -ex\n\nyum update -y\nyum install -y haproxy\n\n#!/bin/bash\nset -ex\necho \"global\n  log 127.0.0.1 local0\n  log 127.0.0.1 local1 notice\n  maxconn 4096\n  quiet\n  user haproxy\n  group haproxy\n\ndefaults\n  log     global\n  mode    http\n  retries 3\n  timeout client 50s\n  timeout connect 5s\n  timeout server 50s\n  option dontlognull\n  option httplog\n  option redispatch\n  balance  roundrobin\n\n# Set up application listeners here.\n\nlisten admin\n  bind 127.0.0.1:22002\n  mode http\n  stats uri /\n\n\nfrontend http\n  maxconn 2000\n  bind 0.0.0.0:80\n  default_backend servers-http\n\n\nbackend servers-http\" | tee /etc/haproxy/haproxy.cfg\n\nhosts=$(echo \"@@{App01Service.address}@@,@@{App02Service.address}@@\" | tr \",\" \"\\n\")\n\nport=80\nfor host in $hosts\ndo\n   echo \"  server host-${host} ${host}:${port} weight 1 maxconn 100 check\" | tee -a /etc/haproxy/haproxy.cfg\ndone\n\nsystemctl daemon-reload\nsystemctl restart haproxy\n\nfirewall-cmd --add-service=http --zone=public --permanent\nfirewall-cmd --reload", "Heading_Keywords": ["load", "balanc", "instal"]}, {"Heading": "Load Balancer Uninstallation", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-blueprint-service-load-balancer-uninstall-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Use the following uninstall script to uninstall the load balancer service.yum -y erase haproxy", "Heading_Keywords": ["load", "balanc", "uninstal"]}, {"Heading": "Web-Application Installation", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-blueprint-service-web-application-install-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Use the following install script to install web-application service.#!/bin/bash\nyum update -y\n\nrpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm\n\n\nyum install -y nginx php56w-fpm php56w-cli php56w-mcrypt php56w-mysql php56w-mbstring php56w-dom git\nmkdir -p /var/www/laravel\n\necho \"server {\n        listen   80 default_server;\n        listen [::]:80 default_server ipv6only=on;\n\n        root /var/www/laravel/public/;\n        index index.php index.html index.htm;\n\n        location / {\n             try_files \\$uri \\$uri/ /index.php?\\$query_string;\n        }\n\n        # pass the PHP scripts to FastCGI server listening on /var/run/php5-fpm.sock\n        location ~ \\.php$ {\n                try_files \\$uri /index.php =404;\n                fastcgi_split_path_info ^(.+\\.php)(/.+)\\$;\n                fastcgi_pass 127.0.0.1:9000;\n                fastcgi_index index.php;\n                fastcgi_param SCRIPT_FILENAME \\$document_root\\$fastcgi_script_name;\n                include fastcgi_params;\n        }\n}\" | tee /etc/nginx/conf.d/laravel.conf\nsed -i 's/80 default_server/80/g' /etc/nginx/nginx.conf\nif `grep \"cgi.fix_pathinfo\" /etc/php.ini` ; then\n  sed -i 's/cgi.fix_pathinfo=1/cgi.fix_pathinfo=0/' /etc/php.ini\nelse\n  sed -i 's/;cgi.fix_pathinfo=1/cgi.fix_pathinfo=0/' /etc/php.ini\nfi\n#sudo php5enmod mcrypt\nsystemctl restart php-fpm\nsystemctl restart nginx\nif [ ! -e /usr/local/bin/composer ]\nthen\n  curl -sS https://getcomposer.org/installer | php\n  mv composer.phar /usr/local/bin/composer\n  chmod +x /usr/local/bin/composer\nfi\ngit clone https://github.com/ideadevice/quickstart-basic.git /var/www/laravel\nsed -i 's/DB_HOST=.*/DB_HOST=@@{DBService.address}@@/' /var/www/laravel/.env\n#if [ \"@@{calm_array_index}@@\" == \"0\" ]; then\nsudo su - -c \"cd /var/www/laravel; composer install ; php artisan migrate\"\n#fi\nchown -R nginx:nginx /var/www/laravel\nchmod -R 777 /var/www/laravel/\nsystemctl restart nginx\nfirewall-cmd --add-service=http --zone=public --permanent\nfirewall-cmd --reload", "Heading_Keywords": ["web", "applic", "instal"]}, {"Heading": "Web-Application Uninstallation", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-blueprint-service-web-application-uninstall-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Use the following uninstall script to uninstall the web-application service.rm -rf /var/www/laravel\nyum erase -y nginx ", "Heading_Keywords": ["web", "applic", "uninstal"]}, {"Heading": "Database Installation", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-blueprint-service-database-install-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Use the following install script to install database service.#!/bin/bash\nset -ex\n\nyum update -y\nplatform_version=`sed 's/^.\\+ release \\([.0-9]\\+\\).*/\\1/' /etc/redhat-release | cut -d. -f1`\n\nif [ $platform_version -eq 7 ];then\n  if [ \"@@{DBService.MYSQL_VERSION}@@\" == \"5.5\" ];then\n    mysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm\"\n  elif [ \"@@{DBService.MYSQL_VERSION}@@\" == \"5.6\" ];then\n  \nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\n  elif [ \"@@{DBService.MYSQL_VERSION}@@\" == \"5.7\" ];then\n    mysql_repo_package=\"https://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm\"\n  fi\nelse\n  echo \"Version Not supported\"\nfi\n\nyum install -y $mysql_repo_package\nyum update -y\n\nyum install -y mysql-community-server.x86_64\n\n/bin/systemctl start mysqld\n\n#Mysql secure installation\nmysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{DBService.MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\nfirewall-cmd --add-service=mysql --permanent\nfirewall-cmd --reload\n\nmysql -u root -p\"@@{DBService.MYSQL_PASSWORD}@@\"<<-EOF\nCREATE DATABASE homestead;\nGRANT ALL PRIVILEGES ON homestead.* TO 'homestead'@'%' identified by 'secret';\nFLUSH PRIVILEGES;\nEOF", "Heading_Keywords": ["databas", "instal"]}, {"Heading": "Database Uninstallation", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-blueprint-service-database-uninstall-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Use the following uninstall script to uninstall database service.set -ex\nyum remove -y mysql-community-server.x86_64", "Heading_Keywords": ["databas", "uninstal"]}, {"Heading": "Configuring Non-Managed AHV Network", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-configuring-non-managed-ahv-network.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Following sections provide the sample scripts of Cloudinit  and SysPrep to configure static IP address range for non-managed AHV network.Cloudinit Script for LinuxNote: You can assign static IP for non-managed network only if the disk image contains a network card set for static IP. If the NIC is configured for DHCP in disk image, you cannot assign static IP.#cloud-config\ncloud_config_modules: \n  - resolv_conf\n  - runcmd\nwrite_files:\n  - path: /etc/sysconfig/network-scripts/ifcfg-eth0\n    content: |\n      IPADDR=10.136.103.226\n      NETMASK=255.255.255.0\n      GATEWAY=10.136.103.1\n      BOOTPROTO=none\n      ONBOOT=yes\n      DEVICE=eth0\n\nruncmd:\n  - [ifdown, eth0]\n  - [ifup, eth0]\n  \nmanage_resolv_conf: true\nresolv_conf:\n  nameservers: ['8.8.4.4', '8.8.8.8']\n  searchdomains:\n    - foo.example.com\n    - bar.example.com\n  domain: example.com\n  options:\n    rotate: true\n    timeout: 1SysPrep Script for Windows<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <ComputerName>Windows2016</ComputerName>\n         <RegisteredOrganization>Nutanix</RegisteredOrganization>\n         <RegisteredOwner>Acropolis</RegisteredOwner>\n         <TimeZone>UTC</TimeZone>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-UnattendedJoin\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Identification>\n            <Credentials>\n               <Domain>contoso.com</Domain>\n               <Password>secret</Password>\n               <Username>Administrator</Username>\n            </Credentials>\n            <JoinDomain>contoso.com</JoinDomain>\n            <UnsecureJoin>false</UnsecureJoin>\n         </Identification>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">\n               <Identifier>Ethernet</Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>false</DhcpEnabled>\n                  <RouterDiscoveryEnabled>true</RouterDiscoveryEnabled>\n                  <Metric>30</Metric>\n               </Ipv4Settings>\n               <UnicastIpAddresses>\n                  <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">10.0.0.2/24</IpAddress>\n               </UnicastIpAddresses>\n               <Routes>\n                  <Route wcm:action=\"add\">\n                     <Identifier>10</Identifier>\n                     <Metric>20</Metric>\n                     <NextHopAddress>10.0.0.1</NextHopAddress>\n                     <Prefix>0.0.0.0/0</Prefix>\n                  </Route>\n               </Routes>\n            </Interface>\n         </Interfaces>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UseDomainNameDevolution>true</UseDomainNameDevolution>\n         <DNSDomain>contoso.com</DNSDomain>\n         <Interfaces>\n            <Interface wcm:action=\"add\">\n               <Identifier>Ethernet</Identifier>\n               <DNSDomain>contoso.com</DNSDomain>\n               <DNSServerSearchOrder>\n                  <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">10.0.0.254</IpAddress>\n               </DNSServerSearchOrder>\n               <EnableAdapterDomainNameRegistration>true</EnableAdapterDomainNameRegistration>\n               <DisableDynamicUpdate>true</DisableDynamicUpdate>\n            </Interface>\n         </Interfaces>\n      </component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false</fDenyTSConnections>\n      </component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0</UserAuthentication>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true</Active>\n               <Profile>all</Profile>\n               <Group>@FirewallAPI.dll,-28752</Group>\n            </FirewallGroup>\n         </FirewallGroups>\n      </component>\n   </settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>secret</Value>\n               <PlainText>true</PlainText>\n            </AdministratorPassword>\n         </UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>secret</Value>\n               <PlainText>true</PlainText>\n            </Password>\n            <Enabled>true</Enabled>\n            <Username>Administrator</Username>\n         </AutoLogon>\n         <FirstLogonCommands>\n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe /c netsh firewall add portopening TCP 5985 \"Port 5985\"</CommandLine>\n               <Description>Win RM port open</Description>\n               <Order>1</Order>\n               <RequiresUserInput>true</RequiresUserInput>\n            </SynchronousCommand>\n         </FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true</HideEULAPage>\n            <SkipMachineOOBE>true</SkipMachineOOBE>\n         </OOBE>\n      </component>\n      <component xmlns:wcm=\"http://schemas.microsoft.com/WMIConfig/2002/State\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>en-US</InputLocale>\n         <SystemLocale>en-US</SystemLocale>\n         <UILanguageFallback>en-us</UILanguageFallback>\n         <UILanguage>en-US</UILanguage>\n         <UserLocale>en-US</UserLocale>\n      </component>\n   </settings>\n</unattend>", "Heading_Keywords": ["configur", "non", "manag", "ahv", "network"]}, {"Heading": "Supported eScript Modules and Functions", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-supported-escript-modules-functions-c.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The following eScript modules are supported.Table 1. Supported eScript ModulesModuleModule supported asdatetime _datetime re re difflib difflib base64 base64 pprint pprint pformat pformat simplejson jsonujson ujson yaml yaml Uuid uuid requestsrequestsboto3boto3azureazureThe example displays the usage of boto3 module.import boto3\nec2 = boto3.client('ec2', aws_access_key_id='{}', aws_secret_access_key='{}', region_name='us-east-1')\nprint ec2.describe_regions()The following example displays the usage of Azure module.# subscription_id macro contains your Azure Subscription ID\n# client_id macro contains your Client ID\n# tenant macro contains you Tenant ID\nfrom azure.common.credentials import ServicePrincipalCredentials\nfrom azure.mgmt.resource import ResourceManagementClient\ncredentials = ServicePrincipalCredentials(\n    client_id=@@{client_id}@@,\n    secret='secret',\n    tenant=@@{tenant}@@\n)\nclient = ResourceManagementClient(credentials, @@{subscription_id}@@)\nfor item in client.resource_groups.list():\n    print(item)The following eScript functions are supported.urlreq The API exposes REST interface as a set of objects. This action is implemented using python requests module.urlreq(url, verb='GET', auth=None, c=None, user=None, passwd=None, params=None,\nheaders=None, timeout=None, send_form_encoded_data=True, allow_redirects=True,\ncookies=None, verify=True, proxies=None)requests.Response object is returned.Table 2. ArgumentsArgumentsDescriptionurlstring, url to requestverbstring, verb is GET by default. POST, HEAD, PUT, PATCH, and DELETE are other valid entries.authstring (optional), BASIC and DIGEST are the valid entries.For authentication purpose, the order is as follows.username and password is authenticated by using user and passwd fields.username and password is authenticated by using name of credential supplied using c field.username and password is authenticated by using credential attached to the task.userstring (optional), username used for authentication.passwdstring (optional), password used for authentication.paramsdict (optional), if verb is GET, HEAD or DELETE, parameters are sent in the query string for the request otherwise they are sent in the body of the request.headersdict (optional), Dictionary of HTTP headers needs to be send along with the request.timeoutinteger (optional), you can configure requests to stop waiting for a response after a given number of seconds with the timeout parameter. timeout only elects the connection process itself, not the downloading of the response body.send_form_encoded_databoolean (optional), = True by default. If False, parameters dict is first dumped using simplejson.dumps() and then passed as a string.allow_redirectsboolean (optional), = True by default. Specifies whether redirects should be allowed or not.cookiesdict (optional), cookies dict to be sent along with the request.verifyboolean (optional), = True by default. Specifies whether SSL certificates should be verified or not.proxiesdict (optional), Dictionary mapping protocol to the URL of the proxyRules for authentication in order of priority.If they are not None, use user and passwd fields.If c is not None, authenticate username and password from the credential name supplied.If the above two criteria does not match, username and password are authenticated by using the credential attached to the task.For exampleparams = {'limit': 1}\nheaders = {'content-type': 'application/octet-stream'}\nr = urlreq(url, verb=\"GET\", auth=\"BASIC\", c='somecred', params=params, headers=headers)\nr = urlreq(url, verb=\"POST\", auth=\"BASIC\", user=\"user\", passwd=\"pass\", params=params)exit The exit function is an alias for sys.exit of python standard library.exit(exitcode)For exampleexit(0)sleep The sleep function is an alias for time.sleep.sleep(num_of_secs)For examplesleep(10)_construct_random_password The _construct_random_password API generates a random password and returns it._construct_random_password(lower, upper=None, numCaps=0, numLetters=0,\nnumDigits=0, numPuncs=0, startwith=None, caps=None, letters=None,\ndigits=None, puncs=None)Returns: StringTable 3. ArgumentsArgumentDescriptionlowerinteger, minimum number of characters in the password.upperinteger (optional), maximum number of characters in the password. If upper is not defined, then the password returned will always be as per lower, else the length can vary between lower and upper (both included).numCapsinteger (optional), minimum number of capital letters that must be there in password.numLettersinteger (optional), minimum number of letters that must be there in password.numDigitsinteger (optional), minimum number of digits that must be there in password.numPuncsinteger (optional), minimum number of punctuation alphabets that must be there in password.startwithstring (optional), password returned starts with one of the characters provided in startwith string.capsstring (optional), default = 'A-Z'. This can be overridden.lettersstring (optional), default = 'a-zA-Z'. This can be overridden.digitsstring (optional), default = '0-9'. This can be overridden.puncsstring (optional), default = '!@#$%^&'. This can be overridden.Note: numCaps + numLetters + numDigits + numPuncs + 1 (if startwith is defined) must not be greater than upper._is_bad_password The _is_bad_password function checks whether the password is correct or not. _is_bad_password(password, reserved, dictionary=True, numCaps=0, numPuncs=0, \\numDigits=0, minLen=5)For example _is_bad_password(\"Abcd@123\")_randomchoose The _randomchoose function is used to get a random character from a string._randomchoose(string)For example_randomchoose(\"adsadrer\")_shuffle The _shuffle function is used to shuffle the sequence._shuffle(sequence)For example_shuffle(a)get_sql_handleThe get_sql_handle function enables you to remotely connect and manage SQL Servers. It is implemented by using python pymssql module.get_sql_handle(server, username, password, database='', timeout=0, login_timeout=60, charset='UTF-8', as_dict=False, host='', appname=None, port='1433', conn_properties=None, autocommit=False, tds_version=None)Returns pymssql.Connection objectTable 4. ArgumentsArgumentDescriptionserver (str) database host user (str) database user to connect as password (str) user\u2019s passworddatabase (str)The database to initialize the connection with. By default SQL Server selects the database which is set as default for specific user timeout (int) query timeout in seconds, default 0 (no timeout)login_timeout (int)timeout for connection and login in seconds, default is 60 secondscharset (str)character set with which to connect to the databaseFor exampleusername=\"dbuser\"\n  password=\"myP@ssworD\"\n  server=\"10.10.10.10\"\n  port=\"1433\"\n  \n  cnxn = get_sql_handle(server, username, password, port=port, autocommit=True)\n  cursor = cnxn.cursor()\n  \n  # List all databases\n  cursor.execute(\"\"\"\n    SELECT Name from sys.Databases;\n  \"\"\")\n  for row in cursor:\n    print row[0]\n\n    cnxn.close()To refer to the video about supported eScripts, click here.EScript Sample ScriptThe following is a EScript sample script.JWT Usage Sample ScriptThe following is a sample jwt usage script.EScript Sample ScriptThe following is a EScript sample script.Note: Ensure that your script starts with  #script.#script\n\naccount_name = \"@@{ACCOUNT_NAME}@@\"\navaitrix_ip = \"@@{address}@@\"\nnew_test_password = \"@@{NEW_TEST_PASSWORD}@@\"\nvpc_name = \"Test\"\n\napi_url = 'https://{0}/v1/api'.format(avaitrix_ip)\n#print api_url\n\n\ndef setconfig(api_url, payload):\n  r = urlreq(api_url, verb='POST', auth=\"BASIC\", user='admin', passwd='passwd', params=payload, verify=False)\n  resp = json.loads(r.content)\n  if resp['return']:\n    return resp\n  else:\n    print \"Post request failed\", r.content\n    exit(1)\n\nprint \"Get the session ID for making API operations\"\npayload = {'action': 'login', 'username': 'admin', 'password': new_test_password}\napi_url1 = api_url + \"?action=login&username=admin&password=\"+ new_avaitrix_password\ncid = setconfig(api_url=api_url1, payload=payload)\ncid = cid['CID']\nprint cid\n\nprint \"Delete the gateway\"\npayload = {'CID': cid,\n  'action': 'delete_container',\n  'account_name': account_name,\n  'cloud_type': 1,\n  'gw_name': vpc_name\n  }\napi_url1 = api_url + \"?CID=\"+cid+\"&action=delete_container&account_name=\"+account_name+\"&cloud_type=1&gw_name=\"+vpc_name\nprint setconfig(api_url=api_url1,payload=payload)\n\nprint \"Delete the aws account\"\n\npayload = {'CID': cid,\n  'action': 'delete_account_profile',\n  'account_name': account_name\n  }\napi_url1 = api_url + \"?CID=\"+cid+\"&action=delete_account_profile&account_name=\"+account_name\nprint setconfig(api_url=api_url1,payload=payload)\nJWT Usage Sample ScriptThe following is a sample jwt usage script.Note: Ensure that your script starts with  #script.#script\njwt = '@@{calm_jwt}@@'\n\npayload = {}\napi_url = 'https://localhost:9440/api/nutanix/v3/apps/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\n    print resp\n    exit(0)\nelse:\n    print \"Post request failed\", r.content\n    exit(1)", "Heading_Keywords": ["support", "escript", "modul", "function"]}, {"Heading": "EScript Sample Script", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-escript-sample-script-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The following is a EScript sample script.Note: Ensure that your script starts with  #script.#script\n\naccount_name = \"@@{ACCOUNT_NAME}@@\"\navaitrix_ip = \"@@{address}@@\"\nnew_test_password = \"@@{NEW_TEST_PASSWORD}@@\"\nvpc_name = \"Test\"\n\napi_url = 'https://{0}/v1/api'.format(avaitrix_ip)\n#print api_url\n\n\ndef setconfig(api_url, payload):\n  r = urlreq(api_url, verb='POST', auth=\"BASIC\", user='admin', passwd='passwd', params=payload, verify=False)\n  resp = json.loads(r.content)\n  if resp['return']:\n    return resp\n  else:\n    print \"Post request failed\", r.content\n    exit(1)\n\nprint \"Get the session ID for making API operations\"\npayload = {'action': 'login', 'username': 'admin', 'password': new_test_password}\napi_url1 = api_url + \"?action=login&username=admin&password=\"+ new_avaitrix_password\ncid = setconfig(api_url=api_url1, payload=payload)\ncid = cid['CID']\nprint cid\n\nprint \"Delete the gateway\"\npayload = {'CID': cid,\n  'action': 'delete_container',\n  'account_name': account_name,\n  'cloud_type': 1,\n  'gw_name': vpc_name\n  }\napi_url1 = api_url + \"?CID=\"+cid+\"&action=delete_container&account_name=\"+account_name+\"&cloud_type=1&gw_name=\"+vpc_name\nprint setconfig(api_url=api_url1,payload=payload)\n\nprint \"Delete the aws account\"\n\npayload = {'CID': cid,\n  'action': 'delete_account_profile',\n  'account_name': account_name\n  }\napi_url1 = api_url + \"?CID=\"+cid+\"&action=delete_account_profile&account_name=\"+account_name\nprint setconfig(api_url=api_url1,payload=payload)\n", "Heading_Keywords": ["escript", "sampl", "script"]}, {"Heading": "JWT Usage Sample Script", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-jwt-usage-sample-script-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "The following is a sample jwt usage script.Note: Ensure that your script starts with  #script.#script\njwt = '@@{calm_jwt}@@'\n\npayload = {}\napi_url = 'https://localhost:9440/api/nutanix/v3/apps/list'\nheaders = {'Content-Type': 'application/json',  'Accept':'application/json', 'Authorization': 'Bearer {}'.format(jwt)}\nr = urlreq(api_url, verb='POST', params=json.dumps(payload), headers=headers, verify=False)\nif r.ok:\n    resp = json.loads(r.content)\n    print resp\n    exit(0)\nelse:\n    print \"Post request failed\", r.content\n    exit(1)", "Heading_Keywords": ["jwt", "usag", "sampl", "script"]}, {"Heading": "Sample Powershell Script", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-sample-powershell-script-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Following is a sample powershell  script.Install-PackageProvider -Name NuGet -Force\nInstall-Module DockerMsftProvider -Force\nInstall-Package Docker -ProviderName DockerMsftProvider -Force", "Heading_Keywords": ["sampl", "powershel", "script"]}, {"Heading": "Sample Auto Logon and First Logon Scripts", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-sample-auto-logon-first-logon-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Sample Auto Logon ScriptFollowing is the sample guest customization script for Azure service.<AutoLogon>\n  <Password>\n    <Value>@@{user.secret}@@</Value>\n    <PlainText>true</PlainText>\n  </Password>\n  <Enabled>true</Enabled>\n  <Username>@@{user.username}@@</Username>\n</AutoLogon> Sample First Logon ScriptFollowing is the sample guest customization script for Azure service.<FirstLogonCommands>\n    <SynchronousCommand>\n    <CommandLine>cmd.exe /c powershell -Command get-host</CommandLine>\n    <Order>1</Order>\n    </SynchronousCommand>\n</FirstLogonCommands>", "Heading_Keywords": ["sampl", "auto", "logon", "first", "logon", "script"]}, {"Heading": "Sample Guest Customization Scripts for VMware and GCP Services", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-sample-guest-customization-script-r.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Following is the sample guest customization script for VMware service.cmd.exe /c winrm quickconfig -q\ncmd.exe /c winrm set winrm/config/service/auth @{Basic=\"true\"}\npowershell -Command \"enable-psremoting -Force\"\npowershell -Command \"Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Force\"\nFollowing is the sample guest customization script for GCP service.#! /bin/bash\\napt-get update\\napt-get install -y apache2\\ncat <<EOF > /var/www/html/index.html\\n<html><body><h1>Hello World</h1>\\n<p>This page was created from a simple startup script!</p>\\n</body></html>\\nEOF", "Heading_Keywords": ["sampl", "guest", "custom", "script", "vmware", "gcp", "servic"]}, {"Heading": "Nutanix Calm Blueprints Public Repository", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-nutanix_calm_blueprints_public_repository.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": "Calm blueprints public repository contains custom blueprints and custom scripts created and published by community members. Calm also publishes official blueprints and tasks to the github public repository. To access the repository, click here. You can clone the published blueprints and scripts and use from the repository.Seeding Scripts to the Calm Task Library Calm published blueprints repository contains script that can be seeded into task library and published to projects. You can use these tasks for blueprint configuration. Perform the following procedure to seed task library items to Nutanix Calm.Seeding Scripts to the Calm Task Library Calm published blueprints repository contains script that can be seeded into task library and published to projects. You can use these tasks for blueprint configuration. Perform the following procedure to seed task library items to Nutanix Calm.ProcedureClone the blueprint repository from github. To access the repository, click here.Change the directory to calm-integrations/generate_task_library_items.You can execute the script to seed by running the following command in bash. bash generate_task_library_items.shWhen prompted, enter the following information.Prism Central IP: Enter the Prism Central IP address to which the task library items are to be seeded.Prism Central User: Enter the user name with the access to create task library scripts.Prism Central Password: Enter the password of the Prism Central user.Prism Central Project: Enter the Project name to which the task library items can be published.Optionally, to avoid giving inputs multiple time, you can also export environment variables before running the script by running the following command.export PC_IP=<prism central IP>    \nexport PC_USER=<prism central user>\nexport PC_PASSWORD=<prism central password>\nexport PC_PROJECT=<prism central project>Also, you can seed individual files into Nutanix Calm by running the following Python script.python generate_task_library.py --pc $PC_IP--user $PC_USER --password $PC_PASSWORD --project $PC_PROJECT --script <path of script>", "Heading_Keywords": ["nutanix", "calm", "blueprint", "public", "repositori"]}, {"Heading": "Seeding Scripts to the Calm Task Library", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Nutanix-Calm-Admin-Operations-Guide-v3_0_0:nuc-seeding-scripts-to-the-calm-task-library-t.html", "Document Name": "Nutanix Calm Administration and Operations Guide", "Content": " Calm published blueprints repository contains script that can be seeded into task library and published to projects. You can use these tasks for blueprint configuration. Perform the following procedure to seed task library items to Nutanix Calm.ProcedureClone the blueprint repository from github. To access the repository, click here.Change the directory to calm-integrations/generate_task_library_items.You can execute the script to seed by running the following command in bash. bash generate_task_library_items.shWhen prompted, enter the following information.Prism Central IP: Enter the Prism Central IP address to which the task library items are to be seeded.Prism Central User: Enter the user name with the access to create task library scripts.Prism Central Password: Enter the password of the Prism Central user.Prism Central Project: Enter the Project name to which the task library items can be published.Optionally, to avoid giving inputs multiple time, you can also export environment variables before running the script by running the following command.export PC_IP=<prism central IP>    \nexport PC_USER=<prism central user>\nexport PC_PASSWORD=<prism central password>\nexport PC_PROJECT=<prism central project>Also, you can seed individual files into Nutanix Calm by running the following Python script.python generate_task_library.py --pc $PC_IP--user $PC_USER --password $PC_PASSWORD --project $PC_PROJECT --script <path of script>", "Heading_Keywords": ["seed", "script", "calm", "task", "librari"]}, {"Heading": "Nutanix Objects Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-intro-c.html", "Document Name": "Objects User Guide", "Content": "Nutanix Objects\u2122 (Objects) is a software-defined Object Store Service. This service is designed with an Amazon Web Services Simple Storage Service (AWS S3) compatible REST API interface capable of handling petabytes of unstructured and machine-generated data. Objects addresses storage-related use cases for backup, and long-term retention and data storage for your cloud-native applications by using standard S3 APIs. You no longer have to introduce an external, separately managed storage solution. Objects is deployed and managed as part of the Nutanix Enterprise Cloud OS.You can manage objects by using Prism Central or the S3-compatible REST APIs after an administrator has authorized the applications and users to access buckets accordingly.For more information on Objects architecture, refer to Nutanix Bible.Usage of ObjectsTerminology ReferenceFollowing are the terms that you frequently encounter when you are using Objects:Objects WorkflowThis section describes the basic workflow of Objects. The subsequent sections provide detailed information about each step.Usage of ObjectsFollowing are examples of solutions you can implement by using Objects: Backup \u2013 You can integrate Objects with the backup applications such as Commvault, Commtrade HYCU, Veeam, and Veritas. You can create backups to protect your data with a simple, scalable, and cost-effective active archive solution. You can start with small storage and scale to petabytes of storage to deliver great performance. Objects supports the multipart upload API with which you can reduce slow upload times by breaking data into chunks and upload documents, images, and videos to the global namespace.Long-term Retention \u2013 You can use Objects for long-term data retention. Built-in object versioning provides storage protection and searches your data without the problem of tape systems. Versioning maintains previous copies of the object to avoid data loss from overwrites or deletes. Write-Once-Read-Many (WORM) buckets help you meet regulatory compliance requirements for healthcare, financial services, and government sectors by protecting your data from being overwritten or deleted.DevOps \u2013 Easy application access to your data in a global namespace using simple PUT and GET commands makes Objects the perfect fit for your dev-ops data. Easily integrate REST API calls within your programs or scripts without tracking complex directory structures. DevOps and IT ops can use the S3-compatible interface for cross-geo, cross-team collaboration, and agile development.Terminology ReferenceFollowing are the terms that you frequently encounter when you are using Objects:Table 1. Terminology ReferenceTerminologyDescriptionBucketAn organizational unit exposed to the users and contains the objects. A deployment may have one or more buckets.ObjectThe actual unit (blob) of storage and the item interfaced by using the API (GET or PUT).S3The term used to describe the Amazon Web Services (AWS) interface. This term is now used synonymously for an object service. S3 is also used to describe the object API which you use to interact with an object store.Internal Access Network A VLAN required for communication between Objects services.Client Access NetworkA VLAN used to access the Object Store endpoints externally.Microservices Platform (MSP)A platform based on Kubernetes where all the Objects microservices run.Objects WorkflowThis section describes the basic workflow of Objects. The subsequent sections provide detailed information about each step.About this taskFollowing is the Objects workflow:ProcedureEnable Objects from Prism Central. Refer to Enabling Objects.Deploy object store on a desired cluster. Refer to Object Store Service Deployment.Generate the access keys. Refer to Generating Access Key for API Users.Set up the Secure Sockets Layer (SSL) certificates for the object store. Refer to Setting up SSL Certificate for an Object Store.Access the object store endpoints from the third-party clients. Refer to Access Objects Endpoints.Create buckets and objects suitable for your use case. Refer to Creating and Configuring a Bucket.Expand the object store if the storage is getting full. Refer to Expanding Storage for an Object Store.", "Heading_Keywords": ["nutanix", "object", "overview"]}, {"Heading": "Usage of Objects", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-usage-c.html", "Document Name": "Objects User Guide", "Content": "Following are examples of solutions you can implement by using Objects: Backup \u2013 You can integrate Objects with the backup applications such as Commvault, Commtrade HYCU, Veeam, and Veritas. You can create backups to protect your data with a simple, scalable, and cost-effective active archive solution. You can start with small storage and scale to petabytes of storage to deliver great performance. Objects supports the multipart upload API with which you can reduce slow upload times by breaking data into chunks and upload documents, images, and videos to the global namespace.Long-term Retention \u2013 You can use Objects for long-term data retention. Built-in object versioning provides storage protection and searches your data without the problem of tape systems. Versioning maintains previous copies of the object to avoid data loss from overwrites or deletes. Write-Once-Read-Many (WORM) buckets help you meet regulatory compliance requirements for healthcare, financial services, and government sectors by protecting your data from being overwritten or deleted.DevOps \u2013 Easy application access to your data in a global namespace using simple PUT and GET commands makes Objects the perfect fit for your dev-ops data. Easily integrate REST API calls within your programs or scripts without tracking complex directory structures. DevOps and IT ops can use the S3-compatible interface for cross-geo, cross-team collaboration, and agile development.", "Heading_Keywords": ["usag", "object"]}, {"Heading": "Terminology Reference", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-terminology-r.html", "Document Name": "Objects User Guide", "Content": "Following are the terms that you frequently encounter when you are using Objects:Table 1. Terminology ReferenceTerminologyDescriptionBucketAn organizational unit exposed to the users and contains the objects. A deployment may have one or more buckets.ObjectThe actual unit (blob) of storage and the item interfaced by using the API (GET or PUT).S3The term used to describe the Amazon Web Services (AWS) interface. This term is now used synonymously for an object service. S3 is also used to describe the object API which you use to interact with an object store.Internal Access Network A VLAN required for communication between Objects services.Client Access NetworkA VLAN used to access the Object Store endpoints externally.Microservices Platform (MSP)A platform based on Kubernetes where all the Objects microservices run.", "Heading_Keywords": ["terminolog", "refer"]}, {"Heading": "Objects Workflow", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-buckets-workflow-t.html", "Document Name": "Objects User Guide", "Content": "This section describes the basic workflow of Objects. The subsequent sections provide detailed information about each step.About this taskFollowing is the Objects workflow:ProcedureEnable Objects from Prism Central. Refer to Enabling Objects.Deploy object store on a desired cluster. Refer to Object Store Service Deployment.Generate the access keys. Refer to Generating Access Key for API Users.Set up the Secure Sockets Layer (SSL) certificates for the object store. Refer to Setting up SSL Certificate for an Object Store.Access the object store endpoints from the third-party clients. Refer to Access Objects Endpoints.Create buckets and objects suitable for your use case. Refer to Creating and Configuring a Bucket.Expand the object store if the storage is getting full. Refer to Expanding Storage for an Object Store.", "Heading_Keywords": ["object", "workflow"]}, {"Heading": "Enabling Objects", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-enable-objects-t.html", "Document Name": "Objects User Guide", "Content": "To create an object store, you first need to enable Objects in Prism Central then add a license in Prism Element.About this taskTo enable Objects in Prism Central, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. To enable the Object Store Services, click Enable.Note: Enabling of Object Store Services is performed only once.Note: After you enable Objects, ensure that you perform LCM inventory and upgrade the MSP and Objects Manager to the latest versions before you start with deployment. For more information, see Objects LCM Upgrades.You can now use the Objects services.Objects License ManagementNutanix provides licenses that you can apply manually or automatically to help ensure access to all the features. This feature enables you to administer your environment based on your current and future needs. With the introduction of multi-cluster feature in Objects, you can now manage (add, verify, and monitor) Objects license from the Prism Central, not from the Prism Element.Objects License ManagementNutanix provides licenses that you can apply manually or automatically to help ensure access to all the features. This feature enables you to administer your environment based on your current and future needs. With the introduction of multi-cluster feature in Objects, you can now manage (add, verify, and monitor) Objects license from the Prism Central, not from the Prism Element.Note: You can now manage Objects license from the Prism Central, not from the Prism Element.Up to 2 TB Objects storage is free for all users.Types of LicensesNutanix provides the following two types of Objects licenses.Objects (For AOS): This license allows you to deploy Objects on clusters with AOS licenses.Objects (Dedicated): This license is used when deploying an Objects-only cluster without AOS licenses.Adding Licenses to Prism CentralYou can add Objects license to the Prism Central manually. For more information, refer to Manage Prism Central Licenses section in the Nutanix Licensing Guide.You can view the Objects usage information in the Prism Central. For more information, refer to Displaying License Features and Details section in the Nutanix Licensing Guide.Open Source Software UsageOpen Source Software UsageFor more information about Objects open source licensing details, refer to Nutanix Support Portal. ", "Heading_Keywords": ["enabl", "object"]}, {"Heading": "Objects License Management", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-licensing-c.html", "Document Name": "Objects User Guide", "Content": "Nutanix provides licenses that you can apply manually or automatically to help ensure access to all the features. This feature enables you to administer your environment based on your current and future needs. With the introduction of multi-cluster feature in Objects, you can now manage (add, verify, and monitor) Objects license from the Prism Central, not from the Prism Element.Note: You can now manage Objects license from the Prism Central, not from the Prism Element.Up to 2 TB Objects storage is free for all users.Types of LicensesNutanix provides the following two types of Objects licenses.Objects (For AOS): This license allows you to deploy Objects on clusters with AOS licenses.Objects (Dedicated): This license is used when deploying an Objects-only cluster without AOS licenses.Adding Licenses to Prism CentralYou can add Objects license to the Prism Central manually. For more information, refer to Manage Prism Central Licenses section in the Nutanix Licensing Guide.You can view the Objects usage information in the Prism Central. For more information, refer to Displaying License Features and Details section in the Nutanix Licensing Guide.Open Source Software UsageOpen Source Software UsageFor more information about Objects open source licensing details, refer to Nutanix Support Portal. ", "Heading_Keywords": ["object", "licens", "manag"]}, {"Heading": "Open Source Software Usage", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-open-source-software-usage-c.html", "Document Name": "Objects User Guide", "Content": "For more information about Objects open source licensing details, refer to Nutanix Support Portal. ", "Heading_Keywords": ["open", "sourc", "softwar", "usag"]}, {"Heading": "Deployment and Network Prerequisites", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-prerequisites-c.html", "Document Name": "Objects User Guide", "Content": "Ensure that you have met the deployment prerequisites and configured the network before proceeding for an object store deployment.Deployment PrerequisitesBefore deploying Object Store Services, review this section carefully to ensure you have met the prerequisites. This section combines prerequisites for sites with internet access (online) and dark site (offline) deployments. Unless specified, the requirements are for both online and dark site (offline) deployments.Network ConfigurationYou can configure and manage virtual networks through Prism Element and use these virtual networks to deploy an Object Store through Prism Central.LimitationsThe following section lists the limitations for Objects.Deployment PrerequisitesBefore deploying Object Store Services, review this section carefully to ensure you have met the prerequisites. This section combines prerequisites for sites with internet access (online) and dark site (offline) deployments. Unless specified, the requirements are for both online and dark site (offline) deployments.General RequirementsEnsure that your environment conforms to the following requirements before running Objects:Hypervisor is AHV.Prism Element and Prism Central version 5.11.2 or later running in your environment.Recommended browser: Google ChromeMinimum of three nodes in a cluster running AHV with 12 vCPUs and 36 GiB of memory in each node (recommended). You can also have a single node cluster running AHV with a minimum of 12 vCPUs and 36 GiB of memory. Note: It is not recommended to have one node or two node (worker nodes) deployments for production clusters. One or two node deployments are for test or POC use only.Objects use no more than 12 vCPUs for each AHV node.Ensure that no AHV host or Prism Element or Prism Central upgrade is in progress while deploying Objects.Ensure that the Object Store domain should be dedicated for the Object store deployment.For example, if the top level domain is mycompany.com, then the object store domain can be a sub domain such as testobjectstore.mycompany.com.Firewall must be enabled in Prism Element.Recommended that proxy should be able to reach the guest VM.Recommended to enable Pulse (only for site with Internet access). For an online installation, it is recommended to have a high speed and stable Internet connection. Note: Image download times out after 90 minutes and the deployment fails.Recommended to upgrade to the latest version of the MSP controller for deployment in a dark site. Refer to Microservices Platform (MSP).Ensure that the LCM web server is accessible from the Prism Element on which Objects is to be deployed in a dark site.Ensure that the LCM web server is accessible through the proxy, if set on Prism Central for the dark site deployment.Allow Prism Central and Prism Element to access the web server through port 80 for dark site deployment.Ensure to upgrade to MSP 1.0.5 or later versions and Objects 2.0 or later versions for expanding the object store cluster.Ensure to upgrade to Objects 2.1 or later versions for scaling out the object store cluster.Network RequirementsEnsure to configure the following network requirements before running Objects:Configure Domain Name Servers (DNS) on both Prism Element and Prism Central.Configure Network Time Protocol (NTP) servers on both Prism Element and Prism Central.Set up the Virtual IP address and the data services IP address on the Prism Element where you plan to deploy Objects.Ensure VLANs that are required internally for Object Store Services and externally for accessing the Object Store endpoints are configured on Prism Element correctly. Follow the guidelines provided in the Network Configuration section.Ensure that you have an Internet connectivity for both Prism Element and Prism Central for online deployment. If you do not have Internet, refer to Object Store Deployment at a Dark Site (Offline Deployment).URL and Port RequirementsNote: URLs are not required for the dark site deployment.The following URLs and ports are used by the Objects server: Prism Central must have access to download.nutanix.com, Amazon Elastic Container Registry (ECR) at 464585393164.dkr.ecr.us-west-2.amazonaws.com, api.ecr.us-west-2.amazonaws.com, and prod-us-west-2-starport-layer-bucket.s3.us-west-2.amazonaws.comGold image is downloaded from download.nutanix.com.Open the following ports:Note: Port 80 should be opened between the Prism Central and web server, and Prism Element and web server for dark site only.Table 1. Port RequirementsProtocolPort NumberSourceDestinationDirectionalityDescriptionTCP7301Prism Central hosting Objects Prism Central hosting Objects Bi-directionalThis port is opened on the Objects Manager running in the Prism Central to receive the manageability requests. This port is the proxy to other ports.TCP7302Prism Central hosting Objects Prism Central hosting Objects Bi-directionalThis port is opened on the Objects Manager running in the Prism Central to receive the manageability requests. This port is the proxy to Object Manager Leader in scale-out Prism Central.TCP81Prism Central hosting ObjectsLoad balancer VM (Internal and external network)Uni-directionalThis port is opened on the load balancer that directs traffic from the Objects Manager to the UI Gateway.TCP80External S3 clientsLoad balancer VM (External network)Uni-directionalThis port is the HTTP endpoint to access Objects. This port is opened on the load balancer that directs traffic to the Object Controller pod.TCP443External S3 clientsLoad balancer VM (External network)Uni-directionalThis port is the HTTPS endpoint to access Objects. This port is opened on the load balancer that directs traffic to the Object Controller pod.TCP443Prism Central hosting ObjectsLoad balancer VMsUni-directionalThis port is used by the Objects Manager to verify if the https server is up after replacing certificates.TCP2009Worker VMsPrism ElementUni-directionalThis port is opened for the data traffic from Object Controller pod to Stargate. The data services IP address needs to be permitted for this port.TCP22, 53, 443, 2379, 5000Prism Central hosting ObjectsWorker VMsUni-directionalThese ports are opened for the management traffic from Prism Central to Worker VMs.TCP3205, 3260Worker VMsPrism ElementUni-directionalThese ports are opened for the management traffic from Worker VMs to Prism Element. The data services IP address needs to be permitted for these ports.TCP9440Worker VMsPrism Central hosting ObjectsUni-directionalThis port is opened for the V3 API calls from the Worker VMs to Prism Central.Worker VMsPrism ElementUni-directionalThis port is opened for the V2 API calls from Worker VMs to Prism Element.TCP/UDPAny portWorker VMsWorker VMsBi-directionalThis port is opened for the data traffic from Worker VMs to Worker VMs. Within the network, all ports should be reachable.TCP31002Prism Central hosting ObjectsWorker VMsUni-directionalThis port is opened on the Worker VMs for the service registry registration.TCP5553, 81Prism Central hosting Objects, Worker VMsLoad balancer VMs (Internal and external network)Uni-directionalThis port is opened for the traffic from the Worker VMs and the service manager running on Prism Central to IAM (Identity and Access Manager) service through load balancers.TCP, UDP53Worker VMsName ServersUni-directionalThis port is opened on the Name Servers for the domain name resolution.TCP, UDP53Prism Central hosting ObjectsName ServersUni-directionalThis port is opened on all the Name Servers to receive the TCP packets from the Prism Central and used to determine the health of the Name Servers.UDP123Worker VMsNTP ServersUni-directionalThis port is opened on the NTP Servers to sync time on the worker VMs. This is not required if NTP Server configured on the Prism Central is local.Refer to the following diagram to understand Objects network architecture.Figure. Objects Network Diagram with PortsClick to enlargeNetwork ConfigurationYou can configure and manage virtual networks through Prism Element and use these virtual networks to deploy an Object Store through Prism Central.Internal Access Network is a virtual network (with AHV IPAM enabled) used for internal communication between the components of an object store. Client Access Network is a virtual network (with AHV IPAM enabled) used by external clients to access the Object Store. Once you have successfully added these virtual networks in Prism Element, you can use these virtual networks to deploy an object store through Prism Central.For more information about network configurations, refer to Network Configuration for VM Interfaces in Prism Web Console Guide.The following section describes each of these networks in more detail:Internal Access Network: An Object Store uses this private virtual network to communicate between services. This virtual network must have a minimum of 14 IP addresses for each object store. Requirements of a virtual network used for an Object Store:AHV IPAM must be enabled. For more information, see Network Configuration for VM Interfaces in the Prism Web Console Guide.At least 12 IP addresses need to be available in the IPAM DHCP pool.Two static IP addresses outside the DHCP pool is required for each object store. Later while deploying the object store from Prism Central, use the static IP addresses for the Internal Access Network configuration based on the object store storage and resource requirements.Note: Objects internal services use the 10.100.0.0/16 and 10.200.0.0/16 subnets therefore the subnet used for internal interface IP addresses cannot conflict with either of these subnets.Client Access Network: An Object Store uses this virtual network (with AHV IPAM enabled) to allow access to the Object Store from external clients.Requirements of a virtual network that will run an Object Store:The virtual network must have AHV IPAM enabled. For more information, see Network Configuration for VM Interfaces in the Prism Web Console Guide.While configuring the virtual network, make sure you specify details such as VLAN ID, Network IP Address/Prefix Length, Gateway IP Address, and DNS Servers. Figure. Create Network Dialog Box Click to enlargeAt least four static IP addresses. Later while deploying an object store from Prism Central, use these four IP addresses for the client access network configuration based on the object store storage and resource requirements.Note: You can have two virtual networks, each for Internal Access Network and Client Access Network, but it is not required. You can have the Internal Access Network and the Client Access Network on the same virtual network. However, it is recommended to have the Internal Access Network and the Client Access Network on different virtual networks for production deployments.Figure. Network Configuration - Internal Access IPs and Client Access IPsClick to enlargeNote that all the IPs may not get used during the deployment. The number of IPs used depends on the size of your deployment. The unused IPs get reserved for future usage.You can view a list of deployed object stores, and the general and networking details of the object stores. For example, you can view the Client Access IPs for your deployment. For more information, see Viewing Object Store Deployments.Shared Versus Single NetworkYou can configure Objects to use a single network for all services or separate the subnets used for internal communications and client communications.Figure. Objects Network Architecture - Using Two Separate Networks (Internal and External)Click to enlargeFigure. Objects Network Architecture - Using One Network (Internal and External)Click to enlargeLimitationsThe following section lists the limitations for Objects.System LimitationsMaximum 240 TB storage capacity for each node is supported.Once an object store gets deployed, you cannot change the Data Services, Controller VM, Microservices Platform (MSP), and Prism Central IP addresses.Prism Central and Prism Element deregistration and reregistration is not supported.", "Heading_Keywords": ["deploy", "network", "prerequisit"]}, {"Heading": "Deployment Prerequisites", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-deployment-guidelines-r.html", "Document Name": "Objects User Guide", "Content": "Before deploying Object Store Services, review this section carefully to ensure you have met the prerequisites. This section combines prerequisites for sites with internet access (online) and dark site (offline) deployments. Unless specified, the requirements are for both online and dark site (offline) deployments.General RequirementsEnsure that your environment conforms to the following requirements before running Objects:Hypervisor is AHV.Prism Element and Prism Central version 5.11.2 or later running in your environment.Recommended browser: Google ChromeMinimum of three nodes in a cluster running AHV with 12 vCPUs and 36 GiB of memory in each node (recommended). You can also have a single node cluster running AHV with a minimum of 12 vCPUs and 36 GiB of memory. Note: It is not recommended to have one node or two node (worker nodes) deployments for production clusters. One or two node deployments are for test or POC use only.Objects use no more than 12 vCPUs for each AHV node.Ensure that no AHV host or Prism Element or Prism Central upgrade is in progress while deploying Objects.Ensure that the Object Store domain should be dedicated for the Object store deployment.For example, if the top level domain is mycompany.com, then the object store domain can be a sub domain such as testobjectstore.mycompany.com.Firewall must be enabled in Prism Element.Recommended that proxy should be able to reach the guest VM.Recommended to enable Pulse (only for site with Internet access). For an online installation, it is recommended to have a high speed and stable Internet connection. Note: Image download times out after 90 minutes and the deployment fails.Recommended to upgrade to the latest version of the MSP controller for deployment in a dark site. Refer to Microservices Platform (MSP).Ensure that the LCM web server is accessible from the Prism Element on which Objects is to be deployed in a dark site.Ensure that the LCM web server is accessible through the proxy, if set on Prism Central for the dark site deployment.Allow Prism Central and Prism Element to access the web server through port 80 for dark site deployment.Ensure to upgrade to MSP 1.0.5 or later versions and Objects 2.0 or later versions for expanding the object store cluster.Ensure to upgrade to Objects 2.1 or later versions for scaling out the object store cluster.Network RequirementsEnsure to configure the following network requirements before running Objects:Configure Domain Name Servers (DNS) on both Prism Element and Prism Central.Configure Network Time Protocol (NTP) servers on both Prism Element and Prism Central.Set up the Virtual IP address and the data services IP address on the Prism Element where you plan to deploy Objects.Ensure VLANs that are required internally for Object Store Services and externally for accessing the Object Store endpoints are configured on Prism Element correctly. Follow the guidelines provided in the Network Configuration section.Ensure that you have an Internet connectivity for both Prism Element and Prism Central for online deployment. If you do not have Internet, refer to Object Store Deployment at a Dark Site (Offline Deployment).URL and Port RequirementsNote: URLs are not required for the dark site deployment.The following URLs and ports are used by the Objects server: Prism Central must have access to download.nutanix.com, Amazon Elastic Container Registry (ECR) at 464585393164.dkr.ecr.us-west-2.amazonaws.com, api.ecr.us-west-2.amazonaws.com, and prod-us-west-2-starport-layer-bucket.s3.us-west-2.amazonaws.comGold image is downloaded from download.nutanix.com.Open the following ports:Note: Port 80 should be opened between the Prism Central and web server, and Prism Element and web server for dark site only.Table 1. Port RequirementsProtocolPort NumberSourceDestinationDirectionalityDescriptionTCP7301Prism Central hosting Objects Prism Central hosting Objects Bi-directionalThis port is opened on the Objects Manager running in the Prism Central to receive the manageability requests. This port is the proxy to other ports.TCP7302Prism Central hosting Objects Prism Central hosting Objects Bi-directionalThis port is opened on the Objects Manager running in the Prism Central to receive the manageability requests. This port is the proxy to Object Manager Leader in scale-out Prism Central.TCP81Prism Central hosting ObjectsLoad balancer VM (Internal and external network)Uni-directionalThis port is opened on the load balancer that directs traffic from the Objects Manager to the UI Gateway.TCP80External S3 clientsLoad balancer VM (External network)Uni-directionalThis port is the HTTP endpoint to access Objects. This port is opened on the load balancer that directs traffic to the Object Controller pod.TCP443External S3 clientsLoad balancer VM (External network)Uni-directionalThis port is the HTTPS endpoint to access Objects. This port is opened on the load balancer that directs traffic to the Object Controller pod.TCP443Prism Central hosting ObjectsLoad balancer VMsUni-directionalThis port is used by the Objects Manager to verify if the https server is up after replacing certificates.TCP2009Worker VMsPrism ElementUni-directionalThis port is opened for the data traffic from Object Controller pod to Stargate. The data services IP address needs to be permitted for this port.TCP22, 53, 443, 2379, 5000Prism Central hosting ObjectsWorker VMsUni-directionalThese ports are opened for the management traffic from Prism Central to Worker VMs.TCP3205, 3260Worker VMsPrism ElementUni-directionalThese ports are opened for the management traffic from Worker VMs to Prism Element. The data services IP address needs to be permitted for these ports.TCP9440Worker VMsPrism Central hosting ObjectsUni-directionalThis port is opened for the V3 API calls from the Worker VMs to Prism Central.Worker VMsPrism ElementUni-directionalThis port is opened for the V2 API calls from Worker VMs to Prism Element.TCP/UDPAny portWorker VMsWorker VMsBi-directionalThis port is opened for the data traffic from Worker VMs to Worker VMs. Within the network, all ports should be reachable.TCP31002Prism Central hosting ObjectsWorker VMsUni-directionalThis port is opened on the Worker VMs for the service registry registration.TCP5553, 81Prism Central hosting Objects, Worker VMsLoad balancer VMs (Internal and external network)Uni-directionalThis port is opened for the traffic from the Worker VMs and the service manager running on Prism Central to IAM (Identity and Access Manager) service through load balancers.TCP, UDP53Worker VMsName ServersUni-directionalThis port is opened on the Name Servers for the domain name resolution.TCP, UDP53Prism Central hosting ObjectsName ServersUni-directionalThis port is opened on all the Name Servers to receive the TCP packets from the Prism Central and used to determine the health of the Name Servers.UDP123Worker VMsNTP ServersUni-directionalThis port is opened on the NTP Servers to sync time on the worker VMs. This is not required if NTP Server configured on the Prism Central is local.Refer to the following diagram to understand Objects network architecture.Figure. Objects Network Diagram with PortsClick to enlarge", "Heading_Keywords": ["deploy", "prerequisit"]}, {"Heading": "Network Configuration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-network-configurations-r.html", "Document Name": "Objects User Guide", "Content": "You can configure and manage virtual networks through Prism Element and use these virtual networks to deploy an Object Store through Prism Central.Internal Access Network is a virtual network (with AHV IPAM enabled) used for internal communication between the components of an object store. Client Access Network is a virtual network (with AHV IPAM enabled) used by external clients to access the Object Store. Once you have successfully added these virtual networks in Prism Element, you can use these virtual networks to deploy an object store through Prism Central.For more information about network configurations, refer to Network Configuration for VM Interfaces in Prism Web Console Guide.The following section describes each of these networks in more detail:Internal Access Network: An Object Store uses this private virtual network to communicate between services. This virtual network must have a minimum of 14 IP addresses for each object store. Requirements of a virtual network used for an Object Store:AHV IPAM must be enabled. For more information, see Network Configuration for VM Interfaces in the Prism Web Console Guide.At least 12 IP addresses need to be available in the IPAM DHCP pool.Two static IP addresses outside the DHCP pool is required for each object store. Later while deploying the object store from Prism Central, use the static IP addresses for the Internal Access Network configuration based on the object store storage and resource requirements.Note: Objects internal services use the 10.100.0.0/16 and 10.200.0.0/16 subnets therefore the subnet used for internal interface IP addresses cannot conflict with either of these subnets.Client Access Network: An Object Store uses this virtual network (with AHV IPAM enabled) to allow access to the Object Store from external clients.Requirements of a virtual network that will run an Object Store:The virtual network must have AHV IPAM enabled. For more information, see Network Configuration for VM Interfaces in the Prism Web Console Guide.While configuring the virtual network, make sure you specify details such as VLAN ID, Network IP Address/Prefix Length, Gateway IP Address, and DNS Servers. Figure. Create Network Dialog Box Click to enlargeAt least four static IP addresses. Later while deploying an object store from Prism Central, use these four IP addresses for the client access network configuration based on the object store storage and resource requirements.Note: You can have two virtual networks, each for Internal Access Network and Client Access Network, but it is not required. You can have the Internal Access Network and the Client Access Network on the same virtual network. However, it is recommended to have the Internal Access Network and the Client Access Network on different virtual networks for production deployments.Figure. Network Configuration - Internal Access IPs and Client Access IPsClick to enlargeNote that all the IPs may not get used during the deployment. The number of IPs used depends on the size of your deployment. The unused IPs get reserved for future usage.You can view a list of deployed object stores, and the general and networking details of the object stores. For example, you can view the Client Access IPs for your deployment. For more information, see Viewing Object Store Deployments.Shared Versus Single NetworkYou can configure Objects to use a single network for all services or separate the subnets used for internal communications and client communications.Figure. Objects Network Architecture - Using Two Separate Networks (Internal and External)Click to enlargeFigure. Objects Network Architecture - Using One Network (Internal and External)Click to enlarge", "Heading_Keywords": ["network", "configur"]}, {"Heading": "Limitations", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-limitations-r.html", "Document Name": "Objects User Guide", "Content": "The following section lists the limitations for Objects.System LimitationsMaximum 240 TB storage capacity for each node is supported.Once an object store gets deployed, you cannot change the Data Services, Controller VM, Microservices Platform (MSP), and Prism Central IP addresses.Prism Central and Prism Element deregistration and reregistration is not supported.", "Heading_Keywords": ["limit"]}, {"Heading": "Object Store Service Deployment", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-deployment-prism-central-c.html", "Document Name": "Objects User Guide", "Content": "Objects is a highly available and distributed Object Store Service which can store petabytes of data.To start using Objects, you need to deploy the Object Store Service. Refer to Creating or Deploying an Object Store (Prism Central). You can also perform offline deployment (site without Internet access) of an object store. Refer to Object Store Deployment at a Dark Site (Offline Deployment).You can deploy multiple Object Store Services on a single Prism Element registered to a Prism Central, or you can register multiple Prism Elements to one Prism Central and deploy as many object stores on each of these Prism Elements provided you have sufficient storage.  You can do the following operations after deploying an object store service: Configure the directory and generate the access key. Refer to Directory Configuration and Access Key Generation.Create buckets within the object store. Refer to Creating and Configuring a BucketUpload objects and meta-data to the buckets by using the S3 APIs. Refer to Supported APIs.Note: After registering Prism Element to Prism Central, wait for 10 minutes before starting the deployment.Parallel Object Store Service deployments are not supported.If your deployment fails due to precheck failures, you can resume the deployment after fixing the configuration.Object Store Instance Naming ConventionsCreating or Deploying an Object Store (Prism Central)Before creating a bucket and uploading objects, you must deploy an object store. You can deploy multiple Object Store Services on a single Prism Element registered to a Prism Central, or you can deploy multiple object stores on each Prism Element accessible from Prism Central provided you have sufficient storage.Viewing Object Store DeploymentsYou can view a list of deployed object stores, and the general and networking details of the object stores.Deleting an Object StoreYou can delete both successful and failed object store deployments. However, for deletion of successful deployment, ensure to first delete the objects and buckets within that object store.Object Store Storage ExpansionScaling Out an Object StoreScaling out an object store enables you to add more resources to an existing object store cluster. You can scale out the CPU count and memory, and optionally, add more storage in addition to the current usage. Scale out uses an extra 10 vCPUs and 32 GiB memory.Setting up SSL Certificate for an Object StoreBy default, self-signed Secure Socket Layer (SSL) certificates are generated. If you have strong security requirements, you can replace the default certificate for the web server to securely connect to the web server while you use the https protocol. You can replace the certificates either by regenerating a self-signed certificate, or if you have a Certificate Authority (CA)-signed certificate, then you can import your private key and certificate files. When you replace the existing certificate, it removes the web browser certificate error warnings.Object Store Deployment at a Dark Site (Offline Deployment)Dark site deployment is a process for deploying Objects at a site without Internet access. Object Store Instance Naming ConventionsThe name of an object store must conform to the following rules:Be unique across all existing object store service names in Objects.Can contain alphanumeric or hyphen characters.Begin with a letter, and end with a letter or number.The hyphen is the only special character allowed.Minimum of 1 and a maximum of 16 characters long.Note: You cannot change the name after creating the object store. Creating or Deploying an Object Store (Prism Central)Before creating a bucket and uploading objects, you must deploy an object store. You can deploy multiple Object Store Services on a single Prism Element registered to a Prism Central, or you can deploy multiple object stores on each Prism Element accessible from Prism Central provided you have sufficient storage.Before you beginMake sure you satisfy the deployment prerequisites before starting the deployment. Refer to Deployment Prerequisites.About this taskNote: Objects 2.0 new deployments are only supported in AOS 5.11.2 and later versions.You cannot deploy a single Object Store Service across multiple Prism Elements.Deployment can take a minimum of 30 minutes.To create an object store, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.Click Create Object Store.In the Prerequisites window, click Continue if you fulfil the prerequisites.On the Name page, type an object store name and domain for reference, and then click Next. For guidelines on choosing a compliant name, refer to Object Store Naming Conventions.On the Configure page, you can configure the following properties.Figure. Configure an Object StoreClick to enlargeResources: Define the resources (vCPUs and memory) based on the desired performance.Note: Each VM is assigned 10 vCPUs and a DHCP IP address.A minimum of 10vCPUs and 32 GiB of memory is required.Each click on plus adds 10vCPUs and 32 GiB of memory.vCPU and memory are linked. vCPU has to be in multiple of 10 and memory in multiple of 32.You can select a predefined resource profile or enter custom values for vCPU and memory.When you select the Light (around 1000 requests per sec) performance, the estimated performance is light (around 1000 requests per sec) across all the deployed Objects worker nodes; total vCPUs are 34 and memory is 104 GiB. For light performance implementation, 6 static IP addresses and 7 DHCP IP addresses are required (1 IP address for each of 3 worker VMs and 2 load balancer VMs, and 2 master Virtual IP addresses).When you select the Medium (around 10,000 requests per sec) performance, the estimated performance is medium (around 10,000 requests per sec) across all the deployed Objects worker nodes; total vCPUs are 46 and memory is 140 GiB. For medium performance implementation, 6 static IP addresses and 9 DHCP IP addresses are required (1 IP address for each of 4 worker VMs and 3 load balancer VMs, and 2 master Virtual IP addresses).When you select the Heavy (around 20,000 requests per sec)  performance, the estimated performance is heavy (around 20,000 requests per sec) across all the deployed Objects worker nodes; total vCPUs are 58 and memory is 176 GiB. For heavy performance implementation, 6 static IP addresses and 11 DHCP IP addresses are required (1 IP address for each of 5 worker VMs and 4 load balancer VMs, and 2 master Virtual IP addresses). When you select the Custom performance, you can manually enter the total vCPUs and the total memory. You can enter in the multiple of 10 vCPUs (minimum 10 vCPUs and 32 GiB memory). For 10 and 20 vCPUs, additional 2 vCPUs and 4 GiB of memory is used for the load balancer. For 30 vCPUs, additional 4 vCPUs and 8 GiB of memory is used for the load balancer. For 40 vCPUs, additional 6 vCPUs and 12 GiB of memory is used for the load balancer. For 50 vCPUs and above, additional 8 vCPUs and 16 GiB of memory is used for the load balancer.Note: The profile settings do not guarantee a performance level.Capacity: Enter the desired capacity.Ensure that the available capacity of the physical cluster is sufficient.Click Next.On the Deploy page, do the following:Figure. Deploy an Object StoreClick to enlargeSelect a cluster on which you want to deploy the object store.Note: You can hover over the help icon to get more information about the respective fields.In Internal Access Network, select internal access networks.You need at least 12 free IP addresses in the DHCP pool.In Internal Access IPs, enter two internal access IP addresses separated by a comma.These IP addresses are within the internal access network.In Client Access Network, select client access networks.This VLAN should have at least four IP addresses in the usable IP address range. This network can be the same as the Internal Access Network. In the Client Access IPs, enter a minimum of four client access IP addresses separated by a comma or as an IP address range.These IP addresses are within the client access network and used to access the object store.For more information about network configurations, refer to Network Configuration.Click Deploy.Figure. Deployment StepsClick to enlargeYou can view the deployment progress in percentage and each step in the grid by hovering over the loading icon.Note: You must use an encrypted cluster for encrypting the bucket.What to do nextAfter deploying the object store, you can perform the following:Configure directory and generate access key. Refer to Directory Configuration and Access Key Generation.Access the endpoint provided as part of Client Access Network (S3 Endpoints) by using HTTP or HTTPS. Refer to Access Objects Endpoints.Create and configure buckets. Refer to Creating and Configuring a Bucket.Create objects using S3 APIs. Refer to Supported S3 APIsExpand the object store storage. Refer to Expanding Storage for an Object StoreShare buckets. Refer to Sharing a Bucket.Viewing Object Store DeploymentsYou can view a list of deployed object stores, and the general and networking details of the object stores.About this taskTo view the object store, do the following:ProcedureLog on to the Prism Central web console.Click the Entity menu > Services > Objects. Figure. Object Stores List ViewClick to enlargeA list of existing object stores appears. The following steps describe the fields that appear in the object store table. You can click on the name of an object store to open the object store in a new window. You can click Focus to view the General or Networking details of an object store. A dash (-) is displayed in the field when a value is not available or applicable.General view:Name: Displays the name of the object store.Version: Displays the version of Objects in which the object store was created.Domain: Displays the domain of the object store.Nodes: Displays the number of nodes of the object store.Usage: Displays the object store usage in GiB or TiB.Buckets: Displays the number of buckets in an object store.Objects: Displays the number of objects in an object store.Alerts: Displays the alerts for a particular object store. For more information, refer to Viewing Alerts.Client Access IPs: Displays the endpoints or the IP addresses used by the client.You can access these endpoints by using http and https protocols. For more information, refer to Access Objects Endpoints.Networking view:Name: Displays the name of the object store.Cluster: Displays the cluster in which object store is deployed.Client Access Network: Displays the VLAN required for accessing Object Store endpoints externally.Client Configured IPs: Displays the client configured IP address.Internal Access Network: Displays the VLAN required internally for deploying Object Store Services on Prism Element.Internal Configured IPs: Displays the internal configured IP addresses.For information about Network Configurations, refer to Network Configuration.Access Objects EndpointsAccess Objects EndpointsObjects endpoints are the entry point to Objects. You can access these endpoints by using the http or https protocols through any third party clients which support S3 APIs.Accessing Buckets and Objects within an Object Store InstanceObjects supports path-style and virtual hosted-style bucket access.Path-Style Access: The path-style syntax requires that you use the endpoint when attempting to access a bucket, and the request specifies a bucket by using the first slash-delimited component of the Request-URI path.For example, if you have a bucket with bucket name as bucket-name and the object name as example.jpg, and you want to use the path-style syntax. Following is the correct request:PUT /bucket-name/example.jpg HTTP/1.1\nHost: object-store-name.domain-nameVirtual Hosted-Style Access: The virtual hosted-style syntax is used to address a bucket in a REST API call by using the HTTP Host header. This method requires the bucket name to be DNS-compliant. For example, if you have a bucket with bucket name as bucket-name and the object name as example.jpg, and you want to use the virtual hosted-style. Following is the correct request:PUT /example.jpg HTTP/1.1\nHost: bucket-name.object-store-name.domain-nameFor virtual hosted-style access, whitelist the Objects FQDN in the DNS server with the wild card whitelists. For example, following are the expected DNS entries for the Objects endpoint.objects.subdomain.example.com.        IN      A       192.168.5.101\nobjects.subdomain.example.com.        IN      A       192.168.5.102\nobjects.subdomain.example.com.        IN      A       192.168.5.103\nobjects.subdomain.example.com.        IN      A       192.168.5.104\n*.objects.subdomain.example.com.      IN      A       192.168.5.101\n*.objects.subdomain.example.com.      IN      A       192.168.5.102\n*.objects.subdomain.example.com.      IN      A       192.168.5.103\n*.objects.subdomain.example.com.      IN      A       192.168.5.104Deleting an Object StoreYou can delete both successful and failed object store deployments. However, for deletion of successful deployment, ensure to first delete the objects and buckets within that object store.About this taskNote: Deployments in progress cannot be deleted.You cannot delete the primary cluster without deleting the secondary cluster as the primary object store cluster hosts all the common services. To delete the primary cluster, ensure all the secondary clusters are deleted.Multicluster containers are not deleted on secondary Prism Elements if the objects deployment is not successful.If a failure occurs while replacing an SSL certificate for an object store, you can only try replacing the SSL certificate again. You cannot delete that object store deployment. To delete an object store deployment, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. In the Object Store table, select the object store which you want to delete, and then click Delete.Figure. Delete Object Store WindowClick to enlargeOn the dialog box, click Confirm.A message appears to confirm the object store deletion. Object Store Storage ExpansionIf your existing object store storage is less than 85% full or you want to use a different cluster for object store storage, you can expand the storage of your object store cluster by adding new nodes to the existing cluster or by adding additional clusters.For example, if you have an object store deployed on a 10 TB cluster named Cluster1 and your storage is almost or less than 8.5 TB full, then you can add some other new clusters or existing clusters (such as Cluster2 and Cluster3) if they have unused storage to the object store for saving your data. In this example, Cluster1 is the primary cluster on which the object store was initially deployed and hosts the worker VMs for object store. Cluster2 and Cluster3 are secondary clusters that are later added for capacity expansion.For example, if you have an object store deployed on a 10 TB cluster named Cluster1 and your storage is almost or less than 8.5 TB full, then you can add a new cluster or create additional Object Store Services on existing clusters if they have sufficient storage capacity. In this example, Cluster1 is the existing cluster on which the object store was initially deployed and hosts the worker VMs for object store. Cluster2 and Cluster3 are secondary clusters that are later added for capacity expansion.Expanding Storage for an Object StoreExpanding Storage for an Object StoreBefore you beginFollowing are the requirements to add a new cluster to an existing object store.Ensure to upgrade to MSP 1.0.5 and Objects 2.0 before expanding the object store cluster.Ensure that the new clusters are registered to the same Prism Central cluster where the object store is deployed.Primary and secondary clusters should have versions greater than AOS 5.11.2.Up to 4 secondary clusters are supported.VMware ESXi and Nutanix AHV clusters are supported. Microsoft Hyper-V cluster is not supported.Data services IP address must be configured in each secondary cluster.Firewall must be running on the CVMs in the cluster.Maximum latency required for adding secondary clusters is less than 5 milliseconds.Note: You cannot add secondary clusters if the primary cluster is full. You should add the secondary clusters before the primary storage reaches 80% of the total capacity.Caution: Primary or secondary clusters cannot be removed once successfully added to an object store.About this taskTo expand the object store storage, do the following:ProcedureLog on to the Prism Central web console.Click the Entity menu > Services > Objects. Click the name of the object store for which you want to expand the storage.Figure. Object Stores List ViewClick to enlargeThe object store opens on a new window.Click Clusters.Figure. Object Store Clusters ListClick to enlargeNote: You can expand your object store cluster by adding one secondary cluster at a time.The table lists the Usage, Max Usable and Free Capacity of the cluster. All the capacities listed are physical capacities, not logical.Usage (Physical): Physical capacity used by this object store on the cluster.Max Usable (Physical): Maximum physical capacity on the cluster can be used by this object store. This is calculated as the total physical capacity of the cluster * any limit set for this cluster - capacity used by other workloads. Your available capacity might be less than you planned for as other workloads are taking up the space.Free Capacity (Physical): Additional capacity the object store can consume on this cluster within the specified limit. It is possible that there might not be free capacity available for the object store to consume even if current consumed capacity is less than max usable since there may be other workloads consuming capacity from this cluster. For example, Cluster A is a primary cluster with 10 TB as the total capacity. No hard limit can be set on this cluster as it is a primary cluster. So, the Max Usable Physical Capacity of this object store cluster is 10 TB. However, the current object store usage is 5 TB and other workloads usage is 2 TB. So, the additional Physical Free Capacity available for the object store is 3 TB. However, in case of Cluster B which is the secondary cluster with total capacity as 15 TB, the hard limit is 50%. So, the Max Usable Physical Capacity of this object store cluster is 50 % * 15 TB = 7.5 TB. However, the current object store usage is 2 TB and other workloads usage is 10 TB. So, the additional Physical Free Capacity available for the object store should be 5.5 TB, but as the the other workloads consume 2.5 TB of the Max Usable Physical Capacity of the object store, so the remaining Physical Free Capacity available for the object store is only 3 TB. So, other workloads can consume the Max Usable Physical Capacity of the object store; however, an object store cannot go beyond the set limit.Your primary cluster where the object store is deployed will be displayed in the table and this cluster cannot be removed. You can also view the free and used storage space.Click Add Clusters.Note: Once you have added 4 secondary clusters, the Add Clusters button will be disabled.A list of clusters registered to the Prism Central will be displayed. Hypervisor type, total capacity and free capacity of the clusters will also be displayed. However, the clusters that are already added as secondary clusters to an object store will not be displayed.Once you select the cluster, under Set up hard limit section, select the usage limit in percentage, or select Custom and enter a custom limit for an object store, and then click Done.This limits the object store to use a maximum capacity on the selected cluster. If you exceed the limit, an alert is generated.Figure. Setting Up Hard LimitClick to enlargeYou can change the limit once a secondary cluster is added by clicking Update Limit. You cannot update the limit for the primary cluster.Figure. Setting Up Hard LimitClick to enlargeA new cluster is added to the object store. If any secondary cluster addition fails, you can remove that cluster. You can see the storage usage of the cluster in a bar. This bar changes color from green to yellow to red to reflect the usage status of storage. You can also see the usage of these clusters in the Usage tab. For more information, refer to Viewing Object Store Usage.Note: It will take a minute to add a new cluster.Scaling Out an Object StoreScaling out an object store enables you to add more resources to an existing object store cluster. You can scale out the CPU count and memory, and optionally, add more storage in addition to the current usage. Scale out uses an extra 10 vCPUs and 32 GiB memory.Before you beginMake sure that you have at least a three-node cluster for performing scale out.Make sure that physical resources are available.About this taskObjects version lower than Objects 2.1 does not support scale out. Upgrade Objects to the latest version to use the scale out feature.You can scale out one node at a time.During scale out of an object store, no disruption happens. You can launch the object store during scale out.If physical resources (VMs) are deployed, rollback is not supported. However, if deployment of physical resources fails or if deployment fails prior to deploying physical resources and your cluster is not scaling, you can roll back. For rolling back scale out of object store, contact Nutanix Support at http://portal.nutanix.com. To scale out an object store, do the following:ProcedureLog on to the Prism Central web console.Click the Entity menu > Services > Objects. In the object store table, select the object store that you want to scale out, and then click Scale Out.Figure. Object Store Selection for Scale OutClick to enlargeThe Scale Out window appears.(Optional) Click Update Storage check box to add more storage to the current usage, and enter the required storage in Storage Consumption.Figure. Scale Out WindowClick to enlargeNote: Objects generates an alert if the logical usage of your object store reaches 90% of the specified value.For more information about alerts, refer to Viewing Alerts.Click Add.The object store is now scaling out. This process takes about 5\u201310 minutes. You can track step by step deployment progress with scale out workflow progress for the object store.Figure. Object Store Scale Out ProgressClick to enlargeOnce the object store scale out is completed, new node is added to the object store.Figure. Scaled Out Object StoreClick to enlargeSetting up SSL Certificate for an Object StoreBy default, self-signed Secure Socket Layer (SSL) certificates are generated. If you have strong security requirements, you can replace the default certificate for the web server to securely connect to the web server while you use the https protocol. You can replace the certificates either by regenerating a self-signed certificate, or if you have a Certificate Authority (CA)-signed certificate, then you can import your private key and certificate files. When you replace the existing certificate, it removes the web browser certificate error warnings.Before you beginEnsure that you have met the following requirements:The private key should be RSA key type with key size 2048- or 4096-bit. Contents of the private key can be in PKCS#1 standard, unencrypted PKCS#8 standard, and PEM format.The provided public certificate must be signed by the provided CA.The public certificate must have the FQDN of the Object Store Service along with the wild card in either CN or SAN. For example, if the object store name is objects-2019 and domain is companyname.com, then the FQDN should be objects-2019.companyname.com. Then, the certificate must have *.objects-2019.companyname.com, objects-2019.companyname.com.About this taskTo set the SSL certificate, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Select the object store for which you want to set the certificate.Click Replace SSL Cert.In the Replace SSL Certificate window, select one of the following:Figure. Replace SSL Certificate WindowClick to enlargeBy regenerating self signed certificate: Uses RSA 2048 bit as the private key type.A self signed certificate is a certificate signed by the same entity that verifies the certificate.By importing key and certificate: Upload your private key and certificate files.Private Key: Click Upload to upload the private key.This key is used to decrypt the message.Public Certificate: Click Upload to upload the public certificate.A public key certificate is an electronic document used to prove the ownership of a public key. The certificate includes information about the key, information about the identity of its owner (called the subject), and the digital signature of an entity that has verified the contents of the certificate (called the issuer).CA Certificate/Chain: Upload the CA certificate.A certificate chain is the certificate of a particular CA, plus the certificates of any higher CAs up through the root CAClick Replace.The default SSL certificate is replaced.Object Store Deployment at a Dark Site (Offline Deployment)Dark site deployment is a process for deploying Objects at a site without Internet access. Before you beginMake sure you satisfy the deployment prerequisites before starting the deployment. Refer to Deployment Prerequisites.About this taskTo deploy an object store in a dark site, do the following:ProcedureFrom a device that has public Internet access, go to Nutanix Portal and select Entity Menu > Downloads > Tools & Firmware. Download the LCM Dark Site Bundle tar file.Set up a web server, and upload LCM Dark Site Bundle to the server and extract the files in a directory in the base of a web server.For example, you can create a directory name release and extract the files in this directory.KB 5901 describes several examples of setting up a web server.Note: Set the following mime types in the LCM web server when you are using Windows Web Server:.json.xz.qcow2.sign.gzIn step 13 of the KB 5901, use the latest LCM Dark Site Bundle.From a device that has public Internet access, go to Nutanix Portal and select Entity Menu > Downloads > Nutanix Objects. Download the Nutanix Compatibility nutanix_compatibility.tgz and its signature nutanix_compatibility.tgz.sign files.Transfer the compatibility and its signature tar files to your web server and replace the existing compatibility files with the new files.From a device that has public Internet access, go to Nutanix Portal and select Downloads > Nutanix Objects. Choose the required version and download objects-x.x.tar.gz tar file.x.x represents the Nutanix Objects version.Transfer the objects-x.x.tar.gz tar files to the web server and extract the files in a directory in the base of a web server.For example, you can create a directory name release and extract the files in this directory.Enable Objects to start the msp-controller on Prism Central. Refer to Enabling Objects.Note: MSP Controller version should be 1.0.3 or later. If the MSP Controller version is below 1.0.3, upgrade the MSP Controller. (Optional) Check the MSP Controller version and upgrade the MSP Controller to 1.0.3.For more information on checking the version and performing upgrade of MSP Controller, refer to Microservices Platform (MSP).To configure the dark site on MSP, SSH into the Prim Central VM as an admin user and run the following command.admin@pcvm$ mspctl airgap --enable --lcm-server=http://x.x.x.x/directorynamex.x.x.x is the IP address of the LCM web server and directoryname is the name of the directory where the packages were extracted.For example, admin@pcvm$ mspctl airgap --enable --lcm-server=http://10.48.111.33/release. Here, 10.48.111.33 is the IP address of the LCM web server and release is the name of the directory where the packages were extracted.To verify the configuration, run the following command.admin@pcvm$ mspctl airgap --statusDeploy an object store through Prism Central. Refer to Creating or Deploying an Object Store (Prism Central)", "Heading_Keywords": ["object", "store", "servic", "deploy"]}, {"Heading": "Object Store Instance Naming Conventions", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-os-naming-conventions-c.html", "Document Name": "Objects User Guide", "Content": "The name of an object store must conform to the following rules:Be unique across all existing object store service names in Objects.Can contain alphanumeric or hyphen characters.Begin with a letter, and end with a letter or number.The hyphen is the only special character allowed.Minimum of 1 and a maximum of 16 characters long.Note: You cannot change the name after creating the object store. ", "Heading_Keywords": ["object", "store", "instanc", "name", "convent"]}, {"Heading": "Creating or Deploying an Object Store (Prism Central)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-object-store-deployment-t.html", "Document Name": "Objects User Guide", "Content": "Before creating a bucket and uploading objects, you must deploy an object store. You can deploy multiple Object Store Services on a single Prism Element registered to a Prism Central, or you can deploy multiple object stores on each Prism Element accessible from Prism Central provided you have sufficient storage.Before you beginMake sure you satisfy the deployment prerequisites before starting the deployment. Refer to Deployment Prerequisites.About this taskNote: Objects 2.0 new deployments are only supported in AOS 5.11.2 and later versions.You cannot deploy a single Object Store Service across multiple Prism Elements.Deployment can take a minimum of 30 minutes.To create an object store, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.Click Create Object Store.In the Prerequisites window, click Continue if you fulfil the prerequisites.On the Name page, type an object store name and domain for reference, and then click Next. For guidelines on choosing a compliant name, refer to Object Store Naming Conventions.On the Configure page, you can configure the following properties.Figure. Configure an Object StoreClick to enlargeResources: Define the resources (vCPUs and memory) based on the desired performance.Note: Each VM is assigned 10 vCPUs and a DHCP IP address.A minimum of 10vCPUs and 32 GiB of memory is required.Each click on plus adds 10vCPUs and 32 GiB of memory.vCPU and memory are linked. vCPU has to be in multiple of 10 and memory in multiple of 32.You can select a predefined resource profile or enter custom values for vCPU and memory.When you select the Light (around 1000 requests per sec) performance, the estimated performance is light (around 1000 requests per sec) across all the deployed Objects worker nodes; total vCPUs are 34 and memory is 104 GiB. For light performance implementation, 6 static IP addresses and 7 DHCP IP addresses are required (1 IP address for each of 3 worker VMs and 2 load balancer VMs, and 2 master Virtual IP addresses).When you select the Medium (around 10,000 requests per sec) performance, the estimated performance is medium (around 10,000 requests per sec) across all the deployed Objects worker nodes; total vCPUs are 46 and memory is 140 GiB. For medium performance implementation, 6 static IP addresses and 9 DHCP IP addresses are required (1 IP address for each of 4 worker VMs and 3 load balancer VMs, and 2 master Virtual IP addresses).When you select the Heavy (around 20,000 requests per sec)  performance, the estimated performance is heavy (around 20,000 requests per sec) across all the deployed Objects worker nodes; total vCPUs are 58 and memory is 176 GiB. For heavy performance implementation, 6 static IP addresses and 11 DHCP IP addresses are required (1 IP address for each of 5 worker VMs and 4 load balancer VMs, and 2 master Virtual IP addresses). When you select the Custom performance, you can manually enter the total vCPUs and the total memory. You can enter in the multiple of 10 vCPUs (minimum 10 vCPUs and 32 GiB memory). For 10 and 20 vCPUs, additional 2 vCPUs and 4 GiB of memory is used for the load balancer. For 30 vCPUs, additional 4 vCPUs and 8 GiB of memory is used for the load balancer. For 40 vCPUs, additional 6 vCPUs and 12 GiB of memory is used for the load balancer. For 50 vCPUs and above, additional 8 vCPUs and 16 GiB of memory is used for the load balancer.Note: The profile settings do not guarantee a performance level.Capacity: Enter the desired capacity.Ensure that the available capacity of the physical cluster is sufficient.Click Next.On the Deploy page, do the following:Figure. Deploy an Object StoreClick to enlargeSelect a cluster on which you want to deploy the object store.Note: You can hover over the help icon to get more information about the respective fields.In Internal Access Network, select internal access networks.You need at least 12 free IP addresses in the DHCP pool.In Internal Access IPs, enter two internal access IP addresses separated by a comma.These IP addresses are within the internal access network.In Client Access Network, select client access networks.This VLAN should have at least four IP addresses in the usable IP address range. This network can be the same as the Internal Access Network. In the Client Access IPs, enter a minimum of four client access IP addresses separated by a comma or as an IP address range.These IP addresses are within the client access network and used to access the object store.For more information about network configurations, refer to Network Configuration.Click Deploy.Figure. Deployment StepsClick to enlargeYou can view the deployment progress in percentage and each step in the grid by hovering over the loading icon.Note: You must use an encrypted cluster for encrypting the bucket.What to do nextAfter deploying the object store, you can perform the following:Configure directory and generate access key. Refer to Directory Configuration and Access Key Generation.Access the endpoint provided as part of Client Access Network (S3 Endpoints) by using HTTP or HTTPS. Refer to Access Objects Endpoints.Create and configure buckets. Refer to Creating and Configuring a Bucket.Create objects using S3 APIs. Refer to Supported S3 APIsExpand the object store storage. Refer to Expanding Storage for an Object StoreShare buckets. Refer to Sharing a Bucket.", "Heading_Keywords": ["creat", "deploy", "object", "store", "prism", "central"]}, {"Heading": "Viewing Object Store Deployments", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-view-os-t.html", "Document Name": "Objects User Guide", "Content": "You can view a list of deployed object stores, and the general and networking details of the object stores.About this taskTo view the object store, do the following:ProcedureLog on to the Prism Central web console.Click the Entity menu > Services > Objects. Figure. Object Stores List ViewClick to enlargeA list of existing object stores appears. The following steps describe the fields that appear in the object store table. You can click on the name of an object store to open the object store in a new window. You can click Focus to view the General or Networking details of an object store. A dash (-) is displayed in the field when a value is not available or applicable.General view:Name: Displays the name of the object store.Version: Displays the version of Objects in which the object store was created.Domain: Displays the domain of the object store.Nodes: Displays the number of nodes of the object store.Usage: Displays the object store usage in GiB or TiB.Buckets: Displays the number of buckets in an object store.Objects: Displays the number of objects in an object store.Alerts: Displays the alerts for a particular object store. For more information, refer to Viewing Alerts.Client Access IPs: Displays the endpoints or the IP addresses used by the client.You can access these endpoints by using http and https protocols. For more information, refer to Access Objects Endpoints.Networking view:Name: Displays the name of the object store.Cluster: Displays the cluster in which object store is deployed.Client Access Network: Displays the VLAN required for accessing Object Store endpoints externally.Client Configured IPs: Displays the client configured IP address.Internal Access Network: Displays the VLAN required internally for deploying Object Store Services on Prism Element.Internal Configured IPs: Displays the internal configured IP addresses.For information about Network Configurations, refer to Network Configuration.Access Objects EndpointsAccess Objects EndpointsObjects endpoints are the entry point to Objects. You can access these endpoints by using the http or https protocols through any third party clients which support S3 APIs.Accessing Buckets and Objects within an Object Store InstanceObjects supports path-style and virtual hosted-style bucket access.Path-Style Access: The path-style syntax requires that you use the endpoint when attempting to access a bucket, and the request specifies a bucket by using the first slash-delimited component of the Request-URI path.For example, if you have a bucket with bucket name as bucket-name and the object name as example.jpg, and you want to use the path-style syntax. Following is the correct request:PUT /bucket-name/example.jpg HTTP/1.1\nHost: object-store-name.domain-nameVirtual Hosted-Style Access: The virtual hosted-style syntax is used to address a bucket in a REST API call by using the HTTP Host header. This method requires the bucket name to be DNS-compliant. For example, if you have a bucket with bucket name as bucket-name and the object name as example.jpg, and you want to use the virtual hosted-style. Following is the correct request:PUT /example.jpg HTTP/1.1\nHost: bucket-name.object-store-name.domain-nameFor virtual hosted-style access, whitelist the Objects FQDN in the DNS server with the wild card whitelists. For example, following are the expected DNS entries for the Objects endpoint.objects.subdomain.example.com.        IN      A       192.168.5.101\nobjects.subdomain.example.com.        IN      A       192.168.5.102\nobjects.subdomain.example.com.        IN      A       192.168.5.103\nobjects.subdomain.example.com.        IN      A       192.168.5.104\n*.objects.subdomain.example.com.      IN      A       192.168.5.101\n*.objects.subdomain.example.com.      IN      A       192.168.5.102\n*.objects.subdomain.example.com.      IN      A       192.168.5.103\n*.objects.subdomain.example.com.      IN      A       192.168.5.104", "Heading_Keywords": ["view", "object", "store", "deploy"]}, {"Heading": "Access Objects Endpoints", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-access-endpoint-c.html", "Document Name": "Objects User Guide", "Content": "Objects endpoints are the entry point to Objects. You can access these endpoints by using the http or https protocols through any third party clients which support S3 APIs.Accessing Buckets and Objects within an Object Store InstanceObjects supports path-style and virtual hosted-style bucket access.Path-Style Access: The path-style syntax requires that you use the endpoint when attempting to access a bucket, and the request specifies a bucket by using the first slash-delimited component of the Request-URI path.For example, if you have a bucket with bucket name as bucket-name and the object name as example.jpg, and you want to use the path-style syntax. Following is the correct request:PUT /bucket-name/example.jpg HTTP/1.1\nHost: object-store-name.domain-nameVirtual Hosted-Style Access: The virtual hosted-style syntax is used to address a bucket in a REST API call by using the HTTP Host header. This method requires the bucket name to be DNS-compliant. For example, if you have a bucket with bucket name as bucket-name and the object name as example.jpg, and you want to use the virtual hosted-style. Following is the correct request:PUT /example.jpg HTTP/1.1\nHost: bucket-name.object-store-name.domain-nameFor virtual hosted-style access, whitelist the Objects FQDN in the DNS server with the wild card whitelists. For example, following are the expected DNS entries for the Objects endpoint.objects.subdomain.example.com.        IN      A       192.168.5.101\nobjects.subdomain.example.com.        IN      A       192.168.5.102\nobjects.subdomain.example.com.        IN      A       192.168.5.103\nobjects.subdomain.example.com.        IN      A       192.168.5.104\n*.objects.subdomain.example.com.      IN      A       192.168.5.101\n*.objects.subdomain.example.com.      IN      A       192.168.5.102\n*.objects.subdomain.example.com.      IN      A       192.168.5.103\n*.objects.subdomain.example.com.      IN      A       192.168.5.104", "Heading_Keywords": ["access", "object", "endpoint"]}, {"Heading": "Deleting an Object Store", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-delete-objectstore-t.html", "Document Name": "Objects User Guide", "Content": "You can delete both successful and failed object store deployments. However, for deletion of successful deployment, ensure to first delete the objects and buckets within that object store.About this taskNote: Deployments in progress cannot be deleted.You cannot delete the primary cluster without deleting the secondary cluster as the primary object store cluster hosts all the common services. To delete the primary cluster, ensure all the secondary clusters are deleted.Multicluster containers are not deleted on secondary Prism Elements if the objects deployment is not successful.If a failure occurs while replacing an SSL certificate for an object store, you can only try replacing the SSL certificate again. You cannot delete that object store deployment. To delete an object store deployment, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. In the Object Store table, select the object store which you want to delete, and then click Delete.Figure. Delete Object Store WindowClick to enlargeOn the dialog box, click Confirm.A message appears to confirm the object store deletion. ", "Heading_Keywords": ["delet", "object", "store"]}, {"Heading": "Object Store Storage Expansion", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-expand-os-storage-c.html", "Document Name": "Objects User Guide", "Content": "If your existing object store storage is less than 85% full or you want to use a different cluster for object store storage, you can expand the storage of your object store cluster by adding new nodes to the existing cluster or by adding additional clusters.For example, if you have an object store deployed on a 10 TB cluster named Cluster1 and your storage is almost or less than 8.5 TB full, then you can add some other new clusters or existing clusters (such as Cluster2 and Cluster3) if they have unused storage to the object store for saving your data. In this example, Cluster1 is the primary cluster on which the object store was initially deployed and hosts the worker VMs for object store. Cluster2 and Cluster3 are secondary clusters that are later added for capacity expansion.For example, if you have an object store deployed on a 10 TB cluster named Cluster1 and your storage is almost or less than 8.5 TB full, then you can add a new cluster or create additional Object Store Services on existing clusters if they have sufficient storage capacity. In this example, Cluster1 is the existing cluster on which the object store was initially deployed and hosts the worker VMs for object store. Cluster2 and Cluster3 are secondary clusters that are later added for capacity expansion.Expanding Storage for an Object StoreExpanding Storage for an Object StoreBefore you beginFollowing are the requirements to add a new cluster to an existing object store.Ensure to upgrade to MSP 1.0.5 and Objects 2.0 before expanding the object store cluster.Ensure that the new clusters are registered to the same Prism Central cluster where the object store is deployed.Primary and secondary clusters should have versions greater than AOS 5.11.2.Up to 4 secondary clusters are supported.VMware ESXi and Nutanix AHV clusters are supported. Microsoft Hyper-V cluster is not supported.Data services IP address must be configured in each secondary cluster.Firewall must be running on the CVMs in the cluster.Maximum latency required for adding secondary clusters is less than 5 milliseconds.Note: You cannot add secondary clusters if the primary cluster is full. You should add the secondary clusters before the primary storage reaches 80% of the total capacity.Caution: Primary or secondary clusters cannot be removed once successfully added to an object store.About this taskTo expand the object store storage, do the following:ProcedureLog on to the Prism Central web console.Click the Entity menu > Services > Objects. Click the name of the object store for which you want to expand the storage.Figure. Object Stores List ViewClick to enlargeThe object store opens on a new window.Click Clusters.Figure. Object Store Clusters ListClick to enlargeNote: You can expand your object store cluster by adding one secondary cluster at a time.The table lists the Usage, Max Usable and Free Capacity of the cluster. All the capacities listed are physical capacities, not logical.Usage (Physical): Physical capacity used by this object store on the cluster.Max Usable (Physical): Maximum physical capacity on the cluster can be used by this object store. This is calculated as the total physical capacity of the cluster * any limit set for this cluster - capacity used by other workloads. Your available capacity might be less than you planned for as other workloads are taking up the space.Free Capacity (Physical): Additional capacity the object store can consume on this cluster within the specified limit. It is possible that there might not be free capacity available for the object store to consume even if current consumed capacity is less than max usable since there may be other workloads consuming capacity from this cluster. For example, Cluster A is a primary cluster with 10 TB as the total capacity. No hard limit can be set on this cluster as it is a primary cluster. So, the Max Usable Physical Capacity of this object store cluster is 10 TB. However, the current object store usage is 5 TB and other workloads usage is 2 TB. So, the additional Physical Free Capacity available for the object store is 3 TB. However, in case of Cluster B which is the secondary cluster with total capacity as 15 TB, the hard limit is 50%. So, the Max Usable Physical Capacity of this object store cluster is 50 % * 15 TB = 7.5 TB. However, the current object store usage is 2 TB and other workloads usage is 10 TB. So, the additional Physical Free Capacity available for the object store should be 5.5 TB, but as the the other workloads consume 2.5 TB of the Max Usable Physical Capacity of the object store, so the remaining Physical Free Capacity available for the object store is only 3 TB. So, other workloads can consume the Max Usable Physical Capacity of the object store; however, an object store cannot go beyond the set limit.Your primary cluster where the object store is deployed will be displayed in the table and this cluster cannot be removed. You can also view the free and used storage space.Click Add Clusters.Note: Once you have added 4 secondary clusters, the Add Clusters button will be disabled.A list of clusters registered to the Prism Central will be displayed. Hypervisor type, total capacity and free capacity of the clusters will also be displayed. However, the clusters that are already added as secondary clusters to an object store will not be displayed.Once you select the cluster, under Set up hard limit section, select the usage limit in percentage, or select Custom and enter a custom limit for an object store, and then click Done.This limits the object store to use a maximum capacity on the selected cluster. If you exceed the limit, an alert is generated.Figure. Setting Up Hard LimitClick to enlargeYou can change the limit once a secondary cluster is added by clicking Update Limit. You cannot update the limit for the primary cluster.Figure. Setting Up Hard LimitClick to enlargeA new cluster is added to the object store. If any secondary cluster addition fails, you can remove that cluster. You can see the storage usage of the cluster in a bar. This bar changes color from green to yellow to red to reflect the usage status of storage. You can also see the usage of these clusters in the Usage tab. For more information, refer to Viewing Object Store Usage.Note: It will take a minute to add a new cluster.", "Heading_Keywords": ["object", "store", "storag", "expans"]}, {"Heading": "Expanding Storage for an Object Store", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-expand-objectstore-storage-t.html", "Document Name": "Objects User Guide", "Content": "Before you beginFollowing are the requirements to add a new cluster to an existing object store.Ensure to upgrade to MSP 1.0.5 and Objects 2.0 before expanding the object store cluster.Ensure that the new clusters are registered to the same Prism Central cluster where the object store is deployed.Primary and secondary clusters should have versions greater than AOS 5.11.2.Up to 4 secondary clusters are supported.VMware ESXi and Nutanix AHV clusters are supported. Microsoft Hyper-V cluster is not supported.Data services IP address must be configured in each secondary cluster.Firewall must be running on the CVMs in the cluster.Maximum latency required for adding secondary clusters is less than 5 milliseconds.Note: You cannot add secondary clusters if the primary cluster is full. You should add the secondary clusters before the primary storage reaches 80% of the total capacity.Caution: Primary or secondary clusters cannot be removed once successfully added to an object store.About this taskTo expand the object store storage, do the following:ProcedureLog on to the Prism Central web console.Click the Entity menu > Services > Objects. Click the name of the object store for which you want to expand the storage.Figure. Object Stores List ViewClick to enlargeThe object store opens on a new window.Click Clusters.Figure. Object Store Clusters ListClick to enlargeNote: You can expand your object store cluster by adding one secondary cluster at a time.The table lists the Usage, Max Usable and Free Capacity of the cluster. All the capacities listed are physical capacities, not logical.Usage (Physical): Physical capacity used by this object store on the cluster.Max Usable (Physical): Maximum physical capacity on the cluster can be used by this object store. This is calculated as the total physical capacity of the cluster * any limit set for this cluster - capacity used by other workloads. Your available capacity might be less than you planned for as other workloads are taking up the space.Free Capacity (Physical): Additional capacity the object store can consume on this cluster within the specified limit. It is possible that there might not be free capacity available for the object store to consume even if current consumed capacity is less than max usable since there may be other workloads consuming capacity from this cluster. For example, Cluster A is a primary cluster with 10 TB as the total capacity. No hard limit can be set on this cluster as it is a primary cluster. So, the Max Usable Physical Capacity of this object store cluster is 10 TB. However, the current object store usage is 5 TB and other workloads usage is 2 TB. So, the additional Physical Free Capacity available for the object store is 3 TB. However, in case of Cluster B which is the secondary cluster with total capacity as 15 TB, the hard limit is 50%. So, the Max Usable Physical Capacity of this object store cluster is 50 % * 15 TB = 7.5 TB. However, the current object store usage is 2 TB and other workloads usage is 10 TB. So, the additional Physical Free Capacity available for the object store should be 5.5 TB, but as the the other workloads consume 2.5 TB of the Max Usable Physical Capacity of the object store, so the remaining Physical Free Capacity available for the object store is only 3 TB. So, other workloads can consume the Max Usable Physical Capacity of the object store; however, an object store cannot go beyond the set limit.Your primary cluster where the object store is deployed will be displayed in the table and this cluster cannot be removed. You can also view the free and used storage space.Click Add Clusters.Note: Once you have added 4 secondary clusters, the Add Clusters button will be disabled.A list of clusters registered to the Prism Central will be displayed. Hypervisor type, total capacity and free capacity of the clusters will also be displayed. However, the clusters that are already added as secondary clusters to an object store will not be displayed.Once you select the cluster, under Set up hard limit section, select the usage limit in percentage, or select Custom and enter a custom limit for an object store, and then click Done.This limits the object store to use a maximum capacity on the selected cluster. If you exceed the limit, an alert is generated.Figure. Setting Up Hard LimitClick to enlargeYou can change the limit once a secondary cluster is added by clicking Update Limit. You cannot update the limit for the primary cluster.Figure. Setting Up Hard LimitClick to enlargeA new cluster is added to the object store. If any secondary cluster addition fails, you can remove that cluster. You can see the storage usage of the cluster in a bar. This bar changes color from green to yellow to red to reflect the usage status of storage. You can also see the usage of these clusters in the Usage tab. For more information, refer to Viewing Object Store Usage.Note: It will take a minute to add a new cluster.", "Heading_Keywords": ["expand", "storag", "object", "store"]}, {"Heading": "Scaling Out an Object Store", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-scale-out-t.html", "Document Name": "Objects User Guide", "Content": "Scaling out an object store enables you to add more resources to an existing object store cluster. You can scale out the CPU count and memory, and optionally, add more storage in addition to the current usage. Scale out uses an extra 10 vCPUs and 32 GiB memory.Before you beginMake sure that you have at least a three-node cluster for performing scale out.Make sure that physical resources are available.About this taskObjects version lower than Objects 2.1 does not support scale out. Upgrade Objects to the latest version to use the scale out feature.You can scale out one node at a time.During scale out of an object store, no disruption happens. You can launch the object store during scale out.If physical resources (VMs) are deployed, rollback is not supported. However, if deployment of physical resources fails or if deployment fails prior to deploying physical resources and your cluster is not scaling, you can roll back. For rolling back scale out of object store, contact Nutanix Support at http://portal.nutanix.com. To scale out an object store, do the following:ProcedureLog on to the Prism Central web console.Click the Entity menu > Services > Objects. In the object store table, select the object store that you want to scale out, and then click Scale Out.Figure. Object Store Selection for Scale OutClick to enlargeThe Scale Out window appears.(Optional) Click Update Storage check box to add more storage to the current usage, and enter the required storage in Storage Consumption.Figure. Scale Out WindowClick to enlargeNote: Objects generates an alert if the logical usage of your object store reaches 90% of the specified value.For more information about alerts, refer to Viewing Alerts.Click Add.The object store is now scaling out. This process takes about 5\u201310 minutes. You can track step by step deployment progress with scale out workflow progress for the object store.Figure. Object Store Scale Out ProgressClick to enlargeOnce the object store scale out is completed, new node is added to the object store.Figure. Scaled Out Object StoreClick to enlarge", "Heading_Keywords": ["scale", "object", "store"]}, {"Heading": "Setting up SSL Certificate for an Object Store", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-replace-ssl-certificate-t.html", "Document Name": "Objects User Guide", "Content": "By default, self-signed Secure Socket Layer (SSL) certificates are generated. If you have strong security requirements, you can replace the default certificate for the web server to securely connect to the web server while you use the https protocol. You can replace the certificates either by regenerating a self-signed certificate, or if you have a Certificate Authority (CA)-signed certificate, then you can import your private key and certificate files. When you replace the existing certificate, it removes the web browser certificate error warnings.Before you beginEnsure that you have met the following requirements:The private key should be RSA key type with key size 2048- or 4096-bit. Contents of the private key can be in PKCS#1 standard, unencrypted PKCS#8 standard, and PEM format.The provided public certificate must be signed by the provided CA.The public certificate must have the FQDN of the Object Store Service along with the wild card in either CN or SAN. For example, if the object store name is objects-2019 and domain is companyname.com, then the FQDN should be objects-2019.companyname.com. Then, the certificate must have *.objects-2019.companyname.com, objects-2019.companyname.com.About this taskTo set the SSL certificate, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Select the object store for which you want to set the certificate.Click Replace SSL Cert.In the Replace SSL Certificate window, select one of the following:Figure. Replace SSL Certificate WindowClick to enlargeBy regenerating self signed certificate: Uses RSA 2048 bit as the private key type.A self signed certificate is a certificate signed by the same entity that verifies the certificate.By importing key and certificate: Upload your private key and certificate files.Private Key: Click Upload to upload the private key.This key is used to decrypt the message.Public Certificate: Click Upload to upload the public certificate.A public key certificate is an electronic document used to prove the ownership of a public key. The certificate includes information about the key, information about the identity of its owner (called the subject), and the digital signature of an entity that has verified the contents of the certificate (called the issuer).CA Certificate/Chain: Upload the CA certificate.A certificate chain is the certificate of a particular CA, plus the certificates of any higher CAs up through the root CAClick Replace.The default SSL certificate is replaced.", "Heading_Keywords": ["set", "ssl", "certif", "object", "store"]}, {"Heading": "Object Store Deployment at a Dark Site (Offline Deployment)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-darksite-workflow-t.html", "Document Name": "Objects User Guide", "Content": "Dark site deployment is a process for deploying Objects at a site without Internet access. Before you beginMake sure you satisfy the deployment prerequisites before starting the deployment. Refer to Deployment Prerequisites.About this taskTo deploy an object store in a dark site, do the following:ProcedureFrom a device that has public Internet access, go to Nutanix Portal and select Entity Menu > Downloads > Tools & Firmware. Download the LCM Dark Site Bundle tar file.Set up a web server, and upload LCM Dark Site Bundle to the server and extract the files in a directory in the base of a web server.For example, you can create a directory name release and extract the files in this directory.KB 5901 describes several examples of setting up a web server.Note: Set the following mime types in the LCM web server when you are using Windows Web Server:.json.xz.qcow2.sign.gzIn step 13 of the KB 5901, use the latest LCM Dark Site Bundle.From a device that has public Internet access, go to Nutanix Portal and select Entity Menu > Downloads > Nutanix Objects. Download the Nutanix Compatibility nutanix_compatibility.tgz and its signature nutanix_compatibility.tgz.sign files.Transfer the compatibility and its signature tar files to your web server and replace the existing compatibility files with the new files.From a device that has public Internet access, go to Nutanix Portal and select Downloads > Nutanix Objects. Choose the required version and download objects-x.x.tar.gz tar file.x.x represents the Nutanix Objects version.Transfer the objects-x.x.tar.gz tar files to the web server and extract the files in a directory in the base of a web server.For example, you can create a directory name release and extract the files in this directory.Enable Objects to start the msp-controller on Prism Central. Refer to Enabling Objects.Note: MSP Controller version should be 1.0.3 or later. If the MSP Controller version is below 1.0.3, upgrade the MSP Controller. (Optional) Check the MSP Controller version and upgrade the MSP Controller to 1.0.3.For more information on checking the version and performing upgrade of MSP Controller, refer to Microservices Platform (MSP).To configure the dark site on MSP, SSH into the Prim Central VM as an admin user and run the following command.admin@pcvm$ mspctl airgap --enable --lcm-server=http://x.x.x.x/directorynamex.x.x.x is the IP address of the LCM web server and directoryname is the name of the directory where the packages were extracted.For example, admin@pcvm$ mspctl airgap --enable --lcm-server=http://10.48.111.33/release. Here, 10.48.111.33 is the IP address of the LCM web server and release is the name of the directory where the packages were extracted.To verify the configuration, run the following command.admin@pcvm$ mspctl airgap --statusDeploy an object store through Prism Central. Refer to Creating or Deploying an Object Store (Prism Central)", "Heading_Keywords": ["object", "store", "deploy", "dark", "site", "offlin", "deploy"]}, {"Heading": "Types of Objects Users", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-user-types-c.html", "Document Name": "Objects User Guide", "Content": "There are two ways to manage Objects.Prism Central: Prism Central users can access Objects by using the Prism Central web console. These users can create user accounts and perform all the operations except any object-specific operations such as PUT, DELETE, copy, and list objects on any of the buckets (own or others). Prism Central users can also access a bucket by using the S3 APIs. These users can view buckets of all the API users, and can also share buckets of any API user with any other users.API: API users cannot access Objects by using the Prism Central web console. They access buckets and perform operations only by using the S3 APIs. This includes S3-compatible applications. The API users have unconditional access to their own buckets, and limited or no access to buckets of other users based on the share policy.", "Heading_Keywords": ["type", "object", "user"]}, {"Heading": "Directory Configuration and Access Key Generation", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-directory-configuration-and-access-key-generation-c.html", "Document Name": "Objects User Guide", "Content": "You can configure the directory, add people, and generate access keys for the people. You can use these directories to search for people who can have access to the service. Only users with an access key can share buckets.Configuring DirectoriesYou can add directories that Objects can use to search for people who can have access to the service. You can also configure multiple Active Directory servers in the user interface and search across one or more Active Directories.Generating Access Key for API UsersYou can add people (users) from the directory or through email address, and generate access key for the users. Only users with access keys can share buckets.Viewing API UsersYou can view the list of people who can have access to Objects.Configuring DirectoriesYou can add directories that Objects can use to search for people who can have access to the service. You can also configure multiple Active Directory servers in the user interface and search across one or more Active Directories.About this taskTo configure the directories, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click Access Keys.Click Configure Directories.Click + Add Directory.Figure. Directory ConfigurationClick to enlargeIf you have already added the directory earlier, you will see a list of directories in this screen, and you can edit or remove the directory from the Edit or Remove link next to the directory name.In the Add Directory window, select any one of the following:Figure. Add Directory WindowClick to enlargeActive Directory: To add a directory through Active Directory, enter the following directory details and service account credentials:Name: Enter the name of the Active Directory server.Domain: Enter the domain that represents the top of the Active Directory tree and uses DNS to define its namespace. Usually, the domain is the DNS name of the company.Directory URL: Enter the Active Directory URL with port to access the Active Directory server.For example, ldap://10.2.3.111:389Username: Enter the username for accessing the Active Directory server to retrieve the user details.Password: Enter the password for accessing the Active Directory server to retrieve the user details.Note: To access Objects, no expiry should be set on the Active Directory account.LDAP: To add a directory through Lightweight Directory Access Protocol (LDAP), enter the following directory details, user and group details hierarchy (or tree under which the user details for generating access keys have to be retrieved), and service account credentials:Name: Enter the name of the OpenLDAP server.Domain: Enter the domain that represents the top of the LDAP tree that uses DNS to define its namespace.Usually, the domain is the DNS name of the company.Directory URL: Enter the domain that represents the LDAP URL with port to access OpenLDAP server.For example, ldap://10.2.3.111:389User Object Class: Enter the LDAP object class value that defines users in the directory service. When the user is created, this list of user object classes is added to the attributes list of the user. User Search Base: Enter the location or the search starting point in the LDAP tree, which locates the users. For example, OU=people.Username Attribute: Enter the attribute names that are searched to retrieve users from the LDAP tree.Group Object Class: Enter the LDAP object class value that defines groups in the directory service to which the users belong.When the group is created, this list of group object classes is added to the attribute list of the user.Group Search Base: Represents the location or the search starting point in the LDAP tree under which groups are located.For example, OU=peopleGroup Member Attribute: Enter the member attribute that specifies the group memberships.Group Member Attribute Value: Enter the group entries for which the memberships are specified by using the member attribute.These member attributes can have member attribute values specifying group membership in Distinguished Names (DNs). Member attribute values are used for group membership resolution.Username: Enter the username for accessing the openLDAP server to retrieve the user details.Password: Enter the password for accessing the openLDAP server to retrieve the user details.Note: To access Objects, no expiry should be set on the LDAP account.What to do nextYou can now generate access key for the API users. Refer to Generating Access Key for API Users.Generating Access Key for API UsersYou can add people (users) from the directory or through email address, and generate access key for the users. Only users with access keys can share buckets.About this taskTo generate access keys for the users, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click Access Keys.Click + Add People.Figure. Adding People for Access Key GenerationClick to enlargeIn the Add People window, select any of the following options:Figure. Add People Window: Search in DirectoryClick to enlargeSearch for people in a directory service: Select to add people from the directory.For more information about adding a directory, refer to Configuring Directories.Add people not in a directory service: Add email addresses of the people. Also, you can add a display name for the user. Adding the display name is optional and can contain up to 255 characters.Click +Add to add multiple users.Figure. Add People Window: Enter Email AddressClick to enlargeClick Next to open the Generate and Download Keys page.In this page, you generate and download the access keys. You can also add a tag to the access keys for key management.Figure. Generate and Download Keys PageClick to enlarge(Optional) Select Apply tag to keys check box and enter a tag name for the access keys.If you added multiple users, the same tag applies to all. The tags can contain up to 255 characters.Note: You cannot change the tag once added.Click Generate Keys.The keys are generated for the selected people.Figure. Generate and Download Keys PageClick to enlargeTo download the keys, click Download Keys.The keys are downloaded.Caution: For Google Chrome, Microsoft Edge, and Internet Explorer, you can directly download the keys. For Safari and Firefox, after you click Download keys, a new tab opens listing the keys. You must copy and paste the keys at the desired location manually from the tab. You no longer have access to the keys after you close the tab.Viewing API UsersYou can view the list of people who can have access to Objects.About this taskTo view the list of API users of Objects, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click Access Keys.Note: You can add keys for multiple users, but you cannot delete multiple users at the same time.The table displays the list of API users.Managing API KeysIf you lose or forget your access keys, you cannot retrieve the same key. However, you can add the key and get access. You can also delete a key.Deleting API UsersThis section describes the procedure to delete an API user.Managing API KeysIf you lose or forget your access keys, you cannot retrieve the same key. However, you can add the key and get access. You can also delete a key.About this taskTo add or delete the access keys, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.Click Access Keys.The table displays the list of API users.Click Manage against a user.Figure. Manage Keys PageClick to enlargeThe Manage Keys page appears. This page provides you with the options to add or delete access keys.To manage a key, you can do one of the following:Add Key: Click this button to generate the access key for the user.Apply tag to keys: Select this option if you want to associate a tag with the access key.Note: You can add one key at a time and up to five keys for a user.Delete: Select the access key and click this button to delete the access key.The access key of the user gets deleted and has no access to the object. Note: You can delete one key at a time.Deleting API UsersThis section describes the procedure to delete an API user.About this taskNote: You cannot delete multiple API users at the same time.To delete an API user, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.Click Access Keys.The table displays the list of API users.Select the user you want to delete, and then click Delete User.The Delete User button appears at the top after you select a user.Figure. Access Keys Page - Deleting an API UserClick to enlargeThe user is deleted.", "Heading_Keywords": ["directori", "configur", "access", "key", "gener"]}, {"Heading": "Configuring Directories", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-configure-directory-t.html", "Document Name": "Objects User Guide", "Content": "You can add directories that Objects can use to search for people who can have access to the service. You can also configure multiple Active Directory servers in the user interface and search across one or more Active Directories.About this taskTo configure the directories, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click Access Keys.Click Configure Directories.Click + Add Directory.Figure. Directory ConfigurationClick to enlargeIf you have already added the directory earlier, you will see a list of directories in this screen, and you can edit or remove the directory from the Edit or Remove link next to the directory name.In the Add Directory window, select any one of the following:Figure. Add Directory WindowClick to enlargeActive Directory: To add a directory through Active Directory, enter the following directory details and service account credentials:Name: Enter the name of the Active Directory server.Domain: Enter the domain that represents the top of the Active Directory tree and uses DNS to define its namespace. Usually, the domain is the DNS name of the company.Directory URL: Enter the Active Directory URL with port to access the Active Directory server.For example, ldap://10.2.3.111:389Username: Enter the username for accessing the Active Directory server to retrieve the user details.Password: Enter the password for accessing the Active Directory server to retrieve the user details.Note: To access Objects, no expiry should be set on the Active Directory account.LDAP: To add a directory through Lightweight Directory Access Protocol (LDAP), enter the following directory details, user and group details hierarchy (or tree under which the user details for generating access keys have to be retrieved), and service account credentials:Name: Enter the name of the OpenLDAP server.Domain: Enter the domain that represents the top of the LDAP tree that uses DNS to define its namespace.Usually, the domain is the DNS name of the company.Directory URL: Enter the domain that represents the LDAP URL with port to access OpenLDAP server.For example, ldap://10.2.3.111:389User Object Class: Enter the LDAP object class value that defines users in the directory service. When the user is created, this list of user object classes is added to the attributes list of the user. User Search Base: Enter the location or the search starting point in the LDAP tree, which locates the users. For example, OU=people.Username Attribute: Enter the attribute names that are searched to retrieve users from the LDAP tree.Group Object Class: Enter the LDAP object class value that defines groups in the directory service to which the users belong.When the group is created, this list of group object classes is added to the attribute list of the user.Group Search Base: Represents the location or the search starting point in the LDAP tree under which groups are located.For example, OU=peopleGroup Member Attribute: Enter the member attribute that specifies the group memberships.Group Member Attribute Value: Enter the group entries for which the memberships are specified by using the member attribute.These member attributes can have member attribute values specifying group membership in Distinguished Names (DNs). Member attribute values are used for group membership resolution.Username: Enter the username for accessing the openLDAP server to retrieve the user details.Password: Enter the password for accessing the openLDAP server to retrieve the user details.Note: To access Objects, no expiry should be set on the LDAP account.What to do nextYou can now generate access key for the API users. Refer to Generating Access Key for API Users.", "Heading_Keywords": ["configur", "directori"]}, {"Heading": "Generating Access Key for API Users", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-generate-access-key-t.html", "Document Name": "Objects User Guide", "Content": "You can add people (users) from the directory or through email address, and generate access key for the users. Only users with access keys can share buckets.About this taskTo generate access keys for the users, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click Access Keys.Click + Add People.Figure. Adding People for Access Key GenerationClick to enlargeIn the Add People window, select any of the following options:Figure. Add People Window: Search in DirectoryClick to enlargeSearch for people in a directory service: Select to add people from the directory.For more information about adding a directory, refer to Configuring Directories.Add people not in a directory service: Add email addresses of the people. Also, you can add a display name for the user. Adding the display name is optional and can contain up to 255 characters.Click +Add to add multiple users.Figure. Add People Window: Enter Email AddressClick to enlargeClick Next to open the Generate and Download Keys page.In this page, you generate and download the access keys. You can also add a tag to the access keys for key management.Figure. Generate and Download Keys PageClick to enlarge(Optional) Select Apply tag to keys check box and enter a tag name for the access keys.If you added multiple users, the same tag applies to all. The tags can contain up to 255 characters.Note: You cannot change the tag once added.Click Generate Keys.The keys are generated for the selected people.Figure. Generate and Download Keys PageClick to enlargeTo download the keys, click Download Keys.The keys are downloaded.Caution: For Google Chrome, Microsoft Edge, and Internet Explorer, you can directly download the keys. For Safari and Firefox, after you click Download keys, a new tab opens listing the keys. You must copy and paste the keys at the desired location manually from the tab. You no longer have access to the keys after you close the tab.", "Heading_Keywords": ["gener", "access", "key", "api", "user"]}, {"Heading": "Viewing API Users", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-view-users-t.html", "Document Name": "Objects User Guide", "Content": "You can view the list of people who can have access to Objects.About this taskTo view the list of API users of Objects, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click Access Keys.Note: You can add keys for multiple users, but you cannot delete multiple users at the same time.The table displays the list of API users.Managing API KeysIf you lose or forget your access keys, you cannot retrieve the same key. However, you can add the key and get access. You can also delete a key.Deleting API UsersThis section describes the procedure to delete an API user.Managing API KeysIf you lose or forget your access keys, you cannot retrieve the same key. However, you can add the key and get access. You can also delete a key.About this taskTo add or delete the access keys, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.Click Access Keys.The table displays the list of API users.Click Manage against a user.Figure. Manage Keys PageClick to enlargeThe Manage Keys page appears. This page provides you with the options to add or delete access keys.To manage a key, you can do one of the following:Add Key: Click this button to generate the access key for the user.Apply tag to keys: Select this option if you want to associate a tag with the access key.Note: You can add one key at a time and up to five keys for a user.Delete: Select the access key and click this button to delete the access key.The access key of the user gets deleted and has no access to the object. Note: You can delete one key at a time.Deleting API UsersThis section describes the procedure to delete an API user.About this taskNote: You cannot delete multiple API users at the same time.To delete an API user, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.Click Access Keys.The table displays the list of API users.Select the user you want to delete, and then click Delete User.The Delete User button appears at the top after you select a user.Figure. Access Keys Page - Deleting an API UserClick to enlargeThe user is deleted.", "Heading_Keywords": ["view", "api", "user"]}, {"Heading": "Managing API Keys", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-regenerate-delete-users-t.html", "Document Name": "Objects User Guide", "Content": "If you lose or forget your access keys, you cannot retrieve the same key. However, you can add the key and get access. You can also delete a key.About this taskTo add or delete the access keys, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.Click Access Keys.The table displays the list of API users.Click Manage against a user.Figure. Manage Keys PageClick to enlargeThe Manage Keys page appears. This page provides you with the options to add or delete access keys.To manage a key, you can do one of the following:Add Key: Click this button to generate the access key for the user.Apply tag to keys: Select this option if you want to associate a tag with the access key.Note: You can add one key at a time and up to five keys for a user.Delete: Select the access key and click this button to delete the access key.The access key of the user gets deleted and has no access to the object. Note: You can delete one key at a time.", "Heading_Keywords": ["manag", "api", "key"]}, {"Heading": "Deleting API Users", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-delete-api-users-t.html", "Document Name": "Objects User Guide", "Content": "This section describes the procedure to delete an API user.About this taskNote: You cannot delete multiple API users at the same time.To delete an API user, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.Click Access Keys.The table displays the list of API users.Select the user you want to delete, and then click Delete User.The Delete User button appears at the top after you select a user.Figure. Access Keys Page - Deleting an API UserClick to enlargeThe user is deleted.", "Heading_Keywords": ["delet", "api", "user"]}, {"Heading": "Bucket Creation, Operations and Bucket Policy Configuration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-deploy-configure-c.html", "Document Name": "Objects User Guide", "Content": "Before you can upload objects to a bucket, you must create a bucket in an object store. You can also configure a bucket while creating it except applying the WORM policy.You can enable versioning, apply lifecycle policies and WORM policies to a bucket. You can also filter, update, share, and delete a bucket, and view the existing buckets list.Bucket Naming ConventionsCreating and Configuring a BucketYou can create and configure the bucket settings. There are multiple options available for configuring a bucket and all are accessible at the time of creating a bucket. However, you cannot configure a WORM bucket while creating a bucket. You can edit WORM policies only after creating a bucket. Bucket Policy ConfigurationViewing BucketsThe Buckets view allows you to view the list of buckets in the object store and access detailed information about each bucket.Updating a BucketYou can update the bucket settings after creating the buckets and adding the objects to the buckets. Sharing a BucketYou can share a bucket with multiple users that have access keys.Viewing Bucket UsersYou can view all the users and their permissions for a particular bucket.Deleting a BucketIf you no longer require a bucket, you can delete the bucket.Bucket Naming ConventionsThe name of a bucket must conform to the following rules:Be a unique DNS-compliant name within a deployed bucket instance. Can contain alphanumeric, dot or hyphen characters.Begin with a lowercase letter or a number.Cannot contain uppercase and special characters.Minimum of 3 and a maximum of 64 characters long.Note: You cannot change the bucket name after creating bucket. Creating and Configuring a BucketYou can create and configure the bucket settings. There are multiple options available for configuring a bucket and all are accessible at the time of creating a bucket. However, you cannot configure a WORM bucket while creating a bucket. You can edit WORM policies only after creating a bucket. About this taskNote: Ensure that the bucket names are unique for all the users.To create and configure a bucket, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of object store in which you want to create a bucket. The object store opens in a new window.Click Create Bucket. Figure. Create Bucket WindowClick to enlargeNote: You can also create a bucket without enabling versioning and life cycle policies.On the General Settings section, type a name for your bucket.For more information about naming buckets, refer to Buckets Naming Conventions. (Optional) On the Object Versions section, configure the following: For more information about versions, refer to Object Versioning.Enable Versioning: Select this check box to enable versioning on objects and to keep all the versions on the same bucket.To apply life cycle policy with versioning enabled, refer to Rules for Lifecycle Policy When Object Versioning is Enabled.Permanently delete past versions after: Select this check box to enter a time period to delete all the older versions of the objects.You can specify the number in days, months, or years.Note: When you select versioning, you are able to recover objects from accidental deletion or overwrite.(Optional) On the Lifecycle Policies section, select the following property:For more information, refer to Lifecycle Policies.Expire current objects after: Select to type a time period after which the current version of the object expires.You can specify the number in days, months, or years.Note: If versioning is not enabled, the current object deletes permanently. When you enable versioning, the current object becomes a past object.Click Save.The bucket is created successfully.What to do nextAfter creating a bucket, you can create objects through S3 APIs.For more information, refer to Supported S3 APIs.Bucket Policy ConfigurationYou can configure multiple policies in a bucket such as object versioning, lifecycle policies, WORM, static website hosting and Cross-Origin Resource Sharing (CORS). Object versioning and lifecycle policies are accessible at the time of creating a bucket, however, you can apply WORM policy only after creating a bucket. You can also configure a bucket for static website hosting and CORS.Object VersioningLifecycle PoliciesWORM BucketConfiguring a Bucket for Static Website HostingYou can use Objects to host a static website that has individual web pages with static content. To host a static website on Objects, you can configure a bucket for website hosting, and then upload your website files (objects) to the bucket. When you configure a bucket as a static website, you enable static website hosting, and optionally, add an index document and an error page. You can upload files (such as index document and error page) to the bucket using an S3 browser. The S3 browser uses the S3 protocols by providing the access and the secret key. You can also choose to redirect to a website. Once you have configured your bucket as a static website, you can access the bucket through the object store endpoints for your bucket. Cross-Origin Resource Sharing (CORS) OverviewObject Versioning Object versioning enables you to keep multiple versions of an object in one bucket. By default, versioning is disabled for a new bucket. You can enable versioning while creating a bucket or editing a bucket. Refer to Creating and Configuring a Bucket.With object versioning option, you can enable versioning on objects of that particular bucket. Object versioning varies depending upon the lifecycle policies applied to the object. For more information about the lifecycle rules for object versioning, refer to Rules for lifecycle policy.Note: For a versioned bucket, the number of objects shown for each bucket is indicative of the number of versions of all the objects present in the bucket.You cannot disable but can suspend the object versioning at any time. When you suspend versioning, accumulation of the new object versions is stopped and previous object versions are retained.Lifecycle PoliciesLifecycle policy enables you to create a set of rules that define actions that Nutanix Objects applies to a group of objects. With these policies, you can manage the objects cost effectively throughout their lifecycle. Note: By default, the lifecycle policies are disabled for a new bucket. You can apply these policies while creating or editing a bucket. You cannot change the policy for different objects of the same bucket. With lifecycle policies, you can configure the following: Allow object to automatically delete itself after a specified number of days or months or years from the date of object creation. Delete past versions permanently after a specified number of days or months or years from the date of object creation. Set a rule for a bucket so that all the objects in the bucket (or folder) adopt that rule. For example, if you want to store log files or business transaction records for a fixed period and after that period, you want to delete them.Note: You cannot recover the objects once it is deleted.Rules for Lifecycle Policy When Object Versioning is EnabledRules for Lifecycle Policy When Object Versioning is EnabledFollowing are the rules for the lifecycle policy when you enable object versioning: If you apply lifecycle policy Expire current objects after # days/months/years on an object with versioning enabled, it deletes the current version of the objects after the specified time, and does not delete any past versions of the objects. If you apply lifecycle policy Permanently delete past version after # days/months/years on an object with versioning enabled, it deletes all the past versions after the specified time. This operation does not delete the current version. Note: This policy cannot be configured on a bucket with suspended versioning.If you apply both the lifecycle policies Expire current objects after # days/months/years and Permanently delete past version after # days/months/years on an object with versioning enabled, it deletes all the past versions based on the time specified in Permanently delete past version after # days/months/years, and the current version expires based on the time specified in Expire current objects after # days/months/years.If you apply any lifecycle policy to a WORM bucket with versioning enabled, the lifecycle policy is not applicable until the WORM retention period has elapsed.WORM BucketWrite-once-read-many (WORM) buckets protect your data and metadata. You can configure a WORM bucket to allow the creation of new objects and to prevent overwrites or deletion of the existing content for a particular retention period. By default, versioning is not enabled on a bucket. When you apply the WORM policy on a bucket, you can choose to enable versioning. In some industries, regulations or compliance rules mandate long-term records retention, sometimes for more than 7 years. For example, in the financial and health services industry, you must maintain the records in its original state, which cannot be overwritten or erased.When you increase the retention period of a bucket, the new retention period does not apply to the older objects. For example, if you have first applied WORM policy on a bucket in October 2018, and then you increase the retention period in January 2019. Then the new retention period is not applicable on the objects created before January 2019.When you apply any lifecycle policy to a WORM bucket with or without versions enabled, the policy is not applicable until the WORM retention period has passed.Note: You cannot enable WORM policy while creating a bucket.Operations on a WORM BucketThis topic lists the valid and invalid operations on a WORM bucket. You can refer to this list before performing any operation on a WORM bucket.Applying WORM Policy to Buckets from Prism CentralYou can apply the WORM policy to any bucket while creating a bucket. A WORM bucket allows you to create new objects and prevents you to overwrite or delete the existing content for a particular retention period.Operations on a WORM BucketThis topic lists the valid and invalid operations on a WORM bucket. You can refer to this list before performing any operation on a WORM bucket.Valid Operations Following are the valid operations: Delete objects.Note: This operation does not delete the data, but create a delete marker on top of the existing versions of objects.Delete the delete marker.Delete the target version of object after the retention period.Create a new version of the object and retain old versions.Extend the retention period.Invalid Operations Following are the invalid operations: Enable WORM policy while creating a bucket.Enable WORM policy without specifying the retention period.Reduce the retention period.Delete the targeted version before the retention period.Change the version state.Does not support legal hold and governance mode. Applying WORM Policy to Buckets from Prism CentralYou can apply the WORM policy to any bucket while creating a bucket. A WORM bucket allows you to create new objects and prevents you to overwrite or delete the existing content for a particular retention period.About this taskWarning: You cannot modify or delete objects inside a WORM bucket for the specified time period. To apply WORM policies to buckets.ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the object store in which the bucket exists.Click Buckets in the left pane.Select the bucket to apply the policy.Click Configure WORM. The Configure WORM window appears.Figure. Configure WORM WindowClick to enlargeNote: If versioning is disabled on a bucket, you can enable versioning while enabling WORM. However, once the WORM is enabled, you cannot change the versioning state.You cannot suspend versioning on WORM buckets.Caution: For the legal compliance reasons, the setting becomes permanent after 24 hours. You can disable the WORM policy within the first 24 hrs of grace period.You can only edit the retention period to increase the length of retention. You cannot decrease the retention period. (Optional) Click the Enable Version checkbox to enable versioning.Click the Enable WORM checkbox.Type the retention period (in years or months or days) in the Retention Period field by entering a number, and then selecting the time period from the drop-down menu.Click Enable WORM.This procedure successfully applies the WORM policy to the bucket.Configuring a Bucket for Static Website HostingYou can use Objects to host a static website that has individual web pages with static content. To host a static website on Objects, you can configure a bucket for website hosting, and then upload your website files (objects) to the bucket. When you configure a bucket as a static website, you enable static website hosting, and optionally, add an index document and an error page. You can upload files (such as index document and error page) to the bucket using an S3 browser. The S3 browser uses the S3 protocols by providing the access and the secret key. You can also choose to redirect to a website. Once you have configured your bucket as a static website, you can access the bucket through the object store endpoints for your bucket. About this taskNote: Once you configure static website for a bucket, you cannot turn off this feature from the Objects user interface. To turn off static website for buckets, contact Nutanix Support.To configure a bucket for static website hosting, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the Object Store, which contains the bucket. The object store opens in a new window.In the Buckets table, select the bucket to configure it for static website hosting.Click Actions > Static Website.The Configure Static Website window appears.Figure. Configure Static Website WindowClick to enlargeClick to enlargeBy default, the endpoint is auto-populated when you click Save at the last step.For example, when an endpoint auto populates, the URL will be in the format<objectstorename>.<domain>/<bucketname>. For example, testobjectstore.nutanix.com/teamobjects. However, if they have set up the DNS correctly, then you can also access the website with <bucketname>.<objectstorename>.<domain> endpoint using HTTP or HTTPS. For example, https://teamobjects.testobjectstore.nutanix.com.Click the Host Website or Redirect check box.Use this bucket to host a website: Select this option to use the bucket to host the website. Optionally, you can enter the name of the index document (for example, myindex.html) and an error page. An index document is a web page that Objects returns when you request the root of a website. It is the default page that loads when you are not requesting any specific page. After you enable static website hosting for your bucket, you can upload an HTML file with the index document name (for example, myindex.html) to your bucket. For example, if you specify no object in the URL, then the website loads the index page (myindex.html) that you have configured. If you have not configured an index document, then a website access to the root will return an access denied error message.A custom error page is a web page that Object returns when an error occurs. For example, if you are trying to load an object that does not exist, the website loads the error page that you have configured.Redirect: Select this option to enter a website URL to redirect to that website. For example, when you try to access the bucket endpoint, you will be redirected to this website. Protocol used is either HTTP or HTTPS. Click Save.An endpoint is auto-generated when you click Save. This endpoint will be the object store endpoint for your bucket and is used as the website address.You can now use your bucket as a static website. You can use the endpoint to test your static website.Cross-Origin Resource Sharing (CORS) OverviewCross-Origin Resource Sharing (CORS) allows a web application loaded in one domain to access the restricted resources that are requested from another domain. With CORS support in Objects, you can create rich web applications and allow cross-origin sharing of resources from Objects.For example, if you upload an image (for example, test.png) in a bucket (for example, test-bucket) in domain1 that contains some security-related information, and you are not allowed to make access to test.png from a website (for example, www.example.com) on domain2. Then you can configure a CORS policy for that test-bucket to allow www.example.com to access the resources of the test-bucket.Note: When you configure a bucket for static website hosting, public can have only read access to that bucket. POST, PUT, and DELETE requests on the bucket will be denied.For configuring CORS for a bucket, create an XML document with the following. The document size is limited to 64 KB.Rules that identify the origins that you will allow to access your bucket.The operations (HTTP methods) that will support each origin.Other operation-specific information.When Objects receives a cross-origin request for a bucket, it checks the CORS configuration on the bucket and uses the first CORSRule rule that matches the incoming browser request to enable a cross-origin request. You can add up to 100 rules to the configuration.Following are the conditions to match the rules.The Origin header of the request must match AllowedOrigin elements.The request method (for example, GET, PUT, HEAD, and so on) or the Access-Control-Request-Method header for a pre-flight OPTIONS request must be one of the AllowedMethod elements.Every header specified in the Access-Control-Request-Headers request header of a pre-flight request must match an AllowedHeader element.Following is an example of CORS configuration with two CORSRule:<CORSConfiguration>\n <CORSRule>\n   <AllowedOrigin>http://www.test.com</AllowedOrigin>\n   <AllowedMethod>PUT</AllowedMethod>\n   <AllowedMethod>DELETE</AllowedMethod>\n   <AllowedHeader>*</AllowedHeader>\n </CORSRule>\n <CORSRule>\n   <AllowedOrigin>*</AllowedOrigin>\n   <AllowedMethod>GET</AllowedMethod>\n </CORSRule>\n</CORSConfiguration>The first CORSRule allows cross-origin PUT and DELETE requests whose origin is http://www.test.com origin. The rule also allows all headers in a pre-flight OPTIONS request through the Access-Control-Request-Headers header. So, in response to any pre-flight OPTIONS request, Objects will return any requested headers.The second rule allows cross-origin GET requests from all the origins.The * wild-card character refers to all the origins.Configuring CORS on a BucketCross-Origin Resource Sharing (CORS) allows a web application loaded in one domain to access the restricted resources that are requested from another domain.Configuring CORS on a BucketCross-Origin Resource Sharing (CORS) allows a web application loaded in one domain to access the restricted resources that are requested from another domain.About this taskYou set this configuration on a bucket so that the bucket can service cross-origin requests.To configure CORS for a bucket, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the Object Store, which contains the bucket.The object store opens in a new window.In the Buckets table, select the bucket to configure CORS.Click Actions > CORS.Figure. Configure CORS WindowClick to enlargeThe Configure CORS window appears.Type or copy and paste a configuration file, or edit an existing configuration.The configuration file must be an XML file.Click Save.The CORS configurations are saved for the bucket.Viewing BucketsThe Buckets view allows you to view the list of buckets in the object store and access detailed information about each bucket.About this taskTo view the list of buckets, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the object store.Figure. Buckets List ViewClick to enlargeA new window appears with the list of buckets in a tabular view. If you are on another page, you can click Buckets on the left pane to get back to this page. The following list describes the fields that appear in the buckets list. A dash (-) is displayed in a field when a value is not available or applicable.Name: Displays the name of the bucket.Size: Displays the size of the bucket.Num. Objects: Displays the number of objects in a bucket.Versioning: Displays if versioning is enabled or disabled in a bucket.WORM: Displays if WORM is enabled or disabled in a bucket.Static Website & CORS: Displays if static website or CORS is configured for a bucket.You can identify the filters (if any) applied to the list of entities from the query field. This field displays all the filter options that are currently in use and also allows for basic filtering on the entity name. For more information on filter options, refer to Bucket Filter Options.Buckets Filter OptionsBuckets Filter OptionsAfter selecting an entity type, the table displays the complete list of that entity across the registered clusters. You can filter this list by clicking the far right icon in the menu bar to display the Filters pane. This pane includes a set of fields that vary according to the type of entity. Select the desired field values to filter the list on those values. An entry appears in the current filters field for each selected value. You can remove a filter by clicking the X for that value in the current filters field.Numeric filters have To and From fields to specify a range. These fields can take numeric values along with units. For example, the filter adjusts the scale accordingly when you type in 10 K or 100 M. You can do the following in the current filters field: Remove a filter by clicking X for that filter. Remove all filters by clicking Clear (on the right). Use a saved filter list by selecting from the pull-down list. Updating a BucketYou can update the bucket settings after creating the buckets and adding the objects to the buckets. About this taskNote: You cannot disable versioning (if enabled) but you can suspend it.You cannot edit multiple buckets at a time. To edit a bucket, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the Object Store, which contains the bucket. In the Buckets table, select the bucket for which you want to change the settings. Click Actions > Update.The Update Bucket window appears.Figure. Update Bucket WindowClick to enlargeEdit the settings that you want to change.For more information about the bucket settings, refer to Bucket Configuration. Click Save.The changes are saved.Sharing a BucketYou can share a bucket with multiple users that have access keys.About this taskNote: You can share only one bucket at a time.To share a bucket, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the Object Store, which contains the bucket. Figure. Object Store ListClick to enlargeThe object store opens in a new window.Click Buckets from the left pane, and in the Buckets table, select the bucket that you want to share with other users.Figure. Sharing the BucketClick to enlargeNote: You can only add users who have access keys. Click Actions > Share.Type the email address of the user and set the permission for that user.Figure. Share Bucket WindowClick to enlargeTo generate access keys, refer to Generating Access Key for API Users.To know more about Bucket Permissions, refer to Bucket Access Policies.To add more users, click + Add User.Click Save.The bucket is now shared with the listed users with the allotted permissions.What to do nextYou can list the buckets that are shared with you. For more information, refer to Listing the Shared Buckets.Bucket Access PoliciesListing the Shared BucketsListing the Shared Buckets feature extends the S3 ListBuckets API and displays the buckets owned by or shared with the current user.Bucket Access PoliciesThis section describes the authorization and access policies implemented in Objects.Nutanix supports the following list of policies on a bucket:Read: Provides read-only access to the user.Write: Provides write-only access to the user.Read and write: Provides both read and write access to the user.Note: To evaluate the policy for a user, the union of the user specific policy and the anonymous policy is computed. For example, if the user specific policy is Read-only but the anonymous policy for the bucket is Write-only, then the resulting policy for the user for that bucket will be Read-Write. Table 1. Access RolesAccess RoleDescriptionUser context with respect to bucketsOwnerThe user who creates the bucket. The owner can grant and revoke access to the non-admin users on the bucket.Non-admin userThe user who gains access to the bucket based on the policy assigned by the owner of that bucket. The non-admin user can only perform operations on the bucket based on the access policy assigned by the owner. User privilege levels (iam) Admin userAdmin users can read, list, and update the policy for the buckets that are owned by other users. They have certain access on the buckets that are not created by them.Standard userAny user who is not an admin. They have full control on the bucket which they create.Permissions for Nutanix Objects OperationsThis section describes the operations that can be performed by the owners and the admin users. API Accessible for the Corresponding PoliciesThe following table shows the list of operations allowed based on the access policy:Access Policy MatrixThe following table defines access permissions between specific policies and access roles:Permissions for Nutanix Objects OperationsThis section describes the operations that can be performed by the owners and the admin users. Owner PrivilegesThe owner can perform any S3 operations on a bucket and has read and write policy by default. They have full control over the buckets they create and can grant access to the buckets to other users (non-admin users).Users can only list buckets owned by them. They cannot list the shared buckets.Non-admin users can perform most operations like GET, PUT, DELETE; however, they cannot make policy changes to the buckets. Non-admin users can perform the following actions:Grant access to other users.Enable or disable versioning on the bucket.Enable or disable WORM policy.Table 1. Operations Performed by an OwnerPUT BucketGET Bucket (List Objects), HEAD BucketDELETE BucketGET Bucket versioningPUT Bucket versioningGET Bucket aclGET Bucket object lock configurationPUT Bucket object lock configurationDELETE Bucket lifecycleGET Bucket lifecycle configurationPUT Bucket lifecycle configurationAdmin PrivilegesAn admin user has special privileges in the system and can perform most of the operations on the buckets owned by another user.An admin can perform the following actions:Create a bucket in the user interface.View (list) buckets from all the users.Modify the policy of a bucket.Enable or disable versioning.Enable or disable object locks (WORM) owned by another user.Delete the bucket that belongs to another user if the bucket is empty.They cannot PUT or UPDATE objects (or initiate multipart upload), and DELETE objects.Users can only view the buckets that they create, unless the user is an admin user.API Accessible for the Corresponding PoliciesThe following table shows the list of operations allowed based on the access policy:Table 1. API Accessible for the Corresponding PoliciesS3 APIReadWriteRead and WriteHEAD BucketYesYesYesHEAD ObjectYesYesYesListObjectsV2YesNoYesListObjectsYesNoYesGET ObjectYesNoYesPUT ObjectNoYesYesCOPY ObjectNoYesYesDELETE ObjectNoYesYesDELETE ObjectsNoYesYesGET Bucket LocationYesNoYesGET Bucket versioningYesNoYesListObjectVersionsYesNoYesListPartsYesNoYesMultipartUpload (CreateMultipartUpload, AbortMultipartUpload, CompleteMultipartUpload)NoYesYesUPLOAD PartNoYesYesUpload Part \u2013 CopyNoYesYesPutObjectNoYesYesmultipart upload partsNoYesYesGET Bucket lifecycle configurationYesNoYesNote: Only the bucket owner and admin user can perform PUT Bucket versioning and PUT Bucket lifecycle operations.To perform object copy operation of size more than 500 MB, do one of the following:Use multipart copy part operation with part size as 500 MB.Use the object copy API with a large read timeout for the client. For example, the read timeout should be larger than the default 60 seconds for Boto3 python client.Access Policy MatrixThe following table defines access permissions between specific policies and access roles:Access Policy MatrixPolicyOwnerNon-admin userAdmin user (Non-owner)Standard user with read or write accessRead and list objects, get policy, versioning config YesNoYesYesWrite and delete objectsYesNoNoYesDelete bucket YesNoYesNoUpdate PolicyYesNoYesNoUpdate Versioning configYesNoYesNoUpdate worm configYesNoYesNoListing the Shared BucketsListing the Shared Buckets feature extends the S3 ListBuckets API and displays the buckets owned by or shared with the current user.The current behavior of S3 API for ListBuckets is to list the buckets that the current owner (caller of the API) owns. If you have created a bucket, then you are the owner of that bucket. For example, when an admin creates a bucket using the Objects user interface, the owner of all such buckets is the admin user. You (owner of the buckets) can choose to share buckets with one or more IAM users with Read or Write or Read-Write permissions. IAM users with whom a bucket is shared can access the bucket and its objects subject to the permissions granted. However, the Vanilla S3 API for ListBuckets does not allow for discovery (listing) of buckets that were shared with them.In earlier versions of Objects, if you share a bucket, you have to inform the user which bucket is shared with them. However, with Objects 2.1 and later versions, Listing the Shared Bucket feature extends the S3 ListBuckets API and displays the buckets owned by or shared with the current user. If you delete a bucket that is shared, the bucket will automatically be removed from the list.Note: This feature is a departure from the S3 specifications and is enabled by default. To disable the feature, contact Nutanix Support.This feature is only enabled for sharing relations created using Objects 2.1 or later versions. You cannot list the buckets created using earlier versions of Objects. A workaround to enable this feature retroactively is to have the owner of the bucket remove all the sharing-relations and recreate them using the latest Objects version.For example, an Admin created three buckets B0, B1, and B2. B1 was shared with User1 with Read-Write access and B2 was shared with User2 with Write access. Following are the outputs of the ListBuckets API call before and after the introduction of Listing the Shared Buckets feature.Before the introduction of Listing the Shared Bucket feature:Admin B0 B1 B2\nUser1 \nUser2After the introduction of Listing the Shared Bucket feature:Admin B0 B1 B2\nUser1 B1\nUser2 B2Viewing Bucket UsersYou can view all the users and their permissions for a particular bucket.About this taskTo view the bucket's usage.ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the object store, which stores the bucket, and then click Buckets.Click the name of the bucket.Figure. Buckets ListClick to enlargeClick User Access.Figure. List of UsersClick to enlargeThe table displays the list of users and their permissions.You can edit the user access by clicking Edit User Access.For more information about editing user access, refer to the procedure from Step 4 in the Sharing a Bucket topic.Deleting a BucketIf you no longer require a bucket, you can delete the bucket.About this taskYou can delete the following:Multiple empty buckets at a time.A bucket with versioning enabled; however, it permanently deletes all the versions of the buckets.Note: You cannot delete buckets containing objects and WORM enabled bucketsTo delete a bucket, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.Click the name of the object store, which stores the bucket, and then click Buckets.Click the check box next to the name of the bucket that you want to delete.Click Actions > Delete.Figure. Delete Bucket WindowClick to enlargeOn the dialog box, click Confirm.A message appears to confirm the bucket's deletion. ", "Heading_Keywords": ["bucket", "creation", "oper", "bucket", "polici", "configur"]}, {"Heading": "Bucket Naming Conventions", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-bucket-naming-conventions-c.html", "Document Name": "Objects User Guide", "Content": "The name of a bucket must conform to the following rules:Be a unique DNS-compliant name within a deployed bucket instance. Can contain alphanumeric, dot or hyphen characters.Begin with a lowercase letter or a number.Cannot contain uppercase and special characters.Minimum of 3 and a maximum of 64 characters long.Note: You cannot change the bucket name after creating bucket. ", "Heading_Keywords": ["bucket", "name", "convent"]}, {"Heading": "Creating and Configuring a Bucket", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-create-configure-buckets-t.html", "Document Name": "Objects User Guide", "Content": "You can create and configure the bucket settings. There are multiple options available for configuring a bucket and all are accessible at the time of creating a bucket. However, you cannot configure a WORM bucket while creating a bucket. You can edit WORM policies only after creating a bucket. About this taskNote: Ensure that the bucket names are unique for all the users.To create and configure a bucket, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of object store in which you want to create a bucket. The object store opens in a new window.Click Create Bucket. Figure. Create Bucket WindowClick to enlargeNote: You can also create a bucket without enabling versioning and life cycle policies.On the General Settings section, type a name for your bucket.For more information about naming buckets, refer to Buckets Naming Conventions. (Optional) On the Object Versions section, configure the following: For more information about versions, refer to Object Versioning.Enable Versioning: Select this check box to enable versioning on objects and to keep all the versions on the same bucket.To apply life cycle policy with versioning enabled, refer to Rules for Lifecycle Policy When Object Versioning is Enabled.Permanently delete past versions after: Select this check box to enter a time period to delete all the older versions of the objects.You can specify the number in days, months, or years.Note: When you select versioning, you are able to recover objects from accidental deletion or overwrite.(Optional) On the Lifecycle Policies section, select the following property:For more information, refer to Lifecycle Policies.Expire current objects after: Select to type a time period after which the current version of the object expires.You can specify the number in days, months, or years.Note: If versioning is not enabled, the current object deletes permanently. When you enable versioning, the current object becomes a past object.Click Save.The bucket is created successfully.What to do nextAfter creating a bucket, you can create objects through S3 APIs.For more information, refer to Supported S3 APIs.", "Heading_Keywords": ["creat", "configur", "bucket"]}, {"Heading": "Bucket Policy Configuration", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-buckets-configuration-c.html", "Document Name": "Objects User Guide", "Content": "You can configure multiple policies in a bucket such as object versioning, lifecycle policies, WORM, static website hosting and Cross-Origin Resource Sharing (CORS). Object versioning and lifecycle policies are accessible at the time of creating a bucket, however, you can apply WORM policy only after creating a bucket. You can also configure a bucket for static website hosting and CORS.Object VersioningLifecycle PoliciesWORM BucketConfiguring a Bucket for Static Website HostingYou can use Objects to host a static website that has individual web pages with static content. To host a static website on Objects, you can configure a bucket for website hosting, and then upload your website files (objects) to the bucket. When you configure a bucket as a static website, you enable static website hosting, and optionally, add an index document and an error page. You can upload files (such as index document and error page) to the bucket using an S3 browser. The S3 browser uses the S3 protocols by providing the access and the secret key. You can also choose to redirect to a website. Once you have configured your bucket as a static website, you can access the bucket through the object store endpoints for your bucket. Cross-Origin Resource Sharing (CORS) OverviewObject Versioning Object versioning enables you to keep multiple versions of an object in one bucket. By default, versioning is disabled for a new bucket. You can enable versioning while creating a bucket or editing a bucket. Refer to Creating and Configuring a Bucket.With object versioning option, you can enable versioning on objects of that particular bucket. Object versioning varies depending upon the lifecycle policies applied to the object. For more information about the lifecycle rules for object versioning, refer to Rules for lifecycle policy.Note: For a versioned bucket, the number of objects shown for each bucket is indicative of the number of versions of all the objects present in the bucket.You cannot disable but can suspend the object versioning at any time. When you suspend versioning, accumulation of the new object versions is stopped and previous object versions are retained.Lifecycle PoliciesLifecycle policy enables you to create a set of rules that define actions that Nutanix Objects applies to a group of objects. With these policies, you can manage the objects cost effectively throughout their lifecycle. Note: By default, the lifecycle policies are disabled for a new bucket. You can apply these policies while creating or editing a bucket. You cannot change the policy for different objects of the same bucket. With lifecycle policies, you can configure the following: Allow object to automatically delete itself after a specified number of days or months or years from the date of object creation. Delete past versions permanently after a specified number of days or months or years from the date of object creation. Set a rule for a bucket so that all the objects in the bucket (or folder) adopt that rule. For example, if you want to store log files or business transaction records for a fixed period and after that period, you want to delete them.Note: You cannot recover the objects once it is deleted.Rules for Lifecycle Policy When Object Versioning is EnabledRules for Lifecycle Policy When Object Versioning is EnabledFollowing are the rules for the lifecycle policy when you enable object versioning: If you apply lifecycle policy Expire current objects after # days/months/years on an object with versioning enabled, it deletes the current version of the objects after the specified time, and does not delete any past versions of the objects. If you apply lifecycle policy Permanently delete past version after # days/months/years on an object with versioning enabled, it deletes all the past versions after the specified time. This operation does not delete the current version. Note: This policy cannot be configured on a bucket with suspended versioning.If you apply both the lifecycle policies Expire current objects after # days/months/years and Permanently delete past version after # days/months/years on an object with versioning enabled, it deletes all the past versions based on the time specified in Permanently delete past version after # days/months/years, and the current version expires based on the time specified in Expire current objects after # days/months/years.If you apply any lifecycle policy to a WORM bucket with versioning enabled, the lifecycle policy is not applicable until the WORM retention period has elapsed.WORM BucketWrite-once-read-many (WORM) buckets protect your data and metadata. You can configure a WORM bucket to allow the creation of new objects and to prevent overwrites or deletion of the existing content for a particular retention period. By default, versioning is not enabled on a bucket. When you apply the WORM policy on a bucket, you can choose to enable versioning. In some industries, regulations or compliance rules mandate long-term records retention, sometimes for more than 7 years. For example, in the financial and health services industry, you must maintain the records in its original state, which cannot be overwritten or erased.When you increase the retention period of a bucket, the new retention period does not apply to the older objects. For example, if you have first applied WORM policy on a bucket in October 2018, and then you increase the retention period in January 2019. Then the new retention period is not applicable on the objects created before January 2019.When you apply any lifecycle policy to a WORM bucket with or without versions enabled, the policy is not applicable until the WORM retention period has passed.Note: You cannot enable WORM policy while creating a bucket.Operations on a WORM BucketThis topic lists the valid and invalid operations on a WORM bucket. You can refer to this list before performing any operation on a WORM bucket.Applying WORM Policy to Buckets from Prism CentralYou can apply the WORM policy to any bucket while creating a bucket. A WORM bucket allows you to create new objects and prevents you to overwrite or delete the existing content for a particular retention period.Operations on a WORM BucketThis topic lists the valid and invalid operations on a WORM bucket. You can refer to this list before performing any operation on a WORM bucket.Valid Operations Following are the valid operations: Delete objects.Note: This operation does not delete the data, but create a delete marker on top of the existing versions of objects.Delete the delete marker.Delete the target version of object after the retention period.Create a new version of the object and retain old versions.Extend the retention period.Invalid Operations Following are the invalid operations: Enable WORM policy while creating a bucket.Enable WORM policy without specifying the retention period.Reduce the retention period.Delete the targeted version before the retention period.Change the version state.Does not support legal hold and governance mode. Applying WORM Policy to Buckets from Prism CentralYou can apply the WORM policy to any bucket while creating a bucket. A WORM bucket allows you to create new objects and prevents you to overwrite or delete the existing content for a particular retention period.About this taskWarning: You cannot modify or delete objects inside a WORM bucket for the specified time period. To apply WORM policies to buckets.ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the object store in which the bucket exists.Click Buckets in the left pane.Select the bucket to apply the policy.Click Configure WORM. The Configure WORM window appears.Figure. Configure WORM WindowClick to enlargeNote: If versioning is disabled on a bucket, you can enable versioning while enabling WORM. However, once the WORM is enabled, you cannot change the versioning state.You cannot suspend versioning on WORM buckets.Caution: For the legal compliance reasons, the setting becomes permanent after 24 hours. You can disable the WORM policy within the first 24 hrs of grace period.You can only edit the retention period to increase the length of retention. You cannot decrease the retention period. (Optional) Click the Enable Version checkbox to enable versioning.Click the Enable WORM checkbox.Type the retention period (in years or months or days) in the Retention Period field by entering a number, and then selecting the time period from the drop-down menu.Click Enable WORM.This procedure successfully applies the WORM policy to the bucket.Configuring a Bucket for Static Website HostingYou can use Objects to host a static website that has individual web pages with static content. To host a static website on Objects, you can configure a bucket for website hosting, and then upload your website files (objects) to the bucket. When you configure a bucket as a static website, you enable static website hosting, and optionally, add an index document and an error page. You can upload files (such as index document and error page) to the bucket using an S3 browser. The S3 browser uses the S3 protocols by providing the access and the secret key. You can also choose to redirect to a website. Once you have configured your bucket as a static website, you can access the bucket through the object store endpoints for your bucket. About this taskNote: Once you configure static website for a bucket, you cannot turn off this feature from the Objects user interface. To turn off static website for buckets, contact Nutanix Support.To configure a bucket for static website hosting, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the Object Store, which contains the bucket. The object store opens in a new window.In the Buckets table, select the bucket to configure it for static website hosting.Click Actions > Static Website.The Configure Static Website window appears.Figure. Configure Static Website WindowClick to enlargeClick to enlargeBy default, the endpoint is auto-populated when you click Save at the last step.For example, when an endpoint auto populates, the URL will be in the format<objectstorename>.<domain>/<bucketname>. For example, testobjectstore.nutanix.com/teamobjects. However, if they have set up the DNS correctly, then you can also access the website with <bucketname>.<objectstorename>.<domain> endpoint using HTTP or HTTPS. For example, https://teamobjects.testobjectstore.nutanix.com.Click the Host Website or Redirect check box.Use this bucket to host a website: Select this option to use the bucket to host the website. Optionally, you can enter the name of the index document (for example, myindex.html) and an error page. An index document is a web page that Objects returns when you request the root of a website. It is the default page that loads when you are not requesting any specific page. After you enable static website hosting for your bucket, you can upload an HTML file with the index document name (for example, myindex.html) to your bucket. For example, if you specify no object in the URL, then the website loads the index page (myindex.html) that you have configured. If you have not configured an index document, then a website access to the root will return an access denied error message.A custom error page is a web page that Object returns when an error occurs. For example, if you are trying to load an object that does not exist, the website loads the error page that you have configured.Redirect: Select this option to enter a website URL to redirect to that website. For example, when you try to access the bucket endpoint, you will be redirected to this website. Protocol used is either HTTP or HTTPS. Click Save.An endpoint is auto-generated when you click Save. This endpoint will be the object store endpoint for your bucket and is used as the website address.You can now use your bucket as a static website. You can use the endpoint to test your static website.Cross-Origin Resource Sharing (CORS) OverviewCross-Origin Resource Sharing (CORS) allows a web application loaded in one domain to access the restricted resources that are requested from another domain. With CORS support in Objects, you can create rich web applications and allow cross-origin sharing of resources from Objects.For example, if you upload an image (for example, test.png) in a bucket (for example, test-bucket) in domain1 that contains some security-related information, and you are not allowed to make access to test.png from a website (for example, www.example.com) on domain2. Then you can configure a CORS policy for that test-bucket to allow www.example.com to access the resources of the test-bucket.Note: When you configure a bucket for static website hosting, public can have only read access to that bucket. POST, PUT, and DELETE requests on the bucket will be denied.For configuring CORS for a bucket, create an XML document with the following. The document size is limited to 64 KB.Rules that identify the origins that you will allow to access your bucket.The operations (HTTP methods) that will support each origin.Other operation-specific information.When Objects receives a cross-origin request for a bucket, it checks the CORS configuration on the bucket and uses the first CORSRule rule that matches the incoming browser request to enable a cross-origin request. You can add up to 100 rules to the configuration.Following are the conditions to match the rules.The Origin header of the request must match AllowedOrigin elements.The request method (for example, GET, PUT, HEAD, and so on) or the Access-Control-Request-Method header for a pre-flight OPTIONS request must be one of the AllowedMethod elements.Every header specified in the Access-Control-Request-Headers request header of a pre-flight request must match an AllowedHeader element.Following is an example of CORS configuration with two CORSRule:<CORSConfiguration>\n <CORSRule>\n   <AllowedOrigin>http://www.test.com</AllowedOrigin>\n   <AllowedMethod>PUT</AllowedMethod>\n   <AllowedMethod>DELETE</AllowedMethod>\n   <AllowedHeader>*</AllowedHeader>\n </CORSRule>\n <CORSRule>\n   <AllowedOrigin>*</AllowedOrigin>\n   <AllowedMethod>GET</AllowedMethod>\n </CORSRule>\n</CORSConfiguration>The first CORSRule allows cross-origin PUT and DELETE requests whose origin is http://www.test.com origin. The rule also allows all headers in a pre-flight OPTIONS request through the Access-Control-Request-Headers header. So, in response to any pre-flight OPTIONS request, Objects will return any requested headers.The second rule allows cross-origin GET requests from all the origins.The * wild-card character refers to all the origins.Configuring CORS on a BucketCross-Origin Resource Sharing (CORS) allows a web application loaded in one domain to access the restricted resources that are requested from another domain.Configuring CORS on a BucketCross-Origin Resource Sharing (CORS) allows a web application loaded in one domain to access the restricted resources that are requested from another domain.About this taskYou set this configuration on a bucket so that the bucket can service cross-origin requests.To configure CORS for a bucket, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the Object Store, which contains the bucket.The object store opens in a new window.In the Buckets table, select the bucket to configure CORS.Click Actions > CORS.Figure. Configure CORS WindowClick to enlargeThe Configure CORS window appears.Type or copy and paste a configuration file, or edit an existing configuration.The configuration file must be an XML file.Click Save.The CORS configurations are saved for the bucket.", "Heading_Keywords": ["bucket", "polici", "configur"]}, {"Heading": "Object Versioning", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-object-versioning-c.html", "Document Name": "Objects User Guide", "Content": " Object versioning enables you to keep multiple versions of an object in one bucket. By default, versioning is disabled for a new bucket. You can enable versioning while creating a bucket or editing a bucket. Refer to Creating and Configuring a Bucket.With object versioning option, you can enable versioning on objects of that particular bucket. Object versioning varies depending upon the lifecycle policies applied to the object. For more information about the lifecycle rules for object versioning, refer to Rules for lifecycle policy.Note: For a versioned bucket, the number of objects shown for each bucket is indicative of the number of versions of all the objects present in the bucket.You cannot disable but can suspend the object versioning at any time. When you suspend versioning, accumulation of the new object versions is stopped and previous object versions are retained.", "Heading_Keywords": ["object", "version"]}, {"Heading": "Lifecycle Policies", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-lifecycle-policies-c.html", "Document Name": "Objects User Guide", "Content": "Lifecycle policy enables you to create a set of rules that define actions that Nutanix Objects applies to a group of objects. With these policies, you can manage the objects cost effectively throughout their lifecycle. Note: By default, the lifecycle policies are disabled for a new bucket. You can apply these policies while creating or editing a bucket. You cannot change the policy for different objects of the same bucket. With lifecycle policies, you can configure the following: Allow object to automatically delete itself after a specified number of days or months or years from the date of object creation. Delete past versions permanently after a specified number of days or months or years from the date of object creation. Set a rule for a bucket so that all the objects in the bucket (or folder) adopt that rule. For example, if you want to store log files or business transaction records for a fixed period and after that period, you want to delete them.Note: You cannot recover the objects once it is deleted.Rules for Lifecycle Policy When Object Versioning is EnabledRules for Lifecycle Policy When Object Versioning is EnabledFollowing are the rules for the lifecycle policy when you enable object versioning: If you apply lifecycle policy Expire current objects after # days/months/years on an object with versioning enabled, it deletes the current version of the objects after the specified time, and does not delete any past versions of the objects. If you apply lifecycle policy Permanently delete past version after # days/months/years on an object with versioning enabled, it deletes all the past versions after the specified time. This operation does not delete the current version. Note: This policy cannot be configured on a bucket with suspended versioning.If you apply both the lifecycle policies Expire current objects after # days/months/years and Permanently delete past version after # days/months/years on an object with versioning enabled, it deletes all the past versions based on the time specified in Permanently delete past version after # days/months/years, and the current version expires based on the time specified in Expire current objects after # days/months/years.If you apply any lifecycle policy to a WORM bucket with versioning enabled, the lifecycle policy is not applicable until the WORM retention period has elapsed.", "Heading_Keywords": ["lifecycl", "polici"]}, {"Heading": "WORM Bucket", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-worm-bucket-c.html", "Document Name": "Objects User Guide", "Content": "Write-once-read-many (WORM) buckets protect your data and metadata. You can configure a WORM bucket to allow the creation of new objects and to prevent overwrites or deletion of the existing content for a particular retention period. By default, versioning is not enabled on a bucket. When you apply the WORM policy on a bucket, you can choose to enable versioning. In some industries, regulations or compliance rules mandate long-term records retention, sometimes for more than 7 years. For example, in the financial and health services industry, you must maintain the records in its original state, which cannot be overwritten or erased.When you increase the retention period of a bucket, the new retention period does not apply to the older objects. For example, if you have first applied WORM policy on a bucket in October 2018, and then you increase the retention period in January 2019. Then the new retention period is not applicable on the objects created before January 2019.When you apply any lifecycle policy to a WORM bucket with or without versions enabled, the policy is not applicable until the WORM retention period has passed.Note: You cannot enable WORM policy while creating a bucket.Operations on a WORM BucketThis topic lists the valid and invalid operations on a WORM bucket. You can refer to this list before performing any operation on a WORM bucket.Applying WORM Policy to Buckets from Prism CentralYou can apply the WORM policy to any bucket while creating a bucket. A WORM bucket allows you to create new objects and prevents you to overwrite or delete the existing content for a particular retention period.Operations on a WORM BucketThis topic lists the valid and invalid operations on a WORM bucket. You can refer to this list before performing any operation on a WORM bucket.Valid Operations Following are the valid operations: Delete objects.Note: This operation does not delete the data, but create a delete marker on top of the existing versions of objects.Delete the delete marker.Delete the target version of object after the retention period.Create a new version of the object and retain old versions.Extend the retention period.Invalid Operations Following are the invalid operations: Enable WORM policy while creating a bucket.Enable WORM policy without specifying the retention period.Reduce the retention period.Delete the targeted version before the retention period.Change the version state.Does not support legal hold and governance mode. Applying WORM Policy to Buckets from Prism CentralYou can apply the WORM policy to any bucket while creating a bucket. A WORM bucket allows you to create new objects and prevents you to overwrite or delete the existing content for a particular retention period.About this taskWarning: You cannot modify or delete objects inside a WORM bucket for the specified time period. To apply WORM policies to buckets.ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the object store in which the bucket exists.Click Buckets in the left pane.Select the bucket to apply the policy.Click Configure WORM. The Configure WORM window appears.Figure. Configure WORM WindowClick to enlargeNote: If versioning is disabled on a bucket, you can enable versioning while enabling WORM. However, once the WORM is enabled, you cannot change the versioning state.You cannot suspend versioning on WORM buckets.Caution: For the legal compliance reasons, the setting becomes permanent after 24 hours. You can disable the WORM policy within the first 24 hrs of grace period.You can only edit the retention period to increase the length of retention. You cannot decrease the retention period. (Optional) Click the Enable Version checkbox to enable versioning.Click the Enable WORM checkbox.Type the retention period (in years or months or days) in the Retention Period field by entering a number, and then selecting the time period from the drop-down menu.Click Enable WORM.This procedure successfully applies the WORM policy to the bucket.", "Heading_Keywords": ["worm", "bucket"]}, {"Heading": "Configuring a Bucket for Static Website Hosting", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-configure-static-website-hosting-t.html", "Document Name": "Objects User Guide", "Content": "You can use Objects to host a static website that has individual web pages with static content. To host a static website on Objects, you can configure a bucket for website hosting, and then upload your website files (objects) to the bucket. When you configure a bucket as a static website, you enable static website hosting, and optionally, add an index document and an error page. You can upload files (such as index document and error page) to the bucket using an S3 browser. The S3 browser uses the S3 protocols by providing the access and the secret key. You can also choose to redirect to a website. Once you have configured your bucket as a static website, you can access the bucket through the object store endpoints for your bucket. About this taskNote: Once you configure static website for a bucket, you cannot turn off this feature from the Objects user interface. To turn off static website for buckets, contact Nutanix Support.To configure a bucket for static website hosting, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the Object Store, which contains the bucket. The object store opens in a new window.In the Buckets table, select the bucket to configure it for static website hosting.Click Actions > Static Website.The Configure Static Website window appears.Figure. Configure Static Website WindowClick to enlargeClick to enlargeBy default, the endpoint is auto-populated when you click Save at the last step.For example, when an endpoint auto populates, the URL will be in the format<objectstorename>.<domain>/<bucketname>. For example, testobjectstore.nutanix.com/teamobjects. However, if they have set up the DNS correctly, then you can also access the website with <bucketname>.<objectstorename>.<domain> endpoint using HTTP or HTTPS. For example, https://teamobjects.testobjectstore.nutanix.com.Click the Host Website or Redirect check box.Use this bucket to host a website: Select this option to use the bucket to host the website. Optionally, you can enter the name of the index document (for example, myindex.html) and an error page. An index document is a web page that Objects returns when you request the root of a website. It is the default page that loads when you are not requesting any specific page. After you enable static website hosting for your bucket, you can upload an HTML file with the index document name (for example, myindex.html) to your bucket. For example, if you specify no object in the URL, then the website loads the index page (myindex.html) that you have configured. If you have not configured an index document, then a website access to the root will return an access denied error message.A custom error page is a web page that Object returns when an error occurs. For example, if you are trying to load an object that does not exist, the website loads the error page that you have configured.Redirect: Select this option to enter a website URL to redirect to that website. For example, when you try to access the bucket endpoint, you will be redirected to this website. Protocol used is either HTTP or HTTPS. Click Save.An endpoint is auto-generated when you click Save. This endpoint will be the object store endpoint for your bucket and is used as the website address.You can now use your bucket as a static website. You can use the endpoint to test your static website.", "Heading_Keywords": ["configur", "bucket", "static", "websit", "host"]}, {"Heading": "Cross-Origin Resource Sharing (CORS) Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-cors-c.html", "Document Name": "Objects User Guide", "Content": "Cross-Origin Resource Sharing (CORS) allows a web application loaded in one domain to access the restricted resources that are requested from another domain. With CORS support in Objects, you can create rich web applications and allow cross-origin sharing of resources from Objects.For example, if you upload an image (for example, test.png) in a bucket (for example, test-bucket) in domain1 that contains some security-related information, and you are not allowed to make access to test.png from a website (for example, www.example.com) on domain2. Then you can configure a CORS policy for that test-bucket to allow www.example.com to access the resources of the test-bucket.Note: When you configure a bucket for static website hosting, public can have only read access to that bucket. POST, PUT, and DELETE requests on the bucket will be denied.For configuring CORS for a bucket, create an XML document with the following. The document size is limited to 64 KB.Rules that identify the origins that you will allow to access your bucket.The operations (HTTP methods) that will support each origin.Other operation-specific information.When Objects receives a cross-origin request for a bucket, it checks the CORS configuration on the bucket and uses the first CORSRule rule that matches the incoming browser request to enable a cross-origin request. You can add up to 100 rules to the configuration.Following are the conditions to match the rules.The Origin header of the request must match AllowedOrigin elements.The request method (for example, GET, PUT, HEAD, and so on) or the Access-Control-Request-Method header for a pre-flight OPTIONS request must be one of the AllowedMethod elements.Every header specified in the Access-Control-Request-Headers request header of a pre-flight request must match an AllowedHeader element.Following is an example of CORS configuration with two CORSRule:<CORSConfiguration>\n <CORSRule>\n   <AllowedOrigin>http://www.test.com</AllowedOrigin>\n   <AllowedMethod>PUT</AllowedMethod>\n   <AllowedMethod>DELETE</AllowedMethod>\n   <AllowedHeader>*</AllowedHeader>\n </CORSRule>\n <CORSRule>\n   <AllowedOrigin>*</AllowedOrigin>\n   <AllowedMethod>GET</AllowedMethod>\n </CORSRule>\n</CORSConfiguration>The first CORSRule allows cross-origin PUT and DELETE requests whose origin is http://www.test.com origin. The rule also allows all headers in a pre-flight OPTIONS request through the Access-Control-Request-Headers header. So, in response to any pre-flight OPTIONS request, Objects will return any requested headers.The second rule allows cross-origin GET requests from all the origins.The * wild-card character refers to all the origins.Configuring CORS on a BucketCross-Origin Resource Sharing (CORS) allows a web application loaded in one domain to access the restricted resources that are requested from another domain.Configuring CORS on a BucketCross-Origin Resource Sharing (CORS) allows a web application loaded in one domain to access the restricted resources that are requested from another domain.About this taskYou set this configuration on a bucket so that the bucket can service cross-origin requests.To configure CORS for a bucket, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the Object Store, which contains the bucket.The object store opens in a new window.In the Buckets table, select the bucket to configure CORS.Click Actions > CORS.Figure. Configure CORS WindowClick to enlargeThe Configure CORS window appears.Type or copy and paste a configuration file, or edit an existing configuration.The configuration file must be an XML file.Click Save.The CORS configurations are saved for the bucket.", "Heading_Keywords": ["cross", "origin", "resourc", "share", "cor", "overview"]}, {"Heading": "Viewing Buckets", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-view-buckets-t.html", "Document Name": "Objects User Guide", "Content": "The Buckets view allows you to view the list of buckets in the object store and access detailed information about each bucket.About this taskTo view the list of buckets, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the object store.Figure. Buckets List ViewClick to enlargeA new window appears with the list of buckets in a tabular view. If you are on another page, you can click Buckets on the left pane to get back to this page. The following list describes the fields that appear in the buckets list. A dash (-) is displayed in a field when a value is not available or applicable.Name: Displays the name of the bucket.Size: Displays the size of the bucket.Num. Objects: Displays the number of objects in a bucket.Versioning: Displays if versioning is enabled or disabled in a bucket.WORM: Displays if WORM is enabled or disabled in a bucket.Static Website & CORS: Displays if static website or CORS is configured for a bucket.You can identify the filters (if any) applied to the list of entities from the query field. This field displays all the filter options that are currently in use and also allows for basic filtering on the entity name. For more information on filter options, refer to Bucket Filter Options.Buckets Filter OptionsBuckets Filter OptionsAfter selecting an entity type, the table displays the complete list of that entity across the registered clusters. You can filter this list by clicking the far right icon in the menu bar to display the Filters pane. This pane includes a set of fields that vary according to the type of entity. Select the desired field values to filter the list on those values. An entry appears in the current filters field for each selected value. You can remove a filter by clicking the X for that value in the current filters field.Numeric filters have To and From fields to specify a range. These fields can take numeric values along with units. For example, the filter adjusts the scale accordingly when you type in 10 K or 100 M. You can do the following in the current filters field: Remove a filter by clicking X for that filter. Remove all filters by clicking Clear (on the right). Use a saved filter list by selecting from the pull-down list. ", "Heading_Keywords": ["view", "bucket"]}, {"Heading": "Buckets Filter Options", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-bucket-filter-options-r.html", "Document Name": "Objects User Guide", "Content": "After selecting an entity type, the table displays the complete list of that entity across the registered clusters. You can filter this list by clicking the far right icon in the menu bar to display the Filters pane. This pane includes a set of fields that vary according to the type of entity. Select the desired field values to filter the list on those values. An entry appears in the current filters field for each selected value. You can remove a filter by clicking the X for that value in the current filters field.Numeric filters have To and From fields to specify a range. These fields can take numeric values along with units. For example, the filter adjusts the scale accordingly when you type in 10 K or 100 M. You can do the following in the current filters field: Remove a filter by clicking X for that filter. Remove all filters by clicking Clear (on the right). Use a saved filter list by selecting from the pull-down list. ", "Heading_Keywords": ["bucket", "filter", "option"]}, {"Heading": "Updating a Bucket", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-edit-buckets-t.html", "Document Name": "Objects User Guide", "Content": "You can update the bucket settings after creating the buckets and adding the objects to the buckets. About this taskNote: You cannot disable versioning (if enabled) but you can suspend it.You cannot edit multiple buckets at a time. To edit a bucket, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the Object Store, which contains the bucket. In the Buckets table, select the bucket for which you want to change the settings. Click Actions > Update.The Update Bucket window appears.Figure. Update Bucket WindowClick to enlargeEdit the settings that you want to change.For more information about the bucket settings, refer to Bucket Configuration. Click Save.The changes are saved.", "Heading_Keywords": ["updat", "bucket"]}, {"Heading": "Sharing a Bucket", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-share-buckets-t.html", "Document Name": "Objects User Guide", "Content": "You can share a bucket with multiple users that have access keys.About this taskNote: You can share only one bucket at a time.To share a bucket, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the Object Store, which contains the bucket. Figure. Object Store ListClick to enlargeThe object store opens in a new window.Click Buckets from the left pane, and in the Buckets table, select the bucket that you want to share with other users.Figure. Sharing the BucketClick to enlargeNote: You can only add users who have access keys. Click Actions > Share.Type the email address of the user and set the permission for that user.Figure. Share Bucket WindowClick to enlargeTo generate access keys, refer to Generating Access Key for API Users.To know more about Bucket Permissions, refer to Bucket Access Policies.To add more users, click + Add User.Click Save.The bucket is now shared with the listed users with the allotted permissions.What to do nextYou can list the buckets that are shared with you. For more information, refer to Listing the Shared Buckets.Bucket Access PoliciesListing the Shared BucketsListing the Shared Buckets feature extends the S3 ListBuckets API and displays the buckets owned by or shared with the current user.Bucket Access PoliciesThis section describes the authorization and access policies implemented in Objects.Nutanix supports the following list of policies on a bucket:Read: Provides read-only access to the user.Write: Provides write-only access to the user.Read and write: Provides both read and write access to the user.Note: To evaluate the policy for a user, the union of the user specific policy and the anonymous policy is computed. For example, if the user specific policy is Read-only but the anonymous policy for the bucket is Write-only, then the resulting policy for the user for that bucket will be Read-Write. Table 1. Access RolesAccess RoleDescriptionUser context with respect to bucketsOwnerThe user who creates the bucket. The owner can grant and revoke access to the non-admin users on the bucket.Non-admin userThe user who gains access to the bucket based on the policy assigned by the owner of that bucket. The non-admin user can only perform operations on the bucket based on the access policy assigned by the owner. User privilege levels (iam) Admin userAdmin users can read, list, and update the policy for the buckets that are owned by other users. They have certain access on the buckets that are not created by them.Standard userAny user who is not an admin. They have full control on the bucket which they create.Permissions for Nutanix Objects OperationsThis section describes the operations that can be performed by the owners and the admin users. API Accessible for the Corresponding PoliciesThe following table shows the list of operations allowed based on the access policy:Access Policy MatrixThe following table defines access permissions between specific policies and access roles:Permissions for Nutanix Objects OperationsThis section describes the operations that can be performed by the owners and the admin users. Owner PrivilegesThe owner can perform any S3 operations on a bucket and has read and write policy by default. They have full control over the buckets they create and can grant access to the buckets to other users (non-admin users).Users can only list buckets owned by them. They cannot list the shared buckets.Non-admin users can perform most operations like GET, PUT, DELETE; however, they cannot make policy changes to the buckets. Non-admin users can perform the following actions:Grant access to other users.Enable or disable versioning on the bucket.Enable or disable WORM policy.Table 1. Operations Performed by an OwnerPUT BucketGET Bucket (List Objects), HEAD BucketDELETE BucketGET Bucket versioningPUT Bucket versioningGET Bucket aclGET Bucket object lock configurationPUT Bucket object lock configurationDELETE Bucket lifecycleGET Bucket lifecycle configurationPUT Bucket lifecycle configurationAdmin PrivilegesAn admin user has special privileges in the system and can perform most of the operations on the buckets owned by another user.An admin can perform the following actions:Create a bucket in the user interface.View (list) buckets from all the users.Modify the policy of a bucket.Enable or disable versioning.Enable or disable object locks (WORM) owned by another user.Delete the bucket that belongs to another user if the bucket is empty.They cannot PUT or UPDATE objects (or initiate multipart upload), and DELETE objects.Users can only view the buckets that they create, unless the user is an admin user.API Accessible for the Corresponding PoliciesThe following table shows the list of operations allowed based on the access policy:Table 1. API Accessible for the Corresponding PoliciesS3 APIReadWriteRead and WriteHEAD BucketYesYesYesHEAD ObjectYesYesYesListObjectsV2YesNoYesListObjectsYesNoYesGET ObjectYesNoYesPUT ObjectNoYesYesCOPY ObjectNoYesYesDELETE ObjectNoYesYesDELETE ObjectsNoYesYesGET Bucket LocationYesNoYesGET Bucket versioningYesNoYesListObjectVersionsYesNoYesListPartsYesNoYesMultipartUpload (CreateMultipartUpload, AbortMultipartUpload, CompleteMultipartUpload)NoYesYesUPLOAD PartNoYesYesUpload Part \u2013 CopyNoYesYesPutObjectNoYesYesmultipart upload partsNoYesYesGET Bucket lifecycle configurationYesNoYesNote: Only the bucket owner and admin user can perform PUT Bucket versioning and PUT Bucket lifecycle operations.To perform object copy operation of size more than 500 MB, do one of the following:Use multipart copy part operation with part size as 500 MB.Use the object copy API with a large read timeout for the client. For example, the read timeout should be larger than the default 60 seconds for Boto3 python client.Access Policy MatrixThe following table defines access permissions between specific policies and access roles:Access Policy MatrixPolicyOwnerNon-admin userAdmin user (Non-owner)Standard user with read or write accessRead and list objects, get policy, versioning config YesNoYesYesWrite and delete objectsYesNoNoYesDelete bucket YesNoYesNoUpdate PolicyYesNoYesNoUpdate Versioning configYesNoYesNoUpdate worm configYesNoYesNoListing the Shared BucketsListing the Shared Buckets feature extends the S3 ListBuckets API and displays the buckets owned by or shared with the current user.The current behavior of S3 API for ListBuckets is to list the buckets that the current owner (caller of the API) owns. If you have created a bucket, then you are the owner of that bucket. For example, when an admin creates a bucket using the Objects user interface, the owner of all such buckets is the admin user. You (owner of the buckets) can choose to share buckets with one or more IAM users with Read or Write or Read-Write permissions. IAM users with whom a bucket is shared can access the bucket and its objects subject to the permissions granted. However, the Vanilla S3 API for ListBuckets does not allow for discovery (listing) of buckets that were shared with them.In earlier versions of Objects, if you share a bucket, you have to inform the user which bucket is shared with them. However, with Objects 2.1 and later versions, Listing the Shared Bucket feature extends the S3 ListBuckets API and displays the buckets owned by or shared with the current user. If you delete a bucket that is shared, the bucket will automatically be removed from the list.Note: This feature is a departure from the S3 specifications and is enabled by default. To disable the feature, contact Nutanix Support.This feature is only enabled for sharing relations created using Objects 2.1 or later versions. You cannot list the buckets created using earlier versions of Objects. A workaround to enable this feature retroactively is to have the owner of the bucket remove all the sharing-relations and recreate them using the latest Objects version.For example, an Admin created three buckets B0, B1, and B2. B1 was shared with User1 with Read-Write access and B2 was shared with User2 with Write access. Following are the outputs of the ListBuckets API call before and after the introduction of Listing the Shared Buckets feature.Before the introduction of Listing the Shared Bucket feature:Admin B0 B1 B2\nUser1 \nUser2After the introduction of Listing the Shared Bucket feature:Admin B0 B1 B2\nUser1 B1\nUser2 B2", "Heading_Keywords": ["share", "bucket"]}, {"Heading": "Bucket Access Policies", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-bucket-access-policies-c.html", "Document Name": "Objects User Guide", "Content": "This section describes the authorization and access policies implemented in Objects.Nutanix supports the following list of policies on a bucket:Read: Provides read-only access to the user.Write: Provides write-only access to the user.Read and write: Provides both read and write access to the user.Note: To evaluate the policy for a user, the union of the user specific policy and the anonymous policy is computed. For example, if the user specific policy is Read-only but the anonymous policy for the bucket is Write-only, then the resulting policy for the user for that bucket will be Read-Write. Table 1. Access RolesAccess RoleDescriptionUser context with respect to bucketsOwnerThe user who creates the bucket. The owner can grant and revoke access to the non-admin users on the bucket.Non-admin userThe user who gains access to the bucket based on the policy assigned by the owner of that bucket. The non-admin user can only perform operations on the bucket based on the access policy assigned by the owner. User privilege levels (iam) Admin userAdmin users can read, list, and update the policy for the buckets that are owned by other users. They have certain access on the buckets that are not created by them.Standard userAny user who is not an admin. They have full control on the bucket which they create.Permissions for Nutanix Objects OperationsThis section describes the operations that can be performed by the owners and the admin users. API Accessible for the Corresponding PoliciesThe following table shows the list of operations allowed based on the access policy:Access Policy MatrixThe following table defines access permissions between specific policies and access roles:Permissions for Nutanix Objects OperationsThis section describes the operations that can be performed by the owners and the admin users. Owner PrivilegesThe owner can perform any S3 operations on a bucket and has read and write policy by default. They have full control over the buckets they create and can grant access to the buckets to other users (non-admin users).Users can only list buckets owned by them. They cannot list the shared buckets.Non-admin users can perform most operations like GET, PUT, DELETE; however, they cannot make policy changes to the buckets. Non-admin users can perform the following actions:Grant access to other users.Enable or disable versioning on the bucket.Enable or disable WORM policy.Table 1. Operations Performed by an OwnerPUT BucketGET Bucket (List Objects), HEAD BucketDELETE BucketGET Bucket versioningPUT Bucket versioningGET Bucket aclGET Bucket object lock configurationPUT Bucket object lock configurationDELETE Bucket lifecycleGET Bucket lifecycle configurationPUT Bucket lifecycle configurationAdmin PrivilegesAn admin user has special privileges in the system and can perform most of the operations on the buckets owned by another user.An admin can perform the following actions:Create a bucket in the user interface.View (list) buckets from all the users.Modify the policy of a bucket.Enable or disable versioning.Enable or disable object locks (WORM) owned by another user.Delete the bucket that belongs to another user if the bucket is empty.They cannot PUT or UPDATE objects (or initiate multipart upload), and DELETE objects.Users can only view the buckets that they create, unless the user is an admin user.API Accessible for the Corresponding PoliciesThe following table shows the list of operations allowed based on the access policy:Table 1. API Accessible for the Corresponding PoliciesS3 APIReadWriteRead and WriteHEAD BucketYesYesYesHEAD ObjectYesYesYesListObjectsV2YesNoYesListObjectsYesNoYesGET ObjectYesNoYesPUT ObjectNoYesYesCOPY ObjectNoYesYesDELETE ObjectNoYesYesDELETE ObjectsNoYesYesGET Bucket LocationYesNoYesGET Bucket versioningYesNoYesListObjectVersionsYesNoYesListPartsYesNoYesMultipartUpload (CreateMultipartUpload, AbortMultipartUpload, CompleteMultipartUpload)NoYesYesUPLOAD PartNoYesYesUpload Part \u2013 CopyNoYesYesPutObjectNoYesYesmultipart upload partsNoYesYesGET Bucket lifecycle configurationYesNoYesNote: Only the bucket owner and admin user can perform PUT Bucket versioning and PUT Bucket lifecycle operations.To perform object copy operation of size more than 500 MB, do one of the following:Use multipart copy part operation with part size as 500 MB.Use the object copy API with a large read timeout for the client. For example, the read timeout should be larger than the default 60 seconds for Boto3 python client.Access Policy MatrixThe following table defines access permissions between specific policies and access roles:Access Policy MatrixPolicyOwnerNon-admin userAdmin user (Non-owner)Standard user with read or write accessRead and list objects, get policy, versioning config YesNoYesYesWrite and delete objectsYesNoNoYesDelete bucket YesNoYesNoUpdate PolicyYesNoYesNoUpdate Versioning configYesNoYesNoUpdate worm configYesNoYesNo", "Heading_Keywords": ["bucket", "access", "polici"]}, {"Heading": "Listing the Shared Buckets", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-list-shared-buckets-r.html", "Document Name": "Objects User Guide", "Content": "Listing the Shared Buckets feature extends the S3 ListBuckets API and displays the buckets owned by or shared with the current user.The current behavior of S3 API for ListBuckets is to list the buckets that the current owner (caller of the API) owns. If you have created a bucket, then you are the owner of that bucket. For example, when an admin creates a bucket using the Objects user interface, the owner of all such buckets is the admin user. You (owner of the buckets) can choose to share buckets with one or more IAM users with Read or Write or Read-Write permissions. IAM users with whom a bucket is shared can access the bucket and its objects subject to the permissions granted. However, the Vanilla S3 API for ListBuckets does not allow for discovery (listing) of buckets that were shared with them.In earlier versions of Objects, if you share a bucket, you have to inform the user which bucket is shared with them. However, with Objects 2.1 and later versions, Listing the Shared Bucket feature extends the S3 ListBuckets API and displays the buckets owned by or shared with the current user. If you delete a bucket that is shared, the bucket will automatically be removed from the list.Note: This feature is a departure from the S3 specifications and is enabled by default. To disable the feature, contact Nutanix Support.This feature is only enabled for sharing relations created using Objects 2.1 or later versions. You cannot list the buckets created using earlier versions of Objects. A workaround to enable this feature retroactively is to have the owner of the bucket remove all the sharing-relations and recreate them using the latest Objects version.For example, an Admin created three buckets B0, B1, and B2. B1 was shared with User1 with Read-Write access and B2 was shared with User2 with Write access. Following are the outputs of the ListBuckets API call before and after the introduction of Listing the Shared Buckets feature.Before the introduction of Listing the Shared Bucket feature:Admin B0 B1 B2\nUser1 \nUser2After the introduction of Listing the Shared Bucket feature:Admin B0 B1 B2\nUser1 B1\nUser2 B2", "Heading_Keywords": ["list", "share", "bucket"]}, {"Heading": "Viewing Bucket Users", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-view-user-access-t.html", "Document Name": "Objects User Guide", "Content": "You can view all the users and their permissions for a particular bucket.About this taskTo view the bucket's usage.ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the object store, which stores the bucket, and then click Buckets.Click the name of the bucket.Figure. Buckets ListClick to enlargeClick User Access.Figure. List of UsersClick to enlargeThe table displays the list of users and their permissions.You can edit the user access by clicking Edit User Access.For more information about editing user access, refer to the procedure from Step 4 in the Sharing a Bucket topic.", "Heading_Keywords": ["view", "bucket", "user"]}, {"Heading": "Deleting a Bucket", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-delete-buckets-t.html", "Document Name": "Objects User Guide", "Content": "If you no longer require a bucket, you can delete the bucket.About this taskYou can delete the following:Multiple empty buckets at a time.A bucket with versioning enabled; however, it permanently deletes all the versions of the buckets.Note: You cannot delete buckets containing objects and WORM enabled bucketsTo delete a bucket, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.Click the name of the object store, which stores the bucket, and then click Buckets.Click the check box next to the name of the bucket that you want to delete.Click Actions > Delete.Figure. Delete Bucket WindowClick to enlargeOn the dialog box, click Confirm.A message appears to confirm the bucket's deletion. ", "Heading_Keywords": ["delet", "bucket"]}, {"Heading": "Objects Replicator", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-objects-replicator-c.html", "Document Name": "Objects User Guide", "Content": "Objects Replicator is a script-based replication solution to sync objects across two object stores. Note: The Objects Replicator feature is a Limited Availability (LA) release. To access the Objects Replicator tool, contact the Accounts team or reach out to objects@nutanix.com", "Heading_Keywords": ["object", "replic"]}, {"Heading": "Monitoring and Alerts", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-monitor-buckets-os-c.html", "Document Name": "Objects User Guide", "Content": "You can monitor the usage and the performance of object stores and buckets, and you can also view system generated alerts for Objects.Note: For the object counts that are shown at the object store instance level, Nutanix Objects counts each upload of a multipart upload as a separate object until the object is finalized. However, for the object count at the bucket level, Nutanix Objects does not include the upload counts in the objects count since an object is considered as uploaded in a bucket only after it is finalized. For example, if you have done a multipart upload of 10 objects (suppose 5 parts of each object), then the multipart count of the objects is shown as 50 in the object store instance level. However, at the bucket level, it is shown as 0 because the objects are not finalized or completely uploaded.Viewing Performance of Object StoresYou can view and analyze the performance of an object store by placing the cursor anywhere on the horizontal axis to display the value at that time. You can also select the time interval (last 3 hours, last 6 hours, and last 12 hours) from the pull-down list above the graphs.Viewing Performance of BucketsYou can view and analyze the performance of a bucket by placing the cursor anywhere on the horizontal axis to display the value at that time. You can also select the time interval (last 3 hours, last 6 hours, and last 12 hours) from the pull-down list above the graphs.Viewing Object Store UsageThe Usage tab displays the storage usage in a graphical form. You can view the space used across all buckets in an object store.Viewing Buckets UsageThe Usage tab displays the storage usage in a graphical form. You can view the space used across the bucket.Viewing AlertsThe Alerts tab apprise administrators of informational, warning, and critical alerts. The Alerts tab presents all notifications and events in an easy-to-consume table format. The table presents each alert with the color-coded severity level, a description of the alert, and the time-stamp.Viewing Performance of Object StoresYou can view and analyze the performance of an object store by placing the cursor anywhere on the horizontal axis to display the value at that time. You can also select the time interval (last 3 hours, last 6 hours, and last 12 hours) from the pull-down list above the graphs.About this taskTo view performance of an object store, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the object store, and then click Performance.Figure. Object Store Performance GraphClick to enlargeThe graph shows the following information:Requests Per Second: Displays the following graphs:The Total graph displays the total input and output requests in each second in the object store or bucket.The Get graph displays the total output in each second. The Put graph displays the total input in each secondThroughput (MB per sec): The Throughput graph displays granular read and write throughput in MB in each second.You can see the total in, total out, Gets and Puts in a bucket. Time to First Byte (GET Operations): This graph displays the time taken to read the first byte from the object in milliseconds.Viewing Performance of BucketsYou can view and analyze the performance of a bucket by placing the cursor anywhere on the horizontal axis to display the value at that time. You can also select the time interval (last 3 hours, last 6 hours, and last 12 hours) from the pull-down list above the graphs.About this taskNote: The Throughput chart shows data for each connection. This data is not the cumulative throughput across all the clients and connections.To view performance of a bucket, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the Object Store, which contains the bucket.The object store opens in a new window.Click Bucket in the left pane, select the name of the bucket, and then click Performance.Figure. Bucket Performance GraphClick to enlargeThe graph displays the performance of the bucket.Requests Per Second: Displays the following graphs:The Total graph displays the total I/O requests in each second in the object store or bucket.The Get graph displays the total output in each second. The Put graph displays the total input in each secondThroughput (MB per sec): This graph displays granular read and write throughput in MB per second.You can see the total in, total out, Gets and Puts in a bucket.Time to First Byte (GET Operations): This graph displays the time taken to read the first byte from the object in milliseconds.Viewing Object Store UsageThe Usage tab displays the storage usage in a graphical form. You can view the space used across all buckets in an object store.About this taskTo view the object store usage, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the object store to see its usage.The object store opens on a new window.Click Usage.Figure. Object Store UsageClick to enlargeThe storage usage section displays the following information:Total used and total free storage across all clusters.Space used across all buckets on the existing clusters and other workloads in a bar.Total and free physical capacity on all the clusters.Total and free logical capacity of the object store.Assigning Quota Policy to a UserAssigning a quota policy to a user enables Objects to set soft thresholds on storage limits of all buckets owned by the user and number of buckets created by the user within an object store. You can assign quota policy to multiple users at the same time. If any user exceeds the limit, they can still create buckets and objects, however an alert is raised in the Alerts page. For example, if a user has 20 TB storage and has six buckets, then storage for all the six buckets will be accounted. If you are an owner of a bucket and have shared your bucket with multiple users, then your storage quota will be used up even if other users use the shared bucket storage. If a user is deleted and recreated in the object store, the previous storage usage and quota policies created against the user are still applied. If some multi-part operations are pending, those pending parts do not count towards the quota.Assigning Quota Policy to a UserAssigning a quota policy to a user enables Objects to set soft thresholds on storage limits of all buckets owned by the user and number of buckets created by the user within an object store. You can assign quota policy to multiple users at the same time. If any user exceeds the limit, they can still create buckets and objects, however an alert is raised in the Alerts page. For example, if a user has 20 TB storage and has six buckets, then storage for all the six buckets will be accounted. If you are an owner of a bucket and have shared your bucket with multiple users, then your storage quota will be used up even if other users use the shared bucket storage. If a user is deleted and recreated in the object store, the previous storage usage and quota policies created against the user are still applied. If some multi-part operations are pending, those pending parts do not count towards the quota.About this taskTo assign a quota policy to a user, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.To see the object store usage and to assign quota policy to the users, click the name of the object store.The object store opens on a new window.Click Usage > Quota Policy.Select the user for which you want to create the quota policy.Click Create Policy.Figure. Create Quota PolicyClick to enlargeA Configure Quota window appears.Select a user or multiple users from the People drop-down.Note: You can create quote policy for multiple users simultaneously, but you cannot assign multiple quotas to the same user.Click the Storage Limit check box and enter the soft limit for storage usage.Click the Bucket Limit check box and enter the soft limit for bucket usage, and then click Save.A list of users with the configured storage- and bucket-quota, and the current usage is displayed. When the storage usage or bucket usage reaches 90% of the defined limit, you are notified with an exclamation mark.A background task checks for any violation of quota policies and generates this alert. So, it can take about an hour to generate the alert. On a heavily loaded object store, it can take up to a day to generate an alert.Also, if you delete a user from the object store, then the quota policy of the user is not deleted and can still generate alerts.What to do nextYou can view the alerts. For more information, refer to Viewing Alerts section.Viewing Buckets UsageThe Usage tab displays the storage usage in a graphical form. You can view the space used across the bucket.About this taskTo view the buckets usage, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the object store, which stores the bucket, and then click BucketsClick the name of the bucket.Figure. Buckets ListClick to enlargeNote: Only finalized objects of a multipart upload are shown in the buckets table.Click Usage.Figure. Bucket UsageClick to enlargeThe storage usage section displays the following information:Space used across all buckets.Total physical capacity of the cluster.Logical capacity of the object store.Viewing AlertsThe Alerts tab apprise administrators of informational, warning, and critical alerts. The Alerts tab presents all notifications and events in an easy-to-consume table format. The table presents each alert with the color-coded severity level, a description of the alert, and the time-stamp.About this taskTo view the object store alerts, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the object store.The object store opens in a new window.Click Alerts.Figure. Alerts ListClick to enlargeThe alerts table displays the following information:Table 1. Alerts TableFieldDescriptionNameThis column displays the name of the alert.DescriptionThis column displays a description of the alert issue.SeverityThis column displays the severity level of the alert. Following are the three severity levels:Critical: A critical alert is one that requires immediate attention.Warning: A warning alert is one that might need attention soon.Info: An info alert highlights a condition to be aware of.CreatedThis column displays the number of days since the alert was created. Hover over the number of days to view the date and time when the alert was created.SilencedThis column provides the option to suppress the alert.You can also suppress multiple alerts by using Silence at the top-left of the screen. Note: Silencing of alerts is temporary. You can use Filters at the top-right corner to filter the alerts you want to view. You can filter the alerts by severity levels (Critical, Warning, and Info) and state (Active and Silenced).Nutanix Objects Specific AlertsThe following tables describe the Objects specific alerts. Apart from the Objects specific alerts, alerts that monitor the underlying infrastructure of the Objects clusters are also triggered. For more information about these alerts, you can contact Nutanix Support at https://portal.nutanix.com.Nutanix Objects Specific AlertsThe following tables describe the Objects specific alerts. Apart from the Objects specific alerts, alerts that monitor the underlying infrastructure of the Objects clusters are also triggered. For more information about these alerts, you can contact Nutanix Support at https://portal.nutanix.com.Table 1. Objects Alert - HighTimeToFirstByte NameHighTimeToFirstByteDescriptionThe HighTimeToFirstByte alert appears when the Time To First Byte (TTFB) for all the HTTP GET operations in the past 10 minutes exceeds 1 second.Alert MessageGet operations issued to the object store in the past 10 minutes have been showing TTFB of <value> msecCauseHigh network latency, improper sizing, and component crashes may generate HighTimeToFirstByte alert.ImpactThe response for Object GET requests becomes slow.ResolutionDo the following:Check for the networking issues impacting the nodes in the Prism Element cluster.Check if the GETs in each second and PUTs in each second shown on the Performance page of the object store exceeds the estimated workload at the time of deployment. If there is an indication of an overload, consider reducing the workload on the Object Store Service (OSS).Check for crashing services on the Object Store.Check the Prism Element cluster on which you deployed the object store for any alerts that may be relevant to HighTimeToFirstByte alert.Table 2. Objects Alert - HighObjectStoreUsage NameHighObjectStoreUsageDescriptionThe HighObjectStoreUsage alert appears when the total object store space usage exceeds the estimated capacity specified at the time of deployment.Alert MessageCurrent object store usage <val> TB exceeds the provisioned capacity <val>TBCauseThe following may cause the HighObjectStoreUsage alert to generate.Missing lifecycle management policiesPerforming too many object operations.ImpactObject store gets overloaded, thus causing slow performance.ResolutionDo the following:Delete nonessential objects from the object store to reduce the number of objects in the object store.If the object store usage is unexpectedly high based on the workload and available resources, check for misconfigured Lifecycle Policies on the buckets in the object that may be retaining objects longer than intended.If the storage space on the Prism Element cluster outside of the object store is high, consider deleting nonessential VMs, snapshots, data, or adding extra nodes to free the storage space in the Prism Element cluster.Table 3. Objects Alert - HighErrorRate NameHighErrorRateDescriptionThe HighErrorRate alert appears when the object store returns one or more HTTP 4XX or HTTP 5XX errors in each second for the last 10 minutes.Alert MessageOperations issued to Nutanix Buckets have been failing with 5XX/4XX errors with observed error rate <val>/s over the past 10 minutesCauseImproper credentials and component crashes may generate the HighErrorRate alert.ImpactThe object store operations fail.ResolutionDo the following:Check the client applications for the correct access and secret key combination.Check for any crashing services on the object store.Check the Prism Element cluster on which you deployed the object store for any alerts that may be relevant to HighErrorRate alert.", "Heading_Keywords": ["monitor", "alert"]}, {"Heading": "Viewing Performance of Object Stores", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-view-os-performance-t.html", "Document Name": "Objects User Guide", "Content": "You can view and analyze the performance of an object store by placing the cursor anywhere on the horizontal axis to display the value at that time. You can also select the time interval (last 3 hours, last 6 hours, and last 12 hours) from the pull-down list above the graphs.About this taskTo view performance of an object store, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the object store, and then click Performance.Figure. Object Store Performance GraphClick to enlargeThe graph shows the following information:Requests Per Second: Displays the following graphs:The Total graph displays the total input and output requests in each second in the object store or bucket.The Get graph displays the total output in each second. The Put graph displays the total input in each secondThroughput (MB per sec): The Throughput graph displays granular read and write throughput in MB in each second.You can see the total in, total out, Gets and Puts in a bucket. Time to First Byte (GET Operations): This graph displays the time taken to read the first byte from the object in milliseconds.", "Heading_Keywords": ["view", "perform", "object", "store"]}, {"Heading": "Viewing Performance of Buckets", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-view-buckets-performance-t.html", "Document Name": "Objects User Guide", "Content": "You can view and analyze the performance of a bucket by placing the cursor anywhere on the horizontal axis to display the value at that time. You can also select the time interval (last 3 hours, last 6 hours, and last 12 hours) from the pull-down list above the graphs.About this taskNote: The Throughput chart shows data for each connection. This data is not the cumulative throughput across all the clients and connections.To view performance of a bucket, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the Object Store, which contains the bucket.The object store opens in a new window.Click Bucket in the left pane, select the name of the bucket, and then click Performance.Figure. Bucket Performance GraphClick to enlargeThe graph displays the performance of the bucket.Requests Per Second: Displays the following graphs:The Total graph displays the total I/O requests in each second in the object store or bucket.The Get graph displays the total output in each second. The Put graph displays the total input in each secondThroughput (MB per sec): This graph displays granular read and write throughput in MB per second.You can see the total in, total out, Gets and Puts in a bucket.Time to First Byte (GET Operations): This graph displays the time taken to read the first byte from the object in milliseconds.", "Heading_Keywords": ["view", "perform", "bucket"]}, {"Heading": "Viewing Object Store Usage", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-view-os-usage-t.html", "Document Name": "Objects User Guide", "Content": "The Usage tab displays the storage usage in a graphical form. You can view the space used across all buckets in an object store.About this taskTo view the object store usage, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the object store to see its usage.The object store opens on a new window.Click Usage.Figure. Object Store UsageClick to enlargeThe storage usage section displays the following information:Total used and total free storage across all clusters.Space used across all buckets on the existing clusters and other workloads in a bar.Total and free physical capacity on all the clusters.Total and free logical capacity of the object store.Assigning Quota Policy to a UserAssigning a quota policy to a user enables Objects to set soft thresholds on storage limits of all buckets owned by the user and number of buckets created by the user within an object store. You can assign quota policy to multiple users at the same time. If any user exceeds the limit, they can still create buckets and objects, however an alert is raised in the Alerts page. For example, if a user has 20 TB storage and has six buckets, then storage for all the six buckets will be accounted. If you are an owner of a bucket and have shared your bucket with multiple users, then your storage quota will be used up even if other users use the shared bucket storage. If a user is deleted and recreated in the object store, the previous storage usage and quota policies created against the user are still applied. If some multi-part operations are pending, those pending parts do not count towards the quota.Assigning Quota Policy to a UserAssigning a quota policy to a user enables Objects to set soft thresholds on storage limits of all buckets owned by the user and number of buckets created by the user within an object store. You can assign quota policy to multiple users at the same time. If any user exceeds the limit, they can still create buckets and objects, however an alert is raised in the Alerts page. For example, if a user has 20 TB storage and has six buckets, then storage for all the six buckets will be accounted. If you are an owner of a bucket and have shared your bucket with multiple users, then your storage quota will be used up even if other users use the shared bucket storage. If a user is deleted and recreated in the object store, the previous storage usage and quota policies created against the user are still applied. If some multi-part operations are pending, those pending parts do not count towards the quota.About this taskTo assign a quota policy to a user, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.To see the object store usage and to assign quota policy to the users, click the name of the object store.The object store opens on a new window.Click Usage > Quota Policy.Select the user for which you want to create the quota policy.Click Create Policy.Figure. Create Quota PolicyClick to enlargeA Configure Quota window appears.Select a user or multiple users from the People drop-down.Note: You can create quote policy for multiple users simultaneously, but you cannot assign multiple quotas to the same user.Click the Storage Limit check box and enter the soft limit for storage usage.Click the Bucket Limit check box and enter the soft limit for bucket usage, and then click Save.A list of users with the configured storage- and bucket-quota, and the current usage is displayed. When the storage usage or bucket usage reaches 90% of the defined limit, you are notified with an exclamation mark.A background task checks for any violation of quota policies and generates this alert. So, it can take about an hour to generate the alert. On a heavily loaded object store, it can take up to a day to generate an alert.Also, if you delete a user from the object store, then the quota policy of the user is not deleted and can still generate alerts.What to do nextYou can view the alerts. For more information, refer to Viewing Alerts section.", "Heading_Keywords": ["view", "object", "store", "usag"]}, {"Heading": "Assigning Quota Policy to a User", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-assign-quota-policy-t.html", "Document Name": "Objects User Guide", "Content": "Assigning a quota policy to a user enables Objects to set soft thresholds on storage limits of all buckets owned by the user and number of buckets created by the user within an object store. You can assign quota policy to multiple users at the same time. If any user exceeds the limit, they can still create buckets and objects, however an alert is raised in the Alerts page. For example, if a user has 20 TB storage and has six buckets, then storage for all the six buckets will be accounted. If you are an owner of a bucket and have shared your bucket with multiple users, then your storage quota will be used up even if other users use the shared bucket storage. If a user is deleted and recreated in the object store, the previous storage usage and quota policies created against the user are still applied. If some multi-part operations are pending, those pending parts do not count towards the quota.About this taskTo assign a quota policy to a user, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.To see the object store usage and to assign quota policy to the users, click the name of the object store.The object store opens on a new window.Click Usage > Quota Policy.Select the user for which you want to create the quota policy.Click Create Policy.Figure. Create Quota PolicyClick to enlargeA Configure Quota window appears.Select a user or multiple users from the People drop-down.Note: You can create quote policy for multiple users simultaneously, but you cannot assign multiple quotas to the same user.Click the Storage Limit check box and enter the soft limit for storage usage.Click the Bucket Limit check box and enter the soft limit for bucket usage, and then click Save.A list of users with the configured storage- and bucket-quota, and the current usage is displayed. When the storage usage or bucket usage reaches 90% of the defined limit, you are notified with an exclamation mark.A background task checks for any violation of quota policies and generates this alert. So, it can take about an hour to generate the alert. On a heavily loaded object store, it can take up to a day to generate an alert.Also, if you delete a user from the object store, then the quota policy of the user is not deleted and can still generate alerts.What to do nextYou can view the alerts. For more information, refer to Viewing Alerts section.", "Heading_Keywords": ["assign", "quota", "polici", "user"]}, {"Heading": "Viewing Buckets Usage", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-view-buckets-usage-t.html", "Document Name": "Objects User Guide", "Content": "The Usage tab displays the storage usage in a graphical form. You can view the space used across the bucket.About this taskTo view the buckets usage, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the object store, which stores the bucket, and then click BucketsClick the name of the bucket.Figure. Buckets ListClick to enlargeNote: Only finalized objects of a multipart upload are shown in the buckets table.Click Usage.Figure. Bucket UsageClick to enlargeThe storage usage section displays the following information:Space used across all buckets.Total physical capacity of the cluster.Logical capacity of the object store.", "Heading_Keywords": ["view", "bucket", "usag"]}, {"Heading": "Viewing Alerts", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-view-os-alerts-t.html", "Document Name": "Objects User Guide", "Content": "The Alerts tab apprise administrators of informational, warning, and critical alerts. The Alerts tab presents all notifications and events in an easy-to-consume table format. The table presents each alert with the color-coded severity level, a description of the alert, and the time-stamp.About this taskTo view the object store alerts, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects. Click the name of the object store.The object store opens in a new window.Click Alerts.Figure. Alerts ListClick to enlargeThe alerts table displays the following information:Table 1. Alerts TableFieldDescriptionNameThis column displays the name of the alert.DescriptionThis column displays a description of the alert issue.SeverityThis column displays the severity level of the alert. Following are the three severity levels:Critical: A critical alert is one that requires immediate attention.Warning: A warning alert is one that might need attention soon.Info: An info alert highlights a condition to be aware of.CreatedThis column displays the number of days since the alert was created. Hover over the number of days to view the date and time when the alert was created.SilencedThis column provides the option to suppress the alert.You can also suppress multiple alerts by using Silence at the top-left of the screen. Note: Silencing of alerts is temporary. You can use Filters at the top-right corner to filter the alerts you want to view. You can filter the alerts by severity levels (Critical, Warning, and Info) and state (Active and Silenced).Nutanix Objects Specific AlertsThe following tables describe the Objects specific alerts. Apart from the Objects specific alerts, alerts that monitor the underlying infrastructure of the Objects clusters are also triggered. For more information about these alerts, you can contact Nutanix Support at https://portal.nutanix.com.Nutanix Objects Specific AlertsThe following tables describe the Objects specific alerts. Apart from the Objects specific alerts, alerts that monitor the underlying infrastructure of the Objects clusters are also triggered. For more information about these alerts, you can contact Nutanix Support at https://portal.nutanix.com.Table 1. Objects Alert - HighTimeToFirstByte NameHighTimeToFirstByteDescriptionThe HighTimeToFirstByte alert appears when the Time To First Byte (TTFB) for all the HTTP GET operations in the past 10 minutes exceeds 1 second.Alert MessageGet operations issued to the object store in the past 10 minutes have been showing TTFB of <value> msecCauseHigh network latency, improper sizing, and component crashes may generate HighTimeToFirstByte alert.ImpactThe response for Object GET requests becomes slow.ResolutionDo the following:Check for the networking issues impacting the nodes in the Prism Element cluster.Check if the GETs in each second and PUTs in each second shown on the Performance page of the object store exceeds the estimated workload at the time of deployment. If there is an indication of an overload, consider reducing the workload on the Object Store Service (OSS).Check for crashing services on the Object Store.Check the Prism Element cluster on which you deployed the object store for any alerts that may be relevant to HighTimeToFirstByte alert.Table 2. Objects Alert - HighObjectStoreUsage NameHighObjectStoreUsageDescriptionThe HighObjectStoreUsage alert appears when the total object store space usage exceeds the estimated capacity specified at the time of deployment.Alert MessageCurrent object store usage <val> TB exceeds the provisioned capacity <val>TBCauseThe following may cause the HighObjectStoreUsage alert to generate.Missing lifecycle management policiesPerforming too many object operations.ImpactObject store gets overloaded, thus causing slow performance.ResolutionDo the following:Delete nonessential objects from the object store to reduce the number of objects in the object store.If the object store usage is unexpectedly high based on the workload and available resources, check for misconfigured Lifecycle Policies on the buckets in the object that may be retaining objects longer than intended.If the storage space on the Prism Element cluster outside of the object store is high, consider deleting nonessential VMs, snapshots, data, or adding extra nodes to free the storage space in the Prism Element cluster.Table 3. Objects Alert - HighErrorRate NameHighErrorRateDescriptionThe HighErrorRate alert appears when the object store returns one or more HTTP 4XX or HTTP 5XX errors in each second for the last 10 minutes.Alert MessageOperations issued to Nutanix Buckets have been failing with 5XX/4XX errors with observed error rate <val>/s over the past 10 minutesCauseImproper credentials and component crashes may generate the HighErrorRate alert.ImpactThe object store operations fail.ResolutionDo the following:Check the client applications for the correct access and secret key combination.Check for any crashing services on the object store.Check the Prism Element cluster on which you deployed the object store for any alerts that may be relevant to HighErrorRate alert.", "Heading_Keywords": ["view", "alert"]}, {"Heading": "Nutanix Objects Specific Alerts", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-alerts-objects-r.html", "Document Name": "Objects User Guide", "Content": "The following tables describe the Objects specific alerts. Apart from the Objects specific alerts, alerts that monitor the underlying infrastructure of the Objects clusters are also triggered. For more information about these alerts, you can contact Nutanix Support at https://portal.nutanix.com.Table 1. Objects Alert - HighTimeToFirstByte NameHighTimeToFirstByteDescriptionThe HighTimeToFirstByte alert appears when the Time To First Byte (TTFB) for all the HTTP GET operations in the past 10 minutes exceeds 1 second.Alert MessageGet operations issued to the object store in the past 10 minutes have been showing TTFB of <value> msecCauseHigh network latency, improper sizing, and component crashes may generate HighTimeToFirstByte alert.ImpactThe response for Object GET requests becomes slow.ResolutionDo the following:Check for the networking issues impacting the nodes in the Prism Element cluster.Check if the GETs in each second and PUTs in each second shown on the Performance page of the object store exceeds the estimated workload at the time of deployment. If there is an indication of an overload, consider reducing the workload on the Object Store Service (OSS).Check for crashing services on the Object Store.Check the Prism Element cluster on which you deployed the object store for any alerts that may be relevant to HighTimeToFirstByte alert.Table 2. Objects Alert - HighObjectStoreUsage NameHighObjectStoreUsageDescriptionThe HighObjectStoreUsage alert appears when the total object store space usage exceeds the estimated capacity specified at the time of deployment.Alert MessageCurrent object store usage <val> TB exceeds the provisioned capacity <val>TBCauseThe following may cause the HighObjectStoreUsage alert to generate.Missing lifecycle management policiesPerforming too many object operations.ImpactObject store gets overloaded, thus causing slow performance.ResolutionDo the following:Delete nonessential objects from the object store to reduce the number of objects in the object store.If the object store usage is unexpectedly high based on the workload and available resources, check for misconfigured Lifecycle Policies on the buckets in the object that may be retaining objects longer than intended.If the storage space on the Prism Element cluster outside of the object store is high, consider deleting nonessential VMs, snapshots, data, or adding extra nodes to free the storage space in the Prism Element cluster.Table 3. Objects Alert - HighErrorRate NameHighErrorRateDescriptionThe HighErrorRate alert appears when the object store returns one or more HTTP 4XX or HTTP 5XX errors in each second for the last 10 minutes.Alert MessageOperations issued to Nutanix Buckets have been failing with 5XX/4XX errors with observed error rate <val>/s over the past 10 minutesCauseImproper credentials and component crashes may generate the HighErrorRate alert.ImpactThe object store operations fail.ResolutionDo the following:Check the client applications for the correct access and secret key combination.Check for any crashing services on the object store.Check the Prism Element cluster on which you deployed the object store for any alerts that may be relevant to HighErrorRate alert.", "Heading_Keywords": ["nutanix", "object", "specif", "alert"]}, {"Heading": "Notifications", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-notifications-objects-c.html", "Document Name": "Objects User Guide", "Content": "Notifications for Objects enables you to send the completed events logs to the configured endpoints in your Objects instance. This helps you with centralized events log management, thus enabling you to monitor and analyze the logs and identify performance or configuration issues.The supported endpoints are as follows:Syslog - System Logging Protocol is a standard protocol for sending events log to the syslog server. Enter the host name or host IP address and port number of your Syslog server when configuring the endpoints. Syslog server should be up and running when performing the endpoint configuration in your Objects instance.Nats-streaming - A lightweight, reliable streaming platform built on the top of the core NATS platform that provides persistent logs. Enter the host name or host IP address and port number of your Nats-streaming-server when configuring the endpoints. Nats-streaming-server should be up and running when performing the endpoint configuration in your Objects instance.Note: The default topic used to create the NATS queue is OSSEvents. You can use this as the subject while using the nats-client to connect to the nats-streaming server.Notification events get logged to these endpoints.There are two types of notifications.Bucket events - All operations performed on a bucket. For example, create a bucket, delete a bucket, enable versioning, and so on. These notifications are enabled by default once you configure the endpoints. For more information, see Configuring Events Notification.The following is the structure of the notification output for bucket events that get published to the endpoints.Received on [OSSEvents]: 'sequence:5426 subject:\"OSSEvents\" data:\"{\"EventType\":\"s3:BucketRemoved:Delete\",\"Key\":\"demobucket\",\"Records\":[{\"eventVersion\":\"2.0\",\"eventSource\":\"aws:s3\",\"awsRegion\":\"us-east-1\",\"eventTime\":\"2020-06-17T10:02:52Z\",\"eventName\":\"s3:BucketRemoved:Delete\",\"userIdentity\":{\"principalId\":\"admin\"},\"requestParameters\":{\"sourceIPAddress\":\"127.XX.XX.XX:38366\"},\"responseElements\":{\"x-amz-request-id\":\"16194C9B3AE2A9CF\",\"x-minio-origin-endpoint\":\"http://10.XX.XX.XX:7200\"},\"s3\":{\"s3SchemaVersion\":\"1.0\",\"configurationId\":\"Config\",\"bucket\":{\"name\":\"demobucket\",\"ownerIdentity\":{\"principalId\":\"admin\"},\"arn\":\"arn:aws:s3:::demobucket\"},\"object\":{\"key\":\"\",\"sequencer\":\"16194C9B3AE2A9CF\"}}}],\"level\":\"info\",\"msg\":\"\",\"time\":\"2020-06-17T03:02:52-07:00\"}\\n\" timestamp:1592388172842919313 'Data events - Data events are specific to a bucket. The available data events are Objects PUT, Objects GET, Objects DELETE, and Objects HEAD. To enable notifications for successful data events for a bucket, you need to create notification rules. You can define the scope of a notification rule by selecting All Objects or Subset of objects. For more information, see Creating Notification Rules for Data Events.The following is the structure of the notification output for data events that get published to the endpoints.Received on [OSSEvents]: 'sequence:5358 subject:\"OSSEvents\" data:\"{\"EventType\":\"s3:ObjectAccessed:Get\",\"Key\":\"notificationsbucket160620200838351592296715/nutestkeyobject1.16062020521592296732\",\"Records\":[{\"eventVersion\":\"2.0\",\"eventSource\":\"aws:s3\",\"awsRegion\":\"us-east-1\",\"eventTime\":\"2020-06-16T08:38:54Z\",\"eventName\":\"s3:ObjectAccessed:Get\",\"userIdentity\":{\"principalId\":\"poseidon_x_user\"},\"requestParameters\":{\"sourceIPAddress\":\"10.XX.XX.XX:50356\"},\"responseElements\":{\"x-amz-request-id\":\"1618F971829400B9\",\"x-minio-origin-endpoint\":\"http://10.XX.XX.XX:7200\"},\"s3\":{\"s3SchemaVersion\":\"1.0\",\"configurationId\":\"Config\",\"bucket\":{\"name\":\"notificationsbucket160620200838351592296715\",\"ownerIdentity\":{\"principalId\":\"poseidon_x_user\"},\"arn\":\"arn:aws:s3:::notificationsbucket160620200838351592296715\"},\"object\":{\"key\":\"nutestkeyobject1.16062020521592296732\",\"size\":50,\"eTag\":\"1b92b8a037497c677a28c183e8f6b7e3\",\"sequencer\":\"1618F971829400B9\"}}}],\"level\":\"info\",\"msg\":\"\",\"time\":\"2020-06-16T01:38:54-07:00\"}\"\\n\" timestamp:1592296734193899719 'The following list describes the mapping between the data events and AWS S3 events.Object PUT maps to s3:ObjectCreated:*The s3:ObjectCreated:* event sends a notification for all the successful object-create events on the object-store. This includes standard uploads, multipart uploads, and object copy.Object GET maps to s3:ObjectAccessed:GetThe s3:ObjectAccessed:Get event sends a notification for all the successful object-read events on the object-store. This includes the object read performed using the get_object API.Object HEAD maps to s3:ObjectAccessed:HeadThe s3:ObjectAccessed:Head event sends a notification for all the successful object-head events on the object-store. This includes the object head performed using the head_object API.Object DELETE maps to s3:ObjectRemoved:*The s3:ObjectRemoved:* event sends a notification for all the successful object-delete events on the object-store. This includes deleting versioned and non-versioned objects. The user gets notified when the Delete Marker gets created over an object.Configuring Events NotificationWhile configuring events notification, you specify the endpoints. Once you have configured events notification, all successful bucket-level events get logged to the endpoints.Creating Notification Rules for Data EventsTo keep track of the data events that get completed successfully, you need to create notification rules for the buckets.Configuring Events NotificationWhile configuring events notification, you specify the endpoints. Once you have configured events notification, all successful bucket-level events get logged to the endpoints.About this taskTo configure events notification, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.Click the name of the object store.The object store opens on a new window.Click Settings >  Notification.The Configure Events Notification page appears.This page allows you to configure the endpoints by entering the endpoint server details. The available endpoints are Syslog and Nats-streaming. You can configure any one of these endpoints or both.Figure. Configure Events NotificationClick to enlargeSelect the Syslog check box to configure syslog as the endpoint.In the Host name and port box, enter the host name and port number of your Syslog server in the Host name:Port format.Select the Nats-streaming check box to configure Nats-streaming as the endpoint.In the Host name and port box, enter the host name and port number of your nats-streaming-server in the Host name:Port format.In the Cluster ID box, enter the cluster ID of the server that you used to start the NATS server.Click Save to complete.Notification is enabled for your Objects instance. Also, the status of the notification endpoint is shown in the Notifications column. For example, if the nats endpoint gets disconnected due to network issues, a red icon appears in the Notifications column. Hovering over the red icon displays Cannot connect to nats endpoint message.Figure. Configure Events NotificationClick to enlargeTo undo an endpoint configuration, do the following.Click Settings >  Notification to open the Configure Events Notification page.Clear the check box for the endpoint that you want to remove and click Save.In the Data Events Notification page, delete all the notification rules corresponding to the endpoint that you removed before adding a new notification rule to the bucket. For more information, see Creating Notification Rules for Data Events.Creating Notification Rules for Data EventsTo keep track of the data events that get completed successfully, you need to create notification rules for the buckets.About this taskTo create a notification rule for a bucket, do the following.ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.Click the name of the object store.The object store opens on a new window. You can view the buckets in your Objects instance.In the Buckets table, select the bucket for which you want to create a notification rule.Click Actions >  Data Events Notification.The Data Events Notification page appears.Click Create Rule to open the Create Rule page.In the Create Rule page, do the following:In the Endpoint list, select the endpoint where you want the data events for this bucket to get logged.To update endpoints for your Objects instance, see Configuring Events Notification.In the Data Events list, select the events that you want to get logged to the endpoint.In the Scope list, select All Objects or Subset of objects.If you select All Objects, the notification rule you are creating applies to all the objects.Select Subset of objects to apply the notification rule to specific objects. You can filter Objects by entering a prefix, suffix, or both. Objects with the prefix and suffix you specified get filtered and the rule applies to those objects.Note: You can enter only one prefix and suffix. You can create another rule with a different suffix and prefix.The suffix-prefix pair in two rules corresponding to the same event should not be overlapping. For example, any given Object name xyz.jpg should be selected by a maximum one rule corresponding to the given event type.Click Save to complete. Then, click Done to close the Create Rule page.The notification rule you created appears in the list of data events notification rules in the Data Events Notification page.Also, you can delete a notification rule. In the Data Events Notification page, select a notification rule from the list and click Delete.After you create a notification rule for a bucket, the status in the Notifications column changes to Enabled.Figure. Notification Rule - Enabled for Data EventsClick to enlarge", "Heading_Keywords": ["notif"]}, {"Heading": "Configuring Events Notification", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-configure-event-notification-t.html", "Document Name": "Objects User Guide", "Content": "While configuring events notification, you specify the endpoints. Once you have configured events notification, all successful bucket-level events get logged to the endpoints.About this taskTo configure events notification, do the following:ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.Click the name of the object store.The object store opens on a new window.Click Settings >  Notification.The Configure Events Notification page appears.This page allows you to configure the endpoints by entering the endpoint server details. The available endpoints are Syslog and Nats-streaming. You can configure any one of these endpoints or both.Figure. Configure Events NotificationClick to enlargeSelect the Syslog check box to configure syslog as the endpoint.In the Host name and port box, enter the host name and port number of your Syslog server in the Host name:Port format.Select the Nats-streaming check box to configure Nats-streaming as the endpoint.In the Host name and port box, enter the host name and port number of your nats-streaming-server in the Host name:Port format.In the Cluster ID box, enter the cluster ID of the server that you used to start the NATS server.Click Save to complete.Notification is enabled for your Objects instance. Also, the status of the notification endpoint is shown in the Notifications column. For example, if the nats endpoint gets disconnected due to network issues, a red icon appears in the Notifications column. Hovering over the red icon displays Cannot connect to nats endpoint message.Figure. Configure Events NotificationClick to enlargeTo undo an endpoint configuration, do the following.Click Settings >  Notification to open the Configure Events Notification page.Clear the check box for the endpoint that you want to remove and click Save.In the Data Events Notification page, delete all the notification rules corresponding to the endpoint that you removed before adding a new notification rule to the bucket. For more information, see Creating Notification Rules for Data Events.", "Heading_Keywords": ["configur", "event", "notif"]}, {"Heading": "Creating Notification Rules for Data Events", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-create-notification-rule-t.html", "Document Name": "Objects User Guide", "Content": "To keep track of the data events that get completed successfully, you need to create notification rules for the buckets.About this taskTo create a notification rule for a bucket, do the following.ProcedureLog on to the Prism Central web console, and click the Entity menu > Services > Objects.Click the name of the object store.The object store opens on a new window. You can view the buckets in your Objects instance.In the Buckets table, select the bucket for which you want to create a notification rule.Click Actions >  Data Events Notification.The Data Events Notification page appears.Click Create Rule to open the Create Rule page.In the Create Rule page, do the following:In the Endpoint list, select the endpoint where you want the data events for this bucket to get logged.To update endpoints for your Objects instance, see Configuring Events Notification.In the Data Events list, select the events that you want to get logged to the endpoint.In the Scope list, select All Objects or Subset of objects.If you select All Objects, the notification rule you are creating applies to all the objects.Select Subset of objects to apply the notification rule to specific objects. You can filter Objects by entering a prefix, suffix, or both. Objects with the prefix and suffix you specified get filtered and the rule applies to those objects.Note: You can enter only one prefix and suffix. You can create another rule with a different suffix and prefix.The suffix-prefix pair in two rules corresponding to the same event should not be overlapping. For example, any given Object name xyz.jpg should be selected by a maximum one rule corresponding to the given event type.Click Save to complete. Then, click Done to close the Create Rule page.The notification rule you created appears in the list of data events notification rules in the Data Events Notification page.Also, you can delete a notification rule. In the Data Events Notification page, select a notification rule from the list and click Delete.After you create a notification rule for a bucket, the status in the Notifications column changes to Enabled.Figure. Notification Rule - Enabled for Data EventsClick to enlarge", "Heading_Keywords": ["creat", "notif", "rule", "data", "event"]}, {"Heading": "CRUD Operations by Using S3 APIs", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-crud-s3-api-c.html", "Document Name": "Objects User Guide", "Content": "You can create and manage buckets and objects by using the S3 APIs, which are then visible in Prism Central. AuthenticationSupported and Unsupported APIsObjects Tagging APIs OverviewA tag is a label that you assign to an object, and it consists of a key and value pair that you can define.AuthenticationYou can send requests to Objects by using the REST API or the Amazon Web Services Software Development Kit (AWS SDK) wrapper libraries that wrap the underlying S3 REST API. Every interaction with Objects is authenticated. In this authentication process, the identity of the requester who is trying to access Objects is verified with a signature value. The signature value is generated from the AWS access keys (access key ID and secret access key) of the requester. This AWS access keys and endpoint URL is provided by the administrator to the user. If you are using the AWS SDK, the libraries compute the signature from the keys you provide. However, if you make direct REST API calls, the signature is computed from the request. For creating the buckets and objects, you need the following information from the administrator: Endpoint URL (Static IP address and the Port number)Access key IDSecret access keyOnce you get this information, you can import the SDK libraries, create a session and a client, and then you can start making the requests (for example, creating buckets and objects).Supported and Unsupported APIsThis section describes Objects support for Amazon S3 API. The object store service is available on the following ports:HTTP: 80HTTPS: 443Supported APIsThe following table lists the supported S3 API methods.Unsupported APIsThe following table lists the unsupported S3 API methods: Supported APIsThe following table lists the supported S3 API methods.Note: User-defined meta-data header names are case insensitive.User-defined object meta-data is supported for PUT Object and PUT Object - Copy APIs and limited to 2 KB in size.Table 1. Supported S3 APIs and ParametersSupported S3 APIsRequest Parameters/Request Headers/Request Elements/Request BodyPUT BucketCommon Headers + CreateBucketConfiguration, LocationConstraint (By default, LocationConstraint \u201cus-east-1\u201d is only supported.)PUT Bucket LifecycleCommon Headers + Content-MD5 + AbortIncompleteMultipartUpload, And, Date, Days, DaysAfterInitiation, Expiration, Filter, ID, Key, LifecycleConfiguration, NoncurrentDays, NoncurrentVersionExpiration, NoncurrentVersionTransition, Prefix, Rule, StatusPUT Bucket PolicyCommon Headers + JSON string containing the policy contents containing the policy statementsPUT Bucket versioningStatus, VersioningConfigurationComplete Multipart UploadCommon Headers + CompleteMultipartUpload, Part, PartNumber, ETagPUT Object - CopyCommon Headers + x-amz-copy-source, x-amz-metadata-directive, x-amz-copy-source-if-match, x-amz-copy-source-if-none-match, x-amz-copy-source-if-unmodified-since, x-amz-copy-source-if-modified-since, x-amz-tagging, x-amz-tagging-directive, x-amz-meta-DELETE ObjectsSingle query string parameter \"delete\" + Common Headers + Content-MD5, Content-Length, Delete, Quiet, Object, Key, VersionId GET ObjectCommon Headers + Range, If-Modified-Since, If-Unmodified-Since, If-Match, If-None-Match HEAD ObjectCommon Headers + Range, If-Modified-Since, If-Unmodified-Since, If-Match, If-None-Match List Multipart UploadsCommon Headers + delimiter,max-uploads, key-marker, prefix, upload-id-\u200bmarkerList Object VersionsCommon Headers + delimiter, key-marker, max-keys, prefix, version-id-markerGET Bucket (List Objects) Version 1Common Headers + delimiter, marker, max-keys, prefixGET Bucket (List Objects) Version 2Common Headers + delimiter, max-keys, prefix, list-type, continuation-token, fetch-owner, start-afterList PartsCommon Headers + uploadId, max-parts, part-number\u200b-markerPUT ObjectCommon Headers + Content-Length, Content-MD5, Expect, x-amz-tagging, x-amz-meta-INITIATE Multipart UploadCommon Headers + x-amz-meta-, x-amz-taggingUPLOAD PartContent-Length, Content-MD5, ExpectUpload Part - Copyx-amz-copy-source, x-amz-copy-source-range, x-amz-copy-source-if-match, x-amz-copy-source-if-none-match, x-amz-copy-source-if-unmodified-since, x-amz-copy-source-if-modified-sincePUT Bucket Object Lock ConfigurationCommon Headers + ObjectLockEnabled RuleDELETE BucketCommon Headers + BucketDelete Multiple Objects Common Headers + Bucket, Delete, Quiet, Objects, Key, VersionId POST ObjectCommon Headers + post url + all the required parameters for post urlGET Object ACLCommon Headers + Bucket, Key, VersionIdFor more information about objects tagging API, refer to Objects Tagging APIs Overview.Pre-signed URLs can be generated for Objects. For more information about generating the pre-signed URLs, see Signing and authenticating REST requests section in the Amazon Simple Storage Service Developer Guide.Note: You can limit a presigned request by specifying an expiration time. You can set an expiration time of more than seven days.The following table lists the supported APIs that use only Common Headers:Supported APIsGET Bucket lifecycle configurationPUT Bucket lifecycle configurationGET Bucket Object Lock ConfigurationGET Bucket LocationGET Bucket PolicyGET Bucket versioningHEAD BucketLIST BucketDELETE Bucket LifecycleDELETE Bucket Policy ABORT Multipart UploadDELETE ObjectGET Bucket aclCommon HeadersYou can use the following headers while making requests:Common HeadersYou can use the following headers while making requests:Table 1. List of Common HeadersAuthorizationContent-LengthContent-TypeContent-MD5 Date Expect Host x-amz-content-sha256 x-amz-date x-amz-security-token For more information on common headers, refer to Common Request Headers section in the Amazon Simple Storage Service API Reference Guide. Unsupported APIsThe following table lists the unsupported S3 API methods: Table 1. Unsupported S3 APIsUnsupported S3 APIsGET Bucket accelerate configuration GET Bucket aclGET Bucket analytics configurationGET Bucket corsGET Bucket encryptionGET Bucket inventory configurationGET Bucket loggingGET Bucket metrics configurationGET Bucket notification configuration GET Bucket replication GET Bucket requestPayment GET Bucket website List Bucket Analytics Configurations List Bucket Inventory ConfigurationsList Bucket Metrics ConfigurationsPUT Bucket accelerate configuration PUT Bucket acl PUT Bucket analytics configuration PUT Bucket cors PUT Bucket encryption PUT Bucket inventory configuration PUT Bucket logging PUT Bucket metrics configurationPUT Bucket notification configuration PUT Bucket replication PUT Bucket website DELETE Bucket analytics configuration DELETE Bucket cors DELETE Bucket encryption DELETE Bucket inventory configuration DELETE Bucket metrics configuration DELETE Bucket replication DELETE Bucket websiteDELETE Bucket encryptionCopyGET Object acl Restore Object Select Object ContentObjects Tagging APIs OverviewA tag is a label that you assign to an object, and it consists of a key and value pair that you can define.You can add, retrieve, and remove tags for your objects by using the tagging APIs. Retrieving objects metadata also returns the number of tags associated with the object (if any). Tagging is also supported with a few more Object APIs.Objects Tag LimitationsThe following are the limitations of Objects tag.You can add up to 10 tags for each object.Tag keys can be up to 128 Unicode characters in length, and tag values can be up to 256 Unicode characters in length.Tag keys and values are case-sensitive.Supported Tagging API OperationsCurrently, Objects only supports APIs for tagging objects. Tag-based bucket lifecycle policies management and object listing are not supported.Nutanix Objects supports the following object tagging API operations.PUT Object tagging: Replace the tags associated with an object. You can add the tags in the request body.There are two scenarios involved.You can add tags to an object with no tags associated with it.You can replace the existing tags associated with an object.GET Object tagging: Retrieves the tags associated with an object.DELETE Object tagging: Deletes the tags associated with an object.Also, the following Object APIs support tagging.GET Object (returns tag count, if any)PUT ObjectPOST ObjectPUT Object-CopyInitiate Multipart Upload", "Heading_Keywords": ["crud", "oper", "use", "s3", "api"]}, {"Heading": "Authentication", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-authentication-c.html", "Document Name": "Objects User Guide", "Content": "You can send requests to Objects by using the REST API or the Amazon Web Services Software Development Kit (AWS SDK) wrapper libraries that wrap the underlying S3 REST API. Every interaction with Objects is authenticated. In this authentication process, the identity of the requester who is trying to access Objects is verified with a signature value. The signature value is generated from the AWS access keys (access key ID and secret access key) of the requester. This AWS access keys and endpoint URL is provided by the administrator to the user. If you are using the AWS SDK, the libraries compute the signature from the keys you provide. However, if you make direct REST API calls, the signature is computed from the request. For creating the buckets and objects, you need the following information from the administrator: Endpoint URL (Static IP address and the Port number)Access key IDSecret access keyOnce you get this information, you can import the SDK libraries, create a session and a client, and then you can start making the requests (for example, creating buckets and objects).", "Heading_Keywords": ["authent"]}, {"Heading": "Supported and Unsupported APIs", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-supported-unsupported-apis-c.html", "Document Name": "Objects User Guide", "Content": "This section describes Objects support for Amazon S3 API. The object store service is available on the following ports:HTTP: 80HTTPS: 443Supported APIsThe following table lists the supported S3 API methods.Unsupported APIsThe following table lists the unsupported S3 API methods: Supported APIsThe following table lists the supported S3 API methods.Note: User-defined meta-data header names are case insensitive.User-defined object meta-data is supported for PUT Object and PUT Object - Copy APIs and limited to 2 KB in size.Table 1. Supported S3 APIs and ParametersSupported S3 APIsRequest Parameters/Request Headers/Request Elements/Request BodyPUT BucketCommon Headers + CreateBucketConfiguration, LocationConstraint (By default, LocationConstraint \u201cus-east-1\u201d is only supported.)PUT Bucket LifecycleCommon Headers + Content-MD5 + AbortIncompleteMultipartUpload, And, Date, Days, DaysAfterInitiation, Expiration, Filter, ID, Key, LifecycleConfiguration, NoncurrentDays, NoncurrentVersionExpiration, NoncurrentVersionTransition, Prefix, Rule, StatusPUT Bucket PolicyCommon Headers + JSON string containing the policy contents containing the policy statementsPUT Bucket versioningStatus, VersioningConfigurationComplete Multipart UploadCommon Headers + CompleteMultipartUpload, Part, PartNumber, ETagPUT Object - CopyCommon Headers + x-amz-copy-source, x-amz-metadata-directive, x-amz-copy-source-if-match, x-amz-copy-source-if-none-match, x-amz-copy-source-if-unmodified-since, x-amz-copy-source-if-modified-since, x-amz-tagging, x-amz-tagging-directive, x-amz-meta-DELETE ObjectsSingle query string parameter \"delete\" + Common Headers + Content-MD5, Content-Length, Delete, Quiet, Object, Key, VersionId GET ObjectCommon Headers + Range, If-Modified-Since, If-Unmodified-Since, If-Match, If-None-Match HEAD ObjectCommon Headers + Range, If-Modified-Since, If-Unmodified-Since, If-Match, If-None-Match List Multipart UploadsCommon Headers + delimiter,max-uploads, key-marker, prefix, upload-id-\u200bmarkerList Object VersionsCommon Headers + delimiter, key-marker, max-keys, prefix, version-id-markerGET Bucket (List Objects) Version 1Common Headers + delimiter, marker, max-keys, prefixGET Bucket (List Objects) Version 2Common Headers + delimiter, max-keys, prefix, list-type, continuation-token, fetch-owner, start-afterList PartsCommon Headers + uploadId, max-parts, part-number\u200b-markerPUT ObjectCommon Headers + Content-Length, Content-MD5, Expect, x-amz-tagging, x-amz-meta-INITIATE Multipart UploadCommon Headers + x-amz-meta-, x-amz-taggingUPLOAD PartContent-Length, Content-MD5, ExpectUpload Part - Copyx-amz-copy-source, x-amz-copy-source-range, x-amz-copy-source-if-match, x-amz-copy-source-if-none-match, x-amz-copy-source-if-unmodified-since, x-amz-copy-source-if-modified-sincePUT Bucket Object Lock ConfigurationCommon Headers + ObjectLockEnabled RuleDELETE BucketCommon Headers + BucketDelete Multiple Objects Common Headers + Bucket, Delete, Quiet, Objects, Key, VersionId POST ObjectCommon Headers + post url + all the required parameters for post urlGET Object ACLCommon Headers + Bucket, Key, VersionIdFor more information about objects tagging API, refer to Objects Tagging APIs Overview.Pre-signed URLs can be generated for Objects. For more information about generating the pre-signed URLs, see Signing and authenticating REST requests section in the Amazon Simple Storage Service Developer Guide.Note: You can limit a presigned request by specifying an expiration time. You can set an expiration time of more than seven days.The following table lists the supported APIs that use only Common Headers:Supported APIsGET Bucket lifecycle configurationPUT Bucket lifecycle configurationGET Bucket Object Lock ConfigurationGET Bucket LocationGET Bucket PolicyGET Bucket versioningHEAD BucketLIST BucketDELETE Bucket LifecycleDELETE Bucket Policy ABORT Multipart UploadDELETE ObjectGET Bucket aclCommon HeadersYou can use the following headers while making requests:Common HeadersYou can use the following headers while making requests:Table 1. List of Common HeadersAuthorizationContent-LengthContent-TypeContent-MD5 Date Expect Host x-amz-content-sha256 x-amz-date x-amz-security-token For more information on common headers, refer to Common Request Headers section in the Amazon Simple Storage Service API Reference Guide. Unsupported APIsThe following table lists the unsupported S3 API methods: Table 1. Unsupported S3 APIsUnsupported S3 APIsGET Bucket accelerate configuration GET Bucket aclGET Bucket analytics configurationGET Bucket corsGET Bucket encryptionGET Bucket inventory configurationGET Bucket loggingGET Bucket metrics configurationGET Bucket notification configuration GET Bucket replication GET Bucket requestPayment GET Bucket website List Bucket Analytics Configurations List Bucket Inventory ConfigurationsList Bucket Metrics ConfigurationsPUT Bucket accelerate configuration PUT Bucket acl PUT Bucket analytics configuration PUT Bucket cors PUT Bucket encryption PUT Bucket inventory configuration PUT Bucket logging PUT Bucket metrics configurationPUT Bucket notification configuration PUT Bucket replication PUT Bucket website DELETE Bucket analytics configuration DELETE Bucket cors DELETE Bucket encryption DELETE Bucket inventory configuration DELETE Bucket metrics configuration DELETE Bucket replication DELETE Bucket websiteDELETE Bucket encryptionCopyGET Object acl Restore Object Select Object Content", "Heading_Keywords": ["support", "unsupport", "api"]}, {"Heading": "Supported APIs", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-supported-apis-r.html", "Document Name": "Objects User Guide", "Content": "The following table lists the supported S3 API methods.Note: User-defined meta-data header names are case insensitive.User-defined object meta-data is supported for PUT Object and PUT Object - Copy APIs and limited to 2 KB in size.Table 1. Supported S3 APIs and ParametersSupported S3 APIsRequest Parameters/Request Headers/Request Elements/Request BodyPUT BucketCommon Headers + CreateBucketConfiguration, LocationConstraint (By default, LocationConstraint \u201cus-east-1\u201d is only supported.)PUT Bucket LifecycleCommon Headers + Content-MD5 + AbortIncompleteMultipartUpload, And, Date, Days, DaysAfterInitiation, Expiration, Filter, ID, Key, LifecycleConfiguration, NoncurrentDays, NoncurrentVersionExpiration, NoncurrentVersionTransition, Prefix, Rule, StatusPUT Bucket PolicyCommon Headers + JSON string containing the policy contents containing the policy statementsPUT Bucket versioningStatus, VersioningConfigurationComplete Multipart UploadCommon Headers + CompleteMultipartUpload, Part, PartNumber, ETagPUT Object - CopyCommon Headers + x-amz-copy-source, x-amz-metadata-directive, x-amz-copy-source-if-match, x-amz-copy-source-if-none-match, x-amz-copy-source-if-unmodified-since, x-amz-copy-source-if-modified-since, x-amz-tagging, x-amz-tagging-directive, x-amz-meta-DELETE ObjectsSingle query string parameter \"delete\" + Common Headers + Content-MD5, Content-Length, Delete, Quiet, Object, Key, VersionId GET ObjectCommon Headers + Range, If-Modified-Since, If-Unmodified-Since, If-Match, If-None-Match HEAD ObjectCommon Headers + Range, If-Modified-Since, If-Unmodified-Since, If-Match, If-None-Match List Multipart UploadsCommon Headers + delimiter,max-uploads, key-marker, prefix, upload-id-\u200bmarkerList Object VersionsCommon Headers + delimiter, key-marker, max-keys, prefix, version-id-markerGET Bucket (List Objects) Version 1Common Headers + delimiter, marker, max-keys, prefixGET Bucket (List Objects) Version 2Common Headers + delimiter, max-keys, prefix, list-type, continuation-token, fetch-owner, start-afterList PartsCommon Headers + uploadId, max-parts, part-number\u200b-markerPUT ObjectCommon Headers + Content-Length, Content-MD5, Expect, x-amz-tagging, x-amz-meta-INITIATE Multipart UploadCommon Headers + x-amz-meta-, x-amz-taggingUPLOAD PartContent-Length, Content-MD5, ExpectUpload Part - Copyx-amz-copy-source, x-amz-copy-source-range, x-amz-copy-source-if-match, x-amz-copy-source-if-none-match, x-amz-copy-source-if-unmodified-since, x-amz-copy-source-if-modified-sincePUT Bucket Object Lock ConfigurationCommon Headers + ObjectLockEnabled RuleDELETE BucketCommon Headers + BucketDelete Multiple Objects Common Headers + Bucket, Delete, Quiet, Objects, Key, VersionId POST ObjectCommon Headers + post url + all the required parameters for post urlGET Object ACLCommon Headers + Bucket, Key, VersionIdFor more information about objects tagging API, refer to Objects Tagging APIs Overview.Pre-signed URLs can be generated for Objects. For more information about generating the pre-signed URLs, see Signing and authenticating REST requests section in the Amazon Simple Storage Service Developer Guide.Note: You can limit a presigned request by specifying an expiration time. You can set an expiration time of more than seven days.The following table lists the supported APIs that use only Common Headers:Supported APIsGET Bucket lifecycle configurationPUT Bucket lifecycle configurationGET Bucket Object Lock ConfigurationGET Bucket LocationGET Bucket PolicyGET Bucket versioningHEAD BucketLIST BucketDELETE Bucket LifecycleDELETE Bucket Policy ABORT Multipart UploadDELETE ObjectGET Bucket aclCommon HeadersYou can use the following headers while making requests:Common HeadersYou can use the following headers while making requests:Table 1. List of Common HeadersAuthorizationContent-LengthContent-TypeContent-MD5 Date Expect Host x-amz-content-sha256 x-amz-date x-amz-security-token For more information on common headers, refer to Common Request Headers section in the Amazon Simple Storage Service API Reference Guide. ", "Heading_Keywords": ["support", "api"]}, {"Heading": "Unsupported APIs", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-unsupported-apis-r.html", "Document Name": "Objects User Guide", "Content": "The following table lists the unsupported S3 API methods: Table 1. Unsupported S3 APIsUnsupported S3 APIsGET Bucket accelerate configuration GET Bucket aclGET Bucket analytics configurationGET Bucket corsGET Bucket encryptionGET Bucket inventory configurationGET Bucket loggingGET Bucket metrics configurationGET Bucket notification configuration GET Bucket replication GET Bucket requestPayment GET Bucket website List Bucket Analytics Configurations List Bucket Inventory ConfigurationsList Bucket Metrics ConfigurationsPUT Bucket accelerate configuration PUT Bucket acl PUT Bucket analytics configuration PUT Bucket cors PUT Bucket encryption PUT Bucket inventory configuration PUT Bucket logging PUT Bucket metrics configurationPUT Bucket notification configuration PUT Bucket replication PUT Bucket website DELETE Bucket analytics configuration DELETE Bucket cors DELETE Bucket encryption DELETE Bucket inventory configuration DELETE Bucket metrics configuration DELETE Bucket replication DELETE Bucket websiteDELETE Bucket encryptionCopyGET Object acl Restore Object Select Object Content", "Heading_Keywords": ["unsupport", "api"]}, {"Heading": "Objects Tagging APIs Overview", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-tagging-api-c.html", "Document Name": "Objects User Guide", "Content": "A tag is a label that you assign to an object, and it consists of a key and value pair that you can define.You can add, retrieve, and remove tags for your objects by using the tagging APIs. Retrieving objects metadata also returns the number of tags associated with the object (if any). Tagging is also supported with a few more Object APIs.Objects Tag LimitationsThe following are the limitations of Objects tag.You can add up to 10 tags for each object.Tag keys can be up to 128 Unicode characters in length, and tag values can be up to 256 Unicode characters in length.Tag keys and values are case-sensitive.Supported Tagging API OperationsCurrently, Objects only supports APIs for tagging objects. Tag-based bucket lifecycle policies management and object listing are not supported.Nutanix Objects supports the following object tagging API operations.PUT Object tagging: Replace the tags associated with an object. You can add the tags in the request body.There are two scenarios involved.You can add tags to an object with no tags associated with it.You can replace the existing tags associated with an object.GET Object tagging: Retrieves the tags associated with an object.DELETE Object tagging: Deletes the tags associated with an object.Also, the following Object APIs support tagging.GET Object (returns tag count, if any)PUT ObjectPOST ObjectPUT Object-CopyInitiate Multipart Upload", "Heading_Keywords": ["object", "tag", "api", "overview"]}, {"Heading": "Error Responses", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-error-responses-c.html", "Document Name": "Objects User Guide", "Content": "This section provides reference information about Objects errors responses and codes. When Objects request returns an error, the client receives an error response. The format of the error response is API specific; however, all the error responses have common elements.REST Error ResponsesWhen an error occurs, the header information contains the following: Content-Type: application/xml; An appropriate status code.List of Error CodesThe following table lists the error codes:REST Error ResponsesWhen an error occurs, the header information contains the following: Content-Type: application/xml; An appropriate status code.Table 1. REST Error ResponsesNameCode ErrorMessage RequestId Resource For more information on Error Responses, refer to the REST Error Responses section in the Amazon Simple Storage Service API Reference Guide.List of Error CodesThe following table lists the error codes:Table 1. Error CodesError CodeHTTP Status CodeAccessDenied 403 ForbiddenAuthorizationHeaderMalformed 400 Bad RequestBadDigest400 Bad Request BucketAlreadyExists409 ConflictBucketAlreadyOwnedByYou 409 ConflictBucketNotEmpty 409 Conflict EntityTooSmall 400 Bad Request EntityTooLarge 400 Bad RequestIncompleteBody 400 Bad Request InlineDataTooLarge400 Bad RequestInternalError 500 Internal Server Error InvalidAccessKeyId403 Forbidden InvalidArgument400 Bad RequestInvalidBucketName400 Bad RequestInvalidBucketState409 Conflict InvalidDigest400 Bad Request InvalidLocationConstraint400 Bad Request InvalidObjectState 403 ForbiddenInvalidPart400 Bad RequestInvalidPartOrder400 Bad RequestInvalidPolicyDocument 400 Bad Request InvalidRange 416 Requested Range Not SatisfiedInvalidRequest 400 Bad Request InvalidURI 400 Bad Request KeyTooLongError 400 Bad RequestMalformedACLError 400 Bad Request MalformedPOSTRequest 400 Bad Request MalformedXML 400 Bad Request MaxMessageLengthExceeded400 Bad Request MaxPostPreDataLengthExceededError 400 Bad Request MetadataTooLarge 400 Bad Request MethodNotAllowed 405 Method Not Allowed MissingContentLength 411 Length RequiredMissingRequestBodyError400 Bad RequestNoSuchBucket 404 Not FoundNoSuchBucketPolicy 404 Not FoundNoSuchKey 404 Not FoundNoSuchLifecycleConfiguration 404 Not FoundNoSuchUpload 404 Not Found InvalidVersion 404 Not Found NotImplemented 501 Not ImplementedOperationAborted 409 Conflict PermanentRedirect 301 Moved PermanentPreconditionFailed412 Precondition Failed Redirect307 Moved TemporarilyRequestIsNotMultiPartContent 400 Bad Request RequestTimeout 400 Bad Request RequestTimeTooSkewed 403 ForbiddenSignatureDoesNotMatch 403 Forbidden ServiceUnavailable 503 Service UnavailableSlowDown 503 Slow Down TemporaryRedirect 307 Moved TemporarilyUnexpectedContent 400 Bad RequestFor more information on List of Error Codes, refer to the List of Error Codes section in the Amazon Simple Storage Service API Reference Guide.", "Heading_Keywords": ["error", "respons"]}, {"Heading": "REST Error Responses", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-rest-error-responses-r.html", "Document Name": "Objects User Guide", "Content": "When an error occurs, the header information contains the following: Content-Type: application/xml; An appropriate status code.Table 1. REST Error ResponsesNameCode ErrorMessage RequestId Resource For more information on Error Responses, refer to the REST Error Responses section in the Amazon Simple Storage Service API Reference Guide.", "Heading_Keywords": ["rest", "error", "respons"]}, {"Heading": "List of Error Codes", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-list-of-error-codes-r.html", "Document Name": "Objects User Guide", "Content": "The following table lists the error codes:Table 1. Error CodesError CodeHTTP Status CodeAccessDenied 403 ForbiddenAuthorizationHeaderMalformed 400 Bad RequestBadDigest400 Bad Request BucketAlreadyExists409 ConflictBucketAlreadyOwnedByYou 409 ConflictBucketNotEmpty 409 Conflict EntityTooSmall 400 Bad Request EntityTooLarge 400 Bad RequestIncompleteBody 400 Bad Request InlineDataTooLarge400 Bad RequestInternalError 500 Internal Server Error InvalidAccessKeyId403 Forbidden InvalidArgument400 Bad RequestInvalidBucketName400 Bad RequestInvalidBucketState409 Conflict InvalidDigest400 Bad Request InvalidLocationConstraint400 Bad Request InvalidObjectState 403 ForbiddenInvalidPart400 Bad RequestInvalidPartOrder400 Bad RequestInvalidPolicyDocument 400 Bad Request InvalidRange 416 Requested Range Not SatisfiedInvalidRequest 400 Bad Request InvalidURI 400 Bad Request KeyTooLongError 400 Bad RequestMalformedACLError 400 Bad Request MalformedPOSTRequest 400 Bad Request MalformedXML 400 Bad Request MaxMessageLengthExceeded400 Bad Request MaxPostPreDataLengthExceededError 400 Bad Request MetadataTooLarge 400 Bad Request MethodNotAllowed 405 Method Not Allowed MissingContentLength 411 Length RequiredMissingRequestBodyError400 Bad RequestNoSuchBucket 404 Not FoundNoSuchBucketPolicy 404 Not FoundNoSuchKey 404 Not FoundNoSuchLifecycleConfiguration 404 Not FoundNoSuchUpload 404 Not Found InvalidVersion 404 Not Found NotImplemented 501 Not ImplementedOperationAborted 409 Conflict PermanentRedirect 301 Moved PermanentPreconditionFailed412 Precondition Failed Redirect307 Moved TemporarilyRequestIsNotMultiPartContent 400 Bad Request RequestTimeout 400 Bad Request RequestTimeTooSkewed 403 ForbiddenSignatureDoesNotMatch 403 Forbidden ServiceUnavailable 503 Service UnavailableSlowDown 503 Slow Down TemporaryRedirect 307 Moved TemporarilyUnexpectedContent 400 Bad RequestFor more information on List of Error Codes, refer to the List of Error Codes section in the Amazon Simple Storage Service API Reference Guide.", "Heading_Keywords": ["list", "error", "code"]}, {"Heading": "Integration with Backup Applications", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-integration-with-backup-applications-c.html", "Document Name": "Objects User Guide", "Content": "Objects is ideal for cost effective, scale-out storage. It provides a fully distributed, API-accessible storage platform that integrates directly into applications or used for backup, archiving, and data retention. Objects offers you a seamless way to switch from your traditional backup to object store backup. You can also perform multipart upload. Objects supports integration with back up applications such as Commvault, Commtrade HYCU, Veeam and Veritas.For more information about Commvault Integration, refer to Commvault with Nutanix guide on the Nutanix Support Portal.", "Heading_Keywords": ["integr", "backup", "applic"]}, {"Heading": "Objects LCM Upgrades", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-lcm-upgrade-r.html", "Document Name": "Objects User Guide", "Content": "Objects version upgrades by using the Life Cycle Management (LCM) feature. You can perform LCM upgrades through Prism Central (PC). Objects is a part of the PC upgrades module in LCM. LCM upgrades the following components of Objects: Objects Manager and Objects Services.Objects ManagerObjects Manager is a containerized service running on PC VM. The Objects Manager is primarily responsible for taking input from a user for deploying the object store, validating the user inputs, managing certificates, deploying the Objects Services, and serves as an interface between PC and backing object store. A single Objects Manager can manage one or more object stores. In case of scale-out PC, the Objects Manager service runs on each of the PC nodes and provides high availability.Note: During upgrade of the Objects Manager, no disruption happens to the Objects IO. However, the user interface will not be available for a short period of time for statistics and management.For more information on updating Objects Manager, refer to Upgrading Objects Manager.Objects ServiceObjects Service provides the object store interface and is responsible for storing and retrieving objects. The objects and metadata for the Objects are stored on the selected Prism Element clusters. The various services that perform the task are containerized and run on the Kubernetes platform. Each Objects Service instance provides a single global namespace. During deployment of the Objects Service, the required number of VMs are created for running the Kubernetes pods and the load balancer. Note: During upgrade of the Objects Services, disruption to the IO is expected as each of the internal services get upgraded. The upgrade process can take 15 to 30 minutes.For more information on updating Objects Services, refer to Upgrading Objects Service.Note: Upgrades should be in the following order:Prism CentralPrism ElementMSP Controller. For more information refer to MSP.Objects ManagerObjects ServiceIf Objects is not enabled and you upgrade the Prism Central, then the Objects Manager will be upgraded automatically. However, if Objects is enabled, then you have to upgrade the Objects Manager manually.First Time Objects UsersYou must perform the following tasks to install and update Objects in your environment.Perform an inventory and upgrade to a compatible version of Prism Central by using the Life Cycle Management (LCM) feature in Prism Central, refer to the Life Cycle Management Guide. Enable Objects, refer to Enabling Objects.In LCM, perform inventory and update Objects to an available GA version.Microservices Platform (MSP)MSP is a platform based on Kubernetes where all the Objects microservices run. The lifecycle of MSP is controlled by a service running on Prism Central called MSP Controller. You need to upgrade the MSP Controller before upgrading the Objects Manager and Objects Service. The first object store cluster deployed on the Prism Central is the primary MSP or the primary object store. Rest all the service MSPs are the secondary MSPs or the secondary object stores. The primary object store cluster hosts all the common services such as IAM, and you cannot delete the primary cluster without deleting the secondary cluster.Upgrading Objects ManagerYou need to upgrade MSP before upgrading the Objects Manager.Upgrading Objects ServiceYou can upgrade the Objects Service after the Objects Manager is upgraded.Microservices Platform (MSP)MSP is a platform based on Kubernetes where all the Objects microservices run. The lifecycle of MSP is controlled by a service running on Prism Central called MSP Controller. You need to upgrade the MSP Controller before upgrading the Objects Manager and Objects Service. The first object store cluster deployed on the Prism Central is the primary MSP or the primary object store. Rest all the service MSPs are the secondary MSPs or the secondary object stores. The primary object store cluster hosts all the common services such as IAM, and you cannot delete the primary cluster without deleting the secondary cluster.Finding the MSP VersionYou can find your MSP version by running the following command on Prism Central.admin@pcvm$ mspctl controller_versionUpgrading MSP ControllerYou can upgrade the MSP Controller from the LCM page in the Prism Central.Note: For Objects deployment, it is recommended to upgrade to the latest MSP controller version.To upgrade the MSP controller, do the following.Log on to the Prism Central web console, and then click the Entity menu > Administration > LCM to open the LCM page.Click Inventory, and then click Perform Inventory. The table lists all the updated modules. Click Updates > Software.Select the MSP check box, and then click Update.Click Apply Updates to finish the update process.The MSP Controller is upgraded.Upgrading Objects ManagerYou need to upgrade MSP before upgrading the Objects Manager.About this taskNote: Objects Manager upgrade will be disabled when there is at least one unresolved Objects Service upgrade failure.To upgrade Objects Manager, do the following:ProcedureLog on to Prism Central,Click Enable Objects if Objects is not already enabled.For more information, refer to Enabling Objects.Click the Entity menu > Administration > LCM on the Prism Central dashboard to open the LCM page.Click Inventory.Click Perform Inventory.Note: It takes 10 to15 minutes to list all the updated modules. The table lists all the updated modules. If a new Objects Manager version is available, then select the Objects Manager check box, and then click Update. If multiple versions of Objects Manager are available, select the latest version. You can also select MSP, Objects Manager and Objects services, and upgrade them together. When multiple options for upgrade are selected, the upgrade happens serially and not in parallel.Click Apply Updates to finish the update process.Objects Manager is updated to the latest version.Note: The update process takes about 10 to 15 minutes to complete.Click Inventory > Perform Inventory to verify the latest version.Upgrading Objects ServiceYou can upgrade the Objects Service after the Objects Manager is upgraded.About this taskNote: Objects Service is available for upgrade only after deployment.To upgrade Objects Service, do the following:ProcedureLog on to Prism Central.Click the Entity menu > Administration > LCM on the Prism Central dashboard to open the LCM page.Click Inventory.Click Perform Inventory.Note: It takes 10 to 15 minutes to list all the updated modules. The table lists all the updated modules. Click Updates > Software.Select the Objects Service instance check box, and then click Update.Multiple Object Service instances will be listed separately. You can either select all of the instances and upgrade them together, or select and upgrade the instances individually. You can also select MSP, Objects Manager and Objects services, and upgrade them together. When multiple options for upgrade are selected, the upgrade happens serially and not in parallel.Click Apply Updates to finish the update process.Objects Service is updated to the latest version.Note: The update process takes about 15 to 30 minutes for each Object Service instance to complete.Click Inventory > Perform Inventory to verify the latest version.", "Heading_Keywords": ["object", "lcm", "upgrad"]}, {"Heading": "Microservices Platform (MSP)", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-msp-r.html", "Document Name": "Objects User Guide", "Content": "MSP is a platform based on Kubernetes where all the Objects microservices run. The lifecycle of MSP is controlled by a service running on Prism Central called MSP Controller. You need to upgrade the MSP Controller before upgrading the Objects Manager and Objects Service. The first object store cluster deployed on the Prism Central is the primary MSP or the primary object store. Rest all the service MSPs are the secondary MSPs or the secondary object stores. The primary object store cluster hosts all the common services such as IAM, and you cannot delete the primary cluster without deleting the secondary cluster.Finding the MSP VersionYou can find your MSP version by running the following command on Prism Central.admin@pcvm$ mspctl controller_versionUpgrading MSP ControllerYou can upgrade the MSP Controller from the LCM page in the Prism Central.Note: For Objects deployment, it is recommended to upgrade to the latest MSP controller version.To upgrade the MSP controller, do the following.Log on to the Prism Central web console, and then click the Entity menu > Administration > LCM to open the LCM page.Click Inventory, and then click Perform Inventory. The table lists all the updated modules. Click Updates > Software.Select the MSP check box, and then click Update.Click Apply Updates to finish the update process.The MSP Controller is upgraded.", "Heading_Keywords": ["microservic", "platform", "msp"]}, {"Heading": "Upgrading Objects Manager", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-upgrade-objects-manager-t.html", "Document Name": "Objects User Guide", "Content": "You need to upgrade MSP before upgrading the Objects Manager.About this taskNote: Objects Manager upgrade will be disabled when there is at least one unresolved Objects Service upgrade failure.To upgrade Objects Manager, do the following:ProcedureLog on to Prism Central,Click Enable Objects if Objects is not already enabled.For more information, refer to Enabling Objects.Click the Entity menu > Administration > LCM on the Prism Central dashboard to open the LCM page.Click Inventory.Click Perform Inventory.Note: It takes 10 to15 minutes to list all the updated modules. The table lists all the updated modules. If a new Objects Manager version is available, then select the Objects Manager check box, and then click Update. If multiple versions of Objects Manager are available, select the latest version. You can also select MSP, Objects Manager and Objects services, and upgrade them together. When multiple options for upgrade are selected, the upgrade happens serially and not in parallel.Click Apply Updates to finish the update process.Objects Manager is updated to the latest version.Note: The update process takes about 10 to 15 minutes to complete.Click Inventory > Perform Inventory to verify the latest version.", "Heading_Keywords": ["upgrad", "object", "manag"]}, {"Heading": "Upgrading Objects Service", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-upgrade-objects-service-t.html", "Document Name": "Objects User Guide", "Content": "You can upgrade the Objects Service after the Objects Manager is upgraded.About this taskNote: Objects Service is available for upgrade only after deployment.To upgrade Objects Service, do the following:ProcedureLog on to Prism Central.Click the Entity menu > Administration > LCM on the Prism Central dashboard to open the LCM page.Click Inventory.Click Perform Inventory.Note: It takes 10 to 15 minutes to list all the updated modules. The table lists all the updated modules. Click Updates > Software.Select the Objects Service instance check box, and then click Update.Multiple Object Service instances will be listed separately. You can either select all of the instances and upgrade them together, or select and upgrade the instances individually. You can also select MSP, Objects Manager and Objects services, and upgrade them together. When multiple options for upgrade are selected, the upgrade happens serially and not in parallel.Click Apply Updates to finish the update process.Objects Service is updated to the latest version.Note: The update process takes about 15 to 30 minutes for each Object Service instance to complete.Click Inventory > Perform Inventory to verify the latest version.", "Heading_Keywords": ["upgrad", "object", "servic"]}, {"Heading": "Troubleshooting Objects", "Link": "https://portal.nutanix.com/#/page/docs/details?targetId=Objects-v2_2:v22-troubleshooting-r.html", "Document Name": "Objects User Guide", "Content": "This section explains how to troubleshoot issues that you might encounter while using Objects.Handling Deployment FailureIn case you encounter any deployment failure, contact Nutanix Support at https://portal.nutanix.com/.", "Heading_Keywords": ["troubleshoot", "object"]}]}